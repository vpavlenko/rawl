!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/chiptheory/",n(n.s=70)}([function(e,t,n){"use strict";e.exports=n(76)},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return V})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return M})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return P})),n.d(t,"q",(function(){return k}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],s=t+1<e.length,a=s?e[t+1]:0,i=t+2<e.length,u=i?e[t+2]:0,l=o>>2,c=(3&o)<<4|a>>4;let d=(15&a)<<2|u>>6,f=63&u;i||(f=64,s||(d=64)),r.push(n[l],n[c],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&s)}else if(o>239&&o<365){const s=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const i=t<e.length?n[e.charAt(t)]:64;++t;const u=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==s||null==i||null==u)throw new a;const l=o<<2|s>>4;if(r.push(l),64!==i){const e=s<<4&240|i>>2;if(r.push(e),64!==u){const e=i<<6&192|u;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return u()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&i(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},c=e=>{var t,n;return null===(n=null===(t=l())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{var t;return null===(t=l())||void 0===t?void 0:t["_"+e]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){const e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function(e,t){return e.replace(y,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new b(r,a,n)}}const y=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],s=t[o];if(I(n)&&I(s)){if(!_(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function I(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function k(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function w(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e,t){const n=new S(e,t);return n.subscribe.bind(n)}class S{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function V(e){return e&&e._delegate?e._delegate:e}}).call(this,n(15),n(19))},function(e,t,n){e.exports=n(109)()},function(e,t){e.exports={API_BASE:"https://corsproxy.io/?https://gifx.co/chip",CATALOG_PREFIX:"https://corsproxy.io/?https://gifx.co/music/",ERROR_FLASH_DURATION_MS:6e3,FORMATS:["ay","gbs","it","mdx","mid","miniusf","mod","nsf","nsfe","sgc","spc","s3m","smf","v2m","vgm","vgz","xm"],MAX_VOICES:64,REPLACE_STATE_ON_SEEK:!1,SOUNDFONT_MOUNTPOINT:"/soundfonts",SOUNDFONT_URL_PATH:"https://corsproxy.io/?https://gifx.co/soundfonts/",SOUNDFONTS:[{label:"User SoundFonts (Drop .sf2 to add)",items:[]},{label:"Small Soundfonts",items:[{label:"GMGSx Plus (6.2 MB)",value:"gmgsx-plus.sf2"},{label:"Roland SC-55/SCC1 (3.3 MB)",value:"Scc1t2.sf2"},{label:"Yamaha DB50XG (3.9 MB)",value:"Yamaha DB50XG.sf2"},{label:"Gravis Ultrasound (5.9 MB)",value:"Gravis_Ultrasound_Classic_PachSet_v1.6.sf2"},{label:"Tim GM (6 MB)",value:"TimGM6mb.sf2"},{label:"Alan Chan 5MBGMGS (4.9 MB)",value:"5MBGMGS.SF2"},{label:"E-mu 2MBGMGS (2.1 MB)",value:"2MBGMGS.SF2"},{label:"E-mu 8MBGMGS (8.2 MB)",value:"8MBGMGS.SF2"}]},{label:"Large Soundfonts",items:[{label:"Masquerade 55 v006 (18.4 MB)",value:"masquerade55v006.sf2"},{label:"GeneralUser GS v1.471 (31.3 MB)",value:"generaluser.sf2"},{label:"Chorium Revision A (28.9 MB)",value:"choriumreva.sf2"},{label:"Unison (29.3 MB)",value:"Unison.SF2"},{label:"Creative 28MBGM (29.7 MB)",value:"28MBGM.sf2"},{label:"Musica Theoria 2 (30.5 MB)",value:"mustheory2.sf2"},{label:"Personal Copy Lite (31.4 MB)",value:"PCLite.sf2"},{label:"AnotherXG (31.4 MB)",value:"bennetng_AnotherXG_v2-1.sf2"},{label:"NTONYX 32Mb GM Stereo (32.5 MB)",value:"32MbGMStereo.sf2"},{label:"Weeds GM 3 (54.9 MB)",value:"weedsgm3.sf2"}]},{label:"Novelty Soundfonts",items:[{label:"PC Beep (31 KB)",value:"pcbeep.sf2"},{label:"Nokia 6230i (227 KB)",value:"Nokia_6230i_RM-72_.sf2"},{label:"Kirby's Dream Land (271 KB)",value:"Kirby's_Dream_Land_3.sf2"},{label:"Vintage Waves v2 (315 KB)",value:"Vintage Dreams Waves v2.sf2"},{label:"Setzer's SPC Soundfont (1.2 MB)",value:"Setzer's_SPC_Soundfont.sf2"},{label:"SNES GM (1.9 MB)",value:"Super_Nintendo_Unofficial_update.sf2"},{label:"Nokia 30 (2.2 MB)",value:"Nokia_30.sf2"},{label:"LG Wink/Motorola ROKR (3.3 MB)",value:"LG_Wink_Style_T310_Soundfont.sf2"},{label:"Diddy Kong Racing DS (13.7 MB)",value:"Diddy_Kong_Racing_DS_Soundfont.sf2"},{label:"Regression FM v1.99g (14.4 MB)",value:"R_FM_v1.99g-beta.sf2"},{label:"Ultimate Megadrive (63.2 MB)",value:"The Ultimate Megadrive Soundfont.sf2"}]},{label:"Piano Soundfonts",items:[{label:"Yamaha Grand Lite v1.1 (21.8 MB)",value:"Yamaha-Grand-Lite-v1.1.sf2"},{label:"Abbey Steinway D v1.9 (40.2 MB)",value:"Abbey-Steinway-D-v1.9.sf2"},{label:"Chateau Grand Lite v1.0 (49.1 MB)",value:"Chateau Grand Lite-v1.0.sf2"},{label:"Steinway Grand v1.0 (145 MB)",value:"Steinway Grand-SF4U-v1.sf2"}]}]}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return v}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],s=t+1<e.length,a=s?e[t+1]:0,i=t+2<e.length,u=i?e[t+2]:0,l=o>>2,c=(3&o)<<4|a>>4;let d=(15&a)<<2|u>>6,f=63&u;i||(f=64,s||(d=64)),r.push(n[l],n[c],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&s)}else if(o>239&&o<365){const s=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const i=t<e.length?n[e.charAt(t)]:64;++t;const u=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==s||null==i||null==u)throw new a;const l=o<<2|s>>4;if(r.push(l),64!==i){const e=s<<4&240|i>>2;if(r.push(e),64!==u){const e=i<<6&192|u;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=o(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},u=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},d=e=>{const t=(e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p.prototype.create)}}class p{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function(e,t){return e.replace(h,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new m(r,a,n)}}const h=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],s=t[o];if(b(n)&&b(s)){if(!g(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function b(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function v(e){return e&&e._delegate?e._delegate:e}}).call(this,n(15),n(19))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,{include:t,exclude:n}={}){const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t?t.some(r):!n||!n.some(r)};for(const[t,n]of(e=>{const t=new Set;do{for(const n of Reflect.ownKeys(e))t.add([e,n])}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t})(e.constructor.prototype)){if("constructor"===n||!r(n))continue;const o=Reflect.getOwnPropertyDescriptor(t,n);o&&"function"==typeof o.value&&(e[n]=e[n].bind(e))}return e}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return U})),n.d(t,"i",(function(){return F}));var r=n(14),o=n(0),s=n.n(o),a=n(2),i=n.n(a),u=n(12),l=n(13),c=n(8),d=n(39),f=n.n(d),m=(n(21),n(17)),p=n(16),h=n.n(p),g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function b(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var v=s.a.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return g[e]=(g[e]||0)+1}()+"__",u=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).emitter=b(t.props.value),t}Object(r.a)(n,e);var o=n.prototype;return o.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},o.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((s=r)===(a=o)?0!==s||1/s==1/a:s!=s&&a!=a)?n=0:(n="function"==typeof t?t(r,o):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var s,a},o.render=function(){return this.props.children},n}(s.a.Component);u.childContextTypes=((n={})[a]=i.a.object.isRequired,n);var l=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var o=n.prototype;return o.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},o.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},o.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},o.getValue=function(){return this.context[a]?this.context[a].get():e},o.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(s.a.Component);return l.contextTypes=((o={})[a]=i.a.object,o),{Provider:u,Consumer:l}},y=function(e){var t=v();return t.displayName=e,t},M=y("Router-History"),_=y("Router"),I=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return s.a.createElement(_.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},s.a.createElement(M.Provider,{children:this.props.children||null,value:this.props.history}))},t}(s.a.Component);s.a.Component;var P=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(s.a.Component);var k={},w=0;function E(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(k[e])return k[e];var t=f.a.compile(e);return w<1e4&&(k[e]=t,w++),t}(e)(t,{pretty:!0})}function S(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return s.a.createElement(_.Consumer,null,(function(e){e||Object(l.a)(!1);var r=e.history,a=e.staticContext,i=o?r.push:r.replace,d=Object(u.c)(t?"string"==typeof n?E(n,t.params):Object(c.a)({},n,{pathname:E(n.pathname,t.params)}):n);return a?(i(d),null):s.a.createElement(P,{onMount:function(){i(d)},onUpdate:function(e,t){var n=Object(u.c)(t.to);Object(u.f)(n,Object(c.a)({},d,{key:n.key}))||i(d)},to:n})}))}var N={},V=0;function T(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,s=void 0!==o&&o,a=n.strict,i=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=N[n]||(N[n]={});if(r[e])return r[e];var o=[],s={regexp:f()(e,o,t),keys:o};return V<1e4&&(r[e]=s,V++),s}(n,{end:s,strict:i,sensitive:l}),o=r.regexp,a=r.keys,u=o.exec(e);if(!u)return null;var c=u[0],d=u.slice(1),m=e===c;return s&&!m?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:m,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var R=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(_.Consumer,null,(function(t){t||Object(l.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?T(n.pathname,e.props):t.match,o=Object(c.a)({},t,{location:n,match:r}),a=e.props,i=a.children,u=a.component,d=a.render;return Array.isArray(i)&&function(e){return 0===s.a.Children.count(e)}(i)&&(i=null),s.a.createElement(_.Provider,{value:o},o.match?i?"function"==typeof i?i(o):i:u?s.a.createElement(u,o):d?d(o):null:"function"==typeof i?i(o):null)}))},t}(s.a.Component);function O(e){return"/"===e.charAt(0)?e:"/"+e}function x(e,t){if(!e)return t;var n=O(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function A(e){return"string"==typeof e?e:Object(u.e)(e)}function C(e){return function(){Object(l.a)(!1)}}function D(){}s.a.Component;var j=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(_.Consumer,null,(function(t){t||Object(l.a)(!1);var n,r,o=e.props.location||t.location;return s.a.Children.forEach(e.props.children,(function(e){if(null==r&&s.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?T(o.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?s.a.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(s.a.Component);function F(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(m.a)(t,["wrappedComponentRef"]);return s.a.createElement(_.Consumer,null,(function(t){return t||Object(l.a)(!1),s.a.createElement(e,Object(c.a)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,h()(n,e)}var B=s.a.useContext;function L(){return B(M)}function U(){return B(_).location}}).call(this,n(15))},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var a=s>=0?arguments[s]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var s=t.isAbsolute(e),a="/"===o(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!s).join("/"))||s||(e="."),e&&a&&(e+="/"),(s?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),s=r(n.split("/")),a=Math.min(o.length,s.length),i=a,u=0;u<a;u++)if(o[u]!==s[u]){i=u;break}var l=[];for(u=i;u<o.length;u++)l.push("..");return(l=l.concat(s.slice(i))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var i=e.charCodeAt(a);if(47!==i)-1===r&&(o=!1,r=a+1),46===i?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===s||1===s&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(19))},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new Error("MIDIEvents function not intended to be run.")}r.EVENT_META=255,r.EVENT_SYSEX=240,r.EVENT_DIVSYSEX=247,r.EVENT_MIDI=8,r.EVENT_META_SEQUENCE_NUMBER=0,r.EVENT_META_TEXT=1,r.EVENT_META_COPYRIGHT_NOTICE=2,r.EVENT_META_TRACK_NAME=3,r.EVENT_META_INSTRUMENT_NAME=4,r.EVENT_META_LYRICS=5,r.EVENT_META_MARKER=6,r.EVENT_META_CUE_POINT=7,r.EVENT_META_MIDI_CHANNEL_PREFIX=32,r.EVENT_META_END_OF_TRACK=47,r.EVENT_META_SET_TEMPO=81,r.EVENT_META_SMTPE_OFFSET=84,r.EVENT_META_TIME_SIGNATURE=88,r.EVENT_META_KEY_SIGNATURE=89,r.EVENT_META_SEQUENCER_SPECIFIC=127,r.EVENT_MIDI_NOTE_OFF=8,r.EVENT_MIDI_NOTE_ON=9,r.EVENT_MIDI_NOTE_AFTERTOUCH=10,r.EVENT_MIDI_CONTROLLER=11,r.EVENT_MIDI_PROGRAM_CHANGE=12,r.EVENT_MIDI_CHANNEL_AFTERTOUCH=13,r.EVENT_MIDI_PITCH_BEND=14,r.MIDI_1PARAM_EVENTS=[r.EVENT_MIDI_PROGRAM_CHANGE,r.EVENT_MIDI_CHANNEL_AFTERTOUCH],r.MIDI_2PARAMS_EVENTS=[r.EVENT_MIDI_NOTE_OFF,r.EVENT_MIDI_NOTE_ON,r.EVENT_MIDI_NOTE_AFTERTOUCH,r.EVENT_MIDI_CONTROLLER,r.EVENT_MIDI_PITCH_BEND],r.createParser=function(e,t,n){var o,s,a,i,u;if(e instanceof DataView&&(e={position:t||0,buffer:e,readUint8:function(){return this.buffer.getUint8(this.position++)},readUint16:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readUint32:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readVarInt:function(){for(var e,t=0,n=0;4>n++;){if(!(128&(e=this.readUint8())))return t+e;t+=127&e,t<<=7}throw new Error("0x"+this.position.toString(16)+": Variable integer length cannot exceed 4 bytes")},readBytes:function(e){for(var t=[];0<e;e--)t.push(this.readUint8());return t},pos:function(){return"0x"+(this.buffer.byteOffset+this.position).toString(16)},end:function(){return this.position===this.buffer.byteLength}},t=0),0<t)for(;t--;)e.readUint8();return{next:function(){if(e.end())return null;if(s={index:e.pos(),delta:e.readVarInt()},240==(240&(o=e.readUint8()))){if(o!==r.EVENT_META){if(o===r.EVENT_SYSEX||o===r.EVENT_DIVSYSEX)return s.type=o,s.length=e.readVarInt(),s.data=e.readBytes(s.length),s;if(n)throw new Error(e.pos()+" Unknown event type "+o.toString(16)+", Delta: "+s.delta+".");return s.type=o,s.badsubtype=e.readVarInt(),s.length=e.readUint8(),s.data=e.readBytes(s.length),s}switch(s.type=r.EVENT_META,s.subtype=e.readUint8(),s.length=e.readVarInt(),s.subtype){case r.EVENT_META_SEQUENCE_NUMBER:if(n&&2!==s.length)throw new Error(e.pos()+" Bad metaevent length.");return s.msb=e.readUint8(),s.lsb=e.readUint8(),s;case r.EVENT_META_TEXT:case r.EVENT_META_COPYRIGHT_NOTICE:case r.EVENT_META_TRACK_NAME:case r.EVENT_META_INSTRUMENT_NAME:case r.EVENT_META_LYRICS:case r.EVENT_META_MARKER:case r.EVENT_META_CUE_POINT:return s.data=e.readBytes(s.length),s;case r.EVENT_META_MIDI_CHANNEL_PREFIX:if(n&&1!==s.length)throw new Error(e.pos()+" Bad metaevent length.");return s.prefix=e.readUint8(),s;case r.EVENT_META_END_OF_TRACK:if(n&&0!==s.length)throw new Error(e.pos()+" Bad metaevent length.");return s;case r.EVENT_META_SET_TEMPO:if(n&&3!==s.length)throw new Error(e.pos()+" Tempo meta event length must be 3.");return s.tempo=(e.readUint8()<<16)+(e.readUint8()<<8)+e.readUint8(),s.tempoBPM=6e7/s.tempo,s;case r.EVENT_META_SMTPE_OFFSET:if(n&&5!==s.length)throw new Error(e.pos()+" Bad metaevent length.");if(s.hour=e.readUint8(),n&&23<s.hour)throw new Error(e.pos()+" SMTPE offset hour value must be part of 0-23.");if(s.minutes=e.readUint8(),n&&59<s.minutes)throw new Error(e.pos()+" SMTPE offset minutes value must be part of 0-59.");if(s.seconds=e.readUint8(),n&&59<s.seconds)throw new Error(e.pos()+" SMTPE offset seconds value must be part of 0-59.");if(s.frames=e.readUint8(),n&&30<s.frames)throw new Error(e.pos()+" SMTPE offset frames value must be part of 0-30.");if(s.subframes=e.readUint8(),n&&99<s.subframes)throw new Error(e.pos()+" SMTPE offset subframes value must be part of 0-99.");return s;case r.EVENT_META_KEY_SIGNATURE:if(n&&2!==s.length)throw new Error(e.pos()+" Bad metaevent length.");if(s.key=e.readUint8(),n&&(-7>s.key||7<s.key))throw new Error(e.pos()+" Bad metaevent length.");if(s.scale=e.readUint8(),n&&0!==s.scale&&1!==s.scale)throw new Error(e.pos()+" Key signature scale value must be 0 or 1.");return s;case r.EVENT_META_TIME_SIGNATURE:if(n&&4!==s.length)throw new Error(e.pos()+" Bad metaevent length.");return s.data=e.readBytes(s.length),s.param1=s.data[0],s.param2=s.data[1],s.param3=s.data[2],s.param4=s.data[3],s;case r.EVENT_META_SEQUENCER_SPECIFIC:return s.data=e.readBytes(s.length),s;default:if(n)throw new Error(e.pos()+" Unknown meta event type ("+s.subtype.toString(16)+").");return s.data=e.readBytes(s.length),s}}else{if(0==(128&o)){if(!a)throw new Error(e.pos()+" Running status without previous event");u=o}else a=o>>4,i=15&o,u=e.readUint8();switch(s.type=r.EVENT_MIDI,s.subtype=a,s.channel=i,s.param1=u,a){case r.EVENT_MIDI_NOTE_OFF:return s.param2=e.readUint8(),s;case r.EVENT_MIDI_NOTE_ON:return s.param2=e.readUint8(),s.param2||(s.subtype=r.EVENT_MIDI_NOTE_OFF,s.param2=127),s;case r.EVENT_MIDI_NOTE_AFTERTOUCH:case r.EVENT_MIDI_CONTROLLER:return s.param2=e.readUint8(),s;case r.EVENT_MIDI_PROGRAM_CHANGE:case r.EVENT_MIDI_CHANNEL_AFTERTOUCH:return s;case r.EVENT_MIDI_PITCH_BEND:return s.param2=e.readUint8(),s;default:if(n)throw new Error(e.pos()+" Unknown MIDI event type ("+a.toString(16)+").");return s}}}}},r.writeToTrack=function(e,t,n){var o,s,a,i,u=0;for(o=0,s=e.length;o<s;o++){if(e[o].delta>>>28)throw Error("Event #"+o+": Maximum delta time value reached ("+e[o].delta+"/134217728 max)");if(e[o].delta>>>21&&(t[u++]=e[o].delta>>>21&127|128),e[o].delta>>>14&&(t[u++]=e[o].delta>>>14&127|128),e[o].delta>>>7&&(t[u++]=e[o].delta>>>7&127|128),t[u++]=127&e[o].delta,e[o].type===r.EVENT_MIDI)t[u++]=(e[o].subtype<<4)+e[o].channel,t[u++]=e[o].param1,-1!==r.MIDI_2PARAMS_EVENTS.indexOf(e[o].subtype)&&(t[u++]=e[o].param2);else{if(t[u++]=e[o].type,e[o].type===r.EVENT_META&&(t[u++]=e[o].subtype),e[o].length>>>28)throw Error("Event #"+o+": Maximum length reached ("+e[o].length+"/134217728 max)");if(e[o].length>>>21&&(t[u++]=e[o].length>>>21&127|128),e[o].length>>>14&&(t[u++]=e[o].length>>>14&127|128),e[o].length>>>7&&(t[u++]=e[o].length>>>7&127|128),t[u++]=127&e[o].length,e[o].type===r.EVENT_META)switch(e[o].subtype){case r.EVENT_META_SEQUENCE_NUMBER:t[u++]=e[o].msb,t[u++]=e[o].lsb;break;case r.EVENT_META_TEXT:case r.EVENT_META_COPYRIGHT_NOTICE:case r.EVENT_META_TRACK_NAME:case r.EVENT_META_INSTRUMENT_NAME:case r.EVENT_META_LYRICS:case r.EVENT_META_MARKER:case r.EVENT_META_CUE_POINT:for(a=0,i=e[o].length;a<i;a++)t[u++]=e[o].data[a];break;case r.EVENT_META_MIDI_CHANNEL_PREFIX:t[u++]=e[o].prefix;break;case r.EVENT_META_END_OF_TRACK:break;case r.EVENT_META_SET_TEMPO:t[u++]=e[o].tempo>>16,t[u++]=e[o].tempo>>8&255,t[u++]=255&e[o].tempo;break;case r.EVENT_META_SMTPE_OFFSET:if(n&&23<e[o].hour)throw new Error("Event #"+o+": SMTPE offset hour value must be part of 0-23.");if(t[u++]=e[o].hour,n&&59<e[o].minutes)throw new Error("Event #"+o+": SMTPE offset minutes value must be part of 0-59.");if(t[u++]=e[o].minutes,n&&59<e[o].seconds)throw new Error("Event #"+o+": SMTPE offset seconds value must be part of 0-59.");if(t[u++]=e[o].seconds,n&&30<e[o].frames)throw new Error("Event #"+o+": SMTPE offset frames amount must be part of 0-30.");if(t[u++]=e[o].frames,n&&99<e[o].subframes)throw new Error("Event #"+o+": SMTPE offset subframes amount must be part of 0-99.");t[u++]=e[o].subframes;break;case r.EVENT_META_KEY_SIGNATURE:if("number"!=typeof e[o].key||-7>e[o].key||7<e[o].scale)throw new Error("Event #"+o+":The key signature key must be between -7 and 7");if("number"!=typeof e[o].scale||0>e[o].scale||1<e[o].scale)throw new Error("Event #"+o+":The key signature scale must be 0 or 1");t[u++]=e[o].key,t[u++]=e[o].scale;break;case r.EVENT_META_TIME_SIGNATURE:case r.EVENT_META_SEQUENCER_SPECIFIC:default:for(a=0,i=e[o].length;a<i;a++)t[u++]=e[o].data[a]}else for(a=0,i=e[o].length;a<i;a++)t[u++]=e[o].data[a]}}},r.getRequiredBufferLength=function(e){var t,n=0,o=0;for(o=0,t=e.length;o<t;o++)n+=e[o].delta>>>21?4:e[o].delta>>>14?3:e[o].delta>>>7?2:1,e[o].type===r.EVENT_MIDI?(n++,n++,-1!==r.MIDI_2PARAMS_EVENTS.indexOf(e[o].subtype)&&n++):(n++,e[o].type===r.EVENT_META&&n++,n+=e[o].length>>>21?4:e[o].length>>>14?3:e[o].length>>>7?2:1,n+=e[o].length);return n},e.exports=r},function(e,t,n){"use strict";t.decode=t.parse=n(107),t.encode=t.stringify=n(108)},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return m}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],s=t+1<e.length,a=s?e[t+1]:0,i=t+2<e.length,u=i?e[t+2]:0,l=o>>2,c=(3&o)<<4|a>>4;let d=(15&a)<<2|u>>6,f=63&u;i||(f=64,s||(d=64)),r.push(n[l],n[c],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&s)}else if(o>239&&o<365){const s=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const i=t<e.length?n[e.charAt(t)]:64;++t;const u=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==s||null==i||null==u)throw new a;const l=o<<2|s>>4;if(r.push(l),64!==i){const e=s<<4&240|i>>2;if(r.push(e),64!==u){const e=i<<6&192|u;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=o(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},u=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},d=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config};function f(){try{return"object"==typeof indexedDB}catch(e){return!1}}function m(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class p extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h.prototype.create)}}class h{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function(e,t){return e.replace(g,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new p(r,a,n)}}const g=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],s=t[o];if(v(n)&&v(s)){if(!b(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function v(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,n(15),n(19))},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return p}));var r=n(8);function o(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],i=e&&o(e),u=t&&o(t),l=i||u;if(e&&o(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var d=0,f=a.length;f>=0;f--){var m=a[f];"."===m?s(a,f):".."===m?(s(a,f),d++):d&&(s(a,f),d--)}if(!l)for(;d--;d)a.unshift("..");!l||""===a[0]||a[0]&&o(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function i(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=i(t),o=i(n);return r!==t||o!==n?e(r,o):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},l=n(13);function c(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function h(e,t,n,o){var s;"string"==typeof e?(s=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(s=Object(r.a)({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),o?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=a(s.pathname,o.pathname)):s.pathname=o.pathname:s.pathname||(s.pathname="/"),s}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var s="function"==typeof e?e(t,n):e;"string"==typeof s?"function"==typeof r?r(s,o):o(!0):o(!1!==s)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!("undefined"==typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}function M(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),v||Object(l.a)(!1);var t,n=window.history,o=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,s=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,i=a.forceRefresh,u=void 0!==i&&i,d=a.getUserConfirmation,g=void 0===d?y:d,_=a.keyLength,I=void 0===_?6:_,P=e.basename?m(c(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,o=window.location,s=o.pathname+o.search+o.hash;return P&&(s=f(s,P)),h(s,r,n)}function w(){return Math.random().toString(36).substr(2,I)}var E=b();function S(e){Object(r.a)(B,e),B.length=n.length,E.notifyListeners(B.location,B.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(k(e.state))}function V(){R(k(M()))}var T=!1;function R(e){if(T)T=!1,S();else{E.confirmTransitionTo(e,"POP",g,(function(t){t?S({action:"POP",location:e}):function(e){var t=B.location,n=x.indexOf(t.key);-1===n&&(n=0);var r=x.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(T=!0,C(o))}(e)}))}}var O=k(M()),x=[O.key];function A(e){return P+p(e)}function C(e){n.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?(window.addEventListener("popstate",N),s&&window.addEventListener("hashchange",V)):0===D&&(window.removeEventListener("popstate",N),s&&window.removeEventListener("hashchange",V))}var F=!1;var B={length:n.length,action:"POP",location:O,createHref:A,push:function(e,t){var r=h(e,t,w(),B.location);E.confirmTransitionTo(r,"PUSH",g,(function(e){if(e){var t=A(r),s=r.key,a=r.state;if(o)if(n.pushState({key:s,state:a},null,t),u)window.location.href=t;else{var i=x.indexOf(B.location.key),l=x.slice(0,i+1);l.push(r.key),x=l,S({action:"PUSH",location:r})}else window.location.href=t}}))},replace:function(e,t){var r=h(e,t,w(),B.location);E.confirmTransitionTo(r,"REPLACE",g,(function(e){if(e){var t=A(r),s=r.key,a=r.state;if(o)if(n.replaceState({key:s,state:a},null,t),u)window.location.replace(t);else{var i=x.indexOf(B.location.key);-1!==i&&(x[i]=r.key),S({action:"REPLACE",location:r})}else window.location.replace(t)}}))},go:C,goBack:function(){C(-1)},goForward:function(){C(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),t()}},listen:function(e){var t=E.appendListener(e);return j(1),function(){j(-1),t()}}};return B}var I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:c},slash:{encodePath:c,decodePath:c}};function P(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function w(e){window.location.replace(P(window.location.href)+"#"+e)}function E(e){void 0===e&&(e={}),v||Object(l.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,s=void 0===o?y:o,a=n.hashType,i=void 0===a?"slash":a,u=e.basename?m(c(e.basename)):"",d=I[i],g=d.encodePath,M=d.decodePath;function _(){var e=M(k());return u&&(e=f(e,u)),h(e)}var E=b();function S(e){Object(r.a)(B,e),B.length=t.length,E.notifyListeners(B.location,B.action)}var N=!1,V=null;function T(){var e,t,n=k(),r=g(n);if(n!==r)w(r);else{var o=_(),a=B.location;if(!N&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(V===p(o))return;V=null,function(e){if(N)N=!1,S();else{E.confirmTransitionTo(e,"POP",s,(function(t){t?S({action:"POP",location:e}):function(e){var t=B.location,n=A.lastIndexOf(p(t));-1===n&&(n=0);var r=A.lastIndexOf(p(e));-1===r&&(r=0);var o=n-r;o&&(N=!0,C(o))}(e)}))}}(o)}}var R=k(),O=g(R);R!==O&&w(O);var x=_(),A=[p(x)];function C(e){t.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?window.addEventListener("hashchange",T):0===D&&window.removeEventListener("hashchange",T)}var F=!1;var B={length:t.length,action:"POP",location:x,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=P(window.location.href)),n+"#"+g(u+p(e))},push:function(e,t){var n=h(e,void 0,void 0,B.location);E.confirmTransitionTo(n,"PUSH",s,(function(e){if(e){var t=p(n),r=g(u+t);if(k()!==r){V=t,function(e){window.location.hash=e}(r);var o=A.lastIndexOf(p(B.location)),s=A.slice(0,o+1);s.push(t),A=s,S({action:"PUSH",location:n})}else S()}}))},replace:function(e,t){var n=h(e,void 0,void 0,B.location);E.confirmTransitionTo(n,"REPLACE",s,(function(e){if(e){var t=p(n),r=g(u+t);k()!==r&&(V=t,w(r));var o=A.indexOf(p(B.location));-1!==o&&(A[o]=t),S({action:"REPLACE",location:n})}}))},go:C,goBack:function(){C(-1)},goForward:function(){C(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),t()}},listen:function(e){var t=E.appendListener(e);return j(1),function(){j(-1),t()}}};return B}function S(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,s=void 0===o?["/"]:o,a=t.initialIndex,i=void 0===a?0:a,u=t.keyLength,l=void 0===u?6:u,c=b();function d(e){Object(r.a)(M,e),M.length=M.entries.length,c.notifyListeners(M.location,M.action)}function f(){return Math.random().toString(36).substr(2,l)}var m=S(i,0,s.length-1),g=s.map((function(e){return h(e,void 0,"string"==typeof e?f():e.key||f())})),v=p;function y(e){var t=S(M.index+e,0,M.entries.length-1),r=M.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var M={length:g.length,action:"POP",location:g[m],index:m,entries:g,createHref:v,push:function(e,t){var r=h(e,t,f(),M.location);c.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=M.index+1,n=M.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=h(e,t,f(),M.location);c.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(M.entries[M.index]=r,d({action:"REPLACE",location:r}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=M.index+e;return t>=0&&t<M.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return M}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="Invariant failed";function o(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return o}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(21),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function u(e){return r.isMemo(e)?a:i[e.$$typeof]||o}i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var o=m(n);o&&o!==p&&e(t,o,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var i=u(t),h=u(n),g=0;g<a.length;++g){var b=a[g];if(!(s[b]||r&&r[b]||h&&h[b]||i&&i[b])){var v=f(n,b);try{l(t,b,v)}catch(e){}}}}return t}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r=n(21),o=n(0),s=n.n(o),a=n(60),i=n.n(a),u=n(61),l=n(62),c=n(40),d=n(16),f=n.n(d);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},h=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},g=Object.freeze([]),b=Object.freeze({});function v(e){return"function"==typeof e}function y(e){return e.displayName||e.name||"Component"}function M(e){return e&&"string"==typeof e.styledComponentId}var _=void 0!==e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"})&&(Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_ATTR)||"data-styled",I="undefined"!=typeof window&&"HTMLElement"in window,P=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"})&&(void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY:void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY)));function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var w=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)(o<<=1)<0&&k(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var s=r;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),i=0,u=t.length;i<u;i++)this.tag.insertRule(a,t[i])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,s=r;s<o;s++)t+=this.tag.getRule(s)+"/*!sc*/\n";return t},e}(),E=new Map,S=new Map,N=1,V=function(e){if(E.has(e))return E.get(e);for(;S.has(N);)N++;var t=N++;return E.set(e,t),S.set(t,e),t},T=function(e){return S.get(e)},R=function(e,t){t>=N&&(N=t+1),E.set(e,t),S.set(t,e)},O="style["+_+'][data-styled-version="5.3.11"]',x=new RegExp("^"+_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),A=function(e,t,n){for(var r,o=n.split(","),s=0,a=o.length;s<a;s++)(r=o[s])&&e.registerName(t,r)},C=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],o=0,s=n.length;o<s;o++){var a=n[o].trim();if(a){var i=a.match(x);if(i){var u=0|parseInt(i[1],10),l=i[2];0!==u&&(R(l,u),A(e,l,i[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},D=function(){return n.nc},j=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(_))return r}}(n),s=void 0!==o?o.nextSibling:null;r.setAttribute(_,"active"),r.setAttribute("data-styled-version","5.3.11");var a=D();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},F=function(){function e(e){var t=this.element=j(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o}k(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),B=function(){function e(e){var t=this.element=j(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),L=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),U=I,q={isServer:!I,useCSSOMInjection:!P},z=function(){function e(e,t,n){void 0===e&&(e=b),void 0===t&&(t={}),this.options=m({},q,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&I&&U&&(U=!1,function(e){for(var t=document.querySelectorAll(O),n=0,r=t.length;n<r;n++){var o=t[n];o&&"active"!==o.getAttribute(_)&&(C(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return V(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(m({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,o=t.target,e=n?new L(o):r?new F(o):new B(o),new w(e)));var e,t,n,r,o},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(V(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(V(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(V(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",o=0;o<n;o++){var s=T(o);if(void 0!==s){var a=e.names.get(s),i=t.getGroup(o);if(a&&i&&a.size){var u=_+".g"+o+'[id="'+s+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+i+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),H=/(a)(d)/gi,W=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=W(t%52)+n;return(W(t%52)+n).replace(H,"$1-$2")}var $=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},X=function(e){return $(5381,e)};function K(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(v(n)&&!M(n))return!1}return!0}var Y=X("5.3.11"),Q=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&K(e),this.componentId=t,this.baseHash=$(Y,t),this.baseStyle=n,z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))o.push(this.staticRulesId);else{var s=he(this.rules,e,t,n).join(""),a=G($(this.baseHash,s)>>>0);if(!t.hasNameForId(r,a)){var i=n(s,"."+a,void 0,r);t.insertRules(r,a,i)}o.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,l=$(this.baseHash,n.hash),c="",d=0;d<u;d++){var f=this.rules[d];if("string"==typeof f)c+=f;else if(f){var m=he(f,e,t,n),p=Array.isArray(m)?m.join(""):m;l=$(l,p+d),c+=p}}if(c){var h=G(l>>>0);if(!t.hasNameForId(r,h)){var g=n(c,"."+h,void 0,r);t.insertRules(r,h,g)}o.push(h)}}return o.join(" ")},e}(),J=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,n,r,o,s=void 0===e?b:e,a=s.options,i=void 0===a?b:a,l=s.plugins,c=void 0===l?g:l,d=new u.a(i),f=[],m=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,s,a,i,u,l,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(o[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,s){return 0===r&&-1!==Z.indexOf(s[n.length])||s.match(o)?e:"."+t};function h(e,s,a,i){void 0===i&&(i="&");var u=e.replace(J,""),l=s&&a?a+" "+s+" { "+u+" }":u;return t=i,n=s,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),d(a||!s?"":s,l)}return d.use([].concat(c,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(n)>0&&(o[0]=o[0].replace(r,p))},m,function(e){if(-2===e){var t=f;return f=[],t}}])),h.hash=c.length?c.reduce((function(e,t){return t.name||k(15),$(e,t.name)}),5381).toString():"",h}var te=s.a.createContext(),ne=(te.Consumer,s.a.createContext()),re=(ne.Consumer,new z),oe=ee();function se(){return Object(o.useContext)(te)||re}function ae(){return Object(o.useContext)(ne)||oe}function ie(e){var t=Object(o.useState)(e.stylisPlugins),n=t[0],r=t[1],a=se(),u=Object(o.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=Object(o.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(o.useEffect)((function(){i()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),s.a.createElement(te.Provider,{value:u},s.a.createElement(ne.Provider,{value:l},e.children))}var ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return k(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),le=/([A-Z])/,ce=/([A-Z])/g,de=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function me(e){return le.test(e)?e.replace(ce,fe).replace(de,"-ms-"):e}var pe=function(e){return null==e||!1===e||""===e};function he(e,t,n,r){if(Array.isArray(e)){for(var o,s=[],a=0,i=e.length;a<i;a+=1)""!==(o=he(e[a],t,n,r))&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));return s}return pe(e)?"":M(e)?"."+e.styledComponentId:v(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:he(e(t),t,n,r):e instanceof ue?n?(e.inject(n,r),e.getName(r)):e:h(e)?function e(t,n){var r,o,s=[];for(var a in t)t.hasOwnProperty(a)&&!pe(t[a])&&(Array.isArray(t[a])&&t[a].isCss||v(t[a])?s.push(me(a)+":",t[a],";"):h(t[a])?s.push.apply(s,e(t[a],a)):s.push(me(a)+": "+(r=a,(null==(o=t[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||r in l.a||r.startsWith("--")?String(o).trim():o+"px")+";")));return n?[n+" {"].concat(s,["}"]):s}(e):e.toString();var u}var ge=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v(e)||h(e)?ge(he(p(g,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(he(p(e,n)))}new Set;var ve=function(e,t,n){return void 0===n&&(n=b),e.theme!==n.theme&&e.theme||t||n.theme},ye=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Me=/(^-|-$)/g;function _e(e){return e.replace(ye,"-").replace(Me,"")}var Ie=function(e){return G(X(e)>>>0)};function Pe(e){return"string"==typeof e&&!0}var ke=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},we=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ee(e,t,n){var r=e[n];ke(t)&&ke(r)?Se(r,t):e[n]=t}function Se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,s=n;o<s.length;o++){var a=s[o];if(ke(a))for(var i in a)we(i)&&Ee(e,a[i],i)}return e}var Ne=s.a.createContext();Ne.Consumer;var Ve={};function Te(e,t,n){var r=M(e),a=!Pe(e),i=t.attrs,u=void 0===i?g:i,l=t.componentId,d=void 0===l?function(e,t){var n="string"!=typeof e?"sc":_e(e);Ve[n]=(Ve[n]||0)+1;var r=n+"-"+Ie("5.3.11"+n+Ve[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,p=t.displayName,h=void 0===p?function(e){return Pe(e)?"styled."+e:"Styled("+y(e)+")"}(e):p,_=t.displayName&&t.componentId?_e(t.displayName)+"-"+t.componentId:t.componentId||d,I=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,P=t.shouldForwardProp;r&&e.shouldForwardProp&&(P=t.shouldForwardProp?function(n,r,o){return e.shouldForwardProp(n,r,o)&&t.shouldForwardProp(n,r,o)}:e.shouldForwardProp);var k,w=new Q(n,_,r?e.componentStyle:void 0),E=w.isStatic&&0===u.length,S=function(e,t){return function(e,t,n,r){var s=e.attrs,a=e.componentStyle,i=e.defaultProps,u=e.foldedComponentIds,l=e.shouldForwardProp,d=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=b);var r=m({},t,{theme:e}),o={};return n.forEach((function(e){var t,n,s,a=e;for(t in v(a)&&(a=a(r)),a)r[t]=o[t]="className"===t?(n=o[t],s=a[t],n&&s?n+" "+s:n||s):a[t]})),[r,o]}(ve(t,Object(o.useContext)(Ne),i)||b,t,s),h=p[0],g=p[1],y=function(e,t,n,r){var o=se(),s=ae();return t?e.generateAndInjectStyles(b,o,s):e.generateAndInjectStyles(n,o,s)}(a,r,h),M=n,_=g.$as||t.$as||g.as||t.as||f,I=Pe(_),P=g!==t?m({},t,{},g):t,k={};for(var w in P)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?k.as=P[w]:(l?l(w,c.a,_):!I||Object(c.a)(w))&&(k[w]=P[w]));return t.style&&g.style!==t.style&&(k.style=m({},t.style,{},g.style)),k.className=Array.prototype.concat(u,d,y!==d?y:null,t.className,g.className).filter(Boolean).join(" "),k.ref=M,Object(o.createElement)(_,k)}(k,e,t,E)};return S.displayName=h,(k=s.a.forwardRef(S)).attrs=I,k.componentStyle=w,k.displayName=h,k.shouldForwardProp=P,k.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,k.styledComponentId=_,k.target=r?e.target:e,k.withComponent=function(e){var r=t.componentId,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["componentId"]),s=r&&r+"-"+(Pe(e)?e:_e(y(e)));return Te(e,m({},o,{attrs:I,componentId:s}),n)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Se({},e.defaultProps,t):t}}),Object.defineProperty(k,"toString",{value:function(){return"."+k.styledComponentId}}),a&&f()(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}var Re=function(e){return function e(t,n,o){if(void 0===o&&(o=b),!Object(r.isValidElementType)(n))return k(1,String(n));var s=function(){return t(n,o,be.apply(void 0,arguments))};return s.withConfig=function(r){return e(t,n,m({},o,{},r))},s.attrs=function(r){return e(t,n,m({},o,{attrs:Array.prototype.concat(o.attrs,r).filter(Boolean)}))},s}(Te,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Re[e]=Re(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=K(e),z.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var o=r(he(this.rules,t,n,r).join(""),""),s=this.componentId+e;n.insertRules(s,s,o)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&z.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=D();return"<style "+[n&&'nonce="'+n+'"',_+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?k(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return k(2);var n=((t={})[_]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=D();return r&&(n.nonce=r),[s.a.createElement("style",m({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new z({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?k(2):s.a.createElement(ie,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return k(3)}}();t.a=Re}).call(this,n(19))},function(e,t){var n,r,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&m())}function m(){if(!c){var e=i(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(77)},function(e,t,n){"use strict";e.exports=n(112)},function(e,t,n){"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=function e(t,n,r){function o(a,i){if(!n[a]){if(!t[a]){if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return o(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var s=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";t.exports={CalcCascades:e("./src/calcCascades"),Fft:e("./src/fft"),FirCoeffs:e("./src/firCoeffs"),FirFilter:e("./src/firFilter"),IirCoeffs:e("./src/iirCoeffs"),IirFilter:e("./src/iirFilter"),TestFilter:e("./src/testFilter")}},{"./src/calcCascades":2,"./src/fft":3,"./src/firCoeffs":4,"./src/firFilter":5,"./src/iirCoeffs":6,"./src/iirFilter":7,"./src/testFilter":8}],2:[function(e,t,n){"use strict";var r=new(e("./iirCoeffs")),o={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749],[1.22566942541,.710852074442,.559609164796,.505991069397],[1.41530886916,.809790964842,.620470155556,.537552151325,.503912727276],[1.59465693507,.905947107025,.684008068137,.579367238641,.525936202016,.502755558204],[1.76552743493,.998998442993,.747625068271,.624777082395,.556680772868,.519027293158,.502045428643],[1.9292718407,1.08906376917,.810410302962,.671382379377,.591144659703,.542678365981,.514570953471,.501578400482],[2.08691792612,1.17637337045,.872034231424,.718163551101,.627261751983,.569890924765,.533371782078,.511523796759,.50125489338],[2.23926560629,1.26117120993,.932397288146,.764647810579,.664052481472,.598921924986,.555480327396,.526848630061,.509345928377,.501021580965],[2.38695091667,1.34368488961,.991497755204,.81060830488,.701011199665,.628878390935,.57943181849,.545207253735,.52208637596,.507736060535,.500847111042],[2.53048919562,1.42411783481,1.04937620183,.85593899901,.737862159044,.659265671705,.604435823473,.565352679646,.537608804383,.51849505465,.506508536474,.500715908905]],f3dB:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877],[2.18872623053,1.95319575902,1.8320926012,1.77846591177],[2.45062684305,2.20375262593,2.06220731793,1.98055310881,1.94270419166],[2.69298925084,2.43912611431,2.28431825401,2.18496722634,2.12472538477,2.09613322542],[2.91905714471,2.66069088948,2.49663434571,2.38497976939,2.30961462222,2.26265746534,2.24005716132],[3.13149167404,2.87016099416,2.69935018044,2.57862945683,2.49225505119,2.43227707449,2.39427710712,2.37582307687],[3.33237300564,3.06908580184,2.89318259511,2.76551588399,2.67073340527,2.60094950474,2.55161764546,2.52001358804,2.50457164552],[3.52333123464,3.25877569704,3.07894353744,2.94580435024,2.84438325189,2.76691082498,2.70881411245,2.66724655259,2.64040228249,2.62723439989],[3.70566068548,3.44032173223,3.2574059854,3.11986367838,3.01307175388,2.92939234605,2.86428726094,2.81483068055,2.77915465405,2.75596888377,2.74456638588],[3.88040469682,3.61463243697,3.4292654707,3.28812274966,3.17689762788,3.08812364257,3.01720732972,2.96140104561,2.91862858495,2.88729479473,2.8674198668,2.8570800015]],f1dB:[[2.16477559371],[2.70320928596,2.41122332505],[3.25676581436,2.88822569572,2.74246238837],[3.76153580353,3.35675411406,3.14862673032,3.05646412475],[4.22174260104,3.79644757806,3.55260471864,3.41193742197,3.34673435508],[4.64584812552,4.20789257981,3.94082363122,3.76942681446,3.66549975744,3.61617359345],[5.04060395196,4.5944592201,4.3111677248,4.11836351827,3.98822359814,3.90713836715,3.86811234525],[5.41107948467,4.95951159709,4.66435804468,4.45575796102,4.30650679478,4.20286750045,4.13720522991,4.10531748119],[5.76110791853,5.30592898465,5.00182215701,4.7811081045,4.61724509926,4.49660100894,4.41131378918,4.35667671372,4.32997951075],[6.09364309488,5.63609116014,5.32506930789,5.09480346139,4.91939504255,4.78540258409,4.68493280536,4.61302286993,4.56661931366,4.54382759952],[6.41100731543,5.95195558182,5.63550073656,5.39754464742,5.21278891332,5.06801430334,4.95539684456,4.8697869429,4.80814951843,4.76793469612,4.74828032403],[6.71506056052,6.25514029778,5.9343616072,5.69011422355,5.49763642361,5.34401973764,5.22125973611,5.12485045619,5.05037962112,4.99699982231,4.96155789635,4.94441828777]]}},s={bessel:{as:[[1.3617],[1.3397,.7743],[1.2217,.9686,.5131],[1.1112,.9754,.7202,.3728],[1.0215,.9393,.7815,.5604,.2883]],bs:[[.618],[.4889,.389],[.3887,.3505,.2756],[.3162,.2979,.2621,.2087],[.265,.2549,.2351,.2059,.1665]]},butterworth:{as:[[1.4142],[1.8478,.7654],[1.9319,1.4142,.5176],[1.9616,1.6629,1.1111,.3902],[1.9754,1.782,1.4142,.908,.3129]],bs:[[1],[1,1],[1,1,1],[1,1,1,1],[1,1,1,1,1]]},tschebyscheff05:{as:[[1.3614],[2.6282,.3648],[3.8645,.7528,.1589],[5.1117,1.0639,.3439,.0885],[6.3648,1.3582,.4822,.1994,.0563]],bs:[[1.3827],[3.4341,1.1509],[6.9797,1.8573,1.0711],[11.9607,2.9365,1.4206,1.0407],[18.3695,4.3453,1.944,1.252,1.0263]]},tschebyscheff1:{as:[[1.3022],[2.5904,.3039],[3.8437,.6292,.1296],[5.1019,.8916,.2806,.0717],[6.3634,1.1399,.3939,.1616,.0455]],bs:[[1.5515],[4.1301,1.1697],[8.5529,1.9124,1.0766],[14.7608,3.0426,1.4334,1.0432],[22.7468,4.5167,1.9665,1.2569,1.0277]]},tschebyscheff2:{as:[[1.1813],[2.4025,.2374],[3.588,.4925,.0995],[4.7743,.6991,.2153,.0547],[5.9618,.8947,.3023,.1233,.0347]],bs:[[1.7775],[4.9862,1.1896],[10.4648,1.9622,1.0826],[18.151,3.1353,1.4449,1.0461],[28.0376,4.6644,1.9858,1.2614,1.0294]]},tschebyscheff3:{as:[[1.065],[2.1853,.1964],[3.2721,.4077,.0815],[4.3583,.5791,.1765,.0448],[5.4449,.7414,.2479,.1008,.0283]],bs:[[1.9305],[5.5339,1.2009],[11.6773,1.9873,1.0861],[20.2948,3.1808,1.4507,1.0478],[31.3788,4.7363,1.9952,1.2638,1.0304]]},allpass:{as:[[1.6278],[2.337,1.3506],[2.6117,2.0706,1.0967],[2.7541,2.4174,1.785,.9239],[2.8406,2.612,2.1733,1.5583,.8018]],bs:[[.8832],[1.4878,1.1837],[1.7763,1.6015,1.2596],[1.942,1.83,1.6101,1.2822],[2.049,1.9714,1.8184,1.5923,1.2877]]}},a=function(e){return function(t){return function(e,t){var n=[],a=0;if("fromPZ"!==t)for(e.order>12&&(e.order=12),a=0;a<e.order;a++){var i,u,l;"matchedZ"===e.transform?n.push(r.lowpassMZ({Fs:e.Fs,Fc:e.Fc,preGain:e.preGain,as:s[e.characteristic].as[e.order-1][a],bs:s[e.characteristic].bs[e.order-1][a]})):("butterworth"===e.characteristic?(i=.5/Math.sin(Math.PI/(2*e.order)*(a+.5)),u=1):(i=o[e.characteristic].q[e.order-1][a],u=e.oneDb?o[e.characteristic].f1dB[e.order-1][a]:o[e.characteristic].f3dB[e.order-1][a]),l="highpass"===t?e.Fc/u:e.Fc*u,"bandpass"!==t&&"bandstop"!==t||"bessel"===e.characteristic&&(l=Math.sqrt(e.order)*l/e.order),n.push(r[t]({Fs:e.Fs,Fc:l,Q:i,BW:e.BW||0,gain:e.gain||0,preGain:e.preGain||!1})))}else for(a=0;a<e.length;a++)n.push(r[t](e[a]));return n}(t,e)}},i={};t.exports=function(){var e=[];for(var t in r)i[t]=a(t),e.push(t);return i.available=function(){return e},i}},{"./iirCoeffs":6}],3:[function(e,t,n){"use strict";t.exports=function(e){if(!function(e){return!(e&e-1)}(e))return!1;var t={};t.length=e,t.buffer=new Float64Array(e),t.re=new Float64Array(e),t.im=new Float64Array(e),t.reI=new Float64Array(e),t.imI=new Float64Array(e),t.twiddle=new Int32Array(e),t.sinTable=new Float64Array(e-1),t.cosTable=new Float64Array(e-1);var n=2*Math.PI,r=Math.floor(Math.log(e)/Math.LN2);for(s=t.sinTable.length;s--;)t.sinTable[s]=Math.sin(n*(s/e)),t.cosTable[s]=Math.cos(n*(s/e));for(var o=e>>1,s=0,a=0;t.twiddle[s]=a,!(++s>=e);){for(r=o;r<=a;)a-=r,r>>=1;a+=r}var i=Math.PI,u=2*Math.PI,l=Math.abs,c=Math.pow,d=Math.cos,f=Math.sin,m=Math.E,p={rectangular:{calc:function(){return 1},values:[],correction:1},none:{calc:function(){return 1},values:[],correction:1},hanning:{calc:function(e,t){return.5*(1-d(u*e/(t-1)))},values:[],correction:2},hamming:{calc:function(e,t){return.54-.46*d(u*e/(t-1))},values:[],correction:1.8518999946875638},tukery:{calc:function(e,t,n){return e<n*(t-1)/2?.5*(1+d(i*(2*e/(n*(t-1))-1))):(t-1)*(1-n/2)<e?.5*(1+d(i*(2*e/(n*(t-1))-2/n+1))):1},values:[],correction:4/3},cosine:{calc:function(e,t){return f(i*e/(t-1))},values:[],correction:1.570844266360796},lanczos:{calc:function(e,t){return function(e){return f(i*e)/(i*e)}(2*e/(t-1)-1)},values:[],correction:1.6964337576195783},triangular:{calc:function(e,t){return 2/(t+1)*((t+1)/2-l(e-(t-1)/2))},values:[],correction:2},bartlett:{calc:function(e,t){return 2/(t-1)*((t-1)/2-l(e-(t-1)/2))},values:[],correction:2},gaussian:{calc:function(e,t,n){return c(m,-.5*c((e-(t-1)/2)/(n*(t-1)/2),2))},values:[],correction:5/3},bartlettHanning:{calc:function(e,t){var n=u*e/(t-1);return.62-.48*l(e/(t-1)-.5)-.38*d(n)},values:[],correction:2},blackman:{calc:function(e,t,n){var r=n/2,o=u*e/(t-1);return(1-n)/2-.5*d(o)+r*d(2*o)},values:[],correction:4/3},blackmanHarris:{calc:function(e,t){var n=u*e/(t-1);return.35875-.48829*d(n)+.14128*d(2*n)-.01168*d(3*n)},values:[],correction:1.5594508635},nuttall3:{calc:function(e,t){var n=u*e/(t-1);return.375-.5*d(n)+.125*d(2*n)},values:[],correction:1.56},nuttall3a:{calc:function(e,t){var n=u*e/(t-1);return.40897-.5*d(n)+.09103*d(2*n)},values:[],correction:1.692},nuttall3b:{calc:function(e,t){var n=u*e/(t-1);return.4243801-.4973406*d(n)+.078793*d(2*n)},values:[],correction:1.7372527},nuttall4:{calc:function(e,t){var n=u*e/(t-1);return.3125-.46875*d(n)+.1875*d(2*n)-.03125*d(3*n)},values:[],correction:1.454543},nuttall4a:{calc:function(e,t){var n=u*e/(t-1);return.338946-.481973*d(n)+.161054*d(2*n)-.018027*d(3*n)},values:[],correction:1.512732763},nuttall4b:{calc:function(e,t){var n=u*e/(t-1);return.355768-.481973*d(n)+.144232*d(2*n)-.012604*d(3*n)},values:[],correction:1.55223262},nuttall4c:{calc:function(e,t){var n=u*e/(t-1);return.3635819-.4891775*d(n)+.1365995*d(2*n)-.0106411*d(3*n)},values:[],correction:1.57129067},sft3f:{calc:function(e,t){var n=u*e/(t-1);return.26526-.5*d(n)+.23474*d(2*n)},values:[],correction:1.3610238},sft4f:{calc:function(e,t){var n=u*e/(t-1);return.21706-.42103*d(n)+.28294*d(2*n)-.07897*d(3*n)},values:[],correction:1.2773573},sft5f:{calc:function(e,t){var n=u*e/(t-1);return.1881-.36923*d(n)+.28702*d(2*n)-.13077*d(3*n)+.02488*d(4*n)},values:[],correction:1.23167769},sft3m:{calc:function(e,t){var n=u*e/(t-1);return.28235-.52105*d(n)+.19659*d(2*n)},values:[],correction:1.39343451},sft4m:{calc:function(e,t){var n=u*e/(t-1);return.241906-.460841*d(n)+.2552381*d(2*n)-.041872*d(3*n)},values:[],correction:1.3190596},sft5m:{calc:function(e,t){var n=u*e/(t-1);return.209671-.407331*d(n)+.281225*d(2*n)-.092669*d(3*n)+.0091036*d(4*n)},values:[],correction:1.26529456464},nift:{calc:function(e,t){var n=u*e/(t-1);return.2810639-.5208972*d(n)+.1980399*d(2*n)},values:[],correction:1.39094182},hpft:{calc:function(e,t){var n=u*e/(t-1);return(1-1.912510941*d(n)+1.079173272*d(2*n)-.1832630879*d(3*n))/t},values:[],correction:1},srft:{calc:function(e,t){var n=u*e/(t-1);return(1-1.93*d(n)+1.29*d(2*n)-.388*d(3*n)+.028*d(4*n))/t},values:[],correction:1},hft70:{calc:function(e,t){var n=u*e/(t-1);return(1-1.90796*d(n)+1.07349*d(2*n)-.18199*d(3*n))/t},values:[],correction:1},hft95:{calc:function(e,t){var n=u*e/(t-1);return(1-1.9383379*d(n)+1.3045202*d(2*n)-.402827*d(3*n)+.0350665*d(4*n))/t},values:[],correction:1},hft90d:{calc:function(e,t){var n=u*e/(t-1);return(1-1.942604*d(n)+1.340318*d(2*n)-.440811*d(3*n)+.043097*d(4*n))/t},values:[],correction:1},hft116d:{calc:function(e,t){var n=u*e/(t-1);return(1-1.9575375*d(n)+1.4780705*d(2*n)-.6367431*d(3*n)+.1228389*d(4*n)-.0066288*d(5*n))/t},values:[],correction:1},hft144d:{calc:function(e,t){var n=u*e/(t-1);return(1-1.96760033*d(n)+1.57983607*d(2*n)-.81123644*d(3*n)+.22583558*d(4*n)-.02773848*d(5*n)+9036e-7*d(6*n))/t},values:[],correction:1},hft196d:{calc:function(e,t){var n=u*e/(t-1);return(1-1.97441842*d(n)+1.65409888*d(2*n)-.95788186*d(3*n)+.3367342*d(4*n)-.06364621*d(5*n)+.00521942*d(6*n)-10599e-8*d(7*n))/t},values:[],correction:1},hft223d:{calc:function(e,t){var n=u*e/(t-1);return(1-1.98298997309*d(n)+1.75556083063*d(2*n)-1.19037717712*d(3*n)+.56155440797*d(4*n)-.17296769663*d(5*n)+.03233247087*d(6*n)-.00324954578*d(7*n)+.0001380104*d(8*n)-132725e-11*d(9*n))/t},values:[],correction:1},hft248d:{calc:function(e,t){var n=u*e/(t-1);return(1-1.985844164102*d(n)+1.791176438506*d(2*n)-1.282075284005*d(3*n)+.667777530266*d(4*n)-.240160796576*d(5*n)+.056656381764*d(6*n)-.008134974479*d(7*n)+.00062454465*d(8*n)-19808998e-12*d(9*n)+1.32974e-7*d(10*n))/t},values:[],correction:1}},h=function(e){return p[e.name].values.length!==e.N?(0===e.n&&(p[e.name].values.length=0),p[e.name].values[e.n]=p[e.name].correction*p[e.name].calc(e.n,e.N,e.a),p[e.name].values[e.n]):p[e.name].values};return{forward:function(e,n){var r,o,s,a,i,u,l,c,d,f,m,p,g={name:n,N:s=t.buffer.length,a:.5,n:0},b=h(g);if("number"==typeof b)for(r=0;r<s;++r)g.n=r,t.buffer[r]=e[r]*h(g);else for(r=0;r<s;++r)t.buffer[r]=e[r]*b[r];for(r=s;r--;)t.re[r]=t.buffer[t.twiddle[r]],t.im[r]=0;for(a=1;a<s;a=i)for(u=0,l=s/(i=a+a),o=0;o<a;o++){for(c=t.cosTable[u],d=t.sinTable[u],r=o;r<s;r+=i)f=r+a,m=d*t.im[f]+c*t.re[f],p=c*t.im[f]-d*t.re[f],t.re[f]=t.re[r]-m,t.re[r]+=m,t.im[f]=t.im[r]-p,t.im[r]+=p;u+=l}return{re:t.re,im:t.im}},inverse:function(e,n){var r,o,s,a,i,u,l,c,d,f,m,p;for(r=s=e.length;r--;)o=t.twiddle[r],t.reI[r]=e[o],t.imI[r]=-n[o];for(a=1;a<s;a=i)for(u=0,l=s/(i=a+a),o=0;o<a;o++){for(c=t.cosTable[u],d=t.sinTable[u],r=o;r<s;r+=i)f=r+a,m=d*t.imI[f]+c*t.reI[f],p=c*t.imI[f]-d*t.reI[f],t.reI[f]=t.reI[r]-m,t.reI[r]+=m,t.imI[f]=t.imI[r]-p,t.imI[r]+=p;u+=l}for(r=s;r--;)t.buffer[r]=t.reI[r]/s;return t.buffer},magnitude:function(e){for(var t=[],n=0;n<e.re.length;n++)t.push(Math.sqrt(e.re[n]*e.re[n]+e.im[n]*e.im[n]));return t},magToDb:function(e){for(var t=[],n=0;n<e.length;n++)t.push(20*Math.log(e[n])*Math.LOG10E);return t},phase:function(e){for(var t=[],n=0;n<e.re.length;n++)t.push(Math.atan2(e.im[n],e.re[n]));return t},windows:function(){var e=[];for(var t in p)e.push(t);return e}}}},{}],4:[function(e,t,n){"use strict";t.exports=function(){var e=function(e){var t=e.Fs,n=e.Fc,r=e.order,o=2*Math.PI*n/t,s=0,a=0,i=[];for(s=0;s<=r;s++)s-r/2==0?i[s]=o:(i[s]=Math.sin(o*(s-r/2))/(s-r/2),i[s]*=.54-.46*Math.cos(2*Math.PI*s/r)),a+=i[s];for(s=0;s<=r;s++)i[s]/=a;return i},t=function(e){var t;for(t=0;t<e.length;t++)e[t]=-e[t];return e[(e.length-1)/2]++,e},n=function(n){for(var r=e({order:n.order,Fs:n.Fs,Fc:n.F2}),o=t(e({order:n.order,Fs:n.Fs,Fc:n.F1})),s=[],a=0;a<r.length;a++)s.push(r[a]+o[a]);return s};return{lowpass:function(t){return e(t)},highpass:function(n){return t(e(n))},bandstop:function(e){return n(e)},bandpass:function(e){return t(n(e))},kbFilter:function(e){return function(e){var t=e.Fs,n=e.Fa,r=e.Fb,o=e.order||51,s=e.Att||100,a=function(e){for(var t=0,n=1,r=1;n>1e-6*r;)r+=n*=e*e/((t+=2)*t);return r};o/2-Math.floor(o/2)==0&&o++;var i,u,l=(o-1)/2,c=[],d=0,f=[];for(c[0]=2*(r-n)/t,d=1;d<=l;d++)c[d]=(Math.sin(2*d*Math.PI*r/t)-Math.sin(2*d*Math.PI*n/t))/(d*Math.PI);for(i=a(u=s<21?0:s>50?.1102*(s-8.7):.5842*Math.pow(s-21,.4)+.07886*(s-21)),d=0;d<=l;d++)f[l+d]=c[d]*a(u*Math.sqrt(1-d*d/(l*l)))/i;for(d=0;d<l;d++)f[d]=f[o-1-d];return f}(e)},available:function(){return["lowpass","highpass","bandstop","bandpass","kbFilter"]}}}},{}],5:[function(e,t,n){"use strict";var r=e("./utils"),o=r.runMultiFilter,s=r.runMultiFilterReverse,a=r.complex,i=r.evaluatePhase;t.exports=function(e){var t=e,n=[],r=0;for(r=0;r<t.length;r++)n[r]={re:t[r],im:0};var u=function(e){var t,n=[];for(t=0;t<e;t++)n.push(0);return{buf:n,pointer:0}},l=u(t.length-1),c=function(e,n){n.buf[n.pointer]=e;var o=0;for(r=0;r<n.buf.length;r++)o+=t[r]*n.buf[(n.pointer+r)%n.buf.length];return n.pointer=(n.pointer+1)%n.buf.length,o},d=function(e){for(var r=e.Fs,o=e.Fr,s=-Math.PI*(o/r)*2,i={re:0,im:0},u=0;u<t.length-1;u++)i=a.add(i,a.mul(n[u],{re:Math.cos(s*u),im:Math.sin(s*u)}));var l=a.magnitude(i);return{magnitude:l,phase:a.phase(i),dBmagnitude:20*Math.log(l)*Math.LOG10E}};return{responsePoint:function(e){return d(e)},response:function(e){var t=[],n=0,r=2*(e=e||100);for(n=0;n<e;n++)t[n]=d({Fs:r,Fr:n});return i(t),t},simulate:function(e){return function(e){var n=u(t.length-1);return o(e,n,c)}(e)},singleStep:function(e){return c(e,l)},multiStep:function(e,t){return o(e,l,c,t)},filtfilt:function(e,t){return s(o(e,l,c,t),l,c,!0)},reinit:function(){l=u(t.length-1)}}}},{"./utils":9}],6:[function(e,t,n){"use strict";t.exports=function(){var e=function(e,t){var n=e.Q,r=e.Fc,o=e.Fs,s={},a=2*Math.PI*r/o;return e.BW?s.alpha=Math.sin(a)*Math.sinh(Math.log(2)/2*e.BW*a/Math.sin(a)):s.alpha=Math.sin(a)/(2*n),s.cw=Math.cos(a),s.a0=1+s.alpha,t.a0=s.a0,t.a.push(-2*s.cw/s.a0),t.k=1,t.a.push((1-s.alpha)/s.a0),s},t=function(e){var t=e.Q,n=e.Fc,r=e.Fs,o={},s=2*Math.PI*n/r;return o.alpha=Math.sin(s)/(2*t),o.cw=Math.cos(s),o.A=Math.pow(10,e.gain/40),o},n=function(){var e={z:[0,0],a:[],b:[]};return e};return{fromPZ:function(e){var t=n();return t.a0=1,t.b.push(1),t.b.push(-e.z0.re-e.z1.re),t.b.push(e.z0.re*e.z1.re-e.z0.im*e.z1.im),t.a.push(-e.p0.re-e.p1.re),t.a.push(e.p0.re*e.p1.re-e.p0.im*e.p1.im),"lowpass"===e.type?t.k=(1+t.a[0]+t.a[1])/(1+t.b[1]+t.b[2]):t.k=(1-t.a[0]+t.a[1])/(1-t.b[1]+t.b[2]),t},lowpassMZ:function(e){var t=n();t.a0=1;var r=e.as,o=e.bs,s=2*Math.PI*e.Fc/e.Fs,a=-r/(2*o);return t.a.push(2*-Math.pow(Math.E,a*s)*Math.cos(-s*Math.sqrt(Math.abs(Math.pow(r,2)/(4*Math.pow(o,2))-1/o)))),t.a.push(Math.pow(Math.E,2*a*s)),e.preGain?(t.b.push(1),t.k=t.a0+t.a[0]+t.a[1]):(t.b.push(t.a0+t.a[0]+t.a[1]),t.k=1),t.b.push(0),t.b.push(0),t},lowpassBT:function(e){var t=n();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=3*t.wp+3*t.wp2+1,t.b.push(3*t.wp2*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((6*t.wp2-2)/t.a0),t.a.push((3*t.wp2-3*t.wp+1)/t.a0),t},highpassBT:function(e){var t=n();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=t.wp+t.wp2+3,t.b.push(3*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((2*t.wp2-6)/t.a0),t.a.push((t.wp2-t.wp+3)/t.a0),t},lowpass:function(t){var r=n();t.BW&&delete t.BW;var o=e(t,r);return t.preGain?(r.k=.5*(1-o.cw),r.b.push(1/o.a0)):(r.k=1,r.b.push((1-o.cw)/(2*o.a0))),r.b.push(2*r.b[0]),r.b.push(r.b[0]),r},highpass:function(t){var r=n();t.BW&&delete t.BW;var o=e(t,r);return t.preGain?(r.k=.5*(1+o.cw),r.b.push(1/o.a0)):(r.k=1,r.b.push((1+o.cw)/(2*o.a0))),r.b.push(-2*r.b[0]),r.b.push(r.b[0]),r},allpass:function(t){var r=n();t.BW&&delete t.BW;var o=e(t,r);return r.k=1,r.b.push((1-o.alpha)/o.a0),r.b.push(-2*o.cw/o.a0),r.b.push((1+o.alpha)/o.a0),r},bandpassQ:function(t){var r=n(),o=e(t,r);return r.k=1,r.b.push(o.alpha*t.Q/o.a0),r.b.push(0),r.b.push(-r.b[0]),r},bandpass:function(t){var r=n(),o=e(t,r);return r.k=1,r.b.push(o.alpha/o.a0),r.b.push(0),r.b.push(-r.b[0]),r},bandstop:function(t){var r=n(),o=e(t,r);return r.k=1,r.b.push(1/o.a0),r.b.push(-2*o.cw/o.a0),r.b.push(r.b[0]),r},peak:function(e){var r=n(),o=t(e);return r.k=1,r.a0=1+o.alpha/o.A,r.a.push(-2*o.cw/r.a0),r.a.push((1-o.alpha/o.A)/r.a0),r.b.push((1+o.alpha*o.A)/r.a0),r.b.push(-2*o.cw/r.a0),r.b.push((1-o.alpha*o.A)/r.a0),r},lowshelf:function(e){var r=n();e.BW&&delete e.BW;var o=t(e);r.k=1;var s=2*Math.sqrt(o.A)*o.alpha;return r.a0=o.A+1+(o.A-1)*o.cw+s,r.a.push(-2*(o.A-1+(o.A+1)*o.cw)/r.a0),r.a.push((o.A+1+(o.A-1)*o.cw-s)/r.a0),r.b.push(o.A*(o.A+1-(o.A-1)*o.cw+s)/r.a0),r.b.push(2*o.A*(o.A-1-(o.A+1)*o.cw)/r.a0),r.b.push(o.A*(o.A+1-(o.A-1)*o.cw-s)/r.a0),r},highshelf:function(e){var r=n();e.BW&&delete e.BW;var o=t(e);r.k=1;var s=2*Math.sqrt(o.A)*o.alpha;return r.a0=o.A+1-(o.A-1)*o.cw+s,r.a.push(2*(o.A-1-(o.A+1)*o.cw)/r.a0),r.a.push((o.A+1-(o.A-1)*o.cw-s)/r.a0),r.b.push(o.A*(o.A+1+(o.A-1)*o.cw+s)/r.a0),r.b.push(-2*o.A*(o.A-1+(o.A+1)*o.cw)/r.a0),r.b.push(o.A*(o.A+1+(o.A-1)*o.cw-s)/r.a0),r},aweighting:function(e){var t=n();t.k=1;var r=2*Math.PI*e.Fc/e.Fs,o=2*Math.tan(r/2),s=e.Q,a=Math.pow(o,2);return t.a0=4*s+a*s+2*o,t.a.push(2*a*s-8*s),t.a.push(4*s+a*s-2*o),t.b.push(a*s),t.b.push(2*a*s),t.b.push(a*s),t}}}},{}],7:[function(e,t,n){"use strict";var r=e("./utils"),o=r.complex,s=r.runMultiFilter,a=r.runMultiFilterReverse,i=r.evaluatePhase;t.exports=function(e){for(var t=e,n={re:1,im:0},r=[],u=[],l=0;l<t.length;l++){r[l]={};var c=t[l];r[l].b0={re:c.b[0],im:0},r[l].b1={re:c.b[1],im:0},r[l].b2={re:c.b[2],im:0},r[l].a1={re:c.a[0],im:0},r[l].a2={re:c.a[1],im:0},r[l].k={re:c.k,im:0},r[l].z=[0,0],u[l]={},u[l].b1=c.b[1]/c.b[0],u[l].b2=c.b[2]/c.b[0],u[l].a1=c.a[0],u[l].a2=c.a[1]}var d=function(e,t){var n=t*e.k.re-e.a1.re*e.z[0]-e.a2.re*e.z[1],r=e.b0.re*n+e.b1.re*e.z[0]+e.b2.re*e.z[1];return e.z[1]=e.z[0],e.z[0]=n,r},f=function(e,t){var n=e,r=0;for(r=0;r<t.length;r++)n=d(t[r],n);return n},m=function(e,t){var r=e.Fs,s=e.Fr,a=-Math.PI*(s/r)*2,i={re:Math.cos(a),im:Math.sin(a)},u=o.mul(t.k,o.add(t.b0,o.mul(i,o.add(t.b1,o.mul(t.b2,i))))),l=o.add(n,o.mul(i,o.add(t.a1,o.mul(t.a2,i)))),c=o.div(u,l);return{magnitude:o.magnitude(c),phase:o.phase(c)}},p=function(e){var t=0,n={magnitude:1,phase:0};for(t=0;t<r.length;t++){var o=m(e,r[t]);n.magnitude*=o.magnitude,n.phase+=o.phase}return n.dBmagnitude=20*Math.log(n.magnitude)*Math.LOG10E,n},h=function(){for(var e=[],n=0;n<t.length;n++)e[n]={b0:{re:c.b[0],im:0},b1:{re:c.b[1],im:0},b2:{re:c.b[2],im:0},a1:{re:c.a[0],im:0},a2:{re:c.a[1],im:0},k:{re:c.k,im:0},z:[0,0]};return e},g=function(e){var t=h();return s(e,t,f)},b=function(e,t){var n={},r=[],o=0;for(o=0;o<t;o++)r.push(e(o));n.out=g(r);var s=!1,a=!1;for(o=0;o<t-1;o++)if(n.out[o]>n.out[o+1]&&!s&&(s=!0,n.max={sample:o,value:n.out[o]}),s&&!a&&n.out[o]<n.out[o+1]){a=!0,n.min={sample:o,value:n.out[o]};break}return n},v=function(e,t){var n=Math.pow(e/2,2)-t;return n<0?[{re:-e/2,im:Math.sqrt(Math.abs(n))},{re:-e/2,im:-Math.sqrt(Math.abs(n))}]:[{re:-e/2+Math.sqrt(n),im:0},{re:-e/2-Math.sqrt(n),im:0}]};return{singleStep:function(e){return f(e,r)},multiStep:function(e,t){return s(e,r,f,t)},filtfilt:function(e,t){return a(s(e,r,f,t),r,f,!0)},simulate:function(e){return g(e)},stepResponse:function(e){return b((function(){return 1}),e)},impulseResponse:function(e){return b((function(e){return 0===e?1:0}),e)},responsePoint:function(e){return p(e)},response:function(e){var t=[],n=0,r=2*(e=e||100);for(n=0;n<e;n++)t[n]=p({Fs:r,Fr:n});return i(t),t},polesZeros:function(){return function(){for(var e=[],t=0;t<u.length;t++)e[t]={},e[t].z=v(u[t].b1,u[t].b2),e[t].p=v(u[t].a1,u[t].a2);return e}()},reinit:function(){for(l=0;l<r.length;l++)r[l].z=[0,0]}}}},{"./utils":9}],8:[function(e,t,n){"use strict";t.exports=function(e){var t,n=e,r=[],o=function(e){for(t=0;t<e.steps;t++)r.push(n.singleStep((Math.random()-.5)*e.pp+e.offset))},s=function(e){var o=e.offset+e.pp,s=e.offset-e.pp;for(t=0;t<e.steps;t++)t%200<100?r.push(n.singleStep(o)):r.push(n.singleStep(s))},a=function(e){var o=e.offset+e.pp,s=e.offset-e.pp;for(t=0;t<e.steps;t++)t%100==0?r.push(n.singleStep(o)):r.push(n.singleStep(s))},i=function(e){var o=e.offset+e.pp,s=e.offset-e.pp,a=s,i=(o-s)/100;for(t=0;t<e.steps;t++)t%200<100?a+=i:a-=i,r.push(n.singleStep(a))};return{randomStability:function(e){for(n.reinit(),r.length=0,o(e),t=e.setup;t<r.length;t++)if(r[t]>e.maxStable||r[t]<e.minStable)return r[t];return!0},directedRandomStability:function(e){var u;for(n.reinit(),r.length=0,u=0;u<e.tests;u++){var l=Math.random();l<.25?o(e):l<.5?s(e):l<.75?a(e):i(e)}for(o(e),t=e.setup;t<r.length;t++)if(r[t]>e.maxStable||r[t]<e.minStable)return r[t];return!0},evaluateBehavior:function(){}}}},{}],9:[function(e,t,n){"use strict";n.evaluatePhase=function(e){var t=0,n=0,r=Math.PI,o=2*r,s=[];for(n=0;n<e.length;n++)s.push(e[n].phase);for(e[0].unwrappedPhase=e[0].phase,e[0].groupDelay=0,n=1;n<s.length;n++){var a=s[n]-s[n-1];if(a>r)for(t=n;t<s.length;t++)s[t]-=o;else if(a<-r)for(t=n;t<s.length;t++)s[t]+=o;s[n]<0?e[n].unwrappedPhase=-s[n]:e[n].unwrappedPhase=s[n],e[n].phaseDelay=e[n].unwrappedPhase/(n/e.length),e[n].groupDelay=(e[n].unwrappedPhase-e[n-1].unwrappedPhase)/(r/e.length),e[n].groupDelay<0&&(e[n].groupDelay=-e[n].groupDelay)}0!==e[0].magnitude?(e[0].phaseDelay=e[1].phaseDelay,e[0].groupDelay=e[1].groupDelay):(e[0].phaseDelay=e[2].phaseDelay,e[0].groupDelay=e[2].groupDelay,e[1].phaseDelay=e[2].phaseDelay,e[1].groupDelay=e[2].groupDelay)},n.runMultiFilter=function(e,t,n,r){var o,s=[];for(r&&(s=e),o=0;o<e.length;o++)s[o]=n(e[o],t);return s},n.runMultiFilterReverse=function(e,t,n,r){var o,s=[];for(r&&(s=e),o=e.length-1;o>=0;o--)s[o]=n(e[o],t);return s};var r=function(e,t){for(var n=!0;n;){var r=e,o=t;if(n=!1,o||(o=1),r!==Math.floor(r)||o!==Math.floor(o))return 1;if(0===r||1===r)return o;e=r-1,t=o*r,n=!0}};n.besselFactors=function(e){for(var t=[],n=0;n<e+1;n++){var o=r(2*e-n),s=Math.pow(2,e-n)*r(n)*r(e-n);t.unshift(Math.floor(o/s))}return t};var o=function(e,t){for(var n=0,r=0;r<t;r++){var o=1/Math.pow(2,r+1);e>o&&(e-=o,n+=o)}return n},s=function(e,t){return e&Math.pow(2,t)};n.fixedPoint={convert:function(e,t,n){return function(e,t,n){var r=Math.abs(e),a=e-r;return{number:s(r,t).toString(),fraction:o(a,n).toString(),numberBits:t,fractionBits:n}}(e,t,n)},add:function(e,t){},sub:function(e,t){},mul:function(e,t){},div:function(e,t){}},n.complex={div:function(e,t){var n=e.re,r=e.im,o=t.re,s=t.im,a=o*o+s*s;return{re:(n*o+r*s)/a,im:(r*o-n*s)/a}},mul:function(e,t){var n=e.re,r=e.im,o=t.re,s=t.im;return{re:n*o-r*s,im:(n+r)*(o+s)-n*o-r*s}},add:function(e,t){return{re:e.re+t.re,im:e.im+t.im}},sub:function(e,t){return{re:e.re-t.re,im:e.im-t.im}},phase:function(e){return Math.atan2(e.im,e.re)},magnitude:function(e){return Math.sqrt(e.re*e.re+e.im*e.im)}}},{}]},{},[1])(1)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(33),o=n(83),s=n(84),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):s(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(85),o=n(88),s=n(35);e.exports=function(e){return(s(e)?r:o)(e)}},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}b(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&b(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,s,a,i;if(l(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),void 0===a)a=s[t]=n,++e._eventsCount;else if("function"==typeof a?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,i=u,console&&console.warn&&console.warn(i)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(s){r.once&&e.removeEventListener(t,o),n(s)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var i=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw i.context=a,i}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)s(u,this,t);else{var l=u.length,c=g(u,l);for(n=0;n<l;++n)s(c[n],this,t)}return!0},i.prototype.addListener=function(e,t){return d(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return d(this,e,t,!0)},i.prototype.once=function(e,t){return l(t),this.on(e,m(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,m(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,s,a;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){a=n[s].listener,o=s;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(o=s[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(137),o=n(138),s=n(9),a=n(139);function i(e,t){var n,s,a,i;if(e){if(25>(e=function(e){if(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return new Uint8Array(e).buffer}throw new Error("Unsupported buffer type, need ArrayBuffer or Uint8Array")}(e)).byteLength)throw new Error("A buffer of a valid MIDI file must have, at least, a size of 25bytes.");for(this.header=new r(e,t),this.tracks=[],s=r.HEADER_LENGTH,a=0,i=this.header.getTracksCount();a<i;a++){if(t&&s>=e.byteLength-1)throw new Error("Couldn't find datas corresponding to the track #"+a+".");n=new o(e,s,t),this.tracks.push(n),s+=n.getTrackLength()+8}if(t&&s!==e.byteLength)throw new Error("It seems that the buffer contains too much datas.")}else this.header=new r,this.tracks=[new o]}i.prototype.getEvents=function(e,t){var n,r,o,a,i,u,l=0,c=[],d=this.header.getFormat(),f=this.header.getTickResolution();if(1!==d||1===this.tracks.length)for(o=0,a=this.tracks.length;o<a;o++)for(l=2===d&&l?l:0,r=(n=s.createParser(this.tracks[o].getTrackContent(),0,!1)).next();r;)l+=r.delta?r.delta*f/1e3:0,r.type===s.EVENT_META&&r.subtype===s.EVENT_META_SET_TEMPO&&(f=this.header.getTickResolution(r.tempo)),e&&r.type!==e||t&&(!r.subtype||r.subtype!==t)||(r.playTime=l,c.push(r)),r=n.next();else{for(i=[],u=-1,o=0,a=this.tracks.length;o<a;o++)i[o]={},i[o].parser=s.createParser(this.tracks[o].getTrackContent(),0,!1),i[o].curEvent=i[o].parser.next();do{for(u=-1,o=0,a=i.length;o<a;o++)i[o].curEvent&&(-1===u||i[o].curEvent.delta<i[u].curEvent.delta)&&(u=o);if(-1!==u){for(o=0,a=i.length;o<a;o++)o!==u&&i[o].curEvent&&(i[o].curEvent.delta-=i[u].curEvent.delta);l+=(r=i[u].curEvent).delta?r.delta*f/1e3:0,r.type===s.EVENT_META&&r.subtype===s.EVENT_META_SET_TEMPO&&(f=this.header.getTickResolution(r.tempo)),e&&r.type!==e||t&&(!r.subtype||r.subtype!==t)||(r.playTime=l,r.track=u,c.push(r)),i[u].curEvent=i[u].parser.next()}}while(-1!==u)}return c},i.prototype.getMidiEvents=function(){return this.getEvents(s.EVENT_MIDI)},i.prototype.getLyrics=function(){var e,t,n,r=this.getEvents(s.EVENT_META),o=[],i=[];for(t=0,n=r.length;t<n;t++)(e=r[t]).subtype===s.EVENT_META_LYRICS?i.push(e):e.subtype===s.EVENT_META_TEXT&&("@"===String.fromCharCode(e.data[0])?"T"===String.fromCharCode(e.data[1])||"I"===String.fromCharCode(e.data[1])||String.fromCharCode(e.data[1]):0===String.fromCharCode.apply(String,e.data).indexOf("words")?o.length=0:0!==e.playTime&&o.push(e));2<i.length?o=i:o.length||(o=[]);try{o.forEach((function(e){e.text=a.getStringFromBytes(e.data,0,e.length,!0)}))}catch(e){o.forEach((function(e){e.text=e.data.map((function(e){return String.fromCharCode(e)})).join("")}))}return o},i.prototype.getTrackEvents=function(e){var t,n,r=[];if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=(n=s.createParser(this.tracks[e].getTrackContent(),0,!1)).next();do{r.push(t),t=n.next()}while(t);return r},i.prototype.setTrackEvents=function(e,t){var n,r;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");if(!t||!t.length)throw Error("A track must contain at least one event, none given.");n=s.getRequiredBufferLength(t),r=new Uint8Array(n),s.writeToTrack(t,r),this.tracks[e].setTrackContent(r)},i.prototype.deleteTrack=function(e){if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");this.tracks.splice(e,1),this.header.setTracksCount(this.tracks.length)},i.prototype.addTrack=function(e){var t;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=new o,e===this.tracks.length?this.tracks.push(t):this.tracks.splice(e,0,t),this.header.setTracksCount(this.tracks.length)},i.prototype.getContent=function(){var e,t,n,o,s,a,i,u,l;for(e=r.HEADER_LENGTH,o=0,s=this.tracks.length;o<s;o++)e+=this.tracks[o].getTrackLength()+8;for(t=new Uint8Array(e),n=new Uint8Array(this.header.datas.buffer,this.header.datas.byteOffset,r.HEADER_LENGTH),o=0,s=r.HEADER_LENGTH;o<s;o++)t[o]=n[o];for(a=0,i=this.tracks.length;a<i;a++)for(n=new Uint8Array(this.tracks[a].datas.buffer,this.tracks[a].datas.byteOffset,this.tracks[a].datas.byteLength),u=0,l=this.tracks[a].datas.byteLength;u<l;u++)t[o++]=n[u];return t.buffer},i.Header=r,i.Track=o,e.exports=i},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(u[c]=n[c]);if(r){i=r(n);for(var d=0;d<i.length;d++)s.call(n,i[d])&&(u[i[d]]=n[i[d]])}}return u}},function(e,t,n){var r=n(82),o=n(24),s=n(46),a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=i.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(34).Symbol;e.exports=r},function(e,t,n){var r=n(47),o="object"==typeof self&&self&&self.Object===Object&&self,s=r||o||Function("return this")();e.exports=s},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r,o,s,a,i,u,l,c,d,f,m,p,h,g,b,v,y,M,_,I,P,k;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */a=this,i=/iPhone/i,u=/iPod/i,l=/iPad/i,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,d=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,m=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,g=/BlackBerry/i,b=/BB10/i,v=/Opera Mini/i,y=/(CriOS|Chrome)(?=.*\bMobile\b)/i,M=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,_=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),I=function(e,t){return e.test(t)},P=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),void 0!==(n=t.split("Twitter"))[1]&&(t=n[0]),this.apple={phone:I(i,t),ipod:I(u,t),tablet:!I(i,t)&&I(l,t),device:I(i,t)||I(u,t)||I(l,t)},this.amazon={phone:I(f,t),tablet:!I(f,t)&&I(m,t),device:I(f,t)||I(m,t)},this.android={phone:I(f,t)||I(c,t),tablet:!I(f,t)&&!I(c,t)&&(I(m,t)||I(d,t)),device:I(f,t)||I(m,t)||I(c,t)||I(d,t)},this.windows={phone:I(p,t),tablet:I(h,t),device:I(p,t)||I(h,t)},this.other={blackberry:I(g,t),blackberry10:I(b,t),opera:I(v,t),firefox:I(M,t),chrome:I(y,t),device:I(g,t)||I(b,t)||I(v,t)||I(M,t)||I(y,t)},this.seven_inch=I(_,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},k=function(){var e=new P;return e.Class=P,e},e.exports&&"undefined"==typeof window?e.exports=P:e.exports&&"undefined"!=typeof window?e.exports=k():(o=[],r=a.isMobile=k(),void 0===(s="function"==typeof r?r.apply(t,o):r)||(e.exports=s))},function(e,t,n){var r=n(81),o=n(32);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==t&&(t=(t=o(t))==t?t:0),r(o(e),t,n)}},function(e,t,n){var r=n(111);e.exports=m,e.exports.parse=s,e.exports.compile=function(e,t){return i(s(e,t),t)},e.exports.tokensToFunction=i,e.exports.tokensToRegExp=f;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,a=0,i="",c=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],f=n[1],m=n.index;if(i+=e.slice(a,m),a=m+d.length,f)i+=f[1];else{var p=e[a],h=n[2],g=n[3],b=n[4],v=n[5],y=n[6],M=n[7];i&&(r.push(i),i="");var _=null!=h&&null!=p&&p!==h,I="+"===y||"*"===y,P="?"===y||"*"===y,k=n[2]||c,w=b||v;r.push({name:g||s++,prefix:h||"",delimiter:k,optional:P,repeat:I,partial:_,asterisk:!!M,pattern:w?l(w):M?".*":"[^"+u(k)+"]+?"})}}return a<e.length&&(i+=e.substr(a)),i&&r.push(i),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function i(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",d(t)));return function(t,o){for(var s="",i=t||{},u=(o||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!=typeof c){var d,f=i[c.name];if(null==f){if(c.optional){c.partial&&(s+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var m=0;m<f.length;m++){if(d=u(f[m]),!n[l].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");s+=(0===m?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[l].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');s+=c.prefix+d}}else s+=c}return s}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,s=!1!==n.end,a="",i=0;i<e.length;i++){var l=e[i];if("string"==typeof l)a+=u(l);else{var f=u(l.prefix),m="(?:"+l.pattern+")";t.push(l),l.repeat&&(m+="(?:"+f+m+")*"),a+=m=l.optional?l.partial?f+"("+m+")?":"(?:"+f+"("+m+"))?":f+"("+m+")"}}var p=u(n.delimiter||"/"),h=a.slice(-p.length)===p;return o||(a=(h?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=s?"$":o&&h?"":"(?="+p+"|$)",c(new RegExp("^"+a,d(n)),t)}function m(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(m(e[o],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(s(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(22),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=Object(r.a)((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},function(e){e.exports=JSON.parse('{"Nintendo/Arkanoid":{"Arkanoid (1986-12-26)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I","clickResolutionMs":0.01,"modulations":[],"tags":["location:menu","non-chord tones:neighbor","bass:root_fifth","timbre:one-channel delay"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V7/IV ii7 I5","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_start"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9000000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"extra life","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i7","clickResolutionMs":0.01,"modulations":[],"tags":["location:after_credits"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ viio7 I^","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diminished_seventh_chords","scale:atonal","location:final_boss","bass:octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"i VII VI V i VII VI VII i VII VI V i VII VI V","clickResolutionMs":0.01,"tags":["location:game_won","form:period","bass:octaves","middle_voice:parallel_thirds"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"antecedent","5":"consequent","9":"B","13":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"Nintendo/Batman":{"Batman (Prototype) (1989)(Sunsoft).nsf":{"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"Ending 1","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["analyzed_in:hopkins","timbre:layered"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":3.189999999999976,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"Batman (1989-12-22)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ i i i i i i i i bII bII bII bII v7 v7 v7 v7 i i i i i i i i bII bII bII bII v7 v7 v7 v7 i i VII VII VI VI v V i i VI VI VII VII V5 V5 i i VI VI VII VII III V","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","chip:toms_DMC","middle_voice:melody_echo","bass:riff","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","9":"A","25":"A","41":"B","49":"C","57":"C\'","65":"intro"},"secondMeasure":0.7900000000000005,"loop":69,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.9285714285714286,"21":18.630000000000113,"22":19.564285714285713,"41":37.260000000001156,"42":38.21000000000097,"43":39.121428571428574,"44":40.0600000000006},"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ VI-VII i _ _ _ _ _ _ _ _ _ _ _ _ _ I5 bII5 I5 bII I5 bII5 I5 bII5 III V5-VII I5","clickResolutionMs":0.01,"modulations":{"19":11,"28":4},"tags":["location:level"],"fourMeasurePhrasingReferences":[11,11],"secondMeasure":1.340000000000001,"form":{"1":"A","5":"A","11":"B","15":"B\'","19":"C","23":"C\'","29":"D","33":"D\'"},"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":13.229999999999762,"20":25.32857142857143,"22":27.914285714285715,"24":30.65714285714286},"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i _ _ _ i _ _ _ _ _ _ i-i-iv-V _ _ _ i-i-i-VII _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I #IV I #IV","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","harmony:neo-riemannian","form:period","bass:pedal_point","rhythm:swing","middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"form":{"1":"A","5":"A\'","9":"B:antecedent","13":"B:consequent","17":"A\'\'","21":"A\'\'\'","25":"B:antecedent","29":"B:consequent","33":"A\'\'\'\'"},"loop":40,"firstMeasure":0,"step":"end","comment":"Underground Conduit - Stage 3","correctedMeasures":{"2":1.6,"33":51.0999999999984,"34":52.714285714285715,"40":62.289999999996176,"41":63.94285714285714,"42":65.4899999999966,"43":67.08571428571429},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV5 _ _ _ V5 _ _ v","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","middle_voice:doubles_bass","rhythm:3 against 2"],"fourMeasurePhrasingReferences":[5,13,23,27,31],"form":{"1":"A","9":"B","17":"B\'","23":"","27":"C"},"secondMeasure":1.7900000000000014,"loop":35,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":{"22":33.74285714285714,"24":36.910000000001226,"25":38.51000000000091},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ i-i-i-bII7 i-i-i-bII i-i-i-bII7","clickResolutionMs":0.01,"modulations":{"5":2,"9":9,"13":2,"17":9},"tags":["location:boss","scale:blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"form":{"1":"A","5":"A","9":"A","13":"A","17":"B"},"loop":22,"firstMeasure":3.189999999999976,"step":"end","comment":"I-IV","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i I i i","clickResolutionMs":0.01,"modulations":{"2":1,"3":5,"4":6},"tags":["location:intro","harmony:neo-riemannian","rhythm:4 against 3","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.6899999999999653,"loop":5,"firstMeasure":0,"step":"end","comment":"second intro (car)","correctedMeasures":[],"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","bass:riff","scale:hexatonic_minor_no6"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":17.57999999999995,"11":19.985714285714284},"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:unexpected_detune","location:launch_screen"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.259999999999954,"loop":null,"firstMeasure":0,"step":"tonic","comment":"","correctedMeasures":{"1":0.17142857142857143,"2":1.9428571428571428,"10":17.049999999999866,"11":19.140000000000192,"13":22.89000000000078,"14":25.040000000001115},"tonic":6,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ VI VII i i VI VII V5 V I5 VI IV5 VI5 I5 VI IV5","clickResolutionMs":0.01,"modulations":[],"tags":["location:intro","bass:riff","harmony:stasis","scale:dorian","middle_voice:drone","middle_voice:parallel_thirds","form:reversed_period","location:credits"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"intro","5":"A","9":"A\'","13":"B:consequent","17":"B:antecedent","21":"C","25":"C"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"22":33.5100000000019},"tonic":11,"basedOn":null}}},"Nintendo/Aussie Rules Footy":{"Aussie Rules Footy (1992)(Beam)(Laser Beam).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"ii-I IV-V-I-I IV-I VII-V ii-I IV-V-I-I IV-I VII-V I I I I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.5899999999999888,"loop":null,"firstMeasure":0.6900000000000004,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8900000000000015},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8900000000000015,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"2":2,"3":4},"fourMeasurePhrasingReferences":[],"secondMeasure":1.8900000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/10000000-in-1":{"10000000-in-1 (menu) (19xx)(Unknown).nsf":{"0":{"mode":"major","secondMeasure":2.389999999999993,"loop":33,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":0}}},"Nintendo/Adventures of Lolo 2":{"Adventures of Lolo 2.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:layered","upper_voices:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.3299999999999095},"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9900000000000007,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V I IV I IV I V/V V I IV V7/vi vi IV I V I","clickResolutionMs":0.01,"modulations":[],"tags":["form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V-I ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bII-III","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bII I bII I bII I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1399999999999983,"loop":null,"firstMeasure":0,"step":"end","comment":"phrygian shuttle - maybe better visualize through modulations?","correctedMeasures":{"7":13.057142857142857},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz","style:arabic","timbre:layered","middle_voice:melody_echo","middle_voice:parallel_octaves","harmony:unison"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.53999999999999,"loop":9,"firstMeasure":1.490000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:saba"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V vi I IV V V vi7 IV V iii7 vi ii7 ii7 IV IV-V7 I V vi I IV V iii7 vi7 IV V7 iii vi7 ii7 V7 I I4 I _ _ _ IV IV ii/ii V/ii ii V I I IV IV ii/ii V/ii ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando","location:game_won","voice_leading:descending_diatonic_bass","middle_voice:arpeggio","form:period","beats:division_change","voice_leading:Isus4","melody:reharmonization","voice_leading:Vsus4"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A:antecedent","17":"A:consequent","37":"B:antecedent","45":"B:consequent"},"loop":53,"firstMeasure":0.2900000000000001,"step":"end","comment":"feels like based on smth, maybe bc too common-practice. part B is based on mm. 25-32 reharmonized via applied chords. m. 15: IV over 5 (Vsus4?)","correctedMeasures":{"35":40.94285714285714,"36":41.885714285714286,"37":42.91000000000003,"38":43.65999999999988},"tonic":5,"basedOn":null}}},"Nintendo/Adventures of Lolo 3":{"Adventures of Lolo 3.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"same as Lolo 2, subtune 1","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I V/vi vi ii I V I","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","bass:melody","melody:riff","middle_voice:mixed_parallel"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"form":{"1":"A:antecedent","9":"A:consequent","17":"B"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V7/V V7 I I V7/V V7 I V I IV-V vi ii-V I IV-V V","clickResolutionMs":0.01,"tags":[],"modulations":{"13":8,"16":5},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A","5":"A"},"loop":17,"firstMeasure":0,"step":"end","comment":"jazz-like far ii-V-I","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII i VII","clickResolutionMs":0.01,"modulations":[],"tags":["bass:melody","upper_voices:arpeggio","timbre:unexpected_detune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V7 I I ii V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_sixths"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7600000000000013,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.699999999999965,"5":7.419999999999886,"7":11.149999999999807},"tonic":4,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"same as Lolo 2 subtune 7, but timbres are crispier","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I5 III5 IV5 V5 I5 III5 IV5 V5 I5 III5 IV5 V5 I5 III5 IV5 V5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:static_chord_tones","harmony:power_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":17,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I5 VII vi VI-VII I5 VII VI V","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9400000000000006,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"same as Lolo 2 subtune 9","correctedMeasures":[],"tonic":null,"basedOn":null},"18":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I V/vi vi vi7 IV V/V V5 V7 I V/vi vi I IV V7 I I V7 V7 V7 V7 I I I I V7 V7 V7 V7 biii ii7 ii7 V7 I V/vi vi vi7 IV V/V V5 V I V/vi vi vi7 ii7 V7 VI VII I","clickResolutionMs":0.01,"modulations":{"25":6,"29":4},"tags":["form:period","location:game_won","middle_voice:arpeggio","tempo:ritardando","form:not_looped"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"A:antecedent","9":"A:consequent","17":"bridge","33":"A:antecedent","41":"A:consequent"},"loop":null,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","harmony:stasis"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Almana no Kiseki":{"Almana no Kiseki (FDS)(1987-08-11)(Konami).nsf":{"1":{"mode":"minor","secondMeasure":1.8400000000000014,"loop":21,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":1},"2":{"mode":"minor","secondMeasure":1.6900000000000013,"loop":29,"firstMeasure":0.09,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":3},"3":{"mode":"minor","secondMeasure":1.8200000000000014,"loop":null,"firstMeasure":0.47000000000000025,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":6},"5":{"mode":"minor","secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Atlantis no Nazo":{"Atlantis no Nazo (1986-04-17)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i _ _ i","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":null,"firstMeasure":0.34000000000000014,"step":"end","comment":"","correctedMeasures":{"1":0.2},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV I I I V/V V I V vi iii ii V5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"loop":15,"firstMeasure":3.189999999999976,"step":"end","comment":"","correctedMeasures":{"15":25.570000000001198},"tonic":0,"basedOn":null}}},"Nintendo/Barbie":{"Barbie (REV0) (1991-12)(Imagineering)(Hi Tech Expressions).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi I I vi vi IV V I I IV V I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.440000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":23.520000000000877,"24":33.81000000000184},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V IV I I I I I I IV IV I I V IV I I ","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+2","form:12-bar_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"chorus","13":"chorus","25":"chorus"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"37":42.76000000000006},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","timbre:ultra_fast_notes","location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Aladdin":{"Aladdin (1994 Virgin).nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i V7/IV iv V-i V7/VI-VI iv7 V i i V7/IV iv V-i V7/VI-VI iv7-V i iv i iv i iv i VI V/V-V","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","middle_voice:static_chord_tones"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent, basic idea","3":"basic idea, repeated","5":"fragmentation 1m+1m","7":"0.5m+0.5m","8":"HC","9":"A:consequent","16":"PAC","17":"bridge"},"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"1":2.5428571428571427,"17":25.620000000001205},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","scale:melodic_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"Nintendo/1999 Hore, Mitakotoka! Seikimatsu":{"1999 Hore, Mitakotoka! Seikimatsu (1992-09-18)(Coconuts Japan).nsf":{"0":{"mode":"minor","secondMeasure":1.9900000000000015,"loop":13,"romanNumerals":"i iv i V i iv i-V i VI-VII VI-VII VI-VII i-i-i-V","firstMeasure":0.3900000000000002,"clickResolutionMs":0.01,"step":"end","tonic":9},"1":{"mode":"phrygian","secondMeasure":0.9900000000000007,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":11}}},"Nintendo/Cabal":{"Cabal (1990-06)(TAD)(Zippo)(Milton Bradley).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","middle_voice:parallel_octaves","harmony:stasis","scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6300000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6300000000000012,"3":3.319999999999973},"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0700000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"Game Over (the very end)","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i ii ii VII VI V V i i ii ii VII VI V V","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","rhythm:latin","middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9700000000000015,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.019999999999873,"11":20.060000000000336},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.2800000000000001,"loop":null,"firstMeasure":0.2800000000000001,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-I-I-V I-I-I-V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1699999999999977,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diminished_seventh_chords","middle_voice:melody_echo","voice_leading:descending_chromatic_melody","middle_voice:drone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.450000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.399999999999951,"8":10.239999999999826},"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","middle_voice:melody_echo","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.500000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ VI-VI-VI-VII i-i-i-VII VI-VI-VI-VII","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","voice_leading:W-arpeggio","scale:pentatonic","middle_voice:melody_echo","bass:riff","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9500000000000015,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":19.76000000000029},"tonic":2,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","middle_voice:doubles_bass","timbre:layered","scale:blues","harmony:stasis"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.300000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4285714285714286,"10":13.014285714285714,"12":15.928571428571429},"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","middle_voice:parallel_thirds_with_bass"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.099999999999978,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Adventures of Gilligan\'s Island, The":{"Adventures of Gilligan\'s Island, The (1990-07)(Human)(Bandai).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 VII I5 VII5 I5 VII5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_octaves","form:tag"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":11,"firstMeasure":1.5900000000000012,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"17":1},"tags":["scale:atonal","harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":5.289999999999932},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"17":0,"21":6},"tags":["voice_leading:ascending_chromatic","harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7600000000000005,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":2.3599999999999937,"5":3.189999999999976,"6":3.9499999999999598,"7":4.749999999999943,"8":5.549999999999926},"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["scale:whole-tone","beats:incomplete_measure_on_transition","scale:chromatic","harmony:stasis","timbre:oscillator_as_percussion"],"modulations":{"12":10,"23":4,"34":10,"61":0,"65":2,"69":0,"73":2,"77":3},"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":80,"firstMeasure":0,"step":"end","comment":"","tonic":4,"correctedMeasures":{"12":9.58999999999984,"13":10.48999999999982,"23":19.1800000000002,"24":20.08000000000034,"34":28.770000000001698,"35":29.67000000000184,"45":38.31000000000095,"46":40.71000000000047,"67":91.66000000000999,"68":94.06000000001121},"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ vi IV V V I I V/ii V/ii vi IV V V V/ii VII viio-iii","clickResolutionMs":0.01,"modulations":{"17":5,"49":0,"57":5},"tags":["voice_leading:descending_chromatic_bass","scale:atonal"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":57,"firstMeasure":0,"step":"end","comment":"complex form","correctedMeasures":{"9":10.569999999999819,"10":11.979999999999789,"18":22.620000000000736,"30":38.57142857142857,"33":42.61000000000009,"34":43.90999999999983,"41":53.17999999999799,"42":54.599999999997706,"49":63.92857142857143,"71":92.98000000001066,"73":95.86000000001214},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":3.139999999999977,"5":4.389999999999951,"7":6.639999999999903,"8":7.989999999999874},"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I ii I I IV ii I I I ii I I IV ii I I IV IV5 I I IV5 #IV5 V _ V7 _ _ _ _ _","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6600000000000013,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"jazz bass from m.63: todo accurate form parts","correctedMeasures":{"26":33.590000000001886},"tonic":5,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_melody","motive:cadential"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/8 Eyes":{"8 Eyes.nsfe":{"0":{"mode":"minor","secondMeasure":2.389999999999993,"form":{"1":"A:antecedent","9":"A:consequent","17":"B:consequent","21":"B:antecedent"},"loop":25,"romanNumerals":"i V7 i V7 i V7/III III V7 i V i V i VII i i V I V I V I V/V V","firstMeasure":0.7900000000000005,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7,"modulations":{"17":10,"23":7},"tags":["form:period","form:reversed_period"]},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i-V i","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i viio i V7 i V V i","clickResolutionMs":0.01,"modulations":[],"tags":["form:period"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","5":"consequent"},"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ i-VII _ i-VII _ i-VII VI-VII i-VII VI-VII","clickResolutionMs":0.01,"modulations":[],"tags":["style:bagpipe","middle_voice:drone","form:solo","harmony:stasis","bass:pedal_point","scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"Celtic","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"i-IV i VII i i IV-i VII i","clickResolutionMs":0.01,"tags":["scale:dorian","upper_voices:polyphony"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"form":{"1":"A","2":"","5":"A\'"},"loop":9,"firstMeasure":0,"step":"end","comment":"backward period?","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i io i io i io i io7 i io ii-v i i io i io7 i io ii-v i V I V I V I V/V V i VII VI V V/V V V/V V","clickResolutionMs":0.01,"modulations":{"21":10,"27":7},"tags":["scale:nikriz","form:period","melody:basic_idea_x3"],"fourMeasurePhrasingReferences":[],"form":{"5":"A:antecedent","9":"A:consequent","13":"A:antecedent","17":"A:consequent","21":"B","29":"C"},"secondMeasure":1.290000000000001,"loop":37,"firstMeasure":0,"step":"end","comment":"mm.21-28 resembles subtune 1","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ IV iii _ I _ _ VI-viio V i V i i _ _ _ _ V/V iv V i V/V _ V _ _ _ _ _ _ _ V _ io7 io7 i i _ _ V V","clickResolutionMs":0.01,"modulations":{"9":5,"15":2},"tags":["scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I5-iv I5 I5-iv I5 VII i VII-viio7 V I5-v I5 I5-v I5 iv i iv-v I5 viio i","clickResolutionMs":0.01,"tags":["harmony:diminished_chord_modulation","middle_voice:absent","scale:natural_minor","form:sentence","bass:root_fifth","bass:transposed_riff"],"modulations":{"9":0,"18":9},"fourMeasurePhrasingReferences":[2],"form":{"2":"A:sentence. basic idea","4":"basic idea again","6":"1 m. fragmentation","10":"B:sentence","18":"bridge"},"secondMeasure":2.0899999999999994,"loop":20,"firstMeasure":0,"step":"end","comment":"very diverse track just on two voices","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i iio6 i64-V7 i i V i i i bII V i i v i i IV-IV-i V-V-bII V i IV-IV-i V-bII i i VI bII V i VI bII V","clickResolutionMs":0.01,"modulations":[],"tags":["upper_voices:polyphony","voice_leading:Cad64","form:period","scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent","17":"C:antecedent","21":"C:consequent","25":"D","29":"D\'"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":9,"13":7,"17":0},"tags":["form:period","form:not_looped","middle_voice:thirds_and_sixths","form:ABA"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent"},"secondMeasure":1.0400000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V V7 i i bII i-i-v-V7 i i iv i IV i-V7 i iv i VII i","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","form:extra_measure","voice_leading:rich_ornamentation","middle_voice:lower_chord_tones"],"fourMeasurePhrasingReferences":[14,19],"secondMeasure":2.6399999999999877,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","14":"B:consequent"},"loop":19,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"15":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diminished_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"io7-viio7 io7-viio7 io7 viio7 io7-viio7 io7-viio7 io7-viio7 io7-viio7","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","harmony:diminished_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"20":{"beatsPerMeasure":5,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i IV i-VII i-VII i IV i-VII i _ _ _ _ _ _ _ i-IV _ _ _ _ _ _ _ _ i-VII","clickResolutionMs":0.01,"modulations":[],"tags":["form:extra_measure","bass:riff","scale:dorian","upper_voices:polyphony"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"form":{"5":"A:antecedent","9":"A:consequent","13":"B:antecedent","17":"B:consequent","21":"C:antecedent","25":"C:consequent","29":"C:antecedent","33":"C:consequent","37":"extra measure"},"loop":38,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ i i VII I5 i i VII i i V VII i i V VII i _ _-_-_-viio/V V V V V V V V V io7 io7 V7 V7","clickResolutionMs":0.01,"modulations":{"22":10,"24":11,"26":0,"30":9},"tags":["harmony:diminished_seventh_chords","scale:mixed_minor","middle_voice:thirds_and_sixths"],"fourMeasurePhrasingReferences":[2,18,20,24,28],"form":{"2":"A","6":"A","10":"B","14":"B","18":"bridge"},"secondMeasure":1.5900000000000012,"loop":32,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"23":35.110000000001584},"tonic":9,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"subtune 1 but twice as slow","correctedMeasures":[],"tonic":7,"basedOn":null},"24":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":28,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"25":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i V+-V+-bII7 V7 i i bII-V i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz","form:period","upper_voices:polyphony"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"antecedent","5":"consequent"},"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Alternate Party 2007":{"Alternate Party 2007.nsf":{"0":{"mode":"minor","secondMeasure":0.9200000000000006,"loop":5,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":2},"1":{"mode":"minor","secondMeasure":0.9700000000000006,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Batman - Return of The Joker":{"Batman - Return of The Joker [Dynamite Batman] (1991-12-20)(Sunsoft).nsf":{"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"10":{"beatsPerMeasure":13,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","analyzed_in:hopkins","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1899999999999973,"loop":null,"firstMeasure":0,"step":"end","comment":"Ending. modal mixture? weird major","correctedMeasures":{"8":15.529999999999713,"11":23.320000000000846},"tonic":7,"basedOn":null}}},"Nintendo/America Daitouryou Senkyo":{"America Daitouryou Senkyo (1998-10-28)(Hect Development Division 1)(Hect).nsf":{"0":{"beatsPerMeasure":9,"romanNumerals":"I _ V7 I I _ V I V7 I","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.5399999999999685,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":"Stephen Foster - Beautiful Dreamer"}}},"Nintendo/Gremlins 2 - The New Batch":{"Gremlins 2.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"11":9,"13":5},"tags":["harmony:neo-riemannian","timbre:oscillator_as_percussion","middle_voice:absent","middle_voice:parallel_thirds","middle_voice:parallel_sixths","harmony:parallel_keys","tempo:ritardando","location:menu"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6900000000000013,"form":{"1":"A","5":"A\'","9":"B","13":"B\'"},"loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":1,"correctedMeasures":{"18":29.770000000001854},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","harmony:stasis","middle_voice:melody_echo","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":25,"firstMeasure":0,"step":"first measure","comment":"minor seconds, whole-tone scales and tritones can be traced to Gremlin (1984) film soundtrack","correctedMeasures":{"10":16.779999999999824,"11":18.630000000000113,"12":20.507142857142856,"17":29.820000000001862,"22":39.107142857142854,"23":41.107142857142854,"24":42.892857142857146,"26":46.5999999999993},"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i V V V V V V i i V V i i V V V V i i i-i-i-VI _ _ _ i i #IV #IV i i #IV #IV","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","timbre:wide_vibrato","harmony:neo-riemannian","middle_voice:parallel_octaves","middle_voice:melody_echo","middle_voice:arpeggio","scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A:antecedent","13":"A:consequent (false start)","17":"A:consequent (again)","25":"bridge","29":"B","33":"B\'"},"secondMeasure":1.5400000000000011,"loop":37,"firstMeasure":0,"step":"end","comment":"Gizmo on his Way to Billy\'s Office  Stage 1. DMC voice not visible","tonic":0,"correctedMeasures":{"2":1.5571428571428572,"5":6.389999999999908,"6":7.989999999999874,"17":25.570000000001198},"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i #IV i #IV i-#IV i-#IV V-#IV/V V i-#IV i-#IV V-#IV/V V i VI VII V i VI VII V i-#IV i-#IV V-#IV/V V i-#IV i-#IV V-#IV/V V","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","middle_voice:melody_echo","harmony:neo-riemannian","middle_voice:arpeggio","middle_voice:parallel_octaves","middle_voice:parallel_sixths"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A","9":"A\'","13":"B (development of intro)","17":"B\'","21":"A (noise is different)","25":"A\'"},"secondMeasure":1.8400000000000014,"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.439999999999886,"9":14.879999999999727,"10":16.779999999999824,"11":18.630000000000113,"13":22.370000000000697,"14":24.220000000000987},"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ i V/V V i-V i V/V V i i V/V V i-V i V/V V i _ _ _ _ i VI i VI","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","form:period"],"fourMeasurePhrasingReferences":[7],"form":{"1":"intro","7":"A:antecedent","11":"A:consequent","15":"A\':antecedent","19":"A\':consequent"},"secondMeasure":1.5900000000000012,"loop":31,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","scale:whole-tone","harmony:constant_structures","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.53999999999999,"loop":25,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"2":1.8571428571428572,"9":14.879999999999727,"10":16.74999999999982},"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.460000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.0599999999999787,"10":14.379999999999738,"11":15.979999999999704},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","scale:pentatonic","tempo:ritardando","voice_leading:W-arpeggio","location:shop","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":null,"firstMeasure":0,"step":"end","comment":"Mr. Wing\'s Shop - Chinese shop","tonic":4,"correctedMeasures":{"4":7.989999999999874,"5":10.639999999999818,"9":23.642857142857142},"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","scale:chromatic","timbre:wide_vibrato","location:boss","rhythm:syncopation","harmony:stasis","harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","17":"B","25":"C"},"secondMeasure":3.189999999999976,"loop":29,"firstMeasure":1.5900000000000012,"step":"end","comment":"","correctedMeasures":{"9":14.379999999999738},"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","middle_voice:parallel_sixths"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"is it used?","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","timbre:wide_vibrato","harmony:parallel_keys","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ V/V","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.5900000000000012,"9":12.779999999999772,"10":14.679999999999731,"11":17.179999999999886,"12":18.780000000000136},"tonic":2,"basedOn":null}}},"Nintendo/Antarctic Adventure":{"Antarctic Adventure [Kekkyoku Nankyoku Daibouken] (1985-04-22)(Konami).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"I I5 IV IV IV IV V V _ I _ _ I V5 I _ I I V V V5 V5 I5 I5 I V7/IV IV iv I V I I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:absent","style:waltz"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":33,"firstMeasure":0,"step":"end","comment":"original seventh chords lost in this arrangement","correctedMeasures":{"26":19.980000000000324,"27":20.78000000000045,"33":25.614285714285714},"tonic":4,"basedOn":"mile Waldteufel - Les Patineurs (Op. 183)"},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Alfred Chicken":{"Alfred Chicken (1993)(Twilight)(Mindscape).nsf":{"0":{"disableSnapToNotes":false,"romanNumerals":"I V V V I V V V I V V V I V V I _ _ I V V V I V V V I V V V I V V I","clickResolutionMs":0.01,"modulations":{"19":7,"35":6,"53":7},"tags":["form:period","melody:fills_at_rests","middle_voice:melody_echo","bass:root_fifth","timbre:wide_vibrato","timbre:minor_seconds","harmony:pure_I-V","middle_voice:mixed_parallel","timbre:chorus"],"mode":"major","fourMeasurePhrasingReferences":[5,13,23,31],"secondMeasure":2.8399999999999834,"form":{"1":"antecedent","9":"consequent","17":"bridge","19":"antecedent","27":"consequent"},"loop":35,"firstMeasure":1.1900000000000008,"step":"end","tonic":6,"correctedMeasures":{"1":1.2400000000000009,"5":7.739999999999879,"6":9.389999999999844,"9":14.27999999999974,"13":20.830000000000457,"14":22.470000000000713,"20":32.27000000000215,"23":37.160000000001176,"27":43.70999999999987,"28":45.34999999999955,"33":53.549999999997915,"45":73.18000000000053}},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_echo","style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"pure chord","correctedMeasures":[],"tonic":6,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:single_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"I V V I I V V I","clickResolutionMs":0.01,"tags":["timbre:chorus"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.239999999999996,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.289999999999953,"4":6.439999999999907,"10":19.32857142857143},"tonic":6,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ I6","clickResolutionMs":0.01,"modulations":{"25":10},"tags":["bass:inversions","upper_voices:same_range","bass:root"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian","bass:riff","harmony:stasis","timbre:chorus","form:EDM"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1899999999999973,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":22.080000000000652,"13":26.520000000001346,"15":30.920000000002034,"16":33.12000000000198,"22":46.39999999999934,"29":61.889999999996256,"33":70.72999999999928,"34":72.9300000000004},"tonic":3,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I iii7 IV V I iii7 IV V I iii7 IV V I iii7 IV V","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:chorus","form:progression","bass:root_fifth","bass:transposed_riff","middle_voice:parallel_thirds","voice_leading:Vsus4"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"B\'"},"secondMeasure":2.0899999999999994,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.289999999999953,"10":19.38000000000023,"11":21.480000000000558,"12":23.6700000000009,"13":25.820000000001237},"tonic":4,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I i v V I i v V I i v V I i v V","clickResolutionMs":0.01,"modulations":[],"tags":["form:progression","upper_voices:same_range"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"form":{"1":"A","5":"A","9":"B","13":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877,"6":6.639999999999903,"9":10.639999999999818,"12":14.629999999999733},"tonic":8,"basedOn":null}}},"Nintendo/3-D Battles of WorldRunner":{"3-D Battles of WorldRunner (1987-09)(Square)(Acclaim).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.6100000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"tough beats - late attack?","correctedMeasures":{"5":2.4499999999999917,"16":8.214285714285714},"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":3,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.5600000000000003,"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"I I VI VI I I VI VI I I I I I I ii7 ii7","clickResolutionMs":0.01,"modulations":{"9":5,"11":3,"13":1},"tags":["harmony:constant_structures"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0100000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.099999999999999},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":9,"17":7},"tags":["harmony:stasis"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.310000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"romanNumerals":"- - - - I I V V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":7.949999999999875,"loop":null,"firstMeasure":6.259999999999911,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Adventures of Rad Gravity, The":{"Adventures of Rad Gravity, The (1990-12)(Interplay)(Activision).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"secondMeasure":4.88999999999994,"loop":15,"firstMeasure":3.3399999999999728,"step":"end","comment":"","correctedMeasures":{"2":4.739999999999943},"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"_ I ii IV V I IV V I I ii V V I IV V I ii-V I IV vi ii-V vi IV V I ii I V I ii V I i VII VI V i VII VI V i VII VI V i VII VI V","clickResolutionMs":0.01,"modulations":[],"tags":["bass:walking","middle_voice:melody","upper_voices:polyphony","harmony:parallel_keys","form:ABAC","rhythm:swing","rhythm:3+3+2","timbre:portamento"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.290000000000001,"form":{"2":"A","10":"A","18":"B","26":"A","34":"C"},"loop":50,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"49":62.53999999999613},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"23":10,"27":1,"31":5,"35":0},"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":45,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"5":5.639999999999924,"18":23.970000000000947,"22":29.87142857142857,"23":31.02000000000205,"24":32.42000000000212},"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"_ _ i i iv V i i iv V _ _ _ _ _ _ i i iv V","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.490000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"triple pulsation","correctedMeasures":{"3":2.6899999999999866,"4":4.039999999999958},"tonic":9,"basedOn":null}}},"Nintendo/Asterix":{"Asterix (1993)(Bit Managers)(Infogrames).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7400000000000013,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:rich"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4142857142857144},"tonic":10,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i v v i i v v iv iv i i iv iv V V","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","analyzed_in:hopkins","middle_voice:melody"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"Nintendo/Airball":{"Airball (Prototype) (1990)(Michtron)(Atari).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i VI VII v VI v IV5 IV i VI VII v VI v IV5 IV _ _ _ _ _ _ _ _ i VI VII v","clickResolutionMs":0.01,"modulations":[],"tags":["form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I V5 vi V5/vi IV I5 IV V I V vi iii IV I IV V I V vi iii IV I IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":61,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"33":34.06000000000179},"tonic":5,"basedOn":"Pachelbel\'s Canon"}}},"Nintendo/Higemaru Makaijima - Nanatsu no Shima Daibouken":{"Higemaru Makaijima - Nanatsu no Shima Daibouken (1987-04-14)(Capcom).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I IV _ _ I V I _ _ _ _ ii V I5-bII5 I^","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","voice_leading:W-arpeggio","timbre:wide_vibrato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":26.35000000000132},"tonic":3,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":23.40000000000086},"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:silence","form:accumulative","harmony:unison","scale:hexatonic_minor_no6","timbre:layered","bass:root_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.470000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":12.759999999999772,"10":14.359999999999738,"13":19.17142857142857,"14":20.87142857142857,"15":22.4,"16":23.950000000000944},"tonic":0,"basedOn":null}}},"Nintendo/AGCI Test Cart":{"AGCI Test Cart (19xx)(American Game Cartridges).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":5.519999999999927,"loop":null,"firstMeasure":3.609999999999967,"step":"end","comment":"Very hard to track beats here","correctedMeasures":{"4":9.239999999999847,"5":11.179999999999806,"6":12.929999999999769,"7":14.879999999999727,"8":16.659999999999805},"tonic":7,"basedOn":null}}},"Nintendo/Ai Sensei no Oshiete - Watashi no Hoshi":{"Ai Sensei no Oshiete - Watashi no Hoshi (1993-03-26)(Irem).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.289999999999995,"loop":null,"firstMeasure":0.49000000000000027,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/BurgerTime":{"Burger Time.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tonic:ambiguous"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Akuma-kun - Makai no Wana":{"Akuma-kun - Makai no Wana (1990-02-24)(Tose)(Bandai).nsf":{"0":{"mode":"minor","secondMeasure":1.8400000000000014,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":9},"1":{"mode":"minor","secondMeasure":2.6399999999999877,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":7},"3":{"mode":"major","secondMeasure":2.1399999999999983,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":7}}},"Nintendo/Venice Beach Volleyball":{"Venice Beach Volleyball (1991)(Idea-Tek, American Video Entertainment).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:extra_measure","beats:extra_beat","location:level"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.339999999999994,"form":{"1":"A","5":"A","8":"4/4+2/4","9":"B","13":"B","17":"4/4+2/4 - anacrusis is in the loop"},"loop":18,"firstMeasure":0.7900000000000005,"step":"end","comment":"","tonic":0,"correctedMeasures":{"9":14.329999999999739,"10":15.929999999999705,"18":29.520000000001815},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII _ _ _ _ _ _ _ _ _ III","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Apple Town Monogatari - Little Computer People":{"Apple Town Monogatari - Little Computer People (FDS)(1987-04-03)(Activision)(Square)(DOG).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.6900000000000013,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":13.82999999999975},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":null,"basedOn":"Mozart K.331 III"},"2":{"beatsPerMeasure":4,"romanNumerals":"I I I I IV IV I I IV IV I I V V IV IV I I I-V/V V i-iv i-iv i-iv i-i-i-V/v i-V i-V i-V i-V/VI I I I I IV IV I I IV IV I I V V IV IV I I I IV5-V5-I-I","clickResolutionMs":0.01,"tags":["style:ragtime","form:ABA"],"modulations":{"21":9,"22":9,"25":4,"29":0},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":7.189999999999891,"loop":null,"firstMeasure":5.899999999999919,"step":"end","comment":"","correctedMeasures":{"22":31.170000000002073},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["chip:extensions"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":2.389999999999993,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":"BWV Anh. 115"},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":"BWV Anh"}}},"Nintendo/Bugs Bunny Crazy Castle, The":{"Bugs Bunny Crazy Castle, The (1989-08-03)(Kemco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"5":5},"tags":["harmony:plagal_shuttle","scale:chromatic","middle_voice:melody_echo","location:launch_screen","scale:blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":{"3":2.8399999999999834},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","style:functional_blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":7.289999999999889,"12":13.37999999999976,"15":17.029999999999863,"29":34.06000000000179},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["location:game_won"],"modulations":{"13":9,"17":5},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8900000000000015,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":11.4799999999998},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7400000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.5400000000000011},"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I I IV7 IV7 ii V I _ I I IV7 IV7 ii V I _ IV IV viio/V viio/V V5 _ vi V+ I _ IV7 _ ii V I bII7-_","clickResolutionMs":0.01,"modulations":[],"tags":["bass:walking","form:period","style:functional_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.2400000000000009,"form":{"1":"intro","5":"A:antecedent","13":"A:consequent","21":"B"},"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"15":17.879999999999995,"17":20.430000000000394,"20":24.270000000000994},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i7 #VII^ bII-bii","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV^ iii7 ii7 I^","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diatonic_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Aspic - Mahebiou no Noroi":{"Aspic - Mahebiou no Noroi (FDS)(1988-03-31)(Xtalsoft)(Bothtec).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I I VII I VI VII VI I I I VII I","clickResolutionMs":0.01,"modulations":{"5":9,"9":2},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":12.629999999999775,"10":19.15714285714286},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i i i i VI i VI V","clickResolutionMs":0.01,"tags":["bass:inversions"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":9.289999999999846,"7":11.179999999999806,"8":13.1,"9":14.879999999999727},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":null,"firstMeasure":0,"step":"tonic","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Faxanadu":{"Faxanadu (1987-11-16)(Falcom, Hudson)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I ii I VI-V I ii I VI-V I I III-IV I I I III-IV I VI-VII I VI-VII i VI-VII I VI-VII VI-VII5 I VII VI VI","clickResolutionMs":0.01,"modulations":[],"tags":["bass:pedal_point","harmony:constant_structures","middle_voice:melody","location:menu"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.5700000000000012,"form":{"2":"A","6":"A","10":"B","14":"B","18":"C","22":"C","26":"tag"},"loop":null,"firstMeasure":0,"step":"end","comment":"Title Theme. see https://mtosmt.org/issues/mto.23.29.3/mto.23.29.3.cook.html","correctedMeasures":{"26":39.94285714285714},"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i IV5 III VI5 ii V i i i iv III VI5 ii V i i i iv III VI ii V i i i iv III VI ii V V/iv V/iv iv iv V/III V/III bII/III III VI VI iv iv ii ii V V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_sixths","middle_voice:parallel_thirds","bass:root_third_fifth"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0700000000000007,"form":{"1":"A","9":"A","17":"A","25":"A","33":"B"},"loop":49,"firstMeasure":0,"step":"end","comment":"Password Screen, Mantra, accumulative form","correctedMeasures":{"32":32.97142857142857,"40":41.47142857142857,"48":49.98571428571429},"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i i i i iv-VII III-VI I I-V/bII i i i i iv-VII III-VI I I-V/bII i-VII i V-i V-i V-i i V-i V-i V-i","clickResolutionMs":0.01,"modulations":{"7":7,"11":8,"13":9,"15":7,"19":8,"21":9},"tags":["form:extra_measure","middle_voice:parallel_thirds","middle_voice:parallel_sixths","middle_voice:parallel_fourths","rhythm:latin"],"fourMeasurePhrasingReferences":[9,17,22,26,30,34],"form":{"1":"intro","5":"A","13":"A","21":"extra","22":"B","26":"B","30":"C","34":"C","38":"intro"},"secondMeasure":1.5700000000000012,"loop":42,"firstMeasure":0,"step":"end","comment":"Eolis","correctedMeasures":{"2":1.5700000000000012,"22":33.46000000000191,"23":35.14000000000158,"33":51,"34":52.628571428571426,"37":57.48571428571429},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V7 I IV-viio/V V I V7 I vi-ii V I-V","clickResolutionMs":0.01,"modulations":[],"tags":["style:common_practice","voice_leading:Vsus4"],"fourMeasurePhrasingReferences":[6,12],"form":[],"secondMeasure":2.9199999999999817,"loop":12,"firstMeasure":0,"step":"end","comment":"virtual root (V43 in m.2). Gurus Houses (Cathedral theme). organ choral-like? ","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I I V7/IV IV iv I V/V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"King Throne","correctedMeasures":{"2":1.5700000000000012},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:power_chords","harmony:stasis","timbre:layered"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B","21":"B"},"secondMeasure":0.9200000000000006,"loop":25,"firstMeasure":0,"step":"end","comment":"Shop","correctedMeasures":{"2":0.9285714285714286},"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i bII V I i bII V I iv III ii I iv III ii I i bII V I i bII V I iv III ii I iv III ii I I III V IV I III V IV","clickResolutionMs":0.01,"modulations":{"11":2,"19":9,"21":9,"27":2},"tags":["harmony:parallel_keys","harmony:constant_structures"],"fourMeasurePhrasingReferences":[3],"form":{"3":"A","7":"A","11":"B","15":"B","19":"A","23":"A","27":"B","31":"B","35":"C","39":"C"},"secondMeasure":1.5400000000000011,"loop":43,"firstMeasure":0,"step":"end","comment":"Trunk","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":5,"5":7,"7":5,"9":7,"11":5,"13":7,"15":5},"tags":["harmony:stasis","middle_voice:parallel_thirds","melody:riff","scale:mixolydian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":5.319999999999931,"loop":17,"firstMeasure":0,"step":"end","comment":"Town. mixolydian shuttle. accumulative form","tonic":7,"correctedMeasures":{"2":2.642857142857143,"3":5.319999999999931,"4":8.014285714285714,"5":10.609999999999818,"6":13.271428571428572},"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","rhythm:latin","scale:hijaz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1700000000000008,"loop":41,"firstMeasure":0,"step":"end","comment":"Tower","correctedMeasures":{"2":1.0571428571428572,"14":0},"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":5,"5":3,"6":5},"tags":["scale:chromatic","location:boss","middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":8,"firstMeasure":0,"step":"end","comment":"Boss","correctedMeasures":[],"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ io io io io io io io io io io io io io io io io ","clickResolutionMs":0.01,"modulations":{"21":2,"37":2,"41":7,"45":2,"49":7},"tags":["bass:riff","timbre:layered","scale:atonal","harmony:stasis","harmony:diminished_seventh_chords","bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A","13":"A","21":"B","29":"B","37":"C","45":"C"},"secondMeasure":1.0200000000000007,"loop":53,"firstMeasure":0,"step":"end","comment":"Mist","correctedMeasures":{"3":2.1199999999999988},"tonic":7,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","timbre:ultra_fast_notes","harmony:quartal"],"fourMeasurePhrasingReferences":[4,7,10,13],"form":[],"secondMeasure":0.9100000000000006,"loop":16,"firstMeasure":0,"step":"tonic","comment":"Hourglass: time stops","correctedMeasures":{"12":11.689999999999795},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i I I","clickResolutionMs":0.01,"tags":["middle_voice:melody_echo","middle_voice:parallel_sixths","middle_voice:arpeggio","middle_voice:parallel_thirds","harmony:neo-riemannian"],"modulations":{"3":5,"5":7,"9":4,"11":5,"13":7,"17":9,"19":5,"21":10,"23":3},"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B"},"secondMeasure":2.3699999999999934,"loop":25,"firstMeasure":0.7700000000000005,"step":"end","comment":"Branch","correctedMeasures":{"8":11.928571428571429,"16":24.742857142857144,"32":50.292857142857144},"tonic":4,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i ii V5 i i ii V5 _ _ I5","clickResolutionMs":0.01,"tags":["timbre:layered"],"modulations":{"38":1,"39":1,"41":9,"43":1,"45":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"form":{"1":"A","9":"B","17":"A","25":"B"},"loop":45,"firstMeasure":0,"step":"end","comment":"Dartmoor","correctedMeasures":{"38":59.09999999999681,"39":60.51999999999653,"40":62.18571428571428},"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:pedal_point","harmony:quartal","beats:unclear_measure_onsets"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1700000000000008,"loop":null,"firstMeasure":0.11999999999999998,"step":"end","comment":"Zenis, similar to 9","correctedMeasures":{"2":1.1700000000000008,"13":12.509999999999778,"14":13.559999999999755},"tonic":0,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I ii I VI-V I ii I VI-V I I III-IV I I I III-IV I VI-VII I VI-VII i VI-VII I VI-VII VI-VII5 I VI-VII VI-VII I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:constant_structures","location:game_won","motive:natural_horn_call"],"fourMeasurePhrasingReferences":[2],"form":{"2":"A","6":"A","10":"B","14":"B","18":"C","22":"C","26":"tag"},"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"copy of tune 1, except the ending (horn call or fanfare?)","correctedMeasures":{"26":39.885714285714286},"tonic":11,"basedOn":null}}},"Nintendo/Journey to Silius":{"Journey to Silius.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:wide_vibrato","bass:riff","harmony:stasis","middle_voice:riff","form:accumulative","chip:tonal_DMC","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.8899999999999824,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"14":38.060000000001,"17":46.89999999999924},"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i v-iv i III-iv i v-iv i III-iv i7 i7 i7 i7 i7 i7 i7 v i VII v-VII i i VII v-VII i iv v i i iv v i i i i VII VII VI VI VII VII i VII VI VII i VII VI i i VII #VI VI i VII #VI VI i i ","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:launch_screen","rhythm:syncopation","middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B\'","17":"C","21":"C\'","25":"D","29":"D\'","33":"E","41":"F:antecedent","45":"F:consequent","49":"G","53":"G\'","57":"tag"},"secondMeasure":1.9900000000000015,"loop":59,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"10":12.6,"11":13.907142857142857,"14":17.914285714285715,"15":19.47142857142857,"16":20.785714285714285,"17":21.9,"18":23.3,"25":32.67000000000207,"26":34.142857142857146,"27":35.460000000001514,"28":36.460000000001315,"29":37.92857142857143,"32":42.1,"33":43.25999999999996,"41":53.899999999997846,"44":57.92857142857143,"45":59.24285714285714,"46":60.56428571428572,"49":64.58999999999614,"50":65.8899999999968},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i i i i VII VI VII i VII VI VII iv iv v v iv iv v v i VII VI VII i VII VI VII i VII VI VII i VII VI VII i i","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","rhythm:syncopation","timbre:oscillator_as_percussion","middle_voice:melody_echo","form:basso_ostinato","bass:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A (intro)","5":"A","9":"B","13":"B\'","17":"C","21":"C\'","25":"D","29":"D\'","33":"D","37":"D\'","41":"tag"},"secondMeasure":1.340000000000001,"loop":43,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":3.9857142857142858,"7":7.985714285714286,"15":18.630000000000113,"16":19.97142857142857,"21":26.65714285714286,"22":27.957142857142856,"29":37.260000000001156,"37":47.89999999999904,"39":50.57142857142857,"40":51.97142857142857,"41":53.299999999997965,"43":55.88999999999745,"44":57.214285714285715,"45":58.38999999999695},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI i i VI VI i i VII VII VI VI v v i i VII VII VI VI v v i i VI VI iv iv v v  i i VI VI i i VI VI i i VII VII VI VI v v i i VII VII VI VI v V","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","17":"B\'","25":"C","33":"A","37":"A\'","41":"B","49":"B\'","57":"C"},"secondMeasure":2.6399999999999877,"loop":65,"firstMeasure":0,"step":"end","comment":"[C] has Piano Phase vibes","correctedMeasures":{"2":2.1142857142857143,"9":17.029999999999863,"11":21.280000000000527,"18":36.27142857142857,"25":51.0999999999984,"26":53.285714285714285,"31":64.18999999999593,"59":123.53000000002629},"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i i i i i i i i i VI VII iv i VI VII i VI VII i i VI VII i i i VI VII iv i VI VII i","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","bass:riff","form:period","middle_voice:melody_echo","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B:antecedent","13":"B:consequent","17":"C","21":"C\'","25":"B\':antecedent","29":"B\':consequent"},"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":17.379999999999917,"13":19.1800000000002,"14":20.771428571428572,"25":38.31000000000095,"26":39.91000000000063},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i i VII v i i VII v i VII VI V i VII VI VII I-I-I-#IV I-I-I-#IV I-I-I-#IV I-I-I-#IV i VII VI VII i VII VI-v i","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","middle_voice:melody_echo","form:period","scale:phrygian","rhythm:3+3+2"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"B","9":"B","13":"C","17":"C\'","21":"D","25":"E:antecedent","29":"E:consequent"},"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"Inside the Terrorist\'s Spaceship  Stage 4","correctedMeasures":{"23":35.110000000001584,"24":36.710000000001266,"26":39.91000000000063},"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":4,"5":3,"7":4,"9":3,"15":4,"19":8},"tags":["chip:tonal_DMC","harmony:diminished_seventh_chords","location:boss","scale:chromatic","middle_voice:melody_echo","middle_voice:melody"],"fourMeasurePhrasingReferences":[3,19,21],"form":{"1":"intro","3":"A","7":"A","11":"B","15":"B\'","19":"bridge","21":"C"},"secondMeasure":1.5900000000000012,"loop":27,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"19":28.770000000001698,"23":35.110000000001584,"24":36.710000000001266},"tonic":8,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I i i","clickResolutionMs":0.01,"modulations":{"3":6},"tags":["chip:tonal_DMC","location:level_completed","timbre:oscillator_as_percussion","harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I V IV V I V IV-V vi VI VII VI VII VI VII VI-VII i I vi IV V I vi IV V vi V #IV V vi V #IV V I","clickResolutionMs":0.01,"modulations":{"9":9,"17":0},"tags":["chip:tonal_DMC","tempo:ritardando","location:game_won","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent with deceptive cadence","9":"B:antecedent","13":"B:consequent","17":"C","21":"C\'","25":"D","29":"D\'"},"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2.4,"15":33.5100000000019,"16":35.910000000001425,"33":77.2300000000026},"tonic":0,"basedOn":null}}},"Nintendo/1943 - The Battle of Midway":{"1943.nsfe":{"0":{"mode":"major","secondMeasure":1.5700000000000012,"loop":null,"romanNumerals":"I I IV IV IV-V viio/vi-vi-vi ii-V I5","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0,"tags":["form:not_looped","bass:different_strategies","lower_voices:same_range","middle_voice:parallel_fourths","middle_voice:mixed_parallel"]},"1":{"mode":null,"secondMeasure":1.7700000000000014,"disableSnapToNotes":true,"loop":9,"firstMeasure":0,"clickResolutionMs":0.01,"step":"first measure","correctedMeasures":{"2":1.6},"tonic":9,"modulations":{"5":0,"9":9},"tags":["harmony:stasis","harmony:neo-riemannian","scale:mixed_minor","bass:root"]},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i v VI IV-V i v VI IV-V I I I iii IV I ii viio V7 I5 I iii IV I ii viio V7 I5","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","form:uniform_period","bass:smooth_chord_tones","middle_voice:lower_chord_tones","middle_voice:parallel_thirds","melody:chord_tones"],"fourMeasurePhrasingReferences":[11,15,19,23,5,9],"secondMeasure":3.9699999999999593,"form":{"1":"A","5":"A","9":"bridge","11":"B","19":"B\'","27":"bridge"},"loop":28,"firstMeasure":2.619999999999988,"step":"end","comment":"","correctedMeasures":{"10":14.6,"11":15.959999999999704,"12":17.309999999999906},"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII III-viio i VI VI VII VII VI VII v i VI VI VII VII5 i i viio viio VII VII VI-VII I5 I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":26,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I5 VII5 viio i VI v V i I V V7/IV IV ii iv I I","clickResolutionMs":0.01,"tags":["voice_leading:W-arpeggio"],"modulations":{"5":4,"17":7},"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"loop":28,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.7199999999999647,"13":22.350000000000694},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V _ _ _ v V _ i V","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["scale:chromatic","tempo:accelerando"],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":1.0700000000000007,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"14":13.159999999999764,"17":15.959999999999704,"18":16.75999999999982},"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"whole-half vibes","correctedMeasures":[],"tonic":4,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I V vi V IV viio/V V _ I _ _ _ IV V5 _ I _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV V5 I I IV V I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1700000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.1700000000000008,"3":2.3699999999999934,"16":17.942857142857143,"17":19.160000000000196,"20":22.750000000000757,"21":23.950000000000944,"30":34.910000000001624,"31":35.99000000000141,"32":37.34000000000114,"35":42.040000000000205,"36":43.52999999999991},"tonic":7,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ V5 I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"Nintendo/Backgammon":{"Backgammon (FDS)(1990-09-07)(Nintendo R&D1)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"bII5^ bII5 I^ I5^ bII5 bII5 I5 I5 ii ii iii iii ii ii iii iii IV IV iii iii ii ii I I ii V5 iio/ii V/ii ii V i-bII5 i","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:latin","harmony:diatonic_seventh_chords","chip:extensions"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.3899999999999717,"loop":33,"firstMeasure":1.6000000000000012,"step":"end","comment":"","correctedMeasures":{"26":44.371428571428574,"28":47.785714285714285,"30":51.2,"31":52.799999999998064,"34":57.93999999999704},"tonic":10,"basedOn":null}}},"Nintendo/Teenage Mutant Ninja Turtles":{"Teenage Mutant Ninja Turtles [Gekikame Ninja Den] (1989-05-12)(Konami).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I5 III IV5 VI5-VII5 I5 III IV5 VI5-VII5","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:constant_structures","scale:pentatonic","middle_voice:melody_echo","voice_leading:W-arpeggio","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.6399999999999455,"loop":37,"firstMeasure":3.6899999999999653,"step":"end","comment":"","correctedMeasures":{"8":10.257142857142858,"9":11.179999999999806,"10":12.142857142857142,"12":13.957142857142857,"13":14.879999999999727,"21":22.370000000000697,"23":24.220000000000987,"25":26.070000000001276,"26":27.020000000001424,"29":29.820000000001862,"31":31.67000000000215,"35":35.410000000001524},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"Nintendo/Tsuppari Oozumou":{"Tsuppari Oozumou (1987-09-18)(-)(Tecmo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.4199999999999924,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"2":2.4199999999999924},"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9800000000000015,"loop":7,"firstMeasure":0.3000000000000001,"step":"end","comment":"","correctedMeasures":{"1":0.3000000000000001},"tonic":3,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Nintendo/AV Mei Shao Nv Zhan Shi":{"AV Mei Shao Nv Zhan Shi (1994)(Unknown).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ i V V i i ii viio i","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.619999999999988,"loop":null,"firstMeasure":0.7700000000000005,"step":"end","comment":"","correctedMeasures":{"6":10.109999999999829,"7":11.95999999999979},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.9699999999999807,"loop":3,"firstMeasure":0.3200000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"I I I ii _ _ V V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Bad Dudes  [Bad Dudes vs. Dragon Ninja]":{"Bad Dudes [Dragon Ninja] [Bad Dudes vs. Dragon Ninja] (1989-07-14)(Data East)(Namco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":7,"13":9,"21":0,"25":9},"tags":["bass:riff","scale:tetratonic","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.239999999999996,"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2.0714285714285716,"9":16.079999999999714,"10":18.130000000000035,"28":54.249999999997776,"29":56.23999999999738,"30":58.38999999999695,"33":64.43999999999606,"34":66.42999999999708},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 io i io I I i I5 I5 io","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","scale:lydian","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 _ _ _ _ _ VI5 VII5 I5 _ _ _ _ _ VI5 VII5 i i VII VII i i VI VII i i VII VII i i VI VII i _ _ _ _ _ _ I5 VI VI VII VII i VII VI VII VI VI VII VII i i VII VII VI VI VII VII i VII VI VII VI VI VII VII i i VII VII","clickResolutionMs":0.01,"modulations":[],"tags":["form:stasis_vs_progression","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":73,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":5.239999999999933,"18":14.829999999999728,"20":16.579999999999792,"22":18.330000000000066,"24":20.08000000000034,"26":21.8,"28":23.52857142857143,"30":25.32857142857143,"37":31.420000000002112,"44":37.51000000000111,"46":39.26000000000076,"48":41.01000000000041,"50":42.76000000000006,"54":46.24285714285714,"66":56.68999999999729,"67":57.58999999999711,"69":59.33999999999676,"70":60.2,"73":62.83999999999607},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","harmony:stasis","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V-I5 I I V V I I I V-I I IV I-V5 I I I V V I I V V","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","form:period","style:common_practice","middle_voice:parallel_sixths","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9400000000000006,"form":{"1":"antecedent","8":"HC","9":"consequent","16":"PAC","17":"bridge"},"loop":25,"firstMeasure":0,"step":"end","comment":"president of the USA is rescued","correctedMeasures":{"7":5.639999999999924,"18":16.042857142857144},"tonic":0,"basedOn":null}}},"Nintendo/Bad Street Brawler":{"Bad Street Brawler (1989-09)(Beam)(Mattel).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V IV I V5 i i i i iv iv i i v iv i v i i i i iv iv i i v iv i v i i i i iv iv i i v iv i v","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"chorus","13":"chorus","25":"chorus","37":"chorus"},"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V IV I I","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V-I V7/V-V ii vi iii-V/iii iii5-V/vi ii I I-V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"13":12.785714285714286},"tonic":7,"basedOn":"Bizet - Carmen - C\'est l\'Espada, la fine lame"},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","scale:octatonic","harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":6.339999999999909},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Nintendo/Auto-Upturn":{"Auto-Upturn (1991)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I I IV V I I IV I","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":3.1099999999999777,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I I IV IV V V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Contra":{"Contra [Probotector] (1988-02-09)(Konami).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bugs Bunny Birthday Blowout, The":{"Bugs Bunny Birthday Blowout, The [Happy Birthday Bugs] (1990)(Kemco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V/V V7 I I V/V V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:alberti","form:uniform_period","middle_voice:melody_echo","melody:chromatic_embellishments"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","5":"consequent"},"secondMeasure":1.9400000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":15.729999999999709},"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I ii V I I ii V IV-I V/V-IV V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:static_chord_tones"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A","5":"A"},"loop":12,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":11.979999999999789,"10":13.529999999999756},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V7/ii ii biiio I IV I-io7 ii-V7","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+3+3+2+2","melody:basic_idea_x3","voice_leading:ascending_bass","middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":9,"firstMeasure":0,"step":"end","comment":"harmonic analysis fails, although it\'s clearly functional. voice-leading?","correctedMeasures":{"9":17.029999999999863},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I I I _ V/vi-vi V I _ _ _ V","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass","middle_voice:melody_echo","bass:riff"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.0900000000000007,"form":{"1":"intro"},"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:swing"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":17.77999999999998},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"16":13.679999999999753,"20":17.32999999999991},"tonic":9,"basedOn":null}}},"Nintendo/Adventure Island":{"Adventure Island.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"I^ ii7-V I^ V+/ii _ V/ii ii-V I-V5 I^ _-V I _ _ _ _ I-bII","clickResolutionMs":0.01,"modulations":[],"tags":["bass:walking","melody:fills_at_rests","harmony:diatonic_seventh_chords","form:not_looped","location:launch_screen"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"referenced in 14","correctedMeasures":{"11":14.829999999999728},"tonic":5,"basedOn":null},"1":{"disableSnapToNotes":false,"romanNumerals":"_ _ I I V7 V7 V7 V7 I I I I V7 V7 V7 V7 I I V7/IV V7/IV IV IV V7 V7 I","clickResolutionMs":0.01,"tags":["rhythm:3 against 2","rhythm:3+3+2","rhythm:latin","middle_voice:lower_chord_tones","harmony:tonic_added-sixth_chord","harmony:pure_I-V","non-chord_tones:chromatic_passing","bass:inversions","location:level","bass:root_third_fifth"],"mode":"major","fourMeasurePhrasingReferences":[3],"secondMeasure":0.9700000000000006,"form":{"1":"intro","3":"A","11":"A\'","19":"B"},"loop":27,"firstMeasure":0,"step":"end","tonic":5,"correctedMeasures":{"4":3.189999999999976,"9":8.489999999999863,"10":9.6,"11":10.629999999999818,"13":12.757142857142858,"15":14.879999999999727,"16":15.979999999999704}},"2":{"mode":"major","fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"loop":11,"romanNumerals":"I ii7-V-bII I #VII I^ V+ I bII I","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":5,"tags":["non-chord tones:neighbor","rhythm:3+3+2","lower_voices:double_parallel","middle_voice:parallel_thirds","middle_voice:lower_chord_tones","non-chord_tones:double_neighbor","middle_voice:parallel_sixths","location:level","harmony:constant_structures","bass:root_third_fifth"]},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ V/vi I _ _ #VII-#VII-I bii-_","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal","tempo:uneven","voice_leading:three_parallel_voices"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.500000000000001,"loop":10,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4285714285714286,"8":9.949999999999832,"9":11.329999999999803,"10":12.999999999999767},"tonic":8,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ i-V i-V V _ V viio7 viio7","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:latin","non-chord_tones:mordent","harmony:diminished_seventh_chords","timbre:layered","middle_voice:lower_chord_tones","lower_voices:double_parallel","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.7400000000000013,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.7399999999999642,"4":5.871428571428571,"5":7.779999999999879},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_-V7 i-vii V47-i #IV #IV i","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.9900000000000015,"loop":6,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V13 I V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","harmony:pure_I-V","middle_voice:thirds_and_sixths","bass:root_third_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":5,"firstMeasure":0,"step":"end","comment":"a side quest rather than a boss","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","harmony:mixolydian_shuttle","middle_voice:lower_chord_tones","melody:chord_tones","bass:creative_chord_tones"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"io7 _ io7","clickResolutionMs":0.01,"modulations":{"3":5,"5":7},"tags":["harmony:diminished_seventh_chords","timbre:many_instruments_same_voice"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.4399999999999706,"5":6.8899999999998975},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","harmony:constant_structures","location:jingle","timbre:ultra_fast_notes","bass:octaves","bass:inversions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I^ ii7-V I^ V+/ii _ V/ii ii-V I-V5 I^ _-V I _ _ _ _ I-bII","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune","form:extra_measure"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"green note as a pedal tone","correctedMeasures":{"10":13.179999999999763},"tonic":7,"basedOn":null}}},"Nintendo/Adventure Island 2":{"Adventure Island 2.nsfe":{"0":{"mode":"major","secondMeasure":1.1900000000000008,"loop":null,"romanNumerals":"I I V7 I I I V vi IV - - V/ii IV V I bII","firstMeasure":0.3900000000000002,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":4,"tags":["form:not_looped","location:launch_screen"]}}},"Nintendo/Arkista\'s Ring":{"Arkista\'s Ring (1990-06)(-)(American Sammy).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.1399999999999983,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/75 Bingo":{"75 Bingo (1990)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"1":{"mode":"major","secondMeasure":1.0400000000000007,"loop":9,"romanNumerals":"I ii iii IV","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"major scale","correctedMeasures":{"5":4.239999999999954},"tonic":0},"4":{"mode":"major","secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7},"5":{"mode":"major","secondMeasure":2.389999999999993,"loop":9,"romanNumerals":"I IV I V I IV I-V I","firstMeasure":0.7900000000000005,"clickResolutionMs":0.01,"step":"end","comment":"country, timbre: banjo","correctedMeasures":[],"tonic":0,"tags":["form:period","middle_voice:melody"]}}},"Nintendo/Bakushou! Star Monomane Shitennou":{"Bakushou! Star Monomane Shitennou (1990-09-14)(Pack-In-Video).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["melody:riff","voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V i V i v IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":9,"firstMeasure":0,"step":"end","comment":"rapid BWV 565-style arpeggio","correctedMeasures":{"6":13.079999999999766},"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I^ II5 I IV-V vi viio ii V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diatonic_seventh_chords","timbre:unexpected_detune"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":9,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"9":11.279999999999804},"tonic":5,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I-ii V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":5,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I7-V7 I I I I7-V7 IV5 VII5 IV5 VII5 V7/V V IV-#III-III-III ii-bII","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":17,"firstMeasure":0,"step":"end","comment":"spicy cadences","correctedMeasures":[],"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I V5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6300000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3,"4":3.9571428571428573},"tonic":1,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I ii #VI5 V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I5 I5 I I I I IV IV I #VII V IV I V I I I i IV IV I i v IV I V i i I5 I5 IV5 IV5 I5 I5 V IV I5 V","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","timbre:ultra_fast_notes","motive:natural_horn_call","form:solo","melody:transposed_riff","style:boogie-woogie"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9900000000000007,"form":{"1":"intro","5":"chorus","17":"chorus","29":"chorus"},"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":15.979999999999704,"18":16.979999999999855,"41":39.91000000000063},"tonic":2,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian","middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9899999999999802,"loop":5,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"2":3.3399999999999728},"tonic":2,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ i _ VII5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","scale:dorian"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1899999999999973,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6},"tonic":7,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"23":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I _ _ _ _ IV5","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:ascending_chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1400000000000008,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4,"9":10.639999999999818},"tonic":5,"basedOn":null},"24":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"I5 _ I5 _ IV viio/V ii V5 I5 _ I5 _ ii V I5 I5","clickResolutionMs":0.01,"modulations":[],"tags":["form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":12.8},"tonic":5,"basedOn":null},"25":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"26":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I vi V ii V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"27":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Adventure Island 3":{"Adventure Island 3 [Takahashi Meijin no Boukenjima III] (1992-07-31)(Hudson).nsf":{"0":{"mode":"major","secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0.7900000000000005,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":11},"2":{"mode":"major","secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0.4400000000000002,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7},"3":{"mode":"major","secondMeasure":1.0400000000000007,"loop":33,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"16":16.079999999999714,"17":17.029999999999863,"18":18.080000000000027,"33":34.06000000000179},"tonic":7},"4":{"mode":"major","secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Artelius":{"Artelius (1987-11-13)(Nichibutsu).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ _ _-V VI-VII I _ _ _ _ _ _ _ _ _ _ _ _ I _ _ _ _ _ I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":3.5899999999999674,"loop":null,"firstMeasure":1.6500000000000012,"step":"end","comment":"ambiguous tonal center, mixolydian","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/A Boy and His Blob - Trouble on Blobolonia":{"A Boy and His Blob.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi I vi-IV5 V I I I I vi vi vi vi V5 V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:absent","form:extra_measure","bass:riff","timbre:ultra_fast_notes","form:not_looped"],"fourMeasurePhrasingReferences":[10,14,17,21,25,27,29,6],"secondMeasure":1.5900000000000012,"form":{"1":"intro","6":"A","10":"B","17":"A","21":"A","25":"fragmentation"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I _ _ _ vi _ _ _ _ _ _ _ _ _ I III","clickResolutionMs":0.01,"tags":["reference:previous_subtune","timbre:unexpected_detune","bass:riff","rhythm:3+3+3+3+2+2","middle_voice:absent","form:extra_measure"],"modulations":{"5":0,"7":9,"29":0,"40":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"24":36.91428571428571,"41":64.13999999999591,"42":65.73999999999673,"54":85.02857142857142,"63":99.45,"64":101.05000000001479},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","reference:previous_subtune","form:extra_measure","scale:chromatic","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":35,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":14.414285714285715,"14":20.82857142857143},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Akai Yousai - Final Commando":{"Akai Yousai - Final Commando (FDS)(1988-05-02)(Konami).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VI/V-VII/V V5 V I5 I5 III5 III5 IV5 V5 VI5 VII I5 i","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:Vsus4"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0.05,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I I5 I5-VII V-V-V-IV5 V i iv-v i VI-VII-i-ii VI VI VII VII I5 _ I I VII VII I I VII _ _ VI5-III5 IV5 VI5-VII5 I5","clickResolutionMs":0.01,"tags":[],"modulations":{"6":8,"10":1,"16":6,"23":9},"fourMeasurePhrasingReferences":[10,16,20,23,6],"secondMeasure":6.0499999999999154,"loop":33,"firstMeasure":4.849999999999941,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"Nintendo/Asmik-kun Land":{"Asmik-kun Land (1991-12-20)(Graphic Research)(Asmik).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":4.189999999999955,"loop":35,"firstMeasure":2.7899999999999845,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/1991 Du Ma Racing":{"1991 Du Ma Racing (1991)(Super Mega Idea Tek).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I _ V V V I I I I V V V I I I I _ _ IV IV I V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[12,15,20,8],"secondMeasure":0.7900000000000005,"loop":27,"firstMeasure":0,"step":"end","comment":"probably detune isn\'t intentional","correctedMeasures":{"19":14.357142857142858,"21":15.979999999999704,"25":19.280000000000214,"26":19.980000000000324,"27":20.78000000000045},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI v i VII5 I5 _ i VII VI v i VII I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"antecedent","5":"consequent","9":"antecedent","13":"consequent\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"accent shift?","correctedMeasures":{"9":9.5,"13":14.371428571428572},"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["location:menu"],"modulations":{"5":1,"9":10},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I I IV _ _ ","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.389999999999993,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V IV V V5/vi vi II57 V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"m.5 root is probably Ti for consistency","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV VII I I I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bucky O\'Hare":{"Bucky O\' Hare.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i2","clickResolutionMs":0.01,"modulations":[],"tags":["location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":4,"5":5,"7":4,"9":9},"tags":["middle_voice:parallel_fourths","scale:mixolydian","scale:pentatonic","form:abrupt_ending","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.039999999999979,"loop":15,"firstMeasure":1.0400000000000007,"step":"end","comment":"","correctedMeasures":{"2":3.2,"6":11.7,"13":26.47000000000134},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.6400000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle","location:menu","middle_voice:melody_echo","middle_voice:melody"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"B\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"Stage Select","correctedMeasures":{"5":6.389999999999908,"6":7.989999999999874},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I I VII VII I I VII VII I I VII VII I I IV V I I VII VII vi vi IV V I I VII VII vi vi VI VII I","clickResolutionMs":0.01,"modulations":{"19":0,"35":9},"tags":["harmony:mixolydian_shuttle","rhythm:syncopation","middle_voice:melody_echo","melody:fills_at_rests","location:level"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"form":{"5":"A","13":"A\'","21":"B","29":"B\'","35":"=IV-V, Mario pivot"},"loop":45,"firstMeasure":0,"step":"end","comment":"Green Planet","correctedMeasures":{"2":1.0714285714285714,"5":4.239999999999954,"6":5.3,"9":8.489999999999863,"21":21.280000000000527,"22":22.34285714285714},"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","form:development_through_timbre","tempo:uneven","harmony:phrygian_shuttle","voice_leading:descending_chromatic_bass","voice_leading:ascending_chromatic","bass:riff","melody:riff","middle_voice:melody_echo","location:boss"],"fourMeasurePhrasingReferences":[6],"form":[],"secondMeasure":0.9400000000000006,"loop":14,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.9900000000000015,"6":5.289999999999932,"7":6.8899999999998975},"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_bass","voice_leading:descending_chromatic_melody","harmony:diminished_seventh_chords","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I _ _ _ _ IV5 v I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","scale:mixolydian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8714285714285714,"4":5.6,"6":9.357142857142858},"tonic":8,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","tempo:twice_as_fast","middle_voice:parallel_fourths","bass:riff","middle_voice:melody_echo","middle_voice:parallel_octaves","harmony:blues_shuttle"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A","9":"B","13":"A","17":"C"},"secondMeasure":1.9900000000000015,"loop":21,"firstMeasure":0,"step":"end","comment":"Blue Planet","correctedMeasures":{"5":7.939999999999875,"6":9.971428571428572,"7":12,"9":15.929999999999705},"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ viio7 viio7","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","bass:melody","scale:pentatonic","harmony:stasis","voice_leading:descending_chromatic_melody","middle_voice:melody_echo","bass:riff","harmony:unison"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.0400000000000007,"loop":34,"firstMeasure":0,"step":"end","comment":"Red Planet","correctedMeasures":{"3":2.1},"tonic":9,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VII","clickResolutionMs":0.01,"modulations":[],"tags":["melody:fills_at_rests","scale:phrygian","scale:blues","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1400000000000008,"form":{"1":"A","5":"A\'","9":"B","13":"","17":"C","25":"D"},"loop":33,"firstMeasure":0,"step":"end","comment":"Yellow Planet","correctedMeasures":{"6":5.83999999999992,"11":11.714285714285714,"18":19.885714285714286,"22":24.585714285714285,"27":30.428571428571427,"31":35.128571428571426,"33":37.48571428571429},"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","bass:riff","scale:pentatonic","scale:phrygian","harmony:stasis"],"fourMeasurePhrasingReferences":[2],"secondMeasure":2.1199999999999988,"form":{"2":"A","6":"B","10":"B\'","14":"C","18":"C\'"},"loop":22,"firstMeasure":0,"step":"end","comment":"Cell","correctedMeasures":[],"tonic":0,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VI VI I I VI VI","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6899999999999866,"loop":null,"firstMeasure":1.0900000000000007,"step":"end","comment":"Rescued Crew Member","correctedMeasures":[],"tonic":9,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ VI-VII i VI-VII IV5-v","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","voice_leading:descending_chromatic_bass","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":2.1399999999999983,"loop":19,"firstMeasure":0,"step":"end","comment":"Salvage Chute","correctedMeasures":{"3":4.039999999999958,"4":6.089999999999915,"13":24.37000000000101},"tonic":3,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ VI-VII i","clickResolutionMs":0.01,"modulations":[],"tags":["melody:riff","scale:blues","middle_voice:melody_echo","middle_voice:parallel_sixths","melody:fills_at_rests","location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.239999999999975,"loop":21,"firstMeasure":1.440000000000001,"step":"end","comment":"Center of Magma Tanker","correctedMeasures":{"2":3.3285714285714287,"3":5.228571428571429,"4":7.1571428571428575,"10":18.68000000000012,"14":26.32857142857143,"16":30.228571428571428,"17":32.12000000000218,"18":34,"20":37.82857142857143},"tonic":4,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ IV IV i i IV IV i i VI VI VII VII VI VI VII VII i i VI VII i i VI IV5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_echo","middle_voice:parallel_fourths","harmony:dorian_shuttle","form:verse-chorus","rhythm:1+2+2+2","location:level"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"intro\'","9":"verse","17":"bridge","25":"chorus"},"secondMeasure":1.490000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"Escape!","correctedMeasures":{"3":3.039999999999979,"4":4.539999999999948,"6":7.589999999999883,"8":10.639999999999818,"9":12.129999999999786,"10":13.679999999999753,"13":18.23000000000005,"17":24.320000000001002,"23":33.46000000000191,"26":38.114285714285714,"27":39.5600000000007,"28":41.0600000000004,"30":44.114285714285714,"33":48.64999999999889},"tonic":6,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"io7 io7 io7 io7 ","clickResolutionMs":0.01,"modulations":{"5":9,"9":8,"17":10},"tags":["harmony:diminished_seventh_chords","scale:chromatic","location:final_boss","harmony:phrygian_shuttle","scale:octatonic","scale:dorian","harmony:stasis","melody:riff","middle_voice:melody_echo","middle_voice:parallel_fourths","voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9900000000000007,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":5.289999999999932,"14":16.779999999999824},"tonic":8,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i4 i4 i4 I I I I VII I VII I VI^ V I VII IV VI-VII I VII IV VI-VII","clickResolutionMs":0.01,"modulations":{"4":0},"tags":["tempo:ritardando","harmony:mixolydian_shuttle","middle_voice:melody_echo","voice_leading:descending_diatonic_bass","location:game_won","middle_voice:thirds_and_sixths"],"fourMeasurePhrasingReferences":[4,14,18],"secondMeasure":3.189999999999976,"form":{"4":"A (period?)","6":"A\'","8":"B","10":"B","12":"bridge","14":"C","18":"C"},"loop":22,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":11.079999999999808,"5":14.27999999999974},"tonic":7,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I VII5-v I I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando","harmony:mixolydian_shuttle","middle_voice:parallel_sixths","location:after_credits"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.539999999999905,"6":8.439999999999864},"tonic":0,"basedOn":null}}},"Nintendo/Adventures of Dr. Franken, The":{"Adventures of Dr. Franken, The (Prototype) (1993)(-)(Motivetime).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":"J S Bach - BWV 847 fugue in C minor"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":"Beethoven - Piano Sonata No. 14 (Moonlight)"}}},"Nintendo/Aki to Tsukasa no Fushigi no Kabe":{"Aki to Tsukasa no Fushigi no Kabe (19xx)(Super Pig, Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:extensions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"FM","correctedMeasures":[],"tonic":null,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"FM","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Aigiina no Yogen - From the Legend of Balubalouk":{"Aigiina no Yogen - From the Legend of Balubalouk (1986-11-21)(VIC Tokai).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I II #III IV-V I VII VI V","clickResolutionMs":0.01,"tags":["harmony:constant_structures"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I I I I ii ii V I I I I I ii ii V I V/IV IV iv I V/IV IV iv ii V _ V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.5899999999999888,"loop":37,"firstMeasure":1.390000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.989999999999959,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Teenage Mutant Ninja Turtles III - The Manhattan Project":{"Teenage Mutant Ninja Turtles III - The Manhattan Project [Teenage Mutant Ninja Turtles II - The Manhattan Project] (1991-12-13)(Konami).nsf":{"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I5 III III IV5 IV5 I5 I5 I5 I5 III III IV5 IV5 I5 I5 I5 I5 III III IV5 IV5 I5 I5 III5 II5-bII5 I5 I5 III5 II5-bII5 I5 I5 iv v iv v i i i i","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","chip:vocal_DMC","scale:pentatonic","middle_voice:parallel_fourths","middle_voice:doubles_bass","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A\'","17":"A\'\'","25":"B","29":"B\'","33":"C"},"secondMeasure":1.0400000000000007,"loop":41,"firstMeasure":0,"step":"end","comment":"Spaceship","correctedMeasures":{"3":2.1399999999999983,"12":11.714285714285714,"18":18.180000000000042,"19":19.1800000000002,"20":20.228571428571428,"25":25.570000000001198,"28":28.757142857142856,"32":33.02857142857143,"37":38.36000000000094},"tonic":2,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:launch_screen"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":8.239999999999869,"loop":null,"firstMeasure":7.189999999999891,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":"theme song by Chuck Lorre"}}},"Nintendo/Air Fortress":{"Air Fortress.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I II IV-IV-VI-VII I I II IV-IV-VI-VII I I II IV-iv I I II IV-iv I I II IV-iv I I II IV-iv I IV/III III iv I IV/III III V/V V I II IV-iv I I II IV-IV-VI-VII I","clickResolutionMs":0.01,"tags":[],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"A","5":"A","9":"B","13":"B","17":"B","21":"B","25":"C","33":"B","37":"B"},"loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":2,"correctedMeasures":{},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.8},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":9.58999999999984,"loop":3,"firstMeasure":6.379999999999908,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/AV Poker":{"AV Poker (1990)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"i iv VII V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6399999999999664,"25":44.649999999999686},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"I V vi V I V vi V I V vi V I V vi V IV IV I _ IV IV V V I V vi V IV V ii V I V vi V IV V I V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6399999999999664,"25":44.649999999999686,"31":55.83999999999746,"33":59.589999999996714,"34":61.439999999996346},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["scale:blues"],"mode":null,"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.2142857142857144,"12":17.57999999999995,"14":20.78000000000045,"16":23.970000000000947,"17":25.52000000000119,"18":27.170000000001448,"19":28.72000000000169},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"romanNumerals":"I ii iii ii","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6399999999999664,"5":7.389999999999887,"6":9.239999999999847},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"romanNumerals":"i IV VI VII","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/U-four-ia - The Saga":{"U-four-ia - The Saga [Hebereke] (1991-09-20)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bvii _ _ _ _ _ _ _ _ _ _ _ _ _ V/ii IV IV ii7 V7 I _ _ _ _ _ _ _ ii ii ii/ii V7/ii ii V I VII","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","middle_voice:melody","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"23":35.110000000001584,"24":36.710000000001266},"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_echo","scale:hijaz","location:level","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":41,"firstMeasure":0,"step":"end","comment":"Mines and Ruins","correctedMeasures":{"5":5.339999999999931,"6":6.664285714285715,"13":15.979999999999704,"14":17.32999999999991,"15":18.630000000000113,"16":19.980000000000324,"20":25.314285714285713,"21":26.62000000000136,"22":27.957142857142856,"29":37.260000000001156,"30":38.61000000000089,"33":42.61000000000009,"34":43.93571428571428},"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"VI V VI V VI V VI V VI V VI V VI V VI V V I V I V I V i i I _ _ _ _ _ _ _ V","clickResolutionMs":0.01,"modulations":{"9":9,"17":1,"26":0},"tags":["location:level","chip:tonal_DMC","middle_voice:melody_echo","form:extra_measure","scale:lydian","harmony:parallel_keys","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[21,26,30],"form":{"1":"A","5":"A\'","9":"A","13":"A","17":"A\'\'","21":"A\'\'\'","25":"extra measure","26":"B","34":"B\'"},"secondMeasure":1.390000000000001,"loop":42,"firstMeasure":0,"step":"end","comment":"","tonic":4,"correctedMeasures":{},"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"unused?","correctedMeasures":[],"tonic":null,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V iv-V/V V _ _ _ V _ _ _ _ _ _ ii-V I _ _ _ _ _ V/ii ii-V I","clickResolutionMs":0.01,"modulations":{"17":10},"tags":["location:password","middle_voice:melody_echo","form:period","tempo:ritardando","style:common_practice","location:credits","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"form":{"1":"A:antecedent","9":"A:consequent"},"loop":25,"firstMeasure":0,"step":"end","comment":"Staff Roll and Password","correctedMeasures":{"25":36.610000000001286},"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I-_ I","clickResolutionMs":0.01,"modulations":{"1":2,"3":2,"4":3},"tags":["chip:tonal_DMC","location:level_completed","percussion:layered"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ V III/V-bII/V V viio","clickResolutionMs":0.01,"modulations":{"5":8,"7":9,"9":8,"11":9},"tags":["location:boss","middle_voice:melody_echo","scale:blues","middle_voice:parallel_fourths","tempo:uneven","chip:tonal_DMC"],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.6399999999999877,"form":{"1":"intro","3":"A","7":"A","11":"bridge"},"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":6.8899999999998975},"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":27,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.239999999999954,"5":8.489999999999863,"6":10.639999999999818,"14":27.670000000001526,"15":29.820000000001862,"19":38.31000000000095,"20":40.46000000000052},"tonic":0,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I VII VI V _ _ VII VI-V _ _ _ V/ii ii iio iii vi ii V I ii VII5 iv I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"23":"pedal point onwards"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i _ i #IV i _ i #IV","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven","beats:division_change","location:boss","middle_voice:parallel_fifths","percussion:layered"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9899999999999802,"form":{"1":"A","3":"A\'","5":"B","9":"B"},"loop":13,"firstMeasure":0,"step":"end","comment":"13/8","correctedMeasures":{"6":13.979999999999746,"9":19.58000000000026,"10":21.43000000000055},"tonic":9,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","scale:blues","harmony:stasis","middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"A","3":"A","5":"A","7":"A","9":"B"},"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.340000000000001},"tonic":2,"basedOn":null}}},"Nintendo/Akagawa Jirou no Yuurei Ressha":{"Akagawa Jirou no Yuurei Ressha (1991-02-08)(Mighty Craft)(King Records).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"bvi bII i-biii ii-bii i-bvi i i-biii ii-bii i-bvi i","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[3],"secondMeasure":2.53999999999999,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Baby Boomer":{"Baby Boomer (1989)(Color Dreams).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I-IV ii-viio I5 I5 I I5 I5 I I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":12,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.739999999999858,"6":9.839999999999835,"7":11.93999999999979,"8":13.289999999999761,"9":14.339999999999739,"10":16.489999999999778,"11":17.83999999999999,"12":19.2,"13":19.142857142857142},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal","location:scary"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":3,"firstMeasure":0,"step":"end","comment":"graveyard","correctedMeasures":{"2":3.149999999999977},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tonic:ambiguous","tempo:uneven"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0500000000000007,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":5.949999999999918,"7":7.149999999999892,"8":8.739999999999858,"9":9.989999999999831},"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:scary","tempo:uneven"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":5,"firstMeasure":0,"step":"end","comment":"hell","correctedMeasures":{"5":9.019999999999852},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal","location:scary"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Gimmick!":{"Gimmick!.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:launch_screen","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:stasis","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i-bII","clickResolutionMs":0.01,"modulations":[],"tags":["scale:phrygian","middle_voice:parallel_fifths"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":6.389999999999908,"loop":2,"firstMeasure":1.8900000000000015,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Addams Family":{"Addams Family (1992-01)(Enigma Variations)(Ocean).nsf":{"0":{"mode":"major","secondMeasure":2.3699999999999934,"loop":15,"romanNumerals":"- - - - - - - - I-ii V-I I-ii V-I i i","firstMeasure":0.47000000000000025,"clickResolutionMs":0.01,"step":"end","tonic":11,"correctedMeasures":{"9":15.809999999999707,"10":17.70999999999997,"14":25.40000000000117,"15":27.300000000001468},"tags":["harmony:unison","timbre:layered","bass:root","harmony:parallel_keys"]},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["harmony:unison","scale:lydian"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.8199999999999625,"loop":null,"firstMeasure":1.8700000000000014,"step":"end","comment":"","correctedMeasures":{"3":5.7199999999999225},"tonic":1,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.020000000000001,"loop":null,"firstMeasure":0.11999999999999998,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"I ii V I I ii V I","clickResolutionMs":0.01,"tags":["reference:previous_subtune","harmony:unison"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.420000000000001,"loop":9,"firstMeasure":0.11999999999999998,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"i _ _ _ i _ _ _ i _ _ _ i _ _ _ i _ _ _ i","clickResolutionMs":0.01,"modulations":{"5":1,"9":5,"13":2,"17":5,"21":7},"tags":["harmony:stasis","bass:riff","scale:hemitonic_pentatonic","middle_voice:mixed_parallel"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.370000000000001,"form":{"1":"A","5":"B","9":"A\'","13":"C","17":"D","21":"D\'"},"loop":25,"firstMeasure":0,"step":"end","comment":"\\"Outside\\", modulates every 4 measures","correctedMeasures":{"2":1.5571428571428572,"18":27.150000000001445,"22":33.540000000001896},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":12,"romanNumerals":"I V7 V7 I I6 ii65 ii-V-I-I ii64-V6-I5-I5","clickResolutionMs":0.01,"tags":["melody:fills_at_rests","style:common_practice","middle_voice:lower_chord_tones"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":4.769999999999943,"loop":null,"firstMeasure":0.9200000000000006,"step":"end","comment":"","correctedMeasures":{"8":27.800000000001546},"tonic":6,"basedOn":"Johann Strauss - An der schonen blauen Donau"}}},"Nintendo/Burai Fighter":{"Burai Fighter (1990-03)(KID)(Naxat).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i4 i47 I-III IV-V-VII-I I VII I VII I VII VI V VI VI VI VI VI VI i4 i4","clickResolutionMs":0.01,"modulations":{"5":7,"9":0,"17":0},"tags":["harmony:quartal","harmony:mixolydian_shuttle","middle_voice:melody","harmony:parallel_keys","middle_voice:parallel_fourths","location:level","rhythm:3 against 2","bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":21,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ i bII i bII _ _-v7","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_fourths","scale:pentatonic","middle_voice:parallel_octaves","middle_voice:melody_echo","location:level","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ i-VII VI-v i-VII VI-v","clickResolutionMs":0.01,"modulations":{"3":2,"4":0,"5":2,"6":0,"7":7,"11":2,"12":0,"13":2,"14":0,"15":7},"tags":["location:level","form:ABAC","harmony:mixolydian_shuttle","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.9900000000000015,"form":{"1":"intro","3":"A","7":"B","11":"A","15":"C"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":14.057142857142857,"9":15.979999999999704,"10":17.97142857142857},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I^ _ i7","clickResolutionMs":0.01,"modulations":{"5":10,"7":9,"9":10,"11":9},"tags":["scale:pentatonic","harmony:shuttle","harmony:neo-riemannian","middle_voice:parallel_octaves","middle_voice:parallel_fifths","location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":16,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.5285714285714285,"3":3.157142857142857,"4":4.671428571428572,"5":6.1399999999999135,"7":9.189999999999849,"9":12.279999999999783,"11":15.329999999999718},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":5,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:neo-riemannian","harmony:quartal","scale:atonal","location:level"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"form":{"1":"A","5":"A","9":"B","13":"B"},"loop":17,"firstMeasure":0.6900000000000004,"step":"end","comment":"","correctedMeasures":{"4":6.489999999999906,"7":12.279999999999783,"10":18.080000000000027,"13":23.870000000000932,"16":29.67000000000184},"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i4 bII5","clickResolutionMs":0.01,"modulations":{"5":9},"tags":["location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8900000000000015,"loop":9,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ VI-VII I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","location:launch_screen","middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"v VI VII5 V6 v VI VII5 V6 VI5-VII v-i VI-VII i VI5-VII v-i VI-VII I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","voice_leading:ascending_bass","middle_voice:static_chord_tones","middle_voice:parallel_thirds","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7400000000000013,"form":{"1":"A","5":"A\'","9":"B:antecedent","13":"B:consequent"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/AV Jiu Ji Mahjong 2":{"AV Jiu Ji Mahjong 2 (19xx)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I5 I _  _ _ _ _ V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8200000000000005,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I i iv v","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0700000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":3.1699999999999764,"5":4.2199999999999545,"8":7.419999999999886,"11":10.609999999999818,"12":11.709999999999795,"16":15.959999999999704,"17":17.00999999999986},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I5 _ _ _ _ _ V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I5 vi vi5 ii ii5 v V I I vi vi5 ii ii V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.470000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3285714285714285},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I II5 II5 I I II5 II5 I I V V I I V V I I IV IV V/V V/V V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0200000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.1199999999999988,"21":21.30000000000053,"22":22.350000000000694},"tonic":0,"basedOn":null}}},"Nintendo/Alien Syndrome":{"Alien Syndrome (1988-12-02)(Sega)(Sanritsu)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["harmony:stasis","scale:natural_minor"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.139999999999977},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"i i VII i III IV V i","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.9399999999999813,"loop":null,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Armadillo":{"Armadillo (1991-08-09)(AIM)(IGS).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I IV-I vi-iii ii-V-_-_ I iv-I vi-iii V-I IV iii ii-V I-V7/IV IV-iv I-V-vi-vi IV-V-IV-V IV-iii-III-bII V","clickResolutionMs":0.01,"tags":["timbre:silence","form:binary","bass:root_fifth","middle_voice:parallel_sixths","middle_voice:lower_chord_tones","middle_voice:arpeggio","middle_voice:mixed_parallel","form:extra_measure","form:reversed_period","form:period"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:consequent","13":"B:antecedent"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.471428571428572,"6":10.639999999999818},"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hexatonic_minor_no6","bass:riff","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Arctic":{"Arctic (1990-02-23)(Artdink)(Pony Canyon).nsf":{"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.569999999999947,"5":6.369999999999909,"6":7.9699999999998745},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"I vi IV V I vi","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.669999999999987,"loop":9,"firstMeasure":0.5200000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Balda (BBG)":{"Balda (BBG).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["origin:russia"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":18,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877},"tonic":11,"basedOn":"  "}}},"Nintendo/Adventures of Lolo":{"Adventures of Lolo.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VII VII-VII-I-V I I VII VII-V-I-I IV I IV-V I ii-V7 I-IV V/V V","clickResolutionMs":0.01,"modulations":{"13":10,"15":7},"tags":["form:period","upper_voices:polyphony"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V7 V7 I I V V I I V V I I V V I I V7 V7 I I V V I I V V I I V V I I I V/ii ii V I V/ii ii-V I _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I I I I V7 V7 I V7 I I I I V7 V7 I V7","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:latin","rhythm:3+3+2","middle_voice:arpeggio","melody:riff","rhythm:syncopation","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1399999999999983,"form":{"1":"A:antecedent","9":"A:consequent","17":"A:antecedent","25":"A:consequent","33":"B:antecedent","37":"B:consequent","41":"C:antecedent","49":"C:consequent","57":"B:antecedent","61":"B:consequent","65":"C:antecedent","73":"C:consequent","81":"D:antecedent","89":"D:consequent"},"loop":97,"firstMeasure":1.0400000000000007,"step":"end","comment":"","tonic":5,"correctedMeasures":{"1":1.3285714285714285,"9":9.58999999999984,"16":17.02857142857143,"24":25.52857142857143,"32":34.07142857142857,"36":38.32857142857143,"40":42.6,"64":68.15714285714286,"80":85.2,"88":93.71428571428571,"100":106.5},"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 VII5 VI5 V","clickResolutionMs":0.01,"modulations":[],"tags":["upper_voices:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5800000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I iii IV","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","middle_voice:parallel_sixths"],"fourMeasurePhrasingReferences":[3],"secondMeasure":0.7400000000000004,"loop":11,"firstMeasure":0,"step":"end","comment":"unusual harmony","correctedMeasures":{"6":3.642857142857143,"10":6.5285714285714285},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:mixolydian"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.6900000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.5900000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"24":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Ai Senshi Nicol":{"Ai Senshi Nicol.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ I I _ _-_-VI-VII _ _ IV _ _ I VI/V-VII/V V _ _ _ V","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.370000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"FM","correctedMeasures":{"6":6.985714285714286},"tonic":5,"basedOn":null}}},"Nintendo/Adventures of Dino-Riki":{"Adventures of Dino Riki.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"I I IV V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.5900000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I I ii V I I ii V I I ii V I I IV V","clickResolutionMs":0.01,"modulations":{"3":7,"7":5,"11":3,"15":9},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5800000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"O Barquinho vibes","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i i V V _ _ _ _ io7 io7 i7 i7 io7 io7 i7 i7","clickResolutionMs":0.01,"modulations":{"11":8,"13":0,"15":8},"tags":["location:scary","scale:hijaz"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"loop":17,"firstMeasure":0,"step":"end","comment":"minor, non-functional, semitone/diminished spooky","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":3,"5":6,"7":9},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"modulating 3 st every 2 measures","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"romanNumerals":"III IV VI-VII","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Airwolf":{"Airwolf (1988-12-24)(-)(Kyugo Boueki).nsf":{"0":{"beatsPerMeasure":6,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":0,"15":9,"21":0,"28":9},"tags":["scale:pentatonic","harmony:stasis"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":32,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"25":38.31000000000095},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1400000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3428571428571427,"3":2.657142857142857,"6":6.671428571428572,"7":8.057142857142857,"10":11.942857142857143,"12":14.614285714285714,"14":17.485714285714284,"16":20.057142857142857,"18":22.571428571428573},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i i i i i i i i i i iv iv v v i i i v","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"I I VII VII _ _ _ _ _ _ _ _ _ _ _ _ _ _ V V _ _ V V","clickResolutionMs":0.01,"modulations":{"17":2,"25":5,"33":2},"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Abadox - The Deadly Inner War":{"Abadox.nsfe":{"0":{"mode":"minor","secondMeasure":1.8400000000000014,"loop":21,"romanNumerals":"i i i i VI VI i i i i i i bII bII V V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"4":5.589999999999925,"5":7.439999999999886,"11":18.630000000000113,"12":20.480000000000402,"17":29.820000000001862},"tonic":4,"tags":["timbre:ultra_fast_notes"]},"2":{"mode":"minor","secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":4}}},"Nintendo/AD&D Dragons of Flame":{"AD&D Dragons of Flame (1992-02-21)(U.S. Gold)(Atelier Double)(Pony Canyon).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Al Unser Jr. Turbo Racing":{"Al Unser Jr. Turbo Racing [World Grand-Prix - Pole to Finish] (1989-01-31)(Data East).nsf":{"28":{"beatsPerMeasure":4,"romanNumerals":"I I I I IV IV I I V V IV IV","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"12-bar blues","correctedMeasures":{"16":22.214285714285715},"tonic":4,"basedOn":null}}},"Nintendo/Architect for PC Jr":{"Architect for PC Jr. (19xx)(Gamesoft).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I IV I V I IV I-V I","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":3.6399999999999664,"loop":9,"firstMeasure":0.9900000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Akumajou Special - Boku Dracula-kun":{"akumajou densetsu.nsfe":{"0":{"beatsPerMeasure":7,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:extensions"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9399999999999813,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":5.089999999999936,"3":9.489999999999842},"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"vrc6_apu","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Alpha Mission":{"Alpha Mission [ASO - Armored Scrum Object] (1986-09-03)(SNK).nsf":{"1":{"mode":"mixolydian","secondMeasure":4.389999999999951,"firstMeasure":2.9399999999999813,"clickResolutionMs":0.01,"step":"end","tonic":2}}},"Nintendo/19 Neunzehn":{"19 Neunzehn (FDS)(1988-03-04)(Soft Pro).nsf":{"0":{"mode":"major","secondMeasure":2.6599999999999873,"firstMeasure":0.5100000000000002,"clickResolutionMs":0.01,"step":"end","tonic":0}}},"Nintendo/Adventures of Bayou Billy, The":{"Adventures of Bayou Billy.nsfe":{"0":{"mode":null,"fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":null,"loop":null,"firstMeasure":null,"clickResolutionMs":0.01,"step":"first measure","correctedMeasures":[],"tonic":null,"basedOn":""}}},"Nintendo/Tecmo Cup - Soccer Game":{"Tecmo Cup - Soccer Game [Captain Tsubasa] (1988-04-28)(Tecmo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ i v _ _ _ _ _ _ V VI VII III","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":25,"firstMeasure":0.7900000000000005,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass","melody:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V IV vi-V I vi IV V I V IV vi-V","clickResolutionMs":0.01,"tags":[],"modulations":{"5":4,"9":1},"fourMeasurePhrasingReferences":[],"secondMeasure":3.6899999999999653,"loop":13,"firstMeasure":1.8400000000000014,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Buzz and Waldog":{"Buzz and Waldog [Koko Adventure] (1993-05)(Innovation Tech).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ bII I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hijaz","harmony:shuttle","middle_voice:creative_chord_tones","location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV I III VII I I I I","clickResolutionMs":0.01,"modulations":{"17":10},"tags":["location:level","harmony:neo-riemannian","form:stasis_vs_progression","voice_leading:Isus4","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B","17":"C"},"secondMeasure":1.390000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6142857142857143},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv iv V/III V/III III V i i iv iv III v i i iv III ii V7 iv III ii ii V7 V7","clickResolutionMs":0.01,"modulations":[],"tags":["form:extra_measure","form:period","middle_voice:melody","location:level","timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[5,13],"secondMeasure":1.340000000000001,"form":{"1":"A:antecedent","9":"A:consequent","17":"B","21":"B (expanded)"},"loop":27,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I iii iii IV IV I I I I iii iii IV IV I I","clickResolutionMs":0.01,"modulations":{"5":10,"9":0,"13":10,"15":10},"tags":["location:level","harmony:neo-riemannian","harmony:mixolydian_shuttle","middle_voice:lower_chord_tones","middle_voice:melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"A","9":"A\'"},"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"18":22.642857142857142,"20":25.314285714285713},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I-vi V/V-V I IV I-vi V-I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","form:period","middle_voice:creative_chord_tones","style:common_practice"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"A:antecedent","5":"A:consequent"},"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"unused?","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:4 against 3","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"beginning of a level","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.6400000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I i VII VI-VI-VI-VII I i VII IV5","clickResolutionMs":0.01,"modulations":{"5":7},"tags":["location:launch_screen","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"can I-i be reinterpreted as IV-iv?","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-V IV-V IV-I IV5-V I-V IV-V IV-I IV5-V5-I5-I5 I-V IV-V IV-I IV-V I-V IV-I IV-V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","form:period","style:common_practice","voice_leading:Vsus4","middle_voice:melody","voice_leading:Isus4","voice_leading:Cad64"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent","17":"repeat with percussion"},"loop":33,"firstMeasure":0,"step":"end","comment":"Pachelbel\'s Canon vibes","correctedMeasures":{"9":12.779999999999772},"tonic":0,"basedOn":null}}},"Nintendo/Arkanoid II":{"Arkanoid II (1988-03-08)(Taito).nsf":{"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":2.8399999999999834,"step":"second measure","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/3-in-1 - Lion King 5":{"3-in-1 - Lion King 5 (19xx)(Dragon).nsf":{"0":{"mode":"mixolydian","secondMeasure":1.0400000000000007,"disableSnapToNotes":false,"loop":97,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"Chinese publisher Dragon Co., that\'s why the Chinese OST in the Africa-themed game","tonic":6,"correctedMeasures":{"24":24.470000000001026,"25":25.620000000001205,"26":26.62000000000136,"42":43.65999999999988,"43":44.749999999999666,"98":103.30000000001594}},"1":{"mode":"minor","secondMeasure":3.889999999999961,"loop":null,"firstMeasure":1.490000000000001,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"16":37.410000000001126,"55":130.88000000002594},"tonic":9},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian","harmony:stasis","style:chinese","bass:riff","form:solo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.489999999999863,"9":17.029999999999863,"11":21.280000000000527,"14":27.670000000001526,"17":34.06000000000179,"19":38.31000000000095,"22":44.699999999999676,"25":51.0999999999984,"28":57.48999999999713,"31":63.88999999999586,"33":68.12999999999795},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["beats:incomplete_measure_on_transition","scale:lydian","style:chinese","melody:riff","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":45,"firstMeasure":0,"step":"end","comment":"loop shifts melody over percussion by 1 beat","correctedMeasures":{"6":10.639999999999818,"10":19.1800000000002,"14":27.670000000001526,"17":34.06000000000179,"19":38.31000000000095,"23":46.84999999999925,"25":51.0999999999984,"28":57.48999999999713,"31":63.88999999999586,"33":68.12999999999795,"36":74.53000000000122,"39":80.92000000000449,"42":87.32000000000777,"43":89.46000000000886,"44":91.61000000000996,"45":93.71000000001104,"46":95.86000000001214},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","timbre:oscillator_as_percussion","style:chinese","timbre:wide_vibrato","form:solo","form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.8899999999999824,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":14.629999999999733,"15":41.01000000000041,"17":46.84999999999925},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","timbre:wide_vibrato","style:chinese","form:solo","bass:riff","timbre:silence","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":28,"firstMeasure":0,"step":"first measure","comment":"guzheng/koto as a solo","correctedMeasures":{"16":23.970000000000947,"22":33.5100000000019,"23":35.110000000001584},"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:wide_vibrato","scale:dorian","harmony:stasis","timbre:oscillator_as_percussion","form:basso_ostinato","style:chinese","form:solo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":29,"firstMeasure":0,"step":"end","comment":"guzheng/koto as a solo","correctedMeasures":{"5":10.639999999999818,"6":13.279999999999761,"8":18.642857142857142,"9":21.280000000000527,"12":29.270000000001776,"13":31.970000000002198,"15":37.260000000001156,"18":45.24999999999957,"21":53.249999999997975,"24":61.239999999996385,"28":71.87999999999987,"31":79.87000000000396,"34":87.87000000000805},"tonic":6,"basedOn":null}}},"Nintendo/Alien 3":{"Alien 3.nsfe":{"0":{"mode":"phrygian","secondMeasure":2.3699999999999934,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI-VII i _ _ _ _ _ _ _ _ _ _ _ _ VI VII i i VI VII V5","firstMeasure":0.02,"clickResolutionMs":0.01,"step":"end","comment":"","tonic":6,"modulations":{"11":9,"21":6,"45":9},"tags":["harmony:stasis","scale:phrygian","bass:riff","timbre:ultra_fast_notes","scale:blues"]},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"loop":null,"firstMeasure":0.6200000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.7699999999999636,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"4":{"mode":"phrygian","secondMeasure":2.4199999999999924,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":3},"5":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.9200000000000015,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"2":1.8700000000000014},"tonic":2,"basedOn":null},"12":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Archon":{"Archon (1989-12)(Free Fall Associates)(Bullet-Proof Software)(Activision).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.769999999999985,"loop":null,"firstMeasure":1.8200000000000014,"step":"end","comment":"","correctedMeasures":{"23":22.350000000000694,"29":27.95000000000157},"tonic":5,"basedOn":null}}},"Nintendo/AV Pachinko - AV Super Real Pachinko (SFX)":{"AV Pachinko - AV Super Real Pachinko (SFX).nsf":{"7":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["scale:blues","rhythm:interesting"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/\'89 Dennou Kyuusei Uranai":{"\'89 Dennou Kyuusei Uranai (1988-12-10)(Micronics)(Jingukan).nsf":{"0":{"mode":"minor","secondMeasure":1.490000000000001,"loop":12,"romanNumerals":"i^ _ _ _ i^","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":3,"modulations":{"5":1,"9":6},"tags":["harmony:neo-riemannian"]},"1":{"mode":"minor","secondMeasure":1.490000000000001,"loop":12,"romanNumerals":"i^ ","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":3,"tags":["melody:riff"],"modulations":{"5":1,"9":6}},"2":{"mode":"minor","secondMeasure":1.8400000000000014,"romanNumerals":"","loop":17,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"modulation from m.9","tonic":6,"correctedMeasures":{"10":16.771428571428572,"12":20.585714285714285,"14":24.285714285714285,"15":26.070000000001276,"17":29.82857142857143},"modulations":{"9":11},"tags":["scale:pentatonic","melody:riff","middle_voice:riff","upper_voices:polyphony"]},"3":{"mode":"major","secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7},"4":{"mode":"minor","secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":3},"5":{"mode":"major","secondMeasure":1.5900000000000012,"loop":null,"romanNumerals":"I I ii","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":11},"6":{"mode":"major","secondMeasure":1.5900000000000012,"loop":null,"romanNumerals":"I^ I^","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":2},"7":{"mode":"minor","secondMeasure":1.9900000000000015,"loop":null,"romanNumerals":"i bvi i","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"tags":["harmony:neo-riemannian"]},"8":{"romanNumerals":"iv v i i iv v i i I I VII VII VI VI i4 i4","clickResolutionMs":0.01,"modulations":{"9":11,"15":8},"tags":["middle_voice:parallel_thirds","middle_voice:melody"],"mode":"minor","secondMeasure":1.5900000000000012,"form":{"1":"A","5":"A","9":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"modulation from m.9","correctedMeasures":{"10":14.428571428571429,"12":17.642857142857142,"14":20.82857142857143,"15":22.370000000000697},"tonic":10},"9":{"mode":"major","secondMeasure":1.9900000000000015,"loop":13,"romanNumerals":"I II ii I I II ii I IV IV V V ","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":6,"tags":["middle_voice:arpeggio","middle_voice:parallel_thirds"]},"10":{"mode":"major","secondMeasure":1.8400000000000014,"loop":9,"romanNumerals":"ii7 viio I^ IV^ iii7 ii7 VII^ vi7","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"m.7 not sure","correctedMeasures":[],"tonic":2,"tags":["middle_voice:arpeggio","harmony:diatonic_seventh_chords","harmony:neo-riemannian"]},"11":{"mode":"minor","secondMeasure":1.5900000000000012,"loop":5,"romanNumerals":"i i i I i","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":11,"tags":["bass:pedal_point","middle_voice:parallel_thirds"]},"12":{"mode":null,"secondMeasure":1.370000000000001,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":6,"basedOn":"Beethoven Symphony 5"},"13":{"mode":"major","secondMeasure":1.58857142857,"loop":13,"romanNumerals":"I I I I IV IV I I VI VII I","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"","correctedMeasures":{"2":1.542857142857143,"3":3.1857142857142855,"4":4.757142857142857,"6":7.9714285714285715,"8":11.17142857142857},"tonic":11,"tags":["form:12-bar_blues","middle_voice:parallel_thirds","melody:riff","middle_voice:parallel_fourths"]},"14":{"mode":"minor","beatsPerMeasure":3,"secondMeasure":1.7900000000000014,"loop":9,"romanNumerals":"i _ _ i _ _ _ V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"harmonic minor scale","correctedMeasures":[],"tonic":1,"tags":["scale:harmonic_minor","harmony:stasis","form:period","middle_voice:static_chord_tones"]},"15":{"mode":"minor","beatsPerMeasure":3,"secondMeasure":1.9900000000000015,"loop":9,"romanNumerals":"i viio v vi7 VI V7 i4 i","firstMeasure":0.49000000000000027,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":1,"tags":["middle_voice:parallel_thirds","voice_leading:Isus4","voice_leading:descending_chromatic_bass"]}}},"Nintendo/Bakushou! Ai no Gekijou":{"Bakushou! Ai no Gekijou (1990-12-29)(Coconuts Japan).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V V IV IV I I I I IV IV I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["form:16-bar_blues","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.2200000000000009,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.0857142857142856,"7":6.628571428571429},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I iii ii V I iii ii V IV IV I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.6700000000000013,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VII VII I I ii V IV IV I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["melody:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V I I IV V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.420000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V IV iii ii I I I I V IV #III5 II5 I I I I-IV","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":4.9714285714285715},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I I I I I V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9700000000000006,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV I I V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":12.459999999999779},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I42 vi V I VII IV V","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1199999999999988,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I iii IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9700000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Aoki Ookami to Shiroki Mejika - Genchou Hishi":{"Aoki Ookami to Shiroki Mejika - Genchou Hishi (1993-03-25)(Koei).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"i i i i","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.629999999999988,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Baseball Stars":{"Baseball Stars [Baseball Star - Mezase Sankanou] (1989-05-19)(SNK).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-viio/ii ii-V I vi IV V I ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:launch_screen","form:period","middle_voice:thirds_and_sixths","bass:octaves"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.290000000000001,"form":{"1":"intro","3":"antecedent","7":"consequent"},"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":6.639999999999903},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V5 I IV V I VII I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:octaves","middle_voice:thirds_and_sixths"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV-V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:thirds_and_sixths","bass:octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I IV II5 I V I I V I II5 _ _ V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:static_chord_tones","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1899999999999973,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["beats:division_change"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V i _ i iv V I5","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:layered","scale:melodic_minor","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V V V V I I IV iii IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3428571428571427,"4":3.9714285714285715,"9":10.639999999999818,"17":21.23000000000052},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","timbre:chirp"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":14.314285714285715,"11":15.914285714285715,"12":17.62857142857143,"13":19.242857142857144,"14":20.757142857142856,"17":25.3},"tonic":0,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.789999999999942,"12":17.57999999999995,"19":28.680000000001684,"20":30.370000000001948},"tonic":10,"basedOn":null}}},"Nintendo/Anticipation":{"Anticipation (1988-11)(Rare)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["style:ragtime"],"mode":"minor","fourMeasurePhrasingReferences":[],"secondMeasure":1.5500000000000012,"loop":null,"firstMeasure":0.35000000000000014,"step":"tonic","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Ankoku Shinwa - Yamato Takeru Densetsu":{"Ankoku Shinwa - Yamato Takeru Densetsu (1989-03-24)(Another, Zap)(Tokyo Shoseki).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[4],"secondMeasure":6.389999999999908,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":14.469999999999736,"4":14.929999999999726,"5":17.429999999999925,"6":20.08000000000034,"27":77.4200000000027},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":6,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":6.719999999999901,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":13.639999999999754,"27":0},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"29":90.5100000000094},"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":6,"romanNumerals":"i VII VI VI iv v i i i VII VI VI iv v i i VII VII i i VII VII i i","clickResolutionMs":0.01,"tags":["form:period","middle_voice:absent"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A:antecedent","9":"A:consequent","17":"extension"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Adventures of Rocky and Bullwinkle and Friends, The":{"Adventures of Rocky and Bullwinkle and Friends, The (1992-12)(Radical)(THQ).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.020000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["upper_voices:absent","timbre:layered"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I ii V7 I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.5899999999999888,"loop":5,"firstMeasure":0.34000000000000014,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7700000000000014,"loop":17,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"4":5.371428571428571,"5":7.2199999999998905,"6":9.019999999999852},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bII I bII I bII I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":"Thelonious Monk - Well, You Needn\'t"},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","scale:atonal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Super Pinball":{"Super Pinball (1988-08-23)(Soft Machine)(Coconuts Japan).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.430000000000001,"loop":null,"firstMeasure":0.09999999999999999,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ i","clickResolutionMs":0.01,"modulations":{"19":11,"28":9},"tags":["rhythm:syncopation","harmony:stasis","form:extra_measure","scale:dorian"],"fourMeasurePhrasingReferences":[10,14,19,23,28,5],"secondMeasure":1.320000000000001,"loop":28,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"2":1.320000000000001,"17":21.30000000000053,"18":22.600000000000733,"26":33.290000000001946,"27":34.59000000000169},"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I I7 I IV7 V I7 I7 I7 I I7 I IV7 III7 I7 I7","clickResolutionMs":0.01,"modulations":[],"tags":["form:16-bar_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.320000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I I vi vi II5 ii V V5","clickResolutionMs":0.01,"modulations":[],"tags":["melody:riff","middle_voice:parallel_thirds","middle_voice:melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.3399999999999728,"loop":9,"firstMeasure":1.0900000000000007,"step":"end","comment":"","correctedMeasures":{"2":3.2142857142857144},"tonic":2,"basedOn":null}}},"Nintendo/AV Hanafuda Club":{"AV Hanafuda Club (1991)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I7 V7","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","rhythm:syncopation"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.1285714285714286,"5":6.314285714285714,"7":9.542857142857143,"9":12.7,"10":14.314285714285715,"11":15.914285714285715},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.339999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":5.189999999999934},"tonic":8,"basedOn":null}}},"Nintendo/16 Mahjong":{"16 Mahjong (1989)(Sachen, Thin Chen).nsf":{"0":{"mode":"minor","fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"romanNumerals":"i VII VI VII i VII VI VII-I i VII-III VII-VI VII-v i VII-III VII-VI v-i i VII VI VII i VII VI VII-I _ _ _ V5 i VII VI VII-I _ _ _ i VII VI VII i VII VI VII","loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"","tonic":6,"correctedMeasures":{"6":7.989999999999874,"9":12.771428571428572},"tags":["form:period","form:ABACA"]},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV V I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"mode":"major","secondMeasure":3.1699999999999764,"loop":null,"romanNumerals":"I iii I IV IV I I-IV I","firstMeasure":1.5700000000000012,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Babel no Tou":{"Babel no Tou (1986-07-18)(Namco).nsf":{"0":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ VII I VII I _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ #VII","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":49,"firstMeasure":0,"step":"end","comment":"weird final","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ VI-VII5 VII5-I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.6900000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"13":8,"21":0,"29":5},"tags":["bass:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1500000000000008,"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I5 V VII5 vi VI bII I I _ _ _ _ _ _ _ VI-V5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":25,"firstMeasure":0,"step":"end","comment":"weird mm.17-24 - modulation?","correctedMeasures":{"22":18.885714285714286},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/AV Dragon Mahjong":{"AV Dragon Mahjong (1991)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I iii IV V I vi ii V I5 iii IV V I5 vi II5 V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0400000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.189999999999955},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 V vi vi IV5 iii ii V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i iv iv i i v iv i i","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8571428571428572,"3":3.6399999999999664,"4":5.489999999999927},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.53999999999999,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/A Ressha de Ikou":{"A Ressha de Ikou (1991-08-21)(Artdink)(Pony Canyon).nsf":{"0":{"mode":"major","fourMeasurePhrasingReferences":[3],"secondMeasure":1.5800000000000012,"loop":31,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV I IV V _ _ _ _ _ _ IV IV-V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"15":22.360000000000696,"31":47.93999999999903,"32":49.53999999999871},"tonic":5,"tags":["bass:riff"]},"1":{"mode":"major","fourMeasurePhrasingReferences":[],"secondMeasure":1.6000000000000012,"loop":13,"romanNumerals":"","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0},"2":{"mode":"major","fourMeasurePhrasingReferences":[],"secondMeasure":1.0000000000000007,"loop":17,"romanNumerals":"I _ _ _ _ _ _ _ I","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"jazzy","correctedMeasures":{"2":1.300000000000001},"tonic":0,"tags":["scale:atonal"]},"3":{"mode":"minor","fourMeasurePhrasingReferences":[3],"secondMeasure":1.5800000000000012,"loop":15,"romanNumerals":"_ _ i","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"extensions","correctedMeasures":[],"tonic":2}}},"Nintendo/4 Nin Uchi Mahjong":{"4 Nin Uchi Mahjong (1984-11-02)(Hudson)(Nintendo).nsf":{"0":{"mode":"major","secondMeasure":1.340000000000001,"form":{"1":"antecedent","5":"consequent"},"loop":null,"romanNumerals":"I ii V V-I I IV V I","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9,"tags":["upper_voices:polyphony","form:period"]},"1":{"mode":"major","secondMeasure":null,"loop":null,"romanNumerals":"","firstMeasure":null,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0,"tags":["style:major_chord_jingle"]},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/All-Pro Basketball":{"All-Pro Basketball [Zenbei!! Pro Basketball] (1989-07-21)(Aicom)(VIC Tokai).nsf":{"0":{"mode":"dorian","secondMeasure":1.0400000000000007,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":6},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I I I I IV IV I I V _ V","clickResolutionMs":0.01,"modulations":[],"tags":["form:16-bar_blues"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.8100000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"1":2.2714285714285714,"2":2.085714285714286},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V IV V I V IV V I V IV V I V IV V I V IV V I V IV V I V IV V I V IV V VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+2","middle_voice:absent","melody:arpeggio","form:progression","form:not_looped","location:game_won","harmony:unison","bass:root_third_fifth"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"A","5":"A","9":"B","13":"B","17":"A","21":"A","25":"B","29":"B","33":"cadence"},"loop":null,"firstMeasure":0,"step":"end","comment":"mario cadence","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"mario cadence","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Addams Family - Pugsley\'s Scavenger Hunt":{"Addams Family Pugsley\'s Scavenger Hunt.nsfe":{"0":{"mode":"major","secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.3900000000000002,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"14":21.18000000000051},"tonic":4},"1":{"mode":"major","secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0.13999999999999999,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"3":1.6900000000000013},"tonic":6},"2":{"mode":"major","secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":6}}},"Nintendo/Hero Quest":{"Hero Quest.nsfe":{"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","analyzed_in:hopkins","harmony:shuttle","form:extra_measure"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.470000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6200000000000012,"26":39.91428571428571},"tonic":1,"basedOn":null}}},"Nintendo/Adventures in the Magic Kingdom":{"Adventures In The Magic Kingdom.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"I","clickResolutionMs":0.01,"tags":["middle_voice:parallel_sixths"],"mode":"major","fourMeasurePhrasingReferences":[],"secondMeasure":1.9200000000000015,"loop":17,"firstMeasure":0.37000000000000016,"step":"end","correctedMeasures":{"11":15.70999999999971,"13":18.760000000000133,"17":24.900000000001093},"tonic":11,"basedOn":null},"1":{"mode":"major","fourMeasurePhrasingReferences":[3],"beatsPerMeasure":4,"secondMeasure":1.7200000000000013,"loop":19,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":8,"basedOn":null},"2":{"mode":"major","fourMeasurePhrasingReferences":[3],"beatsPerMeasure":4,"secondMeasure":1.8700000000000014,"loop":15,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"8":13.059999999999766,"9":14.909999999999727},"tonic":2,"basedOn":null},"3":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Mario Bros":{"Mario Bros. (1983-09-09)(Nintendo R&D1)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I V I V I IV IV-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Bad News Baseball":{"Bad News Baseball [Gekitou Stadium!!] (1989-12-15)(Tecmo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I I I I I V I I I V I ii I V V I I V I","clickResolutionMs":0.01,"modulations":[],"tags":["form:AABA","upper_voices:polyphony"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V-I5 I vi IV V-I5 I vi IV V-I5 I vi IV V-I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody","form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV ii V IV I ii-V I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","form:sentence","style:common_practice","timbre:chirp"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A, basic idea","3":"basic idea repeated","5":"fragmentation","7":"PAC","9":"A","17":"bridge"},"loop":22,"firstMeasure":0,"step":"end","comment":"same form here onwards: two repetitions, then a 4-bar whistle","correctedMeasures":{"9":12.771428571428572},"tonic":1,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V I5 V I5 I-V I-V I-V vi-II5 V I5 V I5 I-V I-V I-V vi-II5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I-V I I IV I-V I I IV I-V I I IV I-V I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:walking","rhythm:3 against 2","timbre:chirp","form:period","voice_leading:Vsus4","middle_voice:lower_chord_tones"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","5":"A:consequent","9":"A:antecedent","13":"A:consequent"},"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V V V IV-V5 I ","clickResolutionMs":0.01,"modulations":[],"tags":["beats:unclear_measure_onsets"],"fourMeasurePhrasingReferences":[],"secondMeasure":5.189999999999934,"loop":21,"firstMeasure":0,"step":"end","comment":"La Cucaracha vibes","correctedMeasures":{"1":0,"2":1.5900000000000012},"tonic":1,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I ii ii I I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[13,7],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV5 V I I IV5 V I ","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":1.5900000000000012,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV5 v I I VII II5-#III5 IV5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.442857142857143,"6":7.989999999999874,"9":12.459999999999779},"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V V V-I V IV V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I _ ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV V IV-I V I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV V5 IV I IV-V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I ii IV-V5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V V V V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV viio I I IV viio I I V/V V ii/IV-V7/IV IV V I I IV V I5 V/ii ii V I I I V/V V ii/IV-V7/IV IV V I I IV V I5 V/ii ii V I I IV viio V vi ii iii IV V V VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:pedal_point"],"fourMeasurePhrasingReferences":[5,9,12,15,19,23,27],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"49":89.44285714285714},"tonic":9,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV I I IV IV ii-V I-IV iio/vi-V/vi I ii-V I-IV iio/vi-V/vi I IV iii ii I IV iii ii-iii I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V V/vi ii I ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"23":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V I vi-V5 I I-vi V-IV V5-I I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":28.642857142857142},"tonic":1,"basedOn":null}}},"Nintendo/Blaster Master":{"Blaster Master [Chou Wakusei Senki - Metafight] (1988-06-17)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VII VII i i VII VII","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"form":{"1":"without noise","5":"with noise"},"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I VII I VI-VII-VI-VII I VII I VI-VII-VI-VII I VII I VI-VII-VI-VII I VII I VI-VII-VI-VII I I I VII I VII VII VI V V VI-VII-VI-VII VI-VII-VI-VII VI-VII-VI-VII VI-VII-VI-VII I VII I VII","clickResolutionMs":0.01,"modulations":{"23":9,"27":11,"29":11,"31":7,"35":7},"tags":["middle_voice:parallel_sixths","middle_voice:parallel_thirds","harmony:stasis","bass:pedal_point","rhythm:syncopation","timbre:ultra_fast_notes","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[5,23],"secondMeasure":1.8400000000000014,"form":{"5":"A","9":"A","13":"A","17":"A","21":"tag","23":"B","27":"B","29":"mm. 23-28 reinterpreted as VII-VI","31":"bridge","35":"lead to A"},"loop":39,"firstMeasure":0,"step":"end","comment":"Area 1. quartal intro","correctedMeasures":{"4":5.542857142857143,"23":41,"24":42.91000000000003,"25":44.749999999999666,"29":52.199999999998184,"30":54.07142857142857,"31":55.93999999999744,"32":57.78999999999707,"35":63.38999999999596,"36":65.23999999999647},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI VII i","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_echo","harmony:stasis","bass:riff","timbre:rich","middle_voice:parallel_fourths","scale:dorian","scale:hexatonic_minor_no6"],"fourMeasurePhrasingReferences":[3,5,11,19],"secondMeasure":1.8400000000000014,"form":{"7":"A","15":"A\'","24":"lead into A"},"loop":28,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":16.779999999999824,"19":33.56000000000189,"23":41.01000000000041,"24":42.86000000000004,"25":44.699999999999676,"26":46.5999999999993,"27":48.44999999999893},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal","timbre:layered","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":19,"firstMeasure":0,"step":"end","comment":"Area 8","correctedMeasures":[],"tonic":3,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"siren before boss","correctedMeasures":[],"tonic":null,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":3,"firstMeasure":0.7900000000000005,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i VII VI v i VII VI-VII I5 i VII VI v i VII VI-VII I5 i i-bvii i i-bII i i-bvii i i-bII V V-V-VII-VI V V-V-VII-bII i i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:phrygian","location:level","analyzed_in:hopkins","timbre:ultra_fast_notes","rhythm:3+3+2"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.9900000000000015,"form":{"3":"A:antecedent","7":"A:consequent","11":"A:antecedent","15":"A:consequent","19":"B","23":"B","27":"B\'","31":"B"},"loop":33,"firstMeasure":0.6900000000000004,"step":"end","comment":"Area 7 and Final Boss","tonic":9,"correctedMeasures":{"18":23.320000000000846},"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I v I VI-VII I v I VI-VII V7-i VI V I I I I VI V i i i i i i i i V5 V5 I I I I VI VI V V I I I I VI V i i ii V iii vi ii V I bII I","clickResolutionMs":0.01,"tags":["scale:mixolydian","tempo:uneven","timbre:layered","location:game_won","voice_leading:descending_chromatic_bass","middle_voice:parallel_thirds","middle_voice:arpeggio"],"modulations":{"16":9,"26":7,"32":9,"40":11,"44":9},"fourMeasurePhrasingReferences":[5,12,16,20,24,28,32,36,40,44,48,52],"secondMeasure":2.6399999999999877,"form":{"1":"A","5":"A","9":"tag","12":"B","20":"B","28":"bridge","36":"C","44":"D"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":7.989999999999874,"5":10.639999999999818,"9":21.280000000000527,"12":29.270000000001776,"13":30.885714285714286,"17":37.310000000001146,"22":45.24999999999957,"26":51.69999999999828,"28":54.89999999999765,"29":56.48999999999733,"38":70.82999999999933,"40":74.03000000000097,"41":75.63000000000179},"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I4 I4 VI5-VII I4","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0.04,"step":"end","comment":"","correctedMeasures":{"1":0,"2":1},"tonic":9,"basedOn":null}}},"Nintendo/720":{"720 (1989-11)(Atari Games)(Tengen)(Mindscape).nsf":{"2":{"mode":"phrygian","secondMeasure":7.9699999999998745,"loop":16,"firstMeasure":6.369999999999909,"clickResolutionMs":0.01,"step":"tonic","comment":"phrygian four notes","tonic":4},"4":{"mode":"minor","secondMeasure":0.7700000000000005,"loop":49,"romanNumerals":"I I I I vi vi vi vi ii ii ii ii IV IV v v i VII VI V I5 VII5 VI V I5 VII5 VI5 V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"mixolydian with 4th in chords","correctedMeasures":[],"tonic":7,"tags":["harmony:parallel_keys","timbre:oscillator_as_percussion","middle_voice:absent"]},"5":{"mode":"dorian","secondMeasure":1.5200000000000011,"loop":9,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":7,"correctedMeasures":{"3":3.1199999999999775,"6":7.9699999999998745,"7":9.55999999999984}}}},"Nintendo/Silver Surfer":{"Silver Surfer (SFX).nsf":{"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Nintendo/100-in-1-Contra Function 16":{"100-in-1-Contra Function 16 (19xx)(Unknown).nsf":{"0":{"mode":"major","secondMeasure":1.340000000000001,"loop":31,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":5}}},"Nintendo/Adventures of Tom Sawyer":{"Adventures of Tom Sawyer [Tom Sawyer no Bouken] (1989-02-06)(Winkysoft)(Seta).nsf":{"0":{"mode":"major","beatsPerMeasure":3,"secondMeasure":1.7900000000000014,"loop":17,"romanNumerals":"","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":8},"1":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":1.8400000000000014,"loop":3,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7},"2":{"mode":"major","fourMeasurePhrasingReferences":[1],"beatsPerMeasure":4,"secondMeasure":1.5900000000000012,"loop":null,"romanNumerals":"I V-I IV-I V-I IV I I I ii IV V V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0,"basedOn":"Mozart K.545"},"3":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":1.8400000000000014,"loop":17,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":6,"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":6,"secondMeasure":1.390000000000001,"loop":11,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/B-Wings":{"B-Wings (1986-06-03)(Data East).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi IV ii V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV5 iv iv IV5 VI VII I I I I I I I I vi vi IV IV5 ii V I I vi vi IV IV V V IV V viio/vi vi IV5 I-V I5 I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":37,"firstMeasure":0,"step":"end","comment":"strange dorian intro mm.1-4","correctedMeasures":{"5":5.489999999999927,"6":6.8899999999998975,"9":11.114285714285714,"10":12.42999999999978,"11":13.879999999999749,"13":16.728571428571428,"15":19.530000000000253,"23":30.850000000002023},"tonic":8,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"mm.5-... - same as previous","correctedMeasures":{"3":2.9899999999999802,"4":4.339999999999952,"5":5.539999999999926,"7":8.18999999999987,"25":33.66000000000187,"29":39.31000000000075},"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ V/ii ii","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"added two-measure - uneven","correctedMeasures":{"6":6.8899999999998975,"9":10.971428571428572,"11":13.929999999999747,"12":15.429999999999715,"13":16.779999999999824,"14":18.23000000000005},"tonic":8,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.7399999999999856},"tonic":10,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.6900000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"beats can be tracked by four measures","correctedMeasures":{"4":2.9285714285714284,"5":3.889999999999961,"6":4.88999999999994,"9":7.839999999999877,"10":8.839999999999856,"13":11.769999999999794,"14":12.729999999999773,"15":13.729999999999752,"17":15.67999999999971,"21":19.63000000000027,"25":23.560000000000883},"tonic":10,"basedOn":null}}},"Nintendo/Amagon":{"Amagon [Totsuzen! Machoman] (1988-12-02)(Aicom)(VIC Tokai).nsf":{"0":{"mode":"major","secondMeasure":1.350000000000001,"loop":null,"firstMeasure":0.6000000000000003,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"18":14.139999999999743,"19":14.939999999999726,"25":19.730000000000285,"26":20.53000000000041},"tonic":9}}},"Nintendo/2in1 Cosmo Cop":{"2in1 Cosmo Cop (Light Gun) (1993)(Sachen).nsf":{"0":{"mode":"minor","secondMeasure":1.1900000000000008,"loop":17,"romanNumerals":"i i i i VI VI i i III bII III VI III v VI v","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"should m.9 be considered modulation into III?","tonic":9},"1":{"beatsPerMeasure":4,"romanNumerals":"i-IV IV VI i i iv i bII i-IV IV VI i i iv V V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i V i V i V i V i V i V i V i V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"3":{"mode":"minor","secondMeasure":1.1900000000000008,"loop":17,"romanNumerals":"i V V V i V V V iv iv i i i VI V V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":9},"4":{"beatsPerMeasure":4,"romanNumerals":"I V IV V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Attack Animal Gakuen":{"Attack Animal Gakuen (1987-12-26)(Scitron & Art)(Pony Canyon).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I-V vi-I IV-I V/V-V I-V vi-I IV-I V-I iv-i iv-i iv-i VI-V","clickResolutionMs":0.01,"tags":["form:ABA"],"modulations":{"11":9,"15":0},"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5700000000000012,"loop":32,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"14":20.750000000000444,"15":22.350000000000694},"tonic":0,"basedOn":null}}},"Nintendo/Bakushou!! Jinsei Gekijou":{"Bakushou!! Jinsei Gekijou (1989-03-17)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V/vi vi V7/IV IV5 ii II5 V5 I I5 IV iv I IV _ I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"cadence via voice-leading","correctedMeasures":{"14":20.750000000000444,"15":22.350000000000694,"16":23.82857142857143},"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V V IV I ii V-I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.4},"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV-viio V ii-V I IV-viio V-vi IV I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:absent","bass:melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1699999999999977,"loop":9,"firstMeasure":0.5700000000000003,"step":"end","comment":"cadence via voice-leading","correctedMeasures":{"7":10.057142857142857,"8":11.742857142857142,"9":13.35999999999976},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i iv VII5 i i iv VII III-viio I iii IV V I iii IV V5","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","middle_voice:root"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.500000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.357142857142857},"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.300000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"interesting!","correctedMeasures":{"2":1.542857142857143},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii7 V7 I I ii7 ii7/ii-V+7/ii ii I ii7 V7 I I ii7 V-IV I5","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","rhythm:swing","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":7.928571428571429,"14":20.728571428571428,"16":23.771428571428572},"tonic":2,"basedOn":null}}},"Nintendo/Business Wars":{"Business Wars (1992-01-24)(Hect Development Division 1)(Hect).nsf":{"0":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:absent","location:intro"],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.9899999999999802,"form":{"3":"A","21":"A","39":"B"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"21":59.889999999996654},"tonic":0,"basedOn":"Maurice Ravel - Bolro"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ I II I II I II I II","clickResolutionMs":0.01,"tags":["harmony:lydian_shuttle","harmony:stasis","upper_voices:polyphony","location:menu"],"modulations":{"7":10,"11":0,"15":3},"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro","3":"A","7":"B","11":"A","15":"C","19":"C\'"},"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i _ _ _ VI VI V V i","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","voice_leading:descending_chromatic_bass","upper_voices:legato_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"form":{"1":"antecedent","9":"consequent"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","middle_voice:riff","melody:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ _ _ _ _ V _ _ _ _ _ _ _ I5 IV V _ _ _ _ _ I-V5 I _ _ _ _ _ _ I5","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","form:AABA","style:common_practice"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"A:antecedent","9":"A:consequent","17":"B","25":"A\':consequent"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i i i III III III III VI VI V V7 V7/IV V7/IV iv iv ii65 VI7 V V I I I I IV ii I I IV/iii V/iii iii iii iio V5 I I VI VI I I V V I I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","voice_leading:Ger+6","style:common_practice","location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":45,"firstMeasure":0,"step":"end","comment":"m.18 = Ger+6, m.33 unclear, m.37-38 unclear, m.27 typo?","correctedMeasures":[],"tonic":9,"basedOn":"what?"},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i I I i","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ vi vi V V","clickResolutionMs":0.01,"modulations":{"3":10,"5":0,"7":10,"9":0},"tags":["scale:mixolydian","timbre:wide_vibrato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":23.92000000000094},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i VII VII i i VII VII i i VII VII i VI VII V IV I6 vii V7 IV I6 vii V7","clickResolutionMs":0.01,"tags":[],"modulations":{"17":0},"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A","13":"B","17":"C","21":"C\'"},"secondMeasure":2.389999999999993,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-VII _ _ _ _ _ _ VI-VII I","clickResolutionMs":0.01,"tags":[],"modulations":{"5":0},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":9,"firstMeasure":0,"step":"end","comment":"modulation at m.5?","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Ball Story II - Jong Yuk Chuen Suet Fa Jong II":{"Ball Story II - Jong Yuk Chuen Suet Fa Jong II (19xx)(Sun Team).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ I I V V5 IV I V V5 I I vi vi IV I ii iii IV I V5 V","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[7],"form":{"1":"intro","7":"antecedent","15":"consequent"},"secondMeasure":1.0400000000000007,"loop":27,"firstMeasure":0,"step":"end","comment":"infinite period","correctedMeasures":{"1":4.957142857142857,"10":9.571428571428571,"14":13.842857142857143,"26":26.614285714285714},"tonic":0,"basedOn":null}}},"Nintendo/Astyanax":{"Astyanax [Lord of King, The] (1989-12-21)(Aicom)(Jaleco)(Jaleco).nsf":{"0":{"beatsPerMeasure":6,"romanNumerals":"i i i i VII VII VII VII","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"i iv i VII i iv iv-v i IV iii ii I IV iii ii-iii IV","clickResolutionMs":0.01,"tags":["form:fermata_between_sections","form:period"],"modulations":{"9":0},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":9.542857142857143},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i v VI V5 IV i _ V i v VI V IV i VII-VII-VI-VII i V/VI VI V i IV ii IV v i v VI v","clickResolutionMs":0.01,"tags":["form:period"],"modulations":{"17":4,"36":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","9":"A:consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"i VI iv v i VI v _ iv v i i VI V5 i _ VI v i i VI VII5 i _ i VII VI v iv v VI V i VII VI v iv v VI V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":44,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"25":38.31000000000095},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"21":2,"29":7,"37":2},"tags":["harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8400000000000005,"loop":65,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":6.489999999999906,"loop":37,"firstMeasure":4.88999999999994,"step":"first measure","comment":"","correctedMeasures":{"1":4.714285714285714,"2":6.389999999999908,"3":7.989999999999874},"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":3,"romanNumerals":"_ _ _ _ _ I5","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.1900000000000008},"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"romanNumerals":"i VII5 i VII5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"12":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"13":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"15":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":2.389999999999993,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"16":{"beatsPerMeasure":4,"romanNumerals":"i VI VII v","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"17":{"beatsPerMeasure":4,"romanNumerals":"VII VI5 VII I VII I5 VII I5 VII I5","clickResolutionMs":0.01,"tags":[],"modulations":{"5":3},"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i VI5 iv III i VI IV5-v I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"9":12.779999999999772,"10":14.379999999999738,"22":33.56000000000189},"basedOn":null}}},"Nintendo/Battle City":{"Battle City (1985-09-09)(Namco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i III IV VI-VII5 I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:constant_structures"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Back to the Future":{"Back to the Future (1989-09)(Beam)(LJN).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I-V7/IV-IV-IV I-V7/IV-IV-IV I-V7/IV-IV-IV VII-IV-V-V _ _ _ _ _ _ _ _ _ I-V7/IV-IV-IV I-V7/IV-IV-IV I-V7/IV-IV-IV VII-IV-V-V _ III V i IV VI III VI III VI V V5","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","bass:riff","form:fermata_between_sections","form:ABABC","harmony:parallel_keys","scale:dorian","middle_voice:riff"],"fourMeasurePhrasingReferences":[14,22,27,9],"secondMeasure":1.490000000000001,"loop":38,"firstMeasure":0,"step":"end","comment":"dorian riff, bug: snippet ignores custom phrasing","correctedMeasures":{"2":1.6,"6":8.014285714285714,"14":19.964285714285715,"15":21.57857142857143,"19":27.95,"27":39.82000000000065,"28":40.71000000000047,"29":41.51000000000031},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I I I I IV IV I I V5 V I I I I I I IV IV I I V5 V I I","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0900000000000007,"form":{"1":"intro","5":"chorus","17":"chorus"},"loop":29,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Baken Hisshou Gaku - Gate In":{"Baken Hisshou Gaku - Gate In (1990-05-25)(Graphic Research)(KAC).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV I IV I V5 V I I IV I IV I V I V V I I V/V V5/V V V I I IV I IV I V V I I IV I IV I V I","clickResolutionMs":0.01,"tags":[],"modulations":{"21":7,"25":7,"41":0},"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Astro Fang - Super Machine":{"Astro Fang - Super Machine (1990-10-26)(A-Wave).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","location:boss"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI i4","clickResolutionMs":0.01,"tags":["harmony:quartal","timbre:ultra_fast_notes","rhythm:syncopation"],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":5.339999999999931},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VII VII VI VI V V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i ii IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V7/IV V7/IV IV IV iv iv V5 V5","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass","voice_leading:Vsus4","form:extra_measure","middle_voice:melody","motive:4 repetitions"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI V III ii i VII-viio","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:doubles_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI iv iv V5 V5 i IV iv V V","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz","middle_voice:arpeggio","form:extra_measure"],"fourMeasurePhrasingReferences":[14,9],"secondMeasure":1.340000000000001,"loop":14,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"13":15.979999999999704,"14":17.32999999999991},"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I II II III #VI III V","clickResolutionMs":0.01,"tags":["harmony:neo-riemannian","harmony:constant_structures","middle_voice:melody"],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","scale:dorian","upper_voices:polyphony","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.042857142857143},"tonic":9,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Aa Yakyuu Jinsei Icchokusen":{"Aa Yakyuu Jinsei Icchokusen (1992-12-25)(-)(Sammy).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ _ _ _ _ IV-iii ii-I","clickResolutionMs":0.01,"modulations":{"3":2,"5":0,"7":2,"9":0},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Attack of the Killer Tomatoes":{"Attack of the Killer Tomatoes (1992-01)(Imagineering)(THQ).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I5 _ _ _ _ _ _ _ iv iv IV5 iv V VI V I5 _ _ _ _ _ _ _ _ _ _","clickResolutionMs":0.01,"modulations":[],"tags":["form:extra_measure"],"fourMeasurePhrasingReferences":[11,15,18,22,26,3,30,33,7],"secondMeasure":1.490000000000001,"loop":37,"firstMeasure":0,"step":"end","comment":"","tonic":2,"correctedMeasures":{"31":45.74999999999947,"33":48.79999999999886,"34":50.34999999999855},"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 _ _ _ _ _ _ i iv iv _ _ _ _ _ _ V5 IV5 I5","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","melody:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":26,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv iv i i V7 V7 i i V7 i viio7 viio7 v viio i i","clickResolutionMs":0.01,"modulations":[],"tags":["style:common_practice"],"fourMeasurePhrasingReferences":[7],"secondMeasure":23.6700000000009,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.5900000000000012,"5":6.489999999999906},"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ V VI VII VII v VI VII VII","clickResolutionMs":0.01,"modulations":{"9":1,"13":10,"17":3},"tags":["scale:chromatic","middle_voice:parallel_fourths","bass:riff","form:stasis_vs_progression","upper_voices:polyphony"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":12.979999999999768},"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ iv V5 _ i","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.28999999999991},"tonic":3,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["bass:riff","scale:chromatic"],"modulations":{"9":4,"15":3},"fourMeasurePhrasingReferences":[],"secondMeasure":1.6900000000000013,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":13.729999999999752,"11":17.179999999999886},"tonic":3,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i I I i i VI i VI i VI i I I I I","clickResolutionMs":0.01,"modulations":{"3":2,"7":8,"9":2,"17":8,"21":9},"tags":["scale:lydian"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/America Oudan Ultra Quiz - Shijou Saidai no Tatakai":{"America Oudan Ultra Quiz - Shijou Saidai no Tatakai (1991-11-29)(Pixel)(Tomy).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.4099999999999926,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Fester\'s Quest":{"Fester\'s Quest (1989-09)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V7 I I ii V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["style:common_practice","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.4899999999999696,"form":{"1":"A:antecedent","5":"A:consequent"},"loop":9,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I I ii V I I ii V I I ii V I I7 I7 II7 II7 V V I5 I I ii V I I ii V V V V VI VI I","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[5,13,21,29,35],"secondMeasure":1.340000000000001,"form":{"1":"A","9":"A","17":"B","25":"A\'"},"loop":null,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":{"2":1.3857142857142857,"3":2.389999999999993,"4":3.4399999999999706,"5":4.539999999999948,"8":7.714285714285714,"11":10.889999999999812,"13":13.029999999999767,"16":16.242857142857144,"25":25.820000000001237,"26":26.92000000000141,"34":35.410000000001524,"37":38.61000000000089},"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:boss","middle_voice:parallel_thirds","middle_voice:melody_echo","scale:dorian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.739999999999943,"loop":41,"firstMeasure":3.139999999999977,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","scale:chromatic","middle_voice:melody_echo","bass:riff"],"fourMeasurePhrasingReferences":[27,31],"secondMeasure":2.339999999999994,"form":{"5":"A","9":"A\'","13":"B","17":"A","21":"A\'","25":"B\'","27":"C","31":"C\'","35":"B\'\'","37":"D","41":"D","45":"bridge"},"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ I-_-_-V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_melody","tempo:ritardando"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":{"5":7.489999999999885},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Akira":{"Akira (1988-12-24)(Tose)(Taito).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"IV5 V5 #III5 vi5 I5","clickResolutionMs":0.01,"tags":["rhythm:syncopation"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"power chords syncopated","correctedMeasures":{"3":2.357142857142857,"4":3.5428571428571427,"5":4.742857142857143,"7":7.171428571428572,"11":11.985714285714286,"12":13.142857142857142,"13":14.414285714285715,"14":15.579999999999712,"15":16.757142857142856},"tonic":0,"basedOn":null}}},"Nintendo/Zhan Guo Qun Xiong Zhuan":{"Zhan Guo Qun Xiong Zhuan (1996)(Waixing).nsf":{"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Action 52":{"Action 52.nsfe":{"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":2,"5":8,"7":6,"9":0,"11":2,"13":8,"15":6,"17":0},"tags":["harmony:constant_structures","scale:pentatonic","form:accumulative","middle_voice:absent","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":7,"5":0,"9":5,"11":7,"13":0},"tags":["form:accumulative","timbre:layered","middle_voice:absent","scale:phrygian","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":17,"firstMeasure":0,"step":"end","comment":"","tonic":5,"correctedMeasures":{},"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:weird","bass:riff","harmony:stasis","scale:pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"13":18.93000000000016,"14":20.53000000000041,"17":25.52000000000119},"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi I I vi vi I I vi vi I I vi vi IV V I vi IV V5 I5 I5 I I #VI5 #VI5 I I #VI5 #VI5 I I vi vi I I vi vi IV V5 I #VI5 IV V5 I I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:I-vi shuttle","form:accumulative","melody:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A\'","13":"A\'","17":"B","21":"B\'","25":"A\'\'","29":"A\'\'","33":"A\'\'\'","37":"A\'\'\'\'","41":"B\'\'","45":"B\'\'\'"},"secondMeasure":1.5700000000000012,"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"19":28.66000000000168,"24":36.7,"34":52.68571428571428,"52":81.52857142857142},"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:i-VII shuttle","bass:riff","form:accumulative","scale:hexatonic_minor_no6"],"fourMeasurePhrasingReferences":[3,7,9,13],"form":[],"secondMeasure":6.639999999999903,"loop":15,"firstMeasure":4.489999999999949,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:octaves","scale:pentatonic","form:accumulative","middle_voice:absent","harmony:i-VII shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hemitonic_pentatonic","bass:octaves","bass:riff","middle_voice:melody_echo","form:accumulative"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.139999999999977,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":51.3,"18":54.92857142857143,"19":58.24285714285714,"20":61.08571428571429},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:octaves","harmony:stasis"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.139999999999977,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Arch Rivals - A Basketbrawl!":{"Arch Rivals - A Basketbrawl! (1990-11)(Midway)(Rare)(Acclaim).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.2199999999999545,"loop":2,"firstMeasure":1.9600000000000015,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:solo","middle_voice:parallel_thirds","harmony:stasis","bass:riff","scale:mixolydian","timbre:layered","location:sport_level","melody:fills_at_rests","timbre:portamento"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":39,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":12.759999999999772,"9":17.00999999999986,"10":19.160000000000196,"21":42.590000000000096,"22":44.72999999999967,"25":51.1299999999984,"29":59.61999999999671},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:solo","reference:previous_subtune","scale:mixolydian","middle_voice:melody_echo","timbre:ultra_fast_notes","bass:riff","timbre:layered","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"25":"same as subtune 2, m. 27"},"secondMeasure":2.1399999999999983,"loop":33,"firstMeasure":0,"step":"end","comment":"same form as subtune 2 - also quotes subtune 2 and subtune 4","correctedMeasures":{"4":6.389999999999908,"5":8.519999999999863,"7":12.779999999999772,"8":14.909999999999727,"9":17.00999999999986,"12":23.42000000000086,"13":25.570000000001198,"19":38.36000000000094,"20":40.44000000000052,"24":48.99999999999882},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+2","voice_leading:W-arpeggio","scale:pentatonic","middle_voice:melody_echo","timbre:layered","location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V V7 I-V I V V7 I-V-I-I","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","harmony:pure_I-V","bass:alberti","style:common_practice","middle_voice:arpeggio","melody:fills_at_rests","timbre:layered","location:sport_half_time"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6000000000000012,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0.4000000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:sport_points_scored"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call","location:sport_points_scored"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5600000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"phrygian sport jingle, \\"California ber Alles\\"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Barcode World":{"Barcode World (1992-12-18)(Epoch)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I7 IV7 VII7 VI-V I7 IV7 V7/V-V7 I7 IV7 vi7 IV7 vi7 IV7 vi7 V7/V V7","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:twice_as_fast","harmony:blues_seventh_chords","rhythm:swing","middle_voice:melody","form:period"],"fourMeasurePhrasingReferences":[3],"form":{"3":"A:antecedent","7":"A:consequent","11":"B"},"secondMeasure":5.089999999999936,"loop":19,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"2":2.4},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I I I I iii7 iii7 IV^ IV^ I I IV^ IV^ I I IV^ IV^","clickResolutionMs":0.01,"modulations":{"9":10,"13":8},"tags":["style:bossa_nova","rhythm:latin","harmony:diatonic_seventh_chords","middle_voice:creative_chord_tones","bass:root_fifth","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.7399999999999856,"loop":17,"firstMeasure":1.440000000000001,"step":"end","comment":"","correctedMeasures":{"2":2.914285714285714,"3":4.389999999999951,"4":5.857142857142857},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V V V V I7 I7 IV7 I7 I7 I7 IV7 I7 IV7 IV7 I7 I7 IV V7/V V V","clickResolutionMs":0.01,"modulations":[],"tags":["form:sentence","rhythm:3+3+2","harmony:blues_seventh_chords"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"intro (not looped)","5":"sentence. basic idea","9":"basic idea repeated","13":"fragmentation. 2m+2m+1m+1m","19":"cadence"},"loop":21,"firstMeasure":0.04,"step":"end","comment":"R=2N sentence","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","scale:whole-tone","scale:octatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV I I IV IV ii V I vi ii V I V5","clickResolutionMs":0.01,"modulations":[],"tags":["form:sentence","style:common_practice","voice_leading:triple_suspension"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7400000000000013,"form":{"1":"sentence. basic idea","5":"repetition of basic idea","9":"fragmentation via faster harmonic rhythm","13":"cadence"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bao Xiao Tien Guo (Explosion Sangokushi) - Bao Xiao San Guo (SFX)":{"Bao Xiao Tien Guo (Explosion Sangokushi) - Bao Xiao San Guo (SFX).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:launch_screen","style:chinese","middle_voice:riff"],"fourMeasurePhrasingReferences":[4,7,10],"form":[],"secondMeasure":1.5900000000000012,"loop":20,"firstMeasure":0,"step":"end","comment":"phrasing of different voices doesn\'t match. unusual loop length","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:intro","tonic:ambiguous","harmony:stasis","bass:riff","style:chinese","scale:dorian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":18,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Exodus - Journey to the Promised Land":{"Exodus - Journey to the Promised Land (1991)(Wisdom Tree).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel","middle_voice:absent","form:extra_measure","harmony:pure_I-V","location:level"],"fourMeasurePhrasingReferences":[5,10,14,19,23,32,41],"form":{"1":"octave + sixth","9":"extra measure","10":"two octaves + sixth","18":"extra measure","19":"octave + sixth","27":"extra measure","28":"sixth","36":"extra measure","37":"third","45":"extra measure"},"secondMeasure":2.6499999999999875,"loop":46,"firstMeasure":0.5000000000000002,"step":"end","comment":"melody has a range of six notes","tonic":0,"correctedMeasures":{"4":6.928571428571429,"13":26.12857142857143,"22":45.3,"31":64.47142857142858,"40":83.67142857142858},"basedOn":"Father Abraham Had Many Sons (Christian song)"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV-iii ii-I IV-iii ii-I IV-iii ii-I IV-iii ii-I","clickResolutionMs":0.01,"modulations":{"5":5,"7":0},"tags":["middle_voice:absent","form:AABA","bass:inversions","location:pause"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","3":"A","5":"B","7":"A"},"secondMeasure":2.399999999999993,"loop":9,"firstMeasure":0.25000000000000006,"step":"end","comment":"","correctedMeasures":{"9":17.33999999999991},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I I64-V I IV I I _ _ _ V _ _ _ I","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","bass:inversions","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent"},"secondMeasure":1.300000000000001,"loop":null,"firstMeasure":0.25000000000000006,"step":"end","comment":"Moses Invulnerable","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":11,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7500000000000013,"loop":2,"firstMeasure":0,"step":"end","comment":"Moses Stops","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0500000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"Game Clear","correctedMeasures":[],"tonic":3,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:AABA","bass:inversions","style:common_practice","middle_voice:absent","location:intro","harmony:pure_I-V"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"A\'"},"secondMeasure":1.300000000000001,"loop":17,"firstMeasure":0.25000000000000006,"step":"end","comment":"Help Screen","correctedMeasures":[],"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_start"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8000000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I _ I","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8000000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"Game Over","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0500000000000007,"loop":null,"firstMeasure":0.25000000000000006,"step":"second measure","comment":"Start Over","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:demo","location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.349999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Crayon Shin-chan - Ora to Poi Poi":{"Crayon Shin-chan - Ora to Poi Poi (1993-08-27)(Tose)(Bandai).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-V7/ii ii-ii-V-V+ I ii V ii/ii-V/ii-ii-V I ii V I IV-iv iii-V7/V ii-V I IV-iv iii-V/ii ii V-V+","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass","bass:root_fifth","melody:fills_at_rests","timbre:oscillator_as_percussion","form:period","rhythm:latin","form:reversed_period","voice_leading:Vsus4","voice_leading:triple_suspension","scale:blues","middle_voice:lower_chord_tones","middle_voice:absent"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.7900000000000014,"form":{"1":"intro (not looped)","3":"A:antecedent","7":"A:consequent","11":"B:consequent","15":"B:antecedent"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":12.579999999999776,"19":32.357142857142854},"tonic":10,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:tonic_added-sixth_chord"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.489999999999991,"loop":5,"firstMeasure":0.09,"step":"end","comment":"","correctedMeasures":{"2":2.489999999999991},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 V-IV V-IV I ","clickResolutionMs":0.01,"modulations":[],"tags":["style:boogie-woogie","timbre:oscillator_as_percussion","melody:fills_at_rests"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I^ vi I vi IV V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","bass:alberti","harmony:diatonic_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.9899999999999802,"loop":7,"firstMeasure":0,"step":"end","comment":"kind of Alberti, idk","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ vi _ _ _-V/ii ii","clickResolutionMs":0.01,"modulations":{"17":1,"23":5},"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.2400000000000009,"form":{"1":"A","9":"A","17":"B"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"20":23.985714285714284,"25":30.370000000001948},"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I VII I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":9,"firstMeasure":0,"step":"end","comment":"melody: 1m arpeggio vs. 1m step-wise","correctedMeasures":[],"tonic":2,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I II","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:lydian_shuttle","middle_voice:melody_echo","bass:root","timbre:oscillator_as_percussion","rhythm:3+3+2","melody:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V I vi IV V iii vi IV V iii vi IV V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","rhythm:3 against 2","bass:transposed_riff","melody:reharmonization"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A\'","13":"A\'\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I5 I5 ii7 V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:tonic_added-sixth_chord","form:sentence","bass:different_strategies","timbre:oscillator_as_percussion","upper_voices:different_strategies"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.7900000000000014,"form":{"1":"intro (not looped)","3":"basic idea","4":"repeated","5":"fragmentation 2b+2b+1b+1b"},"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.585714285714286},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:octaves","timbre:oscillator_as_percussion","bass:root_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Poker Mahjong":{"Poker Mahjong (1991)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V I I IV5 V5 I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Road Runner":{"Road Runner (1989)(Atari Games)(Tengen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":"Rossini, \\"William Tell Overture\\""},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":10},"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":"Aram Khachaturian \\"Sabre Dance\\""},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":"Tchaikovsky \\"The Nutcracker - Trepak\\""},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"bug: high notes not visible","correctedMeasures":[],"tonic":null,"basedOn":"Rimsky-Korsakov \\"Flight of the Bumblebee\\""},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:portamento","scale:chromatic","location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.2800000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Metal Fighter":{"Metal Fighter (1989)(Sachen, Joy Van).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv iv v v i i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:natural_minor","form:abrupt_ending","bass:transposed_riff","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 IV7 IV7 V7 V7 V7 V7","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:blues_seventh_chords","middle_voice:parallel_thirds","bass:transposed_riff","style:boogie-woogie"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_echo","melody:transposed_riff","form:abrupt_ending"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Caltron 6-in-1 - Bookyman":{"Caltron 6-in-1 - Bookyman (1992)(MegaSoft)(Caltron).nsf":{"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Don Doko Don":{"Don Doko Don (1990-03-09)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VI IV5 V IV5 I vi IV VI-V I","clickResolutionMs":0.01,"modulations":{"9":9},"tags":["bass:root_fifth","harmony:parallel_keys","middle_voice:parallel_thirds","melody:transposed_riff"],"fourMeasurePhrasingReferences":[6],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ V/ii IV _ _ _ _ _ _ _ IV iii ii I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven","rhythm:3 against 2","timbre:silence"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":38,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"22":33.5100000000019,"23":35.110000000001584,"37":57.48571428571429,"38":58.31428571428572,"39":59.889999999996654},"tonic":0,"basedOn":null}}},"Nintendo/Battle Rush - Build Up Robot Tournament":{"Battle Rush - Build Up Robot Tournament (1993-11-13)(Tose)(Bandai).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I VII I VII I VII","clickResolutionMs":0.01,"modulations":{"9":0},"tags":["harmony:mixolydian_shuttle","bass:transposed_riff","motive:3 repetitions","middle_voice:melody","middle_voice:mixed_parallel","harmony:stasis"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B"},"secondMeasure":1.7900000000000014,"loop":17,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I VII I VII I VII I VII VI VI VII VII I","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","bass:transposed_riff","harmony:stasis","bass:riff","melody:fills_at_rests","middle_voice:mixed_parallel","middle_voice:melody","bass:pedal_point","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.2571428571428571},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:thirds_and_sixths","bass:octaves","bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.289999999999995,"loop":5,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":{"2":2.0714285714285716},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"tags":["harmony:I-III shuttle","voice_leading:three_parallel_voices"],"modulations":{"3":8},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8900000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.7},"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":5,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":{"2":2.0400000000000005,"3":3.989999999999959},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"V","clickResolutionMs":0.01,"modulations":{"10":0},"tags":["form:extra_measure","scale:whole-tone","tonic:ambiguous"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.2400000000000009,"form":{"18":"extra measure"},"loop":19,"firstMeasure":0,"step":"end","comment":"m.10 tonic ambiguous?","correctedMeasures":{"2":1.2400000000000009,"3":2.5,"18":21.442857142857143},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:I-III shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0.09,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I^ II I^ II _ _ _ _ _ _ _ _ _ _ _ _ IV IV V V","clickResolutionMs":0.01,"modulations":{"41":10},"tags":["voice_leading:descending_chromatic_bass","harmony:lydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"21":36.74285714285714,"22":38.57142857142857,"23":40.44285714285714,"24":42.214285714285715,"25":44.00999999999981,"26":45.84999999999945},"tonic":1,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Battle Fleet":{"Battle Fleet (1990-06-22)(Namco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V I I V I5 IV I IV V I I V I","clickResolutionMs":0.01,"modulations":[],"tags":["style:common_practice","form:period","bass:walking","middle_voice:mixed_parallel","bass:inversions","location:launch_screen"],"fourMeasurePhrasingReferences":[],"secondMeasure":5.36999999999993,"form":{"1":"A:antecedent","5":"A:consequent"},"loop":17,"firstMeasure":3.569999999999968,"step":"end","comment":"parallel: either third or lower chord tone, in segments","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _-IV V I I I ii ii ii ii-V/V V5 I I I IV IV I V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:menu","form:period","bass:walking","melody:basic_idea_x4","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro (not looped)","5":"antecedent","13":"consequent"},"secondMeasure":2.2199999999999966,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.7571428571428571,"3":3.5428571428571427},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I VII I I VII vi VII I VII vi VII I VI-VII-i-i VI-VII-i-i VI-VII-i-i VI-VII-I-I","clickResolutionMs":0.01,"modulations":{"6":4,"15":1},"tags":["harmony:mixolydian_shuttle","location:level","tempo:twice_as_fast","form:extra_measure","middle_voice:lower_chord_tones","middle_voice:parallel_thirds","bass:root"],"fourMeasurePhrasingReferences":[6,10,15],"form":{"1":"A","6":"B","10":"B\'","15":"C"},"secondMeasure":3.569999999999968,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","harmony:stasis","scale:dorian_over_pentatonic","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"B","9":"B","13":"C","17":"D","21":"D\'","25":"E","29":"E\'"},"secondMeasure":1.8200000000000014,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I VII I VII I VII I ","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass","middle_voice:melody_echo","form:not_looped","harmony:mixolydian_shuttle","melody:arpeggio","middle_voice:lower_chord_tones"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B","25":"C"},"secondMeasure":2.1199999999999988,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":19.160000000000196,"11":21.30000000000053,"14":27.70000000000153,"18":36.19000000000137},"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","voice_leading:descending_chromatic_melody","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V V I I V I5","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","reference:previous_subtune","harmony:pure_I-V","middle_voice:thirds_and_chord_tones","bass:walking"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","5":"consequent"},"secondMeasure":2.2199999999999966,"loop":null,"firstMeasure":0.4200000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["melody:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.8199999999999625,"loop":3,"firstMeasure":1.1700000000000008,"step":"end","comment":"battle","correctedMeasures":[],"tonic":10,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Banana":{"Banana (1986-09-08)(Victor).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-VII I VII I VII-I5 I VII I VII-I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle","bass:transposed_riff","location:menu","melody:basic_idea_x3","melody:fills_at_rests","form:accumulative"],"fourMeasurePhrasingReferences":[2],"secondMeasure":2.0899999999999994,"form":{"1":"intro (looped)","2":"A","6":"A\'"},"loop":10,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":10.657142857142857,"10":18.950000000000163},"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","harmony:stasis","middle_voice:absent","anomaly:strange_offset"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","harmony:stasis","reference:previous_subtune","form:accumulative"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2.0899999999999994,"3":4.239999999999954,"5":8.489999999999863,"8":14.879999999999727},"tonic":6,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":2.7899999999999845,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.189999999999955,"4":5.789999999999921},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VII VII","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Banana Prince":{"Banana Prince [Bananan Ouji no Daibouken] (1991-12-20)(KID)(Takara).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V7 V7 iv/ii V/ii ii7 viio7 I io7 IV V7 I VI7 I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:rich_common_practice","style:common_practice","voice_leading:descending_chromatic_bass","middle_voice:melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":17,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"17":4,"33":0},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.439999999999992,"loop":33,"firstMeasure":0.7400000000000004,"step":"end","comment":"","correctedMeasures":{"11":18.080000000000027,"15":25.02000000000111},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:stasis_vs_progression"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.439999999999992,"loop":17,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["beats:division_change"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":3.1199999999999775,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I I i-i-bII-#III","clickResolutionMs":0.01,"modulations":{"5":3,"6":6},"tags":["tempo:twice_as_fast","harmony:constant_structures","middle_voice:mixed_parallel","melody:fills_at_rests","timbre:many_instruments_same_voice"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.089999999999957,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I bII7 I I I bII7 I III iv I VII5 III iv bII7 I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:harmonic_major","form:period","bass:root_fifth","melody:fills_at_rests","timbre:tremolo","upper_voices:polyphony"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent"},"secondMeasure":1.7900000000000014,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"8":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I IV-ii V-IV iii-V I IV-ii V-V7 I ii/IV-V/IV IV ii-V I IV-V I iv-VI ii-V I","clickResolutionMs":0.01,"modulations":{"13":3,"15":0},"tags":["form:period","form:reversed_period","harmony:far-out_point","style:common_practice","harmony:rich_common_practice","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:consequent","13":"B:antecedent","14":"far-out point"},"secondMeasure":1.9400000000000015,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V7 V7 iv/ii V/ii ii7 viio7 I io7 IV V7 I VI7 I","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune","harmony:rich_common_practice","style:common_practice","melody:arpeggio","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1400000000000008,"loop":17,"firstMeasure":0,"step":"end","comment":"chords from subtune 1","correctedMeasures":{"17":18.271428571428572},"tonic":0,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"34":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"41":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"42":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:telephone_call"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bandit Kings of Ancient China":{"Bandit Kings of Ancient China [Suikoden - Tenmei no Chikai] (1990-06-25)(Koei).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:chinese","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5800000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV ii7 I I-V7/IV IV iii IV V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:weird_chord","bass:root_fifth","bass:transposed_riff","middle_voice:thirds_and_sixths","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"B"},"secondMeasure":2.9199999999999817,"loop":13,"firstMeasure":0.7700000000000005,"step":"end","comment":"m.6?","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V/V V/V IV iv I I I I V/V V/V IV iv I-io7 ii-V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:turnaround_coda","form:period","middle_voice:melody","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","9":"consequent"},"secondMeasure":1.5800000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"creative arpeggio","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i viio viio i viio I5-I5-bII-viio","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:twice_as_fast","bass:octaves","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.229999999999954,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i VII i i i VII5 i i i VII i i VI VII i i I V I I V V I _ I V I I VII VII i i","clickResolutionMs":0.01,"tags":["form:period","harmony:pure_I-V","bass:root","upper_voices:same_range","middle_voice:static_chord_tones","middle_voice:parallel_thirds"],"modulations":{"17":0,"29":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.1800000000000008,"form":{"1":"A:antecedent","9":"A:consequent","17":"B:antecedent","25":"B:consequent"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI-V","clickResolutionMs":0.01,"modulations":[],"tags":["scale:major_pentatonic","style:chinese"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0799999999999996,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi IV iv I I IV iii IV V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diatonic_seventh_chords","middle_voice:melody","bass:melody","middle_voice:parallel_octaves","middle_voice:parallel_thirds","melody:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5800000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I I V/V V/V IV iv I I I I V/V V/V IV iv7 I i","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:static_chord_tones","middle_voice:melody","bass:transposed_riff","melody:fill_after_cadence","upper_voices:same_range"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5800000000000012,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.179999999999976,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i II7 iio i i II iv i","clickResolutionMs":0.01,"modulations":[],"tags":["bass:inversions","harmony:neo-riemannian","middle_voice:melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.229999999999954,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":12.769999999999772},"tonic":0,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.3799999999999932,"loop":4,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.2299999999999964,"loop":4,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Conquest of the Crystal Palace":{"Conquest of the Crystal Palace [Matendouji] (1990-08-24)(Quest).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bubble Bath Babes":{"Bubble Bath Babes [Soap Panic] (1991)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I V7","clickResolutionMs":0.01,"modulations":{"21":5,"29":7,"53":8,"69":3},"tags":["rhythm:3+3+2","melody:fills_at_rests","upper_voices:same_range","melody:basic_idea_x3","upper_voices:polyphony","bass:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"form":{"1":"intro (looped)","5":"A","13":"A","21":"A","29":"A","37":"B","53":"B","69":"bridge"},"loop":71,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"51":79.78571428571429,"67":105.34285714285714,"70":110.20000000001947},"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I V I","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:latin","middle_voice:thirds_and_sixths","bass:riff"],"fourMeasurePhrasingReferences":[],"form":{"13":"loop start"},"secondMeasure":1.5400000000000011,"loop":53,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"3":3.139999999999977,"8":11.129999999999807,"9":12.729999999999773,"19":28.72000000000169,"29":44.628571428571426},"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I IV I IV I V7 I _ IV viio/V I64 V/ii ii I64 V _ I IV I IV I IV-V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["style:ragtime","voice_leading:Vsus4","timbre:portamento","upper_voices:polyphony","bass:root","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A (intro, not looped)","9":"B","17":"A\'"},"secondMeasure":4.539999999999948,"loop":25,"firstMeasure":3.139999999999977,"step":"end","comment":"","correctedMeasures":{"2":4.742857142857143,"3":6.339999999999909},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.3099999999999525,"loop":null,"firstMeasure":2.020000000000001,"step":"end","comment":"","correctedMeasures":{"2":4.228571428571429,"3":6.269999999999911,"8":16.914285714285715,"9":19.06000000000018},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ V7/IV IV iv I","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:ascending_chromatic","melody:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ VI-VII-I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Bubble Bobble":{"Bubble Bobble (1988-11)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I I vi vi _ _ _ _ V I V I _ _ _ _ _ _ _ _ _ _ II5-V5 I5-_","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","bass:octaves","middle_voice:absent","tempo:ritardando","timbre:unexpected_detune"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"intro","5":"A:antecedent","9":"A:consequent","13":"B:antecedent","21":"B:consequent"},"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.139999999999871,"6":9.989999999999831},"tonic":10,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi _ _ _ _ V I V I _ _ _ _ _ _ _ _ _ _ II5-V5 I5","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune","form:period","bass:octaves","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","17":"B:consequent"},"secondMeasure":1.8400000000000014,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"speed up","correctedMeasures":[],"tonic":null,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:major_pentatonic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VI I5 I5","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:i-VI shuttle","bass:octaves","melody:arpeggio","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.289999999999995,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.679999999999945,"5":9.58999999999984},"tonic":11,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii iii ii","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:unexpected_detune","melody:arpeggio","bass:octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"23":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i i iv iv i i V V","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","bass:alberti","location:boss"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.290000000000001,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"29":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"bII I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:harmonic_major","harmony:phrygian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"30":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:credits"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":9.289999999999846,"loop":null,"firstMeasure":7.349999999999888,"step":"end","comment":"","correctedMeasures":{"9":22.2,"10":24.1,"11":25.870000000001244,"17":37.142857142857146,"21":44.699999999999676,"23":48.44999999999893},"tonic":0,"basedOn":null},"31":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:tetratonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"32":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"34":{"beatsPerMeasure":12,"disableSnapToNotes":false,"romanNumerals":"i VII VI V i VII VI V i VII VI V i VII VI V i VII VI V ","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root_fifth","melody:transposed_riff","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9899999999999802,"form":{"1":"intro","5":"A","9":"A","13":"B","17":"B"},"loop":21,"firstMeasure":0.24000000000000007,"step":"end","comment":"Saint-Sans \\"Dance Macabre\\"-like riff","correctedMeasures":{"3":5.789999999999921},"tonic":9,"basedOn":null}}},"Nintendo/Baltron":{"Baltron (1986-03-19)(Shouei System)(Toei Animation).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:octaves"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.9100000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.5099999999999905,"loop":2,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i V5","clickResolutionMs":0.01,"modulations":[],"tags":["bass:octaves","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9100000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9100000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9100000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Be-Bop High School - Koukousei Gokuraku Densetsu":{"Be-Bop High School - Koukousei Gokuraku Densetsu (1988-03-30)(Data East).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I V7","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","bass:root","upper_voices:polyphony"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1899999999999973,"loop":13,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV7 IV7 I7 I7 V7 V7 i7 V","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","bass:root","middle_voice:transposed_riff","melody:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.485714285714286,"5":5.989999999999917,"6":7.4714285714285715,"8":10.514285714285714,"10":13.457142857142857,"12":16.428571428571427},"tonic":6,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i IV7 IV7 IV7 IV7 I7 I7 I7 I7 V7  IV7 I7 V","clickResolutionMs":0.01,"modulations":[],"tags":["form:16-bar_blues","style:boogie-woogie"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":11.628571428571428,"14":16.742857142857144,"15":18.02857142857143},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.479999999999991,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I7 I","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:minor_seconds","form:12-bar_blues","bass:transposed_riff","melody:fills_at_rests"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.9714285714285715},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":5.985714285714286},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hemitonic_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 IV7 I7 I7 IV7 IV7 I7 I7 IV7 V7 I7 V I7 IV7 I7 I7 IV7 IV7 I7 I7 IV7 V7 I7 V IV7 IV7 I7 I7 ii7 ii7 V VI V _ I7 IV7 I7 I7 IV7 IV7 I7 I7 IV7 V7 I7 V13 I","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","tempo:ritardando","form:not_looped"],"fourMeasurePhrasingReferences":[5,9,17,21,29,33,39,43],"form":{"1":"A","13":"A\'","25":"B","35":"A"},"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0.49000000000000027,"step":"end","comment":"","correctedMeasures":{"34":43.90999999999983,"35":45.24999999999957,"36":46.54999999999931,"47":61.58571428571429},"tonic":6,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I V V I I V-I I V-I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:pure_I-V"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.8900000000000015,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6400000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"13":19.930000000000316},"tonic":4,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i-VII VI7-VII7 V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"20":{"beatsPerMeasure":12,"disableSnapToNotes":false,"romanNumerals":"i V V7/iv iv VII vi ii V7","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:twice_as_fast","middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.239999999999975,"loop":9,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bao Qing Tian":{"Bao Qing Tian (1996)(Unknown).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:chinese","scale:pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6400000000000012,"loop":24,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":{"10":13.429999999999758,"11":14.929999999999726,"12":16.314285714285713,"13":17.77999999999998,"14":19.230000000000206,"16":22.170000000000666,"23":32.42000000000212},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:chinese","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.440000000000001,"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"28":39.71000000000067},"tonic":5,"basedOn":null}}},"Nintendo/Robocop 3":{"Robocop 3 (1992-08)(Probe)(Ocean).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8800000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.369999999999887,"6":10.169999999999828,"7":14.31999999999974,"8":16.469999999999775,"9":20.21000000000036,"10":24.010000000000954,"11":27.710000000001532},"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"5":4},"tags":["timbre:oscillator_as_percussion","bass:riff","middle_voice:riff","melody:riff","scale:blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.199999999999997,"loop":9,"firstMeasure":0.05,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Beauty and the Beast":{"Beauty and the Beast (1994)(-)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V47 I V47 I V47 I V47 I V47 I V47 I iii IV V I  V47 I v-I IV ii7 I V47","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","timbre:ultra_fast_notes","timbre:variable_duty_cycle"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A\'","13":"B","17":"A\'\'","21":"C"},"secondMeasure":2.1699999999999977,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.371428571428571},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:phrygian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:i-VI shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Bonza":{"Bonza (19xx)(Unknown).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i VII VI VII i VII VI-VII i","clickResolutionMs":0.01,"modulations":[],"tags":["bass:transposed_riff","melody:basic_idea_x3","middle_voice:lower_chord_tones","form:period","origin:russia"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro (looped)","3":"antecedent","7":"consequent"},"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:W-arpeggio","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Battletoads":{"Battletoads (1991-06)(Rare)(Tradewest).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:portamento"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.420000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.9714285714285715,"4":4.614285714285714,"5":6.069999999999915,"6":7.6,"7":9.019999999999852,"17":23.85000000000093},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:portamento"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Best Play Pro Yakyuu":{"Best Play Pro Yakyuu (1988-07-15)(ASCII).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["game_genre:baseball"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.385714285714286},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Binary Land":{"Binary Land (1985-12-19)(Hudson).nsf":{"0":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ I I I V7 V7 V7 V7 I I I I ii V I-viio/V I64-V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:accelerando","style:waltz","voice_leading:Cad64","form:uniform_period","style:common_practice"],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.0899999999999994,"form":{"1":"intro","3":"A","11":"A\'"},"loop":19,"firstMeasure":0.49000000000000027,"step":"end","comment":"","correctedMeasures":{"4":5.039999999999937},"tonic":10,"basedOn":"Satie - Je te veux"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i V7 i","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:pure_i-V","location:lost","bass:inversions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":"Beethoven - Ode To Joy"},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Balda":{"Balda.nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["origin:russia"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Blueflamen Tupari":{"Blueflamen Tupari.nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:vocal_DMC","origin:demoscene"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9200000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.8700000000000014},"tonic":2,"basedOn":null}}},"Nintendo/Slalom":{"Slalom (1987-08)(Rare)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV IV I I IV IV I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+3+3+2+2","middle_voice:parallel_thirds","bass:root_fifth","voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.320000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Blackjack":{"Blackjack (1992)(Odyssey)(American Video Entertainment).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":10.639999999999818},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"5":6,"9":3,"13":0},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bokosuka Wars":{"Bokosuka Wars (1985-12-14)(ASCII)(Bits Laboratory)(ASCII).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.3499999999999726,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":3.742857142857143},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bird Week":{"Bird Week (1986-06-03)(Lenar)(Toemiland).nsf":{"1":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I I V7 V7 I I V7 V7 I I V7 V7 I I V7 V7 I I V7 V7 I I ii ii I I V7 V7 I I ii ii","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","bass:inversions","melody:transposed_riff","middle_voice:absent","non-chord tones:neighbor"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B","17":"C","25":"C"},"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.8899999999999824,"loop":null,"firstMeasure":0.7400000000000004,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0.7400000000000004,"step":"second measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"8":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"I i","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1400000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:demo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"Nintendo/Battle Chess":{"Battle Chess (1990-07)(Beam)(Data East).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI iv v i i i i VI VI iv v i i VI VII i i VI VII i i VI VII i i iv v i i","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","middle_voice:transposed_riff","scale:natural_minor","bass:root","location:launch_screen","form:sentence"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B","25":"B\'"},"secondMeasure":2.489999999999991,"loop":null,"firstMeasure":0.49000000000000027,"step":"end","comment":"A: sentence-like","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":"Chopin - Funeral March"}}},"Nintendo/Balloon Fight":{"Balloon Fight (1985-01-22)(HAL Laboratory)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ I VII I ii","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3 against 2","timbre:oscillator_as_percussion","melody:riff","bass:riff","form:accumulative"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5200000000000011,"form":{"1":"intro (looped)","5":"A","13":"B","21":"A\'","29":"B\'"},"loop":33,"firstMeasure":0,"step":"end","comment":"shuttle?","correctedMeasures":{"3":3.189999999999976,"4":4.789999999999942,"5":6.389999999999908},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diminished_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Bio Force Ape":{"Bio Force Ape (Prototype) (1991)(Seta).nsf":{"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:W-arpeggio","scale:pentatonic","bass:riff","harmony:stasis","middle_voice:parallel_fifths"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.8400000000000014,"form":{"1":"intro (looped)","3":"A","7":"A","11":"B","15":"B\'"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Battle Storm":{"Battle Storm (1991-12-21)(Bullet-Proof Software)(Party Room 21).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ III IV-V","clickResolutionMs":0.01,"modulations":{"5":5,"7":3,"13":5,"15":3},"tags":["scale:blues"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"cadence"},"secondMeasure":1.5700000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ III7 _ I7","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","upper_voices:same_range","harmony:blues_seventh_chords","form:12-bar_blues","melody:riff","scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"cadence"},"secondMeasure":1.7200000000000013,"loop":21,"firstMeasure":0,"step":"end","comment":"12 bar blues with first 8 bars repeated twice","correctedMeasures":{"10":15.559999999999713,"16":25.950000000001257},"tonic":1,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root","middle_voice:absent","melody:transposed_riff","scale:natural_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":19,"firstMeasure":0,"step":"end","comment":"no 5","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":17.97142857142857},"tonic":6,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"5":6,"9":11,"11":4,"15":6,"17":9,"19":11,"21":1},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.3699999999999934,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I III _ _ _ _ _ _ IV V I I IV V","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","melody:riff","harmony:blues_seventh_chords","harmony:constant_structures"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9700000000000015,"form":{"1":"A","5":"A","9":"B","13":"B\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I II II VII VII IV IV VI VII I I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","harmony:constant_structures","bass:root_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"5":9},"tags":["middle_voice:parallel_thirds","melody:fills_at_rests","harmony:stasis","bass:root","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"10":8,"11":9},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":6.369999999999909,"loop":null,"firstMeasure":3.1699999999999764,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":null,"firstMeasure":0.26000000000000006,"step":"second measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/BreakThru":{"BreakThru (1987-11)(Data East).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.2400000000000009,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"22":33.5100000000019},"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0700000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.3699999999999934},"tonic":1,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi IV iv V7 V+ I I vi vi IV iv V5 V5 IV^ IV^ iii7 iii7 IV^ IV^ iii7 V5 ","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","harmony:diatonic_seventh_chords","bass:octaves","middle_voice:parallel_octaves","upper_voice:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A\'","17":"B","25":"A","33":"A\'"},"secondMeasure":1.390000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"repeated twice, ends on V","correctedMeasures":{"12":15.371428571428572,"33":44.649999999999686,"34":46.04999999999941,"36":48.857142857142854},"tonic":3,"basedOn":null}}},"Nintendo/Black Bass, The":{"Black Bass, The (1987-02-06)(Another)(Hot-B).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ IV I V7 I IV I-V/ii ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody","form:not_looped","form:period","harmony:tonic_added-sixth_chord"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.5300000000000011,"form":{"2":"antecedent","6":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8000000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Battle Kid - Fortress of Peril":{"Battle Kid - Fortress of Peril (2008)(Sivak).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.8900000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:progression"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.34000000000000014,"step":"end","comment":"","correctedMeasures":{"3":3.5899999999999674},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":13,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"6":9.489999999999842,"10":16.579999999999792},"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":25,"firstMeasure":0.38000000000000017,"step":"end","comment":"","correctedMeasures":{"18":28.65714285714286,"20":31.985714285714284,"22":35.31428571428572,"24":38.642857142857146},"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7400000000000013,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":19.480000000000246},"tonic":9,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.089999999999978,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"Nintendo/Bionic Commando":{"Bionic Commando [Hitler no Fukkatsu - Top Secret] (1988-07-20)(Capcom).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i-bvii i-v i-bvii V I-V I-V-I-V","clickResolutionMs":0.01,"modulations":{"5":9},"tags":["scale:mixed_minor","voice_leading:three_independent_voices","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.3199999999999945,"loop":null,"firstMeasure":0.4200000000000002,"step":"end","comment":"modulation?","correctedMeasures":[],"tonic":1,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1700000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"evil","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:drone","scale:natural_minor","upper_voices:polyphony","tempo:twice_as_fast","location:intro"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":3.7199999999999647,"loop":6,"firstMeasure":0,"step":"end","comment":"brave man","correctedMeasures":[],"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:three_parallel_voices","harmony:picardy_third","scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ V I5 bvii I5 I VII bII-VII I _ _ _ _ _ _ _ _ _ i bII i IV IV V VI VII I I io7","clickResolutionMs":0.01,"tags":["harmony:diminished_seventh_chords","middle_voice:thirds_and_sixths","middle_voice:riff","scale:mixed_major","upper_voices:polyphony","bass:pedal_point","harmony:constant_structures","form:complex"],"modulations":{"10":1,"14":4,"16":11,"19":4,"23":7,"27":10,"31":8},"fourMeasurePhrasingReferences":[3],"secondMeasure":4.569999999999947,"form":{"1":"intro (looped)","3":"A","7":"A\'","11":"B","19":"A\'\'","23":"A\'\'\'","27":"C"},"loop":39,"firstMeasure":3.1699999999999764,"step":"end","comment":"","correctedMeasures":{"2":4.8,"3":6.357142857142857},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I^ I^ II^ II^ I^ I^","clickResolutionMs":0.01,"modulations":{"9":6,"17":5},"tags":["timbre:wide_vibrato"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","17":"A\'"},"secondMeasure":1.5700000000000012,"loop":39,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":17.571428571428573},"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ i-V _ _ _ i _-V i _-V _ _ _ _-V _ _ _ _ _ _ _ _ _ _ _ _ _ V V i i V V i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","scale:pentatonic","harmony:weird_chord"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":42,"firstMeasure":0,"step":"end","comment":"weird chord: m.14","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ bvii i _ _ bvii i bvii i bvii","clickResolutionMs":0.01,"modulations":{"10":8},"tags":["bass:transposed_riff","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8700000000000014,"loop":26,"firstMeasure":0.2700000000000001,"step":"end","comment":"","correctedMeasures":{"10":14.67142857142857,"11":16.24999999999974},"tonic":1,"basedOn":null}}}}')},function(e,t,n){var r=n(57),o=n(146),s=n(148),a=n(153),i=n(157),u=n(45);e.exports=function(e,t,n){if((e=i(e))&&(n||void 0===t))return e.slice(0,u(e)+1);if(!e||!(t=r(t)))return e;var l=a(e),c=s(l,a(t))+1;return o(l,0,c).join("")}},,function(e,t,n){"use strict";var r=n(73);function o(){}var s=null,a={};function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&m(e,this)}function u(e,t){for(;3===e._83;)e=e._18;if(i._47&&i._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){r((function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return s=e,a}}(n,e._18);r===a?c(t.promise,s):l(t.promise,r)}else 1===e._83?l(t.promise,e._18):c(t.promise,e._18)}))}(e,t)}function l(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return s=e,a}}(t);if(n===a)return c(e,s);if(n===e.then&&t instanceof i)return e._83=3,e._18=t,void d(e);if("function"==typeof n)return void m(n.bind(t),e)}e._83=1,e._18=t,d(e)}function c(e,t){e._83=2,e._18=t,i._71&&i._71(e,t),d(e)}function d(e){if(1===e._75&&(u(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)u(e,e._38[t]);e._38=null}}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return s=e,a}}(e,(function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,c(t,e))}));n||r!==a||(n=!0,c(t,s))}e.exports=i,i._47=null,i._71=null,i._44=o,i.prototype.then=function(e,t){if(this.constructor!==i)return function(e,t,n){return new e.constructor((function(r,s){var a=new i(o);a.then(r,s),u(e,new f(t,n,a))}))}(this,e,t);var n=new i(o);return u(this,new f(e,t,n)),n}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(25),o=n(26);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(15))},function(e,t,n){var r=n(87);e.exports=function(e,t){var n=-1,o=e.length,s=o-1;for(t=void 0===t?o:t;++n<t;){var a=r(n,s),i=e[a];e[a]=e[n],e[n]=i}return e.length=t,e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(106),o=n(51);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(27).default,o=n(114);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(56);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(33),o=n(49),s=n(35),a=n(46),i=r?r.prototype:void 0,u=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Error}).call(this,n(15),n(19))},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(32)("wks"),o=n(9),s=n(0).Symbol,a="function"==typeof s;(e.exports=function(e){return r[e]||(r[e]=a&&s[e]||(a?s:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(0),o=n(2),s=n(8),a=n(22),i=n(10),u=function(e,t,n){var l,c,d,f,m=e&u.F,p=e&u.G,h=e&u.S,g=e&u.P,b=e&u.B,v=p?r:h?r[t]||(r[t]={}):(r[t]||{}).prototype,y=p?o:o[t]||(o[t]={}),M=y.prototype||(y.prototype={});for(l in p&&(n=t),n)d=((c=!m&&v&&void 0!==v[l])?v:n)[l],f=b&&c?i(d,r):g&&"function"==typeof d?i(Function.call,d):d,v&&a(v,l,d,e&u.U),y[l]!=d&&s(y,l,f),g&&M[l]!=d&&(M[l]=d)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(16),o=n(21);e.exports=n(3)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(28),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=e.type||"",s=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?s===t.replace(/\/.*$/,""):o===t}))}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var r=n(7),o=n(25)(3);r(r.P+r.F*!n(33)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(17),o=n(18),s=n(20),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=s(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(1),o=n(0).document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(0),o=n(8),s=n(23),a=n(9)("src"),i=Function.toString,u=(""+i).split("toString");n(2).inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,i){var l="function"==typeof n;l&&(s(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(s(n,a)||o(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:i?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||i.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(10),o=n(26),s=n(27),a=n(12),i=n(29);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,d=6==e,f=5==e||d,m=t||i;return function(t,i,p){for(var h,g,b=s(t),v=o(b),y=r(i,p,3),M=a(v.length),_=0,I=n?m(t,M):u?m(t,0):void 0;M>_;_++)if((f||_ in v)&&(g=y(h=v[_],_,b),e))if(n)I[_]=g;else if(g)switch(e){case 3:return!0;case 5:return h;case 6:return _;case 2:I.push(h)}else if(c)return!1;return d?-1:l||c?c:I}}},function(e,t,n){var r=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(11);e.exports=function(e){return Object(r(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(30);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(1),o=n(31),s=n(6)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var r=n(7),o=n(12),s=n(36),a="".endsWith;r(r.P+r.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=s(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),i=void 0===n?r:Math.min(o(n),r),u=String(e);return a?a.call(t,u,i):t.slice(i-u.length,i)===u}})},function(e,t,n){var r=n(37),o=n(11);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(1),o=n(5),s=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},function(e,t){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),u=0;u<s.length;u++){var l=s[u];if(!i(l))return!1;var c=e[l],d=t[l];if(!1===(o=n?n.call(r,c,d,l):void 0)||void 0===o&&c!==d)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,t,r){var o=t.trim().split(p);t=o;var s=o.length,a=e.length;switch(a){case 0:case 1:var i=0;for(e=0===a?"":e[0]+" ";i<s;++i)t[i]=n(e,t[i],r).trim();break;default:var u=i=0;for(t=[];i<s;++i)for(var l=0;l<a;++l)t[u++]=n(e[l]+" ",o[i],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(h,"$1"+e.trim());case 58:return e.trim()+t.replace(h,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(h,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,s){var a=e+";",i=2*t+3*n+4*s;if(944===i){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===V||2===V&&o(u,1)?"-webkit-"+u+u:u}if(0===V||2===V&&!o(a,1))return a;switch(i){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(w,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return f.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(y,"tb");break;case 232:u=a.replace(y,"tb-rl");break;case 220:u=a.replace(y,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,i=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<i?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,s).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+s&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),x(2!==t?r:r.replace(P,"$1"),n,t)}function s(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,o,s,a,i,l,c){for(var d,f=0,m=t;f<O;++f)switch(d=R[f].call(u,e,m,n,r,o,s,a,i,l,c)){case void 0:case!1:case!0:case null:break;default:m=d}if(m!==t)return m}function i(e){return void 0!==(e=e.prefix)&&(x=null,e?"function"!=typeof e?V=1:(V=2,x=e):V=0),i}function u(e,n){var i=e;if(33>i.charCodeAt(0)&&(i=i.trim()),i=[i],0<O){var u=a(-1,n,i,i,S,E,0,0,0,0);void 0!==u&&"string"==typeof u&&(n=u)}var d=function e(n,i,u,d,f){for(var m,p,h,y,_,I=0,P=0,k=0,w=0,R=0,x=0,C=h=m=0,D=0,j=0,F=0,B=0,L=u.length,U=L-1,q="",z="",H="",W="";D<L;){if(p=u.charCodeAt(D),D===U&&0!==P+w+k+I&&(0!==P&&(p=47===P?10:47),w=k=I=0,L++,U++),0===P+w+k+I){if(D===U&&(0<j&&(q=q.replace(c,"")),0<q.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:q+=u.charAt(D)}p=59}switch(p){case 123:for(m=(q=q.trim()).charCodeAt(0),h=1,B=++D;D<L;){switch(p=u.charCodeAt(D)){case 123:h++;break;case 125:h--;break;case 47:switch(p=u.charCodeAt(D+1)){case 42:case 47:e:{for(C=D+1;C<U;++C)switch(u.charCodeAt(C)){case 47:if(42===p&&42===u.charCodeAt(C-1)&&D+2!==C){D=C+1;break e}break;case 10:if(47===p){D=C+1;break e}}D=C}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<U&&u.charCodeAt(D)!==p;);}if(0===h)break;D++}switch(h=u.substring(B,D),0===m&&(m=(q=q.replace(l,"").trim()).charCodeAt(0)),m){case 64:switch(0<j&&(q=q.replace(c,"")),p=q.charCodeAt(1)){case 100:case 109:case 115:case 45:j=i;break;default:j=T}if(B=(h=e(i,j,h,p,f+1)).length,0<O&&(_=a(3,h,j=t(T,q,F),i,S,E,B,p,f,d),q=j.join(""),void 0!==_&&0===(B=(h=_.trim()).length)&&(p=0,h="")),0<B)switch(p){case 115:q=q.replace(M,s);case 100:case 109:case 45:h=q+"{"+h+"}";break;case 107:h=(q=q.replace(g,"$1 $2"))+"{"+h+"}",h=1===V||2===V&&o("@"+h,3)?"@-webkit-"+h+"@"+h:"@"+h;break;default:h=q+h,112===d&&(z+=h,h="")}else h="";break;default:h=e(i,t(i,q,F),h,d,f+1)}H+=h,h=F=j=C=m=0,q="",p=u.charCodeAt(++D);break;case 125:case 59:if(1<(B=(q=(0<j?q.replace(c,""):q).trim()).length))switch(0===C&&(m=q.charCodeAt(0),45===m||96<m&&123>m)&&(B=(q=q.replace(" ",":")).length),0<O&&void 0!==(_=a(1,q,i,n,S,E,z.length,d,f,d))&&0===(B=(q=_.trim()).length)&&(q="\0\0"),m=q.charCodeAt(0),p=q.charCodeAt(1),m){case 0:break;case 64:if(105===p||99===p){W+=q+u.charAt(D);break}default:58!==q.charCodeAt(B-1)&&(z+=r(q,m,p,q.charCodeAt(2)))}F=j=C=m=0,q="",p=u.charCodeAt(++D)}}switch(p){case 13:case 10:47===P?P=0:0===1+m&&107!==d&&0<q.length&&(j=1,q+="\0"),0<O*A&&a(0,q,i,n,S,E,z.length,d,f,d),E=1,S++;break;case 59:case 125:if(0===P+w+k+I){E++;break}default:switch(E++,y=u.charAt(D),p){case 9:case 32:if(0===w+I+P)switch(R){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===w+P+I&&(j=F=1,y="\f"+y);break;case 108:if(0===w+P+I+N&&0<C)switch(D-C){case 2:112===R&&58===u.charCodeAt(D-3)&&(N=R);case 8:111===x&&(N=x)}break;case 58:0===w+P+I&&(C=D);break;case 44:0===P+k+w+I&&(j=1,y+="\r");break;case 34:case 39:0===P&&(w=w===p?0:0===w?p:w);break;case 91:0===w+P+k&&I++;break;case 93:0===w+P+k&&I--;break;case 41:0===w+P+I&&k--;break;case 40:if(0===w+P+I){if(0===m)switch(2*R+3*x){case 533:break;default:m=1}k++}break;case 64:0===P+k+w+I+C+h&&(h=1);break;case 42:case 47:if(!(0<w+I+k))switch(P){case 0:switch(2*p+3*u.charCodeAt(D+1)){case 235:P=47;break;case 220:B=D,P=42}break;case 42:47===p&&42===R&&B+2!==D&&(33===u.charCodeAt(B+2)&&(z+=u.substring(B,D+1)),y="",P=0)}}0===P&&(q+=y)}x=R,R=p,D++}if(0<(B=z.length)){if(j=i,0<O&&(void 0!==(_=a(2,z,j,n,S,E,B,d,f,d))&&0===(z=_).length))return W+z+H;if(z=j.join(",")+"{"+z+"}",0!=V*N){switch(2!==V||o(z,2)||(N=0),N){case 111:z=z.replace(v,":-moz-$1")+z;break;case 112:z=z.replace(b,"::-webkit-input-$1")+z.replace(b,"::-moz-$1")+z.replace(b,":-ms-input-$1")+z}N=0}}return W+z+H}(T,i,n,0,0);return 0<O&&(void 0!==(u=a(-2,d,i,i,S,E,d.length,0,0,0))&&(d=u)),"",N=0,E=S=1,d}var l=/^\0+/g,c=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,m=/([,: ])(transform)/g,p=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,v=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,M=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,I=/-self|flex-/g,P=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,w=/([^-])(image-set\()/,E=1,S=1,N=0,V=1,T=[],R=[],O=0,x=null,A=0;return u.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"==typeof t)R[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else A=0|!!t}return e},u.set=i,void 0!==e&&i(e),u}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){var r=n(24),o=n(136),s=n(32),a=Math.max,i=Math.min;e.exports=function(e,t,n){var u,l,c,d,f,m,p=0,h=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=u,r=l;return u=l=void 0,p=t,d=e.apply(r,n)}function y(e){return p=e,f=setTimeout(_,t),h?v(e):d}function M(e){var n=e-m;return void 0===m||n>=t||n<0||g&&e-p>=c}function _(){var e=o();if(M(e))return I(e);f=setTimeout(_,function(e){var n=t-(e-m);return g?i(n,c-(e-p)):n}(e))}function I(e){return f=void 0,b&&u?v(e):(u=l=void 0,d)}function P(){var e=o(),n=M(e);if(u=arguments,l=this,m=e,n){if(void 0===f)return y(m);if(g)return clearTimeout(f),f=setTimeout(_,t),v(m)}return void 0===f&&(f=setTimeout(_,t)),d}return t=s(t)||0,r(n)&&(h=!!n.leading,c=(g="maxWait"in n)?a(s(n.maxWait)||0,t):c,b="trailing"in n?!!n.trailing:b),P.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=m=l=f=void 0},P.flush=function(){return void 0===f?d:I(o())},P}},function(e,t,n){var r=n(141)();e.exports=r},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATAQMAAACjqR+MAAAAAXNSR0IB2cksfwAAAAZQTFRFAAAA//1U1uuHPwAAAAJ0Uk5TAP9bkSK1AAAAL0lEQVR4nGNgAAM7OwY9KxDS4GLQkQIx9KsY1D8xKDAxKH9iUCpiECpi4P/HgAQAzQsHS7Ya3FIAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATAQMAAACjqR+MAAAAAXNSR0IB2cksfwAAAAZQTFRFAAAA////pdmf3QAAAAJ0Uk5TAP9bkSK1AAAAIUlEQVR4nGNgwAbkzzDYP2NIMGZIBiJmBst/DDJ/0JQAAJTWBe80XGLGAAAAAElFTkSuQmCC"},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(5),o=n(68);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===s(a)?a:String(a)),r)}var o,a}var u,l=new(n.n(o).a.scale)(["#000000","#0000a0","#6000a0","#962761","#dd1440","#f0b000","#ffffa0","#ffffff"]).domain([0,255]),c=-1!==window.location.search.indexOf("debug=true"),d=0,f=0,m=0,p=0;function h(e){var t=e*e;return 281061254.916*t*t/((t+424.36)*Math.sqrt((t+11599.29)*(t+544496.41))*(t+14884e4))}var g=function(){function e(t,n,o,s,i,l){var c=this,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-90,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-30;a(this,e),Object(r.a)(this),this.core=t;var m=32,p=0,g=s.width,b=25.95,v=4504,y=this.core._cqt_init(n.sampleRate,g,m,b,v,p);y?(this.cqtFreqs=Array(g).fill().map((function(e,t){return c.core._cqt_bin_to_freq(t)})),u=this.cqtFreqs.map((function(e){return.5+.5*h(e)}))):console.error("Error initializing constant Q transform. Constant Q will be disabled."),this.cqtSize=y,this.dataPtr=this.core._malloc(4*y),this.paused=!0,this.mode=0,this.weighting=0,this.analyserNode=n.createAnalyser(),o.connect(this.analyserNode),this.analyserNode.minDecibels=d,this.analyserNode.maxDecibels=f,this.analyserNode.smoothingTimeConstant=0,this.analyserNode.fftSize=this.fftSize=2048,this.byteFrequencyData=new Uint8Array(this.analyserNode.frequencyBinCount),this.freqCanvas=s,this.specCanvas=i,this.tempCanvas=document.createElement("canvas"),this.tempCanvas.width=this.specCanvas.width,this.tempCanvas.height=this.specCanvas.height,this.freqCtx=this.freqCanvas.getContext("2d",{alpha:!1}),this.specCtx=this.specCanvas.getContext("2d",{alpha:!1}),this.tempCtx=this.tempCanvas.getContext("2d",{alpha:!1}),this.pianoKeysImage=l,this.lastData=[],this.updateFrame()}var t,n,o;return t=e,(n=[{key:"setPaused",value:function(e){this.paused&&!e&&requestAnimationFrame(this.updateFrame),this.paused=e}},{key:"setMode",value:function(e){this.mode=e,this.analyserNode.fftSize=2===e?this.cqtSize||2048:this.fftSize}},{key:"setFFTSize",value:function(e){this.fftSize=e,this.analyserNode.fftSize=e}},{key:"isRepeatedFrequencyData",value:function(e){for(var t=!0,n=0;n<40;n+=2)e[n]!==this.lastData[n]&&(t=!1),this.lastData[n]=e[n];return t}},{key:"setWeighting",value:function(e){this.weighting=e}},{key:"setSpeed",value:function(e){this.specSpeed=e}},{key:"updateFrame",value:function(){if(!this.paused){requestAnimationFrame(this.updateFrame);var e=this.freqCanvas.height,t=this.freqCanvas.width,n=e/256,r=this.specSpeed,o=this.byteFrequencyData,s=this.analyserNode,a=this.freqCtx,i=this.tempCtx;a.fillStyle="black",a.fillRect(0,0,this.freqCanvas.width,this.freqCanvas.height),i.fillStyle="#000033",i.fillRect(0,0,this.tempCanvas.width,r);var h=performance.now(),g=new Float32Array(this.core.HEAPF32.buffer,this.dataPtr,this.cqtSize),b=this.fftSize/2,v=!1;if(0===this.mode){s.getByteFrequencyData(o),v=this.isRepeatedFrequencyData(o);for(var y=0;y<b&&y<t;++y){var M=l(o[y]).hex(),_=o[y]*n|0;a.fillStyle=M,a.fillRect(y,e-_,1,_),i.fillStyle=M,i.fillRect(y,0,1,r)}}else if(1===this.mode){s.getByteFrequencyData(o),v=this.isRepeatedFrequencyData(o);for(var I=Math.log(b),P=0;P<b;P++){var k=Math.log(P+1)/I*t|0,w=Math.log(P+2)/I*t-k|0,E=o[P]*n|0,S=l(o[P]||0).hex();a.fillStyle=S,a.fillRect(k,e-E,w,E),i.fillStyle=S,i.fillRect(k,0,w,r)}}else if(2===this.mode&&(s.getFloatTimeDomainData(g),!g.every((function(e){return 0===e})))){this.core._cqt_calc(this.dataPtr,this.dataPtr),this.core._cqt_render_line(this.dataPtr);for(var N=0;N<t;N++){var V=255*(1===this.weighting?u[N]:1)*g[N]|0,T=V*n|0,R=l(V).hex();a.fillStyle=R,a.fillRect(N,e-T,1,T),i.fillStyle=R,i.fillRect(N,0,1,r)}}var O=performance.now();v||(i.translate(0,r),i.drawImage(this.tempCanvas,0,0),i.setTransform(1,0,0,1,0,0),this.specCtx.drawImage(this.tempCanvas,0,0));var x=performance.now();c&&(d+=O-h,f+=x-h,++m>=200&&(console.log("[Viz] %s ms analysis, %s ms total (%s fps) (%s% utilization)",(d/m).toFixed(2),(f/m).toFixed(2),(1e3*m/(h-p)).toFixed(1),(100*f/(x-p)).toFixed(1)),d=0,m=0,f=0,p=h))}}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();if(e.AnalyserNode&&!e.AnalyserNode.prototype.getFloatTimeDomainData){var b=new Uint8Array(32768);e.AnalyserNode.prototype.getFloatTimeDomainData=function(e){this.getByteTimeDomainData(b);for(var t=0,n=e.length;t<n;t++)e[t]=.0078125*(b[t]-128)}}}).call(this,n(15))},function(e,t,n){(function(e){var n;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var r,o,s,a,i,u,l,c,d,f,m,p,h,g,b,v,y,M,_,I,P,k,w,E,S,N,V,T,R,O,x,A,C,D,j,F,B,L,U,q,z,H,W,G,$,X,K,Y,Q,J,Z,ee,te,ne,re,oe,se,ae,ie,ue,le,ce,de,fe,me,pe,he,ge,be,ve,ye,Me,_e,Ie,Pe,ke,we,Ee,Se,Ne,Ve=[].slice;ke=function(){var e,t,n,r,o;for(e={},r=0,t=(o="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=o[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),K=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},we=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},P=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},a=Math.PI,ye=Math.round,w=Math.cos,T=Math.floor,re=Math.pow,Y=Math.log,_e=Math.sin,Ie=Math.sqrt,g=Math.atan2,Z=Math.max,h=Math.abs,l=2*a,i=a/3,o=a/180,u=180/a,(I=function(){return arguments[0]instanceof r?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,arguments,(function(){}))}).default=I,p=[],null!==e&&null!=e.exports&&(e.exports=I),void 0===(n=function(){return I}.apply(t,[]))||(e.exports=n),I.version="1.4.1",m={},d=[],f=!1,r=function(){function e(){var e,t,n,r,o,s,a,i,u;for(s=this,t=[],i=0,r=arguments.length;i<r;i++)null!=(e=arguments[i])&&t.push(e);if(t.length>1&&(a=t[t.length-1]),null!=m[a])s._rgb=P(m[a](we(t.slice(0,-1))));else{for(f||(d=d.sort((function(e,t){return t.p-e.p})),f=!0),u=0,o=d.length;u<o&&!(a=(n=d[u]).test.apply(n,t));u++);a&&(s._rgb=P(m[a].apply(m,t)))}null==s._rgb&&console.warn("unknown format: "+t),null==s._rgb&&(s._rgb=[0,0,0]),3===s._rgb.length&&s._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),I._input=m,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
I.brewer=M={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],M)t.push(M[e.toLowerCase()]=M[e])}(),I.colors=Ee={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},H=function(){var e,t,n,r,o,a,i;return r=(t=we(arguments))[0],e=t[1],n=t[2],a=(r+16)/116,o=isNaN(e)?a:a+e/500,i=isNaN(n)?a:a-n/200,a=s.Yn*W(a),o=s.Xn*W(o),i=s.Zn*W(i),[Ne(3.2404542*o-1.5371385*a-.4985314*i),Ne(-.969266*o+1.8760108*a+.041556*i),n=Ne(.0556434*o-.2040259*a+1.0572252*i),t.length>3?t[3]:1]},Ne=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},W=function(e){return e>s.t1?e*e*e:s.t2*(e-s.t0)},s={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},de=function(){var e,t,n,r,o,s,a;return n=(r=we(arguments))[0],t=r[1],e=r[2],s=(o=ge(n,t,e))[0],[116*(a=o[1])-16,500*(s-a),200*(a-o[2])]},be=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Se=function(e){return e>s.t3?re(e,1/3):e/s.t2+s.t0},ge=function(){var e,t,n,r;return n=(r=we(arguments))[0],t=r[1],e=r[2],n=be(n),t=be(t),e=be(e),[Se((.4124564*n+.3575761*t+.1804375*e)/s.Xn),Se((.2126729*n+.7151522*t+.072175*e)/s.Yn),Se((.0193339*n+.119192*t+.9503041*e)/s.Zn)]},I.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["lab"]),(function(){}))},m.lab=H,r.prototype.lab=function(){return de(this._rgb)},b=function(e){var t,n,r,o,s,a,i,u,l,c,d;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(I(o));return r}()).length?(l=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),s=l[0],a=l[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(s[t]+e*(a[t]-s[t]));return r}(),I.lab.apply(I,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),s=c[0],a=c[1],i=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*s[t]+2*(1-e)*e*a[t]+e*e*i[t]);return r}(),I.lab.apply(I,n)}):4===e.length?(d=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),s=d[0],a=d[1],i=d[2],u=d[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*s[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*i[t]+e*e*e*u[t]);return r}(),I.lab.apply(I,n)}):5===e.length&&(n=b(e.slice(0,3)),r=b(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},I.bezier=function(e){var t;return(t=b(e)).scale=function(){return I.scale(t)},t},I.cubehelix=function(e,t,n,r,o){var s,a,i;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==o&&(o=[0,1]),s=0,"array"===ke(o)?a=o[1]-o[0]:(a=0,o=[o,o]),(i=function(i){var u,c,d,f,m;return u=l*((e+120)/360+t*i),f=re(o[0]+a*i,r),c=(0!==s?n[0]+i*s:n)*f*(1-f)/2,d=w(u),m=_e(u),I(P([255*(f+c*(-.14861*d+1.78277*m)),255*(f+c*(-.29227*d-.90649*m)),255*(f+c*(1.97294*d)),1]))}).start=function(t){return null==t?e:(e=t,i)},i.rotations=function(e){return null==e?t:(t=e,i)},i.gamma=function(e){return null==e?r:(r=e,i)},i.hue=function(e){return null==e?n:("array"===ke(n=e)?0===(s=n[1]-n[0])&&(n=n[1]):s=0,i)},i.lightness=function(e){return null==e?o:("array"===ke(e)?(o=e,a=e[1]-e[0]):(o=[e,e],a=0),i)},i.scale=function(){return I.scale(i)},i.hue(n),i},I.random=function(){var e,t;for("0123456789abcdef",e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(T(16*Math.random()));return new r(e)},p=[],j=function(e,t,n,r){var o,s,a,i;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==ke(e)&&(e=I(e)),"object"!==ke(t)&&(t=I(t)),a=0,s=p.length;a<s;a++)if(r===(o=p[a])[0]){i=o[1](e,t,n,r);break}if(null==i)throw"color mode "+r+" is not supported";return i.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},I.interpolate=j,r.prototype.interpolate=function(e,t,n){return j(this,e,t,n)},I.mix=j,r.prototype.mix=r.prototype.interpolate,m.rgb=function(){var e,t,n,r;for(e in n=[],t=we(arguments))r=t[e],n.push(r);return n},I.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["rgb"]),(function(){}))},r.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},d.push({p:3,test:function(e){var t;return t=we(arguments),"array"===ke(t)&&3===t.length||4===t.length&&"number"===ke(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),m.lrgb=m.rgb,L=function(e,t,n,o){var s,a;return s=e._rgb,a=t._rgb,new r(Ie(re(s[0],2)*(1-n)+re(a[0],2)*n),Ie(re(s[1],2)*(1-n)+re(a[1],2)*n),Ie(re(s[2],2)*(1-n)+re(a[2],2)*n),o)},c=function(e){var t,n,o,s,a;for(t=1/e.length,a=[0,0,0,0],o=0,n=e.length;o<n;o++)s=e[o]._rgb,a[0]+=re(s[0],2)*t,a[1]+=re(s[1],2)*t,a[2]+=re(s[2],2)*t,a[3]+=s[3]*t;return a[0]=Ie(a[0]),a[1]=Ie(a[1]),a[2]=Ie(a[2]),a[3]>1&&(a[3]=1),new r(P(a))},p.push(["lrgb",L]),I.average=function(e,t){var n,r,o,s,i,u,l,d,f,m,p,h,b;if(null==t&&(t="rgb"),f=e.length,l=(e=e.map((function(e){return I(e)}))).splice(0,1)[0],"lrgb"===t)return c(e);for(d in s=[],i=0,u=0,h=l.get(t))h[d]=h[d]||0,s.push(isNaN(h[d])?0:1),"h"!==t.charAt(d)||isNaN(h[d])||(n=h[d]/180*a,i+=w(n),u+=_e(n));for(r=l.alpha(),p=0,m=e.length;p<m;p++)for(d in b=(o=e[p]).get(t),r+=o.alpha(),h)isNaN(b[d])||(s[d]+=1,"h"===t.charAt(d)?(n=b[d]/180*a,i+=w(n),u+=_e(n)):h[d]+=b[d]);for(d in h)if("h"===t.charAt(d)){for(n=g(u/s[d],i/s[d])/a*180;n<0;)n+=360;for(;n>=360;)n-=360;h[d]=n}else h[d]=h[d]/s[d];return I(h,t).alpha(r/f)},O=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,ye((255&n)/255*100)/100];if(null!=m.css&&(t=m.css(e)))return t;throw"unknown color: "+e},ie=function(e,t){var n,r,o,s,a,i;return null==t&&(t="auto"),a=e[0],o=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),a=Math.round(a),o=Math.round(o),r=Math.round(r),i=(i="000000"+(a<<16|o<<8|r).toString(16)).substr(i.length-6),s=(s="0"+ye(255*n).toString(16)).substr(s.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return i+s;case"argb":return s+i;default:return i}}()},m.hex=function(e){return O(e)},I.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["hex"]),(function(){}))},r.prototype.hex=function(e){return null==e&&(e="auto"),ie(this._rgb,e)},d.push({p:4,test:function(e){if(1===arguments.length&&"string"===ke(e))return"hex"}}),C=function(){var e,t,n,r,o,s,a,i,u,l,c,d,f,m;if(o=(e=we(arguments))[0],c=e[1],a=e[2],0===c)u=r=t=255*a;else{for(n=[0,0,0],d=2*a-(f=a<.5?a*(1+c):a+c-a*c),(m=[0,0,0])[0]=(o/=360)+1/3,m[1]=o,m[2]=o-1/3,s=i=0;i<=2;s=++i)m[s]<0&&(m[s]+=1),m[s]>1&&(m[s]-=1),6*m[s]<1?n[s]=d+6*(f-d)*m[s]:2*m[s]<1?n[s]=f:3*m[s]<2?n[s]=d+(f-d)*(2/3-m[s])*6:n[s]=d;u=(l=[ye(255*n[0]),ye(255*n[1]),ye(255*n[2])])[0],r=l[1],t=l[2]}return e.length>3?[u,r,t,e[3]]:[u,r,t]},le=function(e,t,n){var r,o,s,a,i;return void 0!==e&&e.length>=3&&(e=(a=e)[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,s=Math.min(e,t,n),o=((Z=Math.max(e,t,n))+s)/2,Z===s?(i=0,r=Number.NaN):i=o<.5?(Z-s)/(Z+s):(Z-s)/(2-Z-s),e===Z?r=(t-n)/(Z-s):t===Z?r=2+(n-e)/(Z-s):n===Z&&(r=4+(e-t)/(Z-s)),(r*=60)<0&&(r+=360),[r,i,o]},I.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["hsl"]),(function(){}))},m.hsl=C,r.prototype.hsl=function(){return le(this._rgb)},D=function(){var e,t,n,r,o,s,a,i,u,l,c,d,f,m,p,h,g,b;if(o=(e=we(arguments))[0],h=e[1],b=e[2],b*=255,0===h)u=r=t=b;else switch(360===o&&(o=0),o>360&&(o-=360),o<0&&(o+=360),a=b*(1-h),i=b*(1-h*(n=(o/=60)-(s=T(o)))),g=b*(1-h*(1-n)),s){case 0:u=(l=[b,g,a])[0],r=l[1],t=l[2];break;case 1:u=(c=[i,b,a])[0],r=c[1],t=c[2];break;case 2:u=(d=[a,b,g])[0],r=d[1],t=d[2];break;case 3:u=(f=[a,i,b])[0],r=f[1],t=f[2];break;case 4:u=(m=[g,a,b])[0],r=m[1],t=m[2];break;case 5:u=(p=[b,a,i])[0],r=p[1],t=p[2]}return[u,r,t,e.length>3?e[3]:1]},ce=function(){var e,t,n,r,o,s,a,i,u;return s=(a=we(arguments))[0],n=a[1],e=a[2],o=Math.min(s,n,e),t=(Z=Math.max(s,n,e))-o,u=Z/255,0===Z?(r=Number.NaN,i=0):(i=t/Z,s===Z&&(r=(n-e)/t),n===Z&&(r=2+(e-s)/t),e===Z&&(r=4+(s-n)/t),(r*=60)<0&&(r+=360)),[r,i,u]},I.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["hsv"]),(function(){}))},m.hsv=D,r.prototype.hsv=function(){return ce(this._rgb)},te=function(e){return"number"===ke(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},pe=function(){var e;return((e=we(arguments))[0]<<16)+(e[1]<<8)+e[2]},I.num=function(e){return new r(e,"num")},r.prototype.num=function(e){return null==e&&(e="rgb"),pe(this._rgb,e)},m.num=te,d.push({p:1,test:function(e){if(1===arguments.length&&"number"===ke(e)&&e>=0&&e<=16777215)return"num"}}),R=function(){var e,t,n,r,o,s,a,i,u,l,c,d,f,m,p,h,g,b,v,y;if(i=(n=we(arguments))[0],o=n[1],t=n[2],a=a/100*255,e=255*(o/=100),0===o)d=a=r=t;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),c=(l=t*(1-o))+e*(1-(s=(i/=60)-(u=T(i)))),v=l+e*s,y=l+e,u){case 0:d=(f=[y,v,l])[0],a=f[1],r=f[2];break;case 1:d=(m=[c,y,l])[0],a=m[1],r=m[2];break;case 2:d=(p=[l,y,v])[0],a=p[1],r=p[2];break;case 3:d=(h=[l,c,y])[0],a=h[1],r=h[2];break;case 4:d=(g=[v,l,y])[0],a=g[1],r=g[2];break;case 5:d=(b=[y,l,c])[0],a=b[1],r=b[2]}return[d,a,r,n.length>3?n[3]:1]},ae=function(){var e,t,n,r,o,s,a,i,u;return i=(u=we(arguments))[0],o=u[1],t=u[2],a=Math.min(i,o,t),n=100*(r=(Z=Math.max(i,o,t))-a)/255,e=a/(255-r)*100,0===r?s=Number.NaN:(i===Z&&(s=(o-t)/r),o===Z&&(s=2+(t-i)/r),t===Z&&(s=4+(i-o)/r),(s*=60)<0&&(s+=360)),[s,n,e]},I.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["hcg"]),(function(){}))},m.hcg=R,r.prototype.hcg=function(){return ae(this._rgb)},E=function(e){var t,n,r,o,s,a,i,u;if(e=e.toLowerCase(),null!=I.colors&&I.colors[e])return O(I.colors[e]);if(s=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(i=s.slice(1,4),o=a=0;a<=2;o=++a)i[o]=+i[o];i[3]=1}else if(s=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(i=s.slice(1,5),o=u=0;u<=3;o=++u)i[o]=+i[o];else if(s=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(i=s.slice(1,4),o=t=0;t<=2;o=++t)i[o]=ye(2.55*i[o]);i[3]=1}else if(s=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(i=s.slice(1,5),o=n=0;n<=2;o=++n)i[o]=ye(2.55*i[o]);i[3]=+i[3]}else(s=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=s.slice(1,4))[1]*=.01,r[2]*=.01,(i=C(r))[3]=1):(s=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=s.slice(1,4))[1]*=.01,r[2]*=.01,(i=C(r))[3]=+s[4]);return i},se=function(e){var t;return"rgb"===(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(ye).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(ye).join(",")+","+e[3]+")":void 0},ve=function(e){return ye(100*e)/100},A=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=ve(e[0]||0),e[1]=ve(100*e[1])+"%",e[2]=ve(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},m.css=function(e){return E(e)},I.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["css"]),(function(){}))},r.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?se(this._rgb):"hsl"===e.slice(0,3)?A(this.hsl(),this.alpha()):void 0},m.named=function(e){return O(Ee[e])},d.push({p:5,test:function(e){if(1===arguments.length&&null!=Ee[e])return"named"}}),r.prototype.name=function(e){var t,n;for(n in arguments.length&&(Ee[e]&&(this._rgb=O(Ee[e])),this._rgb[3]=1),t=this.hex("rgb"),Ee)if(t===Ee[n])return n;return t},G=function(){var e,t,n,r;return n=(r=we(arguments))[0],e=r[1],t=r[2],[n,w(t*=o)*e,_e(t)*e]},$=function(){var e,t,n,r,o,s,a,i,u;return a=(n=we(arguments))[0],o=n[1],s=n[2],e=(i=G(a,o,s))[0],t=i[1],r=i[2],[(u=H(e,t,r))[0],u[1],r=u[2],n.length>3?n[3]:1]},z=function(){var e,t,n,r,o,s;return o=(s=we(arguments))[0],e=s[1],t=s[2],n=Ie(e*e+t*t),r=(g(t,e)*u+360)%360,0===ye(1e4*n)&&(r=Number.NaN),[o,n,r]},fe=function(){var e,t,n,r,o,s,a;return o=(s=we(arguments))[0],n=s[1],t=s[2],r=(a=de(o,n,t))[0],e=a[1],t=a[2],z(r,e,t)},I.lch=function(){var e;return e=we(arguments),new r(e,"lch")},I.hcl=function(){var e;return e=we(arguments),new r(e,"hcl")},m.lch=$,m.hcl=function(){var e,t,n,r;return t=(r=we(arguments))[0],e=r[1],n=r[2],$([n,e,t])},r.prototype.lch=function(){return fe(this._rgb)},r.prototype.hcl=function(){return fe(this._rgb).reverse()},oe=function(e){var t,n,r,o,s,a;return null==e&&(e="rgb"),s=(a=we(arguments))[0],r=a[1],t=a[2],r/=255,t/=255,[(1-(s/=255)-(o=1-Math.max(s,Math.max(r,t))))*(n=o<1?1/(1-o):0),(1-r-o)*n,(1-t-o)*n,o]},k=function(){var e,t,n,r,o,s;return n=(t=we(arguments))[0],o=t[1],s=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),o>=1?0:255*(1-o)*(1-r),s>=1?0:255*(1-s)*(1-r),e]},m.cmyk=function(){return k(we(arguments))},I.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["cmyk"]),(function(){}))},r.prototype.cmyk=function(){return oe(this._rgb)},m.gl=function(){var e,t,n,r,o;for(r=function(){var e,n;for(t in n=[],e=we(arguments))o=e[t],n.push(o);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},I.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["gl"]),(function(){}))},r.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},me=function(e,t,n){var r;return e=(r=we(arguments))[0],t=r[1],n=r[2],.2126*(e=Q(e))+.7152*(t=Q(t))+.0722*(n=Q(n))},Q=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},q=function(e,t,n,o){var s,a;return s=e._rgb,a=t._rgb,new r(s[0]+n*(a[0]-s[0]),s[1]+n*(a[1]-s[1]),s[2]+n*(a[2]-s[2]),o)},p.push(["rgb",q]),r.prototype.luminance=function(e,t){var n,r,o,s,a;return null==t&&(t="rgb"),arguments.length?(s=this._rgb,0===e?s=[0,0,0,this._rgb[3]]:1===e?s=[255,255,255,this[3]]:(n=me(this._rgb),r=1e-7,o=20,a=function(n,s){var i,u;return i=(u=n.interpolate(s,.5,t)).luminance(),Math.abs(e-i)<r||!o--?u:i>e?a(n,u):a(u,s)},s=n>e?a(I("black"),this).rgba():a(this,I("white")).rgba()),I(s).alpha(this.alpha())):me(this._rgb)},Pe=function(e){var t,n,r,o;return(o=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*Y(n),t=o<20?0:.8274096064007395*(t=o-10)-254.76935184120902+115.67994401066147*Y(t)):(r=351.97690566805693+.114206453784165*(r=o-55)-40.25366309332127*Y(r),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*Y(n),t=255),[r,n,t]},he=function(){var e,t,n,r,o,s,a,i;for(o=(s=we(arguments))[0],s[1],e=s[2],r=1e3,n=4e4,t=.4;n-r>t;)(a=Pe(i=.5*(n+r)))[2]/a[0]>=e/o?n=i:r=i;return ye(i)},I.temperature=I.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["temperature"]),(function(){}))},m.temperature=m.kelvin=m.K=Pe,r.prototype.temperature=function(){return he(this._rgb)},r.prototype.kelvin=r.prototype.temperature,I.contrast=function(e,t){var n,o,s,a;return"string"!==(s=ke(e))&&"number"!==s||(e=new r(e)),"string"!==(a=ke(t))&&"number"!==a||(t=new r(t)),(n=e.luminance())>(o=t.luminance())?(n+.05)/(o+.05):(o+.05)/(n+.05)},I.distance=function(e,t,n){var o,s,a,i,u,l,c;for(s in null==n&&(n="lab"),"string"!==(u=ke(e))&&"number"!==u||(e=new r(e)),"string"!==(l=ke(t))&&"number"!==l||(t=new r(t)),a=e.get(n),i=t.get(n),c=0,a)c+=(o=(a[s]||0)-(i[s]||0))*o;return Math.sqrt(c)},I.deltaE=function(e,t,n,o){var s,i,u,l,c,d,f,m,p,b,v,y,M,_,I,P,k,E,S,N,V,T,R,O;for(null==n&&(n=1),null==o&&(o=1),"string"!==(I=ke(e))&&"number"!==I||(e=new r(e)),"string"!==(P=ke(t))&&"number"!==P||(t=new r(t)),s=(k=e.lab())[0],u=k[1],c=k[2],i=(E=t.lab())[0],l=E[1],d=E[2],f=Ie(u*u+c*c),m=Ie(l*l+d*d),N=s<16?.511:.040975*s/(1+.01765*s),S=.0638*f/(1+.0131*f)+.638,_=f<1e-6?0:180*g(c,u)/a;_<0;)_+=360;for(;_>=360;)_-=360;return V=_>=164&&_<=345?.56+h(.2*w(a*(_+168)/180)):.36+h(.4*w(a*(_+35)/180)),M=Ie((p=f*f*f*f)/(p+1900)),Ie((T=(s-i)/(n*N))*T+(R=(y=f-m)/(o*S))*R+((b=u-l)*b+(v=c-d)*v-y*y)/((O=S*(M*V+1-M))*O))},r.prototype.get=function(e){var t,n,r,o,s;return this,r=(o=e.split("."))[0],t=o[1],s=this[r](),t?(n=r.indexOf(t))>-1?s[n]:console.warn("unknown channel "+t+" in mode "+r):s},r.prototype.set=function(e,t){var n,r,o,s,a;if(this,o=(s=e.split("."))[0],n=s[1])if(a=this[o](),(r=o.indexOf(n))>-1)if("string"===ke(t))switch(t.charAt(0)){case"+":case"-":a[r]+=+t;break;case"*":a[r]*=+t.substr(1);break;case"/":a[r]/=+t.substr(1);break;default:a[r]=+t}else a[r]=t;else console.warn("unknown channel "+n+" in mode "+o);else a=t;return I(a,o).alpha(this.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(e){return arguments.length?I.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},r.prototype.darken=function(e){var t;return null==e&&(e=1),this,(t=this.lab())[0]-=s.Kn*e,I.lab(t).alpha(this.alpha())},r.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(e){var t;return null==e&&(e=1),this,(t=this.lch())[1]+=e*s.Kn,t[1]<0&&(t[1]=0),I.lch(t).alpha(this.alpha())},r.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},r.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),I(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},S=function(e,t){return e>t?t:e},X=function(e,t){return e>t?e:t},Me=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},_=function(e,t){return 255*(1-(1-t/255)/(e/255))},N=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(v=function(e,t,n){if(!v[n])throw"unknown blend mode "+n;return v[n](e,t)}).normal=(y=function(e){return function(t,n){var r,o;return r=I(n).rgb(),o=I(t).rgb(),I(e(r,o),"rgb")}})((V=function(e){return function(t,n){var r,o,s;for(s=[],r=o=0;o<=3;r=++o)s[r]=e(t[r],n[r]);return s}})((function(e,t){return e}))),v.multiply=y(V(ee)),v.screen=y(V(Me)),v.overlay=y(V(ne)),v.darken=y(V(S)),v.lighten=y(V(X)),v.dodge=y(V(N)),v.burn=y(V(_)),I.blend=v,I.analyze=function(e){var t,n,r,o;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(o=e[n])||isNaN(o)||(r.values.push(o),r.sum+=o,o<r.min&&(r.min=o),o>r.max&&(r.max=o),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return I.limits(r,e,t)},r},I.scale=function(e,t){var n,r,o,s,a,i,u,l,c,d,f,m,p,h,g,b,v,y,M,_,P;return c="rgb",d=I("#ccc"),h=0,!1,a=[0,1],p=[],m=[0,0],n=!1,o=[],f=!1,l=0,u=1,s=!1,r={},g=!0,i=1,_=function(e){var t,n,r,s,a,i;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===ke(e)&&null!=I.brewer&&(e=I.brewer[e]||I.brewer[e.toLowerCase()]||e),"array"===ke(e)){for(1===e.length&&(e=[e[0],e[0]]),t=r=0,s=(e=e.slice(0)).length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r)n=e[t],"string"===ke(n)&&(e[t]=I(n));for(p.length=0,t=i=0,a=e.length-1;0<=a?i<=a:i>=a;t=0<=a?++i:--i)p.push(t/(e.length-1))}return M(),o=e},v=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},P=function(e){return e},function(e){var t,r,o,s,a;return a=e,n.length>2&&(s=n.length-1,t=v(e),o=n[0]+(n[1]-n[0])*(0+.5*h),r=n[s-1]+(n[s]-n[s-1])*(1-.5*h),a=l+(n[t]+.5*(n[t+1]-n[t])-o)/(r-o)*(u-l)),a},y=function(e,t){var s,a,f,h,b,y,M;if(null==t&&(t=!1),isNaN(e)||null===e)return d;if(M=t?e:n&&n.length>2?v(e)/(n.length-2):u!==l?(e-l)/(u-l):1,t||(M=P(M)),1!==i&&(M=re(M,i)),M=m[0]+M*(1-m[0]-m[1]),M=Math.min(1,Math.max(0,M)),f=Math.floor(1e4*M),g&&r[f])s=r[f];else{if("array"===ke(o))for(a=h=0,y=p.length-1;0<=y?h<=y:h>=y;a=0<=y?++h:--h){if(M<=(b=p[a])){s=o[a];break}if(M>=b&&a===p.length-1){s=o[a];break}if(M>b&&M<p[a+1]){M=(M-b)/(p[a+1]-b),s=I.interpolate(o[a],o[a+1],M,c);break}}else"function"===ke(o)&&(s=o(M));g&&(r[f]=s)}return s},M=function(){return r={}},_(e),(b=function(e){var t;return t=I(y(e)),f&&t[f]?t[f]():t}).classes=function(e){var t;return null!=e?("array"===ke(e)?(n=e,a=[e[0],e[e.length-1]]):(t=I.analyze(a),n=0===e?[t.min,t.max]:I.limits(t,"e",e)),b):n},b.domain=function(e){var t,n,r,s,i,c,d;if(!arguments.length)return a;if(l=e[0],u=e[e.length-1],p=[],r=o.length,e.length===r&&l!==u)for(i=0,s=e.length;i<s;i++)n=e[i],p.push((n-l)/(u-l));else for(t=d=0,c=r-1;0<=c?d<=c:d>=c;t=0<=c?++d:--d)p.push(t/(r-1));return a=[l,u],b},b.mode=function(e){return arguments.length?(c=e,M(),b):c},b.range=function(e,t){return _(e),b},b.out=function(e){return f=e,b},b.spread=function(e){return arguments.length?(h=e,b):h},b.correctLightness=function(e){return null==e&&(e=!0),s=e,M(),P=s?function(e){var t,n,r,o,s,a,i,u,l;for(t=y(0,!0).lab()[0],n=y(1,!0).lab()[0],i=t>n,r=y(e,!0).lab()[0],o=r-(s=t+(n-t)*e),u=0,l=1,a=20;Math.abs(o)>.01&&a-- >0;)i&&(o*=-1),o<0?(u=e,e+=.5*(l-e)):(l=e,e+=.5*(u-e)),r=y(e,!0).lab()[0],o=r-s;return e}:function(e){return e},b},b.padding=function(e){return null!=e?("number"===ke(e)&&(e=[e,e]),m=e,b):m},b.colors=function(t,r){var s,i,u,l,c,d,f,m;if(arguments.length<2&&(r="hex"),c=[],0===arguments.length)c=o.slice(0);else if(1===t)c=[b(.5)];else if(t>1)i=a[0],s=a[1]-i,c=function(){d=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)d.push(e);return d}.apply(this).map((function(e){return b(i+e/(t-1)*s)}));else{if(e=[],f=[],n&&n.length>2)for(u=m=1,l=n.length;1<=l?m<l:m>l;u=1<=l?++m:--m)f.push(.5*(n[u-1]+n[u]));else f=a;c=f.map((function(e){return b(e)}))}return I[r]&&(c=c.map((function(e){return e[r]()}))),c},b.cache=function(e){return null!=e?(g=e,b):g},b.gamma=function(e){return null!=e?(i=e,b):i},b.nodata=function(e){return null!=e?(d=I(e),b):d},b},null==I.scales&&(I.scales={}),I.scales.cool=function(){return I.scale([I.hsl(180,1,.9),I.hsl(250,.7,.4)])},I.scales.hot=function(){return I.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},I.analyze=function(e,t,n){var r,o,s,a,i,u;if(i={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(i.values.push(e),i.sum+=e,e<i.min&&(i.min=e),e>i.max&&(i.max=e),i.count+=1)},u=function(e,o){if(n(e,o))return null!=t&&"function"===ke(t)?r(t(e)):null!=t&&"string"===ke(t)||"number"===ke(t)?r(e[t]):r(e)},"array"===ke(e))for(a=0,s=e.length;a<s;a++)u(e[a]);else for(o in e)u(e[o],o);return i.domain=[i.min,i.max],i.limits=function(e,t){return I.limits(i,e,t)},i},I.limits=function(e,t,n){var r,o,s,a,i,u,l,c,d,f,m,p,g,b,v,y,M,_,P,k,w,E,S,N,V,R,O,x,A,C,D,j,F,B,L,U,q,z,H,W,G,$,X,K,Q,J,ee,te,ne,oe,se,ae,ie,ue,le;if(null==t&&(t="equal"),null==n&&(n=7),"array"===ke(e)&&(e=I.analyze(e)),V=e.min,Z=e.max,e.sum,ue=e.values.sort((function(e,t){return e-t})),1===n)return[V,Z];if(S=[],"c"===t.substr(0,1)&&(S.push(V),S.push(Z)),"e"===t.substr(0,1)){for(S.push(V),k=D=1,L=n-1;1<=L?D<=L:D>=L;k=1<=L?++D:--D)S.push(V+k/n*(Z-V));S.push(Z)}else if("l"===t.substr(0,1)){if(V<=0)throw"Logarithmic scales are only possible for values > 0";for(R=Math.LOG10E*Y(V),N=Math.LOG10E*Y(Z),S.push(V),k=le=1,U=n-1;1<=U?le<=U:le>=U;k=1<=U?++le:--le)S.push(re(10,R+k/n*(N-R)));S.push(Z)}else if("q"===t.substr(0,1)){for(S.push(V),k=r=1,$=n-1;1<=$?r<=$:r>=$;k=1<=$?++r:--r)j=(ue.length-1)*k/n,(F=T(j))===j?S.push(ue[F]):(B=j-F,S.push(ue[F]*(1-B)+ue[F+1]*B));S.push(Z)}else if("k"===t.substr(0,1)){for(x=ue.length,b=new Array(x),_=new Array(n),oe=!0,A=0,y=null,(y=[]).push(V),k=o=1,X=n-1;1<=X?o<=X:o>=X;k=1<=X?++o:--o)y.push(V+k/n*(Z-V));for(y.push(Z);oe;){for(w=s=0,K=n-1;0<=K?s<=K:s>=K;w=0<=K?++s:--s)_[w]=0;for(k=a=0,Q=x-1;0<=Q?a<=Q:a>=Q;k=0<=Q?++a:--a){for(ie=ue[k],O=Number.MAX_VALUE,w=i=0,J=n-1;0<=J?i<=J:i>=J;w=0<=J?++i:--i)(P=h(y[w]-ie))<O&&(O=P,v=w);_[v]++,b[k]=v}for(C=new Array(n),w=u=0,ee=n-1;0<=ee?u<=ee:u>=ee;w=0<=ee?++u:--u)C[w]=null;for(k=l=0,te=x-1;0<=te?l<=te:l>=te;k=0<=te?++l:--l)null===C[M=b[k]]?C[M]=ue[k]:C[M]+=ue[k];for(w=c=0,ne=n-1;0<=ne?c<=ne:c>=ne;w=0<=ne?++c:--c)C[w]*=1/_[w];for(oe=!1,w=d=0,q=n-1;0<=q?d<=q:d>=q;w=0<=q?++d:--d)if(C[w]!==y[k]){oe=!0;break}y=C,++A>200&&(oe=!1)}for(E={},w=f=0,z=n-1;0<=z?f<=z:f>=z;w=0<=z?++f:--f)E[w]=[];for(k=m=0,H=x-1;0<=H?m<=H:m>=H;k=0<=H?++m:--m)E[M=b[k]].push(ue[k]);for(se=[],w=p=0,W=n-1;0<=W?p<=W:p>=W;w=0<=W?++p:--p)se.push(E[w][0]),se.push(E[w][E[w].length-1]);for(se=se.sort((function(e,t){return e-t})),S.push(se[0]),k=g=1,G=se.length-1;g<=G;k=g+=2)ae=se[k],isNaN(ae)||-1!==S.indexOf(ae)||S.push(ae)}return S},x=function(e,t,n){var r,o,s,a;return e=(r=we(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?s=1-((o=(1-t)/3)+(a=(1+t*w(l*e)/w(i-l*e))/3)):e<2/3?o=1-((a=(1-t)/3)+(s=(1+t*w(l*(e-=1/3))/w(i-l*e))/3)):a=1-((s=(1-t)/3)+(o=(1+t*w(l*(e-=2/3))/w(i-l*e))/3)),[255*(a=K(n*a*3)),255*(s=K(n*s*3)),255*(o=K(n*o*3)),r.length>3?r[3]:1]},ue=function(){var e,t,n,r,o,s,a;return o=(s=we(arguments))[0],t=s[1],e=s[2],l=2*Math.PI,o/=255,t/=255,e/=255,0===(a=1-Math.min(o,t,e)/(r=(o+t+e)/3))?n=0:(n=(o-t+(o-e))/2,n/=Math.sqrt((o-t)*(o-t)+(o-e)*(t-e)),n=Math.acos(n),e>t&&(n=l-n),n/=l),[360*n,a,r]},I.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Ve.call(arguments).concat(["hsi"]),(function(){}))},m.hsi=x,r.prototype.hsi=function(){return ue(this._rgb)},F=function(e,t,n,r){var o,s,a,i,u,l,c,d,f,m;return"hsl"===r?(f=e.hsl(),m=t.hsl()):"hsv"===r?(f=e.hsv(),m=t.hsv()):"hcg"===r?(f=e.hcg(),m=t.hcg()):"hsi"===r?(f=e.hsi(),m=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",f=e.hcl(),m=t.hcl()),"h"===r.substr(0,1)&&(s=f[0],c=f[1],i=f[2],a=m[0],d=m[1],u=m[2]),isNaN(s)||isNaN(a)?isNaN(s)?isNaN(a)?o=Number.NaN:(o=a,1!==i&&0!==i||"hsv"===r||(l=d)):(o=s,1!==u&&0!==u||"hsv"===r||(l=c)):o=s+n*(a>s&&a-s>180?a-(s+360):a<s&&s-a>180?a+360-s:a-s),null==l&&(l=c+n*(d-c)),I[r](o,l,i+n*(u-i))},U=function(e,t,n,r){var o,s;return o=e.num(),s=t.num(),I.num(o+(s-o)*n,"num")},(p=p.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)J=n[t],r.push([J,F]);return r}())).push(["num",U]),B=function(e,t,n,o){var s,a;return s=e.lab(),a=t.lab(),new r(s[0]+n*(a[0]-s[0]),s[1]+n*(a[1]-s[1]),s[2]+n*(a[2]-s[2]),o)},p.push(["lab",B])}).call(this)}).call(this,n(36)(e))},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcAAAAA3CAYAAACbxZpmAAAACXBIWXMAAAsSAAALEgHS3X78AAAClElEQVR42u3c7W2jMAAGYLdikq6QCW6ZssUpui2Y5jpAs8LtcBP4fkXq0SQYsB0MzyNValIgvLj0rd2PlxhjCCGEvr+ch+F0DiN9f/kZQvgzevptGE6/Rtt923/Gvlt6DXnllVdeeXeW99bHXwMAHJACBEABAoACBAAFCAAKEAAUIAAoQABQgACgAAFAAQKAAgQABQgAChAAFCAAKEAAUIAAoAABQAECgAIEAAUIgAIEAAUIAAoQAHarS9jmbwjh7cZzIeO+W3oNeeWVV15595f3uxhjiDGG9/fP8/X9W2/P/nitY9Q6F3nllVdeeZ+b1xIoAIekAAFQgACgAAFAAQKAAgQABQgAChAAFCAAbFdX4qB9f/l9fX8YTj/2fhHllVdeeeVtL2/3aKdbF2fq4t3bb87+Xx8v3SZ1oHOc75r9U/LUylvjem0pb0vjm/pFq4W8OTO7f43vmryLZoDXA04dfOn+Kcec2mbpuT0jb0qeWnnXZm0tbwvjmzPrVvLWzHyk+9f4zjvm66OTG7f4HqfGR8gpr7zyyitvphng9YRKrR/PnYaXXscunTd1Kl8jb42sW8p7tPHdSt69fU4b3zbHt0sJmHuKvWbqPPeCTl2clO8uSufNsYSSK2+NrFvK29L4ptzoreTNldn9a3zX5O3uTTvvPW7NvSn03nLKu/+8j5aDjK+88s6XfQl0HOjRckDJqXPOtePSeXNkzpV36lz3lreF8c39c5AjfT7LK++sP4MYbzD1eO7UN8dSQeoFn3MepX7bKUeeWnlLvM6W87Y0vnOPseW8Jc7D/Wt8l7yO/wQDwCG9xBi/TiXPLgkAO/cxDKeP/woQAI7CEigAChAAFCAAKEAAUIAAoAABQAECQCP+AX8PMLpfoKkaAAAAAElFTkSuQmCC"},function(e,t,n){n(71),e.exports=n(158)},function(e,t,n){"use strict";"undefined"==typeof Promise&&(n(72).enable(),window.Promise=n(74)),n(75),Object.assign=n(31)},function(e,t,n){"use strict";var r=n(44),o=[ReferenceError,TypeError,RangeError],s=!1;function a(){s=!1,r._47=null,r._71=null}function i(e,t){return t.some((function(t){return e instanceof t}))}t.disable=a,t.enable=function(e){e=e||{},s&&a();s=!0;var t=0,n=0,u={};function l(t){(e.allRejections||i(u[t].error,e.whitelist||o))&&(u[t].displayId=n++,e.onUnhandled?(u[t].logged=!0,e.onUnhandled(u[t].displayId,u[t].error)):(u[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach((function(e){console.warn("  "+e)}))}(u[t].displayId,u[t].error)))}r._47=function(t){2===t._83&&u[t._56]&&(u[t._56].logged?function(t){u[t].logged&&(e.onHandled?e.onHandled(u[t].displayId,u[t].error):u[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[t].displayId+".")))}(t._56):clearTimeout(u[t._56].timeout),delete u[t._56])},r._71=function(e,n){0===e._75&&(e._56=t++,u[e._56]={displayId:null,error:n,timeout:setTimeout(l.bind(null,e._56),i(n,o)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){o.length||(r(),!0),o[o.length]=e}e.exports=n;var r,o=[],s=0;function a(){for(;s<o.length;){var e=s;if(s+=1,o[e].call(),s>1024){for(var t=0,n=o.length-s;t<n;t++)o[t]=o[t+s];o.length-=s,s=0}}o.length=0,s=0,!1}var i,u,l,c=void 0!==t?t:self,d=c.MutationObserver||c.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof d?(i=1,u=new d(a),l=document.createTextNode(""),u.observe(l,{characterData:!0}),r=function(){i=-i,l.data=i}):r=f(a),n.requestFlush=r,n.makeRequestCallFromTimer=f}).call(this,n(15))},function(e,t,n){"use strict";var r=n(44);e.exports=r;var o=c(!0),s=c(!1),a=c(null),i=c(void 0),u=c(0),l=c("");function c(e){var t=new r(r._44);return t._83=1,t._18=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return i;if(!0===e)return o;if(!1===e)return s;if(0===e)return u;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(e){return new r((function(t,n){n(e)}))}return c(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r((function(e,n){if(0===t.length)return e([]);var o=t.length;function s(a,i){if(i&&("object"==typeof i||"function"==typeof i)){if(i instanceof r&&i.then===r.prototype.then){for(;3===i._83;)i=i._18;return 1===i._83?s(a,i._18):(2===i._83&&n(i._18),void i.then((function(e){s(a,e)}),n))}var u=i.then;if("function"==typeof u)return void new r(u.bind(i)).then((function(e){s(a,e)}),n)}t[a]=i,0==--o&&e(t)}for(var a=0;a<t.length;a++)s(a,t[a])}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){e.forEach((function(e){r.resolve(e).then(t,n)}))}))},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};p.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),m(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),m(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),m(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];M.prototype.clone=function(){return new M(this,{body:this._bodyInit})},y.call(M.prototype),y.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},I.error=function(){var e=new I(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];I.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new I(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=M,e.Response=I,e.fetch=function(e,t){return new Promise((function(n,o){var s=new M(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new I(o,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(s.method,s.url,!0),"include"===s.credentials&&(a.withCredentials=!0),"responseType"in a&&r&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===s._bodyInit?null:s._bodyInit)}))},e.fetch.polyfill=!0}function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function m(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function b(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(s&&r&&i(e))this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!s||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=v(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function M(e,t){var n,r,o=(t=t||{}).body;if(e instanceof M){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),l.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function I(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(31),o="function"==typeof Symbol&&Symbol.for,s=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,i=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.forward_ref"):60112,m=o?Symbol.for("react.suspense"):60113,p=o?Symbol.for("react.memo"):60115,h=o?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function M(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}function _(){}function I(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}M.prototype.isReactComponent={},M.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},M.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=M.prototype;var P=I.prototype=new _;P.constructor=I,r(P,M.prototype),P.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:s,type:e,key:a,ref:i,props:o,_owner:k.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var V=/\/+/g,T=[];function R(e,t,n,r){if(T.length){var o=T.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function x(e,t,n){return null==e?0:function e(t,n,r,o){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var u=!1;if(null===t)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case s:case a:u=!0}}if(u)return r(o,t,""===n?"."+A(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+A(i=t[l],l);u+=e(i,c,r,o)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),l=0;!(i=t.next()).done;)u+=e(i=i.value,c=n+A(i,l++),r,o);else if("object"===i)throw r=""+t,Error(b(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function C(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(V,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,o){var s="";null!=n&&(s=(""+n).replace(V,"$&/")+"/"),x(e,D,t=R(t,s,r,o)),O(t)}var F={current:null};function B(){var e=F.current;if(null===e)throw Error(b(321));return e}var L={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;x(e,C,t=R(null,null,t,n)),O(t)},count:function(e){return x(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!N(e))throw Error(b(143));return e}},t.Component=M,t.Fragment=i,t.Profiler=l,t.PureComponent=I,t.StrictMode=u,t.Suspense=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null==e)throw Error(b(267,e));var o=r({},e.props),a=e.key,i=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,u=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:s,type:e.type,key:a,ref:i,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),o=n(31),s=n(78);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function i(e,t,n,r,o,s,a,i,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var u=!1,l=null,c=!1,d=null,f={onError:function(e){u=!0,l=e}};function m(e,t,n,r,o,s,a,c,d){u=!1,l=null,i.apply(f,arguments)}var p=null,h=null,g=null;function b(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,o,s,i,f,p){if(m.apply(this,arguments),u){if(!u)throw Error(a(198));var h=l;u=!1,l=null,c||(c=!0,d=h)}}(r,t,void 0,e),e.currentTarget=null}var v=null,y={};function M(){if(v)for(var e in y){var t=y[e],n=v.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!I[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in I[n]=t,n=t.eventTypes){var o=void 0,s=n[r],i=t,u=r;if(P.hasOwnProperty(u))throw Error(a(99,u));P[u]=s;var l=s.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&_(l[o],i,u);o=!0}else s.registrationName?(_(s.registrationName,i,u),o=!0):o=!1;if(!o)throw Error(a(98,r,e))}}}}function _(e,t,n){if(k[e])throw Error(a(100,e));k[e]=t,w[e]=t.eventTypes[n].dependencies}var I=[],P={},k={},w={};function E(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!y.hasOwnProperty(t)||y[t]!==r){if(y[t])throw Error(a(102,t));y[t]=r,n=!0}}n&&M()}var S=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),N=null,V=null,T=null;function R(e){if(e=h(e)){if("function"!=typeof N)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),N(e.stateNode,e.type,t))}}function O(e){V?T?T.push(e):T=[e]:V=e}function x(){if(V){var e=V,t=T;if(T=V=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function A(e,t){return e(t)}function C(e,t,n,r,o){return e(t,n,r,o)}function D(){}var j=A,F=!1,B=!1;function L(){null===V&&null===T||(D(),x())}function U(e,t,n){if(B)return e(t,n);B=!0;try{return j(e,t,n)}finally{B=!1,L()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,H={},W={};function G(e,t,n,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,K);$[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,K);$[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,K);$[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var o=$.hasOwnProperty(t)?$[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!z.call(W,e)||!z.call(H,e)&&(q.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,oe=Z?Symbol.for("react.profiler"):60114,se=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,ie=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,le=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,fe=Z?Symbol.for("react.lazy"):60116,me=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function he(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case oe:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case se:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case me:return ge(e.render);case fe:if(e=1===e._status?e._result:null)return ge(e)}return null}function be(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,s=ge(e.type);n=null,r&&(n=ge(r.type)),r=s,s="",o?s=" (at "+o.fileName.replace(J,"")+":"+o.lineNumber+")":n&&(s=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+s}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Me(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ie(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Pe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function we(e,t){ke(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Se(e,t.type,n):t.hasOwnProperty("defaultValue")&&Se(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Se(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ne(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ve(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Te(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Oe(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function xe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ae="http://www.w3.org/1999/xhtml",Ce="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Be=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ce||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Le(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},ze={},He={};function We(e){if(ze[e])return ze[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return ze[e]=n[t];return e}S&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=We("animationend"),$e=We("animationiteration"),Xe=We("animationstart"),Ke=We("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return tt(o),e;if(s===r)return tt(o),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,u=o.child;u;){if(u===n){i=!0,n=o,r=s;break}if(u===r){i=!0,r=o,n=s;break}u=u.sibling}if(!i){for(u=s.child;u;){if(u===n){i=!0,n=s,r=o;break}if(u===r){i=!0,r=s,n=o;break}u=u.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var st=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)b(e,t[r],n[r]);else t&&b(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function it(e){if(null!==e&&(st=rt(st,e)),e=st,st=null,e){if(ot(e,at),st)throw Error(a(95));if(c)throw e=d,c=!1,d=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!S)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,n,r){if(ct.length){var o=ct.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function mt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Sn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=ut(e.nativeEvent);r=e.topLevelType;var s=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var i=null,u=0;u<I.length;u++){var l=I[u];l&&(l=l.extractEvents(r,t,s,o,a))&&(i=rt(i,l))}it(i)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&$t(e,t)}n.set(e,null)}}var ht,gt,bt,vt=!1,yt=[],Mt=null,_t=null,It=null,Pt=new Map,kt=new Map,wt=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),St="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Nt(e,t,n,r,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:r}}function Vt(e,t){switch(e){case"focus":case"blur":Mt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Tt(e,t,n,r,o,s){return null===e||e.nativeEvent!==s?(e=Nt(t,n,r,o,s),null!==t&&(null!==(t=Nn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Rt(e){var t=Sn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void s.unstable_runWithPriority(e.priority,(function(){bt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function xt(e,t,n){Ot(e)&&n.delete(t)}function At(){for(vt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&ht(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==Mt&&Ot(Mt)&&(Mt=null),null!==_t&&Ot(_t)&&(_t=null),null!==It&&Ot(It)&&(It=null),Pt.forEach(xt),kt.forEach(xt)}function Ct(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,At)))}function Dt(e){function t(t){return Ct(t,e)}if(0<yt.length){Ct(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Ct(Mt,e),null!==_t&&Ct(_t,e),null!==It&&Ct(It,e),Pt.forEach(t),kt.forEach(t),n=0;n<wt.length;n++)(r=wt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<wt.length&&null===(n=wt[0]).blockedOn;)Rt(n),null===n.blockedOn&&wt.shift()}var jt={},Ft=new Map,Bt=new Map,Lt=["abort","abort",Ge,"animationEnd",$e,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1],s="on"+(o[0].toUpperCase()+o.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Ft.set(r,s),jt[o]=s}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Lt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<qt.length;zt++)Bt.set(qt[zt],0);var Ht=s.unstable_UserBlockingPriority,Wt=s.unstable_runWithPriority,Gt=!0;function $t(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Kt.bind(null,t,1,e);break;case 1:r=Yt.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Kt(e,t,n,r){F||D();var o=Qt,s=F;F=!0;try{C(o,e,t,n,r)}finally{(F=s)||L()}}function Yt(e,t,n,r){Wt(Ht,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(Gt)if(0<yt.length&&-1<Et.indexOf(e))e=Nt(null,e,t,n,r),yt.push(e);else{var o=Jt(e,t,n,r);if(null===o)Vt(e,r);else if(-1<Et.indexOf(e))e=Nt(o,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,o){switch(t){case"focus":return Mt=Tt(Mt,e,t,n,r,o),!0;case"dragenter":return _t=Tt(_t,e,t,n,r,o),!0;case"mouseover":return It=Tt(It,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Pt.set(s,Tt(Pt.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,kt.set(s,Tt(kt.get(s)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r)){Vt(e,r),e=ft(e,r,null,t);try{U(mt,e)}finally{dt(e)}}}}function Jt(e,t,n,r){if(null!==(n=Sn(n=ut(r)))){var o=Ze(n);if(null===o)n=null;else{var s=o.tag;if(13===s){if(null!==(n=et(o)))return n;n=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=ft(e,r,n,t);try{U(mt,e)}finally{dt(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=Ae;function un(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function ln(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function mn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hn=null,gn=null;function bn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yn="function"==typeof setTimeout?setTimeout:void 0,Mn="function"==typeof clearTimeout?clearTimeout:void 0;function _n(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function In(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),kn="__reactInternalInstance$"+Pn,wn="__reactEventHandlers$"+Pn,En="__reactContainere$"+Pn;function Sn(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[kn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=In(e);null!==e;){if(n=e[kn])return n;e=In(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[kn]||e[En])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Vn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Tn(e){return e[wn]||null}function Rn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function On(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function xn(e,t,n){(t=On(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function An(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Rn(t);for(t=n.length;0<t--;)xn(n[t],"captured",e);for(t=0;t<n.length;t++)xn(n[t],"bubbled",e)}}function Cn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=On(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){e&&e.dispatchConfig.registrationName&&Cn(e._targetInst,null,e)}function jn(e){ot(e,An)}var Fn=null,Bn=null,Ln=null;function Un(){if(Ln)return Ln;var e,t,n=Bn,r=n.length,o="value"in Fn?Fn.value:Fn.textContent,s=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[s-t];t++);return Ln=o.slice(e,1<t?1-t:void 0)}function qn(){return!0}function zn(){return!1}function Hn(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:zn,this.isPropagationStopped=zn,this}function Wn(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Gn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Wn,e.release=Gn}o(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var s=new t;return o(s,n.prototype),n.prototype=s,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Hn);var Xn=Hn.extend({data:null}),Kn=Hn.extend({data:null}),Yn=[9,13,27,32],Qn=S&&"CompositionEvent"in window,Jn=null;S&&"documentMode"in document&&(Jn=document.documentMode);var Zn=S&&"TextEvent"in window&&!Jn,er=S&&(!Qn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function or(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function sr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var ir={eventTypes:nr,extractEvents:function(e,t,n,r){var o;if(Qn)e:{switch(e){case"compositionstart":var s=nr.compositionStart;break e;case"compositionend":s=nr.compositionEnd;break e;case"compositionupdate":s=nr.compositionUpdate;break e}s=void 0}else ar?or(e,n)&&(s=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(s=nr.compositionStart);return s?(er&&"ko"!==n.locale&&(ar||s!==nr.compositionStart?s===nr.compositionEnd&&ar&&(o=Un()):(Bn="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),s=Xn.getPooled(s,t,n,r),o?s.data=o:null!==(o=sr(n))&&(s.data=o),jn(s),o=s):o=null,(e=Zn?function(e,t){switch(e){case"compositionend":return sr(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Qn&&or(e,t)?(e=Un(),Ln=Bn=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Kn.getPooled(nr.beforeInput,t,n,r)).data=e,jn(t)):t=null,null===o?t:null===t?o:[o,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,t,n){return(e=Hn.getPooled(cr.change,e,t,n)).type="change",O(n),jn(e),e}var fr=null,mr=null;function pr(e){it(e)}function hr(e){if(_e(Vn(e)))return e}function gr(e,t){if("change"===e)return t}var br=!1;function vr(){fr&&(fr.detachEvent("onpropertychange",yr),mr=fr=null)}function yr(e){if("value"===e.propertyName&&hr(mr))if(e=dr(mr,e,ut(e)),F)it(e);else{F=!0;try{A(pr,e)}finally{F=!1,L()}}}function Mr(e,t,n){"focus"===e?(vr(),mr=n,(fr=t).attachEvent("onpropertychange",yr)):"blur"===e&&vr()}function _r(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return hr(mr)}function Ir(e,t){if("click"===e)return hr(t)}function Pr(e,t){if("input"===e||"change"===e)return hr(t)}S&&(br=lt("input")&&(!document.documentMode||9<document.documentMode));var kr={eventTypes:cr,_isInputEventSupported:br,extractEvents:function(e,t,n,r){var o=t?Vn(t):window,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type)var a=gr;else if(lr(o))if(br)a=Pr;else{a=_r;var i=Mr}else(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Ir);if(a&&(a=a(e,t)))return dr(a,n,r);i&&i(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Se(o,"number",o.value)}},wr=Hn.extend({view:null,detail:null}),Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function Nr(){return Sr}var Vr=0,Tr=0,Rr=!1,Or=!1,xr=wr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Vr;return Vr=e.screenX,Rr?"mousemove"===e.type?e.screenX-t:0:(Rr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Tr;return Tr=e.screenY,Or?"mousemove"===e.type?e.screenY-t:0:(Or=!0,0)}}),Ar=xr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Cr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Dr={eventTypes:Cr,extractEvents:function(e,t,n,r,o){var s="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(s&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!s)return null;(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Sn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var i=xr,u=Cr.mouseLeave,l=Cr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(i=Ar,u=Cr.pointerLeave,l=Cr.pointerEnter,c="pointer");if(e=null==a?s:Vn(a),s=null==t?s:Vn(t),(u=i.getPooled(u,a,n,r)).type=c+"leave",u.target=e,u.relatedTarget=s,(n=i.getPooled(l,t,n,r)).type=c+"enter",n.target=s,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(l=c,a=0,e=i=r;e;e=Rn(e))a++;for(e=0,t=l;t;t=Rn(t))e++;for(;0<a-e;)i=Rn(i),a--;for(;0<e-a;)l=Rn(l),e--;for(;a--;){if(i===l||i===l.alternate)break e;i=Rn(i),l=Rn(l)}i=null}else i=null;for(l=i,i=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)i.push(r),r=Rn(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=Rn(c);for(c=0;c<i.length;c++)Cn(i[c],"bubbled",u);for(c=r.length;0<c--;)Cn(r[c],"captured",n);return 0==(64&o)?[u]:[u,n]}};var jr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=Object.prototype.hasOwnProperty;function Br(e,t){if(jr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!jr(e[n[r]],t[n[r]]))return!1;return!0}var Lr=S&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,zr=null,Hr=null,Wr=!1;function Gr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==qr||qr!==cn(n)?null:("selectionStart"in(n=qr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&Br(Hr,n)?null:(Hr=n,(e=Hn.getPooled(Ur.select,zr,e,t)).type="select",e.target=qr,jn(e),e))}var $r={eventTypes:Ur,extractEvents:function(e,t,n,r,o,s){if(!(s=!(o=s||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{o=Je(o),s=w.onSelect;for(var a=0;a<s.length;a++)if(!o.has(s[a])){o=!1;break e}o=!0}s=!o}if(s)return null;switch(o=t?Vn(t):window,e){case"focus":(lr(o)||"true"===o.contentEditable)&&(qr=o,zr=t,Hr=null);break;case"blur":Hr=zr=qr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Gr(n,r);case"selectionchange":if(Lr)break;case"keydown":case"keyup":return Gr(n,r)}return null}},Xr=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kr=Hn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yr=wr.extend({relatedTarget:null});function Qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eo=wr.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),to=xr.extend({dataTransfer:null}),no=wr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),ro=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=xr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),so={eventTypes:jt,extractEvents:function(e,t,n,r){var o=Ft.get(e);if(!o)return null;switch(e){case"keypress":if(0===Qr(n))return null;case"keydown":case"keyup":e=eo;break;case"blur":case"focus":e=Yr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=to;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=no;break;case Ge:case $e:case Xe:e=Xr;break;case Ke:e=ro;break;case"scroll":e=wr;break;case"wheel":e=oo;break;case"copy":case"cut":case"paste":e=Kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ar;break;default:e=Hn}return jn(t=e.getPooled(o,t,n,r)),t}};if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),M(),p=Tn,h=Nn,g=Vn,E({SimpleEventPlugin:so,EnterLeaveEventPlugin:Dr,ChangeEventPlugin:kr,SelectEventPlugin:$r,BeforeInputEventPlugin:ir});var ao=[],io=-1;function uo(e){0>io||(e.current=ao[io],ao[io]=null,io--)}function lo(e,t){io++,ao[io]=e.current,e.current=t}var co={},fo={current:co},mo={current:!1},po=co;function ho(e,t){var n=e.type.contextTypes;if(!n)return co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,s={};for(o in n)s[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function go(e){return null!=(e=e.childContextTypes)}function bo(){uo(mo),uo(fo)}function vo(e,t,n){if(fo.current!==co)throw Error(a(168));lo(fo,t),lo(mo,n)}function yo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(a(108,ge(t)||"Unknown",s));return o({},n,{},r)}function Mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||co,po=fo.current,lo(fo,e),lo(mo,mo.current),!0}function _o(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yo(e,t,po),r.__reactInternalMemoizedMergedChildContext=e,uo(mo),uo(fo),lo(fo,e)):uo(mo),lo(mo,n)}var Io=s.unstable_runWithPriority,Po=s.unstable_scheduleCallback,ko=s.unstable_cancelCallback,wo=s.unstable_requestPaint,Eo=s.unstable_now,So=s.unstable_getCurrentPriorityLevel,No=s.unstable_ImmediatePriority,Vo=s.unstable_UserBlockingPriority,To=s.unstable_NormalPriority,Ro=s.unstable_LowPriority,Oo=s.unstable_IdlePriority,xo={},Ao=s.unstable_shouldYield,Co=void 0!==wo?wo:function(){},Do=null,jo=null,Fo=!1,Bo=Eo(),Lo=1e4>Bo?Eo:function(){return Eo()-Bo};function Uo(){switch(So()){case No:return 99;case Vo:return 98;case To:return 97;case Ro:return 96;case Oo:return 95;default:throw Error(a(332))}}function qo(e){switch(e){case 99:return No;case 98:return Vo;case 97:return To;case 96:return Ro;case 95:return Oo;default:throw Error(a(332))}}function zo(e,t){return e=qo(e),Io(e,t)}function Ho(e,t,n){return e=qo(e),Po(e,t,n)}function Wo(e){return null===Do?(Do=[e],jo=Po(No,$o)):Do.push(e),xo}function Go(){if(null!==jo){var e=jo;jo=null,ko(e)}$o()}function $o(){if(!Fo&&null!==Do){Fo=!0;var e=0;try{var t=Do;zo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Do=null}catch(t){throw null!==Do&&(Do=Do.slice(e+1)),Po(No,Go),t}finally{Fo=!1}}}function Xo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ko(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Yo={current:null},Qo=null,Jo=null,Zo=null;function es(){Zo=Jo=Qo=null}function ts(e){var t=Yo.current;uo(Yo),e.type._context._currentValue=t}function ns(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function rs(e,t){Qo=e,Zo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ta=!0),e.firstContext=null)}function os(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Qo)throw Error(a(308));Jo=t,Qo.dependencies={expirationTime:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var ss=!1;function as(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function us(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ls(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function cs(e,t){var n=e.alternate;null!==n&&is(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ds(e,t,n,r){var s=e.updateQueue;ss=!1;var a=s.baseQueue,i=s.shared.pending;if(null!==i){if(null!==a){var u=a.next;a.next=i.next,i.next=u}a=i,s.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=i))}if(null!==a){u=a.next;var l=s.baseState,c=0,d=null,f=null,m=null;if(null!==u)for(var p=u;;){if((i=p.expirationTime)<r){var h={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===m?(f=m=h,d=l):m=m.next=h,i>c&&(c=i)}else{null!==m&&(m=m.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),su(i,p.suspenseConfig);e:{var g=e,b=p;switch(i=t,h=n,b.tag){case 1:if("function"==typeof(g=b.payload)){l=g.call(h,l,i);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(i="function"==typeof(g=b.payload)?g.call(h,l,i):g))break e;l=o({},l,i);break e;case 2:ss=!0}}null!==p.callback&&(e.effectTag|=32,null===(i=s.effects)?s.effects=[p]:i.push(p))}if(null===(p=p.next)||p===u){if(null===(i=s.shared.pending))break;p=a.next=i.next,i.next=u,s.baseQueue=a=i,s.shared.pending=null}}null===m?d=l:m.next=f,s.baseState=d,s.baseQueue=m,au(c),e.expirationTime=c,e.memoizedState=l}}function fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!=typeof r)throw Error(a(191,r));r.call(o)}}}var ms=Y.ReactCurrentBatchConfig,ps=(new r.Component).refs;function hs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var gs={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Gi(),o=ms.suspense;(o=us(r=$i(r,e,o),o)).payload=t,null!=n&&(o.callback=n),ls(e,o),Xi(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Gi(),o=ms.suspense;(o=us(r=$i(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),ls(e,o),Xi(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Gi(),r=ms.suspense;(r=us(n=$i(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ls(e,r),Xi(e,n)}};function bs(e,t,n,r,o,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(o,s))}function vs(e,t,n){var r=!1,o=co,s=t.contextType;return"object"==typeof s&&null!==s?s=os(s):(o=go(t)?po:fo.current,s=(r=null!=(r=t.contextTypes))?ho(e,o):co),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gs,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function ys(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gs.enqueueReplaceState(t,t.state,null)}function Ms(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ps,as(e);var s=t.contextType;"object"==typeof s&&null!==s?o.context=os(s):(s=go(t)?po:fo.current,o.context=ho(e,s)),ds(e,n,o,r),o.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(hs(e,t,s,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&gs.enqueueReplaceState(o,o.state,null),ds(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var _s=Array.isArray;function Is(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===ps&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ps(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ks(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Eu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function i(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Vu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Is(e,t,n),r.return=e,r):((r=Su(n.type,n.key,n.props,null,e.mode,r)).ref=Is(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Nu(n,e.mode,r,s)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Vu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Su(t.type,t.key,t.props,null,e.mode,n)).ref=Is(e,null,t),n.return=e,n;case te:return(t=Tu(t,e.mode,n)).return=e,t}if(_s(t)||he(t))return(t=Nu(t,e.mode,n,null)).return=e,t;Ps(e,t)}return null}function m(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===o?n.type===ne?d(e,t,n.props.children,r,o):l(e,t,n,r):null;case te:return n.key===o?c(e,t,n,r):null}if(_s(n)||he(n))return null!==o?null:d(e,t,n,r,null);Ps(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,o,r.key):l(t,e,r,o);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(_s(r)||he(r))return d(t,e=e.get(n)||null,r,o,null);Ps(t,r)}return null}function h(o,a,i,u){for(var l=null,c=null,d=a,h=a=0,g=null;null!==d&&h<i.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var b=m(o,d,i[h],u);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(o,d),a=s(b,a,h),null===c?l=b:c.sibling=b,c=b,d=g}if(h===i.length)return n(o,d),l;if(null===d){for(;h<i.length;h++)null!==(d=f(o,i[h],u))&&(a=s(d,a,h),null===c?l=d:c.sibling=d,c=d);return l}for(d=r(o,d);h<i.length;h++)null!==(g=p(d,o,h,i[h],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),a=s(g,a,h),null===c?l=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(o,e)})),l}function g(o,i,u,l){var c=he(u);if("function"!=typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,h=i,g=i=0,b=null,v=u.next();null!==h&&!v.done;g++,v=u.next()){h.index>g?(b=h,h=null):b=h.sibling;var y=m(o,h,v.value,l);if(null===y){null===h&&(h=b);break}e&&h&&null===y.alternate&&t(o,h),i=s(y,i,g),null===d?c=y:d.sibling=y,d=y,h=b}if(v.done)return n(o,h),c;if(null===h){for(;!v.done;g++,v=u.next())null!==(v=f(o,v.value,l))&&(i=s(v,i,g),null===d?c=v:d.sibling=v,d=v);return c}for(h=r(o,h);!v.done;g++,v=u.next())null!==(v=p(h,o,g,v.value,l))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=s(v,i,g),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach((function(e){return t(o,e)})),c}return function(e,r,s,u){var l="object"==typeof s&&null!==s&&s.type===ne&&null===s.key;l&&(s=s.props.children);var c="object"==typeof s&&null!==s;if(c)switch(s.$$typeof){case ee:e:{for(c=s.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(s.type===ne){n(e,l.sibling),(r=o(l,s.props.children)).return=e,e=r;break e}break;default:if(l.elementType===s.type){n(e,l.sibling),(r=o(l,s.props)).ref=Is(e,l,s),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}s.type===ne?((r=Nu(s.props.children,e.mode,u,s.key)).return=e,e=r):((u=Su(s.type,s.key,s.props,null,e.mode,u)).ref=Is(e,r,s),u.return=e,e=u)}return i(e);case te:e:{for(l=s.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=o(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Tu(s,e.mode,u)).return=e,e=r}return i(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,s)).return=e,e=r):(n(e,r),(r=Vu(s,e.mode,u)).return=e,e=r),i(e);if(_s(s))return h(e,r,s,u);if(he(s))return g(e,r,s,u);if(c&&Ps(e,s),void 0===s&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ws=ks(!0),Es=ks(!1),Ss={},Ns={current:Ss},Vs={current:Ss},Ts={current:Ss};function Rs(e){if(e===Ss)throw Error(a(174));return e}function Os(e,t){switch(lo(Ts,t),lo(Vs,e),lo(Ns,Ss),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}uo(Ns),lo(Ns,t)}function xs(){uo(Ns),uo(Vs),uo(Ts)}function As(e){Rs(Ts.current);var t=Rs(Ns.current),n=je(t,e.type);t!==n&&(lo(Vs,e),lo(Ns,n))}function Cs(e){Vs.current===e&&(uo(Ns),uo(Vs))}var Ds={current:0};function js(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fs(e,t){return{responder:e,props:t}}var Bs=Y.ReactCurrentDispatcher,Ls=Y.ReactCurrentBatchConfig,Us=0,qs=null,zs=null,Hs=null,Ws=!1;function Gs(){throw Error(a(321))}function $s(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function Xs(e,t,n,r,o,s){if(Us=s,qs=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bs.current=null===e||null===e.memoizedState?ba:va,e=n(r,o),t.expirationTime===Us){s=0;do{if(t.expirationTime=0,!(25>s))throw Error(a(301));s+=1,Hs=zs=null,t.updateQueue=null,Bs.current=ya,e=n(r,o)}while(t.expirationTime===Us)}if(Bs.current=ga,t=null!==zs&&null!==zs.next,Us=0,Hs=zs=qs=null,Ws=!1,t)throw Error(a(300));return e}function Ks(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hs?qs.memoizedState=Hs=e:Hs=Hs.next=e,Hs}function Ys(){if(null===zs){var e=qs.alternate;e=null!==e?e.memoizedState:null}else e=zs.next;var t=null===Hs?qs.memoizedState:Hs.next;if(null!==t)Hs=t,zs=e;else{if(null===e)throw Error(a(310));e={memoizedState:(zs=e).memoizedState,baseState:zs.baseState,baseQueue:zs.baseQueue,queue:zs.queue,next:null},null===Hs?qs.memoizedState=Hs=e:Hs=Hs.next=e}return Hs}function Qs(e,t){return"function"==typeof t?t(e):t}function Js(e){var t=Ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=zs,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=i=s=null,l=o;do{var c=l.expirationTime;if(c<Us){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(i=u=d,s=r):u=u.next=d,c>qs.expirationTime&&(qs.expirationTime=c,au(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),su(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==o);null===u?s=r:u.next=i,jr(r,t.memoizedState)||(Ta=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zs(e){var t=Ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{s=e(s,i.action),i=i.next}while(i!==o);jr(s,t.memoizedState)||(Ta=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ea(e){var t=Ks();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e}).dispatch=ha.bind(null,qs,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=qs.updateQueue)?(t={lastEffect:null},qs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Ys().memoizedState}function ra(e,t,n,r){var o=Ks();qs.effectTag|=e,o.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function oa(e,t,n,r){var o=Ys();r=void 0===r?null:r;var s=void 0;if(null!==zs){var a=zs.memoizedState;if(s=a.destroy,null!==r&&$s(r,a.deps))return void ta(t,n,s,r)}qs.effectTag|=e,o.memoizedState=ta(1|t,n,s,r)}function sa(e,t){return ra(516,4,e,t)}function aa(e,t){return oa(516,4,e,t)}function ia(e,t){return oa(4,2,e,t)}function ua(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!=n?n.concat([e]):null,oa(4,2,ua.bind(null,t,e),n)}function ca(){}function da(e,t){return Ks().memoizedState=[e,void 0===t?null:t],e}function fa(e,t){var n=Ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$s(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ma(e,t){var n=Ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$s(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=Uo();zo(98>r?98:r,(function(){e(!0)})),zo(97<r?97:r,(function(){var r=Ls.suspense;Ls.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ls.suspense=r}}))}function ha(e,t,n){var r=Gi(),o=ms.suspense;o={expirationTime:r=$i(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===qs||null!==s&&s===qs)Ws=!0,o.expirationTime=Us,qs.expirationTime=Us;else{if(0===e.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,i=s(a,n);if(o.eagerReducer=s,o.eagerState=i,jr(i,a))return}catch(e){}Xi(e,r)}}var ga={readContext:os,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useResponder:Gs,useDeferredValue:Gs,useTransition:Gs},ba={readContext:os,useCallback:da,useContext:os,useEffect:sa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Ks();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ks();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ha.bind(null,qs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ks().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Fs,useDeferredValue:function(e,t){var n=ea(e),r=n[0],o=n[1];return sa((function(){var n=Ls.suspense;Ls.suspense=void 0===t?null:t;try{o(e)}finally{Ls.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},va={readContext:os,useCallback:fa,useContext:os,useEffect:aa,useImperativeHandle:la,useLayoutEffect:ia,useMemo:ma,useReducer:Js,useRef:na,useState:function(){return Js(Qs)},useDebugValue:ca,useResponder:Fs,useDeferredValue:function(e,t){var n=Js(Qs),r=n[0],o=n[1];return aa((function(){var n=Ls.suspense;Ls.suspense=void 0===t?null:t;try{o(e)}finally{Ls.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Js(Qs),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:os,useCallback:fa,useContext:os,useEffect:aa,useImperativeHandle:la,useLayoutEffect:ia,useMemo:ma,useReducer:Zs,useRef:na,useState:function(){return Zs(Qs)},useDebugValue:ca,useResponder:Fs,useDeferredValue:function(e,t){var n=Zs(Qs),r=n[0],o=n[1];return aa((function(){var n=Ls.suspense;Ls.suspense=void 0===t?null:t;try{o(e)}finally{Ls.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zs(Qs),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},Ma=null,_a=null,Ia=!1;function Pa(e,t){var n=ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function wa(e){if(Ia){var t=_a;if(t){var n=t;if(!ka(e,t)){if(!(t=_n(n.nextSibling))||!ka(e,t))return e.effectTag=-1025&e.effectTag|2,Ia=!1,void(Ma=e);Pa(Ma,n)}Ma=e,_a=_n(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ia=!1,Ma=e}}function Ea(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ma=e}function Sa(e){if(e!==Ma)return!1;if(!Ia)return Ea(e),Ia=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vn(t,e.memoizedProps))for(t=_a;t;)Pa(e,t),t=_n(t.nextSibling);if(Ea(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){_a=_n(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}_a=null}}else _a=Ma?_n(e.stateNode.nextSibling):null;return!0}function Na(){_a=Ma=null,Ia=!1}var Va=Y.ReactCurrentOwner,Ta=!1;function Ra(e,t,n,r){t.child=null===e?Es(t,null,n,r):ws(t,e.child,n,r)}function Oa(e,t,n,r,o){n=n.render;var s=t.ref;return rs(t,o),r=Xs(e,t,n,r,s,o),null===e||Ta?(t.effectTag|=1,Ra(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Xa(e,t,o))}function xa(e,t,n,r,o,s){if(null===e){var a=n.type;return"function"!=typeof a||wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Su(n.type,null,r,null,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Aa(e,t,a,r,o,s))}return a=e.child,o<s&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(o,r)&&e.ref===t.ref)?Xa(e,t,s):(t.effectTag|=1,(e=Eu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Aa(e,t,n,r,o,s){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Ta=!1,o<s)?(t.expirationTime=e.expirationTime,Xa(e,t,s)):Da(e,t,n,r,s)}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Da(e,t,n,r,o){var s=go(n)?po:fo.current;return s=ho(t,s),rs(t,o),n=Xs(e,t,n,r,s,o),null===e||Ta?(t.effectTag|=1,Ra(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Xa(e,t,o))}function ja(e,t,n,r,o){if(go(n)){var s=!0;Mo(t)}else s=!1;if(rs(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),vs(t,n,r),Ms(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,i=t.memoizedProps;a.props=i;var u=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=os(l):l=ho(t,l=go(n)?po:fo.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i!==r||u!==l)&&ys(t,a,r,l),ss=!1;var f=t.memoizedState;a.state=f,ds(t,r,a,o),u=t.memoizedState,i!==r||f!==u||mo.current||ss?("function"==typeof c&&(hs(t,n,c,r),u=t.memoizedState),(i=ss||bs(t,n,i,r,f,u,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=i):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,is(e,t),i=t.memoizedProps,a.props=t.type===t.elementType?i:Ko(t.type,i),u=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=os(l):l=ho(t,l=go(n)?po:fo.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i!==r||u!==l)&&ys(t,a,r,l),ss=!1,u=t.memoizedState,a.state=u,ds(t,r,a,o),f=t.memoizedState,i!==r||u!==f||mo.current||ss?("function"==typeof c&&(hs(t,n,c,r),f=t.memoizedState),(c=ss||bs(t,n,i,r,u,f,l))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,s,o)}function Fa(e,t,n,r,o,s){Ca(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&_o(t,n,!1),Xa(e,t,s);r=t.stateNode,Va.current=t;var i=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,i,s)):Ra(e,t,i,s),t.memoizedState=r.state,o&&_o(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?vo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vo(0,t.context,!1),Os(e,t.containerInfo)}var La,Ua,qa,za={dehydrated:null,retryTime:0};function Ha(e,t,n){var r,o=t.mode,s=t.pendingProps,a=Ds.current,i=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(i=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(a|=1),lo(Ds,1&a),null===e){if(void 0!==s.fallback&&wa(t),i){if(i=s.fallback,(s=Nu(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,s.child=e;null!==e;)e.return=s,e=e.sibling;return(n=Nu(i,o,n,null)).return=t,s.sibling=n,t.memoizedState=za,t.child=s,n}return o=s.children,t.memoizedState=null,t.child=Es(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,i){if(s=s.fallback,(n=Eu(e,e.pendingProps)).return=t,0==(2&t.mode)&&(i=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=i;null!==i;)i.return=n,i=i.sibling;return(o=Eu(o,s)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=za,t.child=n,o}return n=ws(t,e.child,s.children,n),t.memoizedState=null,t.child=n}if(e=e.child,i){if(i=s.fallback,(s=Nu(null,o,0,null)).return=t,s.child=e,null!==e&&(e.return=s),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,s.child=e;null!==e;)e.return=s,e=e.sibling;return(n=Nu(i,o,n,null)).return=t,s.sibling=n,n.effectTag|=2,s.childExpirationTime=0,t.memoizedState=za,t.child=s,n}return t.memoizedState=null,t.child=ws(t,e,s.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ns(e.return,t)}function Ga(e,t,n,r,o,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=s)}function $a(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Ra(e,t,r.children,n),0!=(2&(r=Ds.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lo(Ds,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===js(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ga(t,!1,o,n,s,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===js(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ga(t,!0,n,null,s,t.lastEffect);break;case"together":Ga(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&au(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Eu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Eu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return go(t.type)&&bo(),null;case 3:return xs(),uo(mo),uo(fo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Sa(t)||(t.effectTag|=4),null;case 5:Cs(t),n=Rs(Ts.current);var s=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,s,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Rs(Ns.current),Sa(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[kn]=t,r[wn]=i,s){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<Ye.length;e++)$t(Ye[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":Pe(r,i),$t("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$t("invalid",r),un(n,"onChange");break;case"textarea":Re(r,i),$t("invalid",r),un(n,"onChange")}for(var u in on(s,i),e=null,i)if(i.hasOwnProperty(u)){var l=i[u];"children"===u?"string"==typeof l?r.textContent!==l&&(e=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(e=["children",""+l]):k.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(s){case"input":Me(r),Ee(r,i,!0);break;case"textarea":Me(r),xe(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===an&&(e=De(s)),e===an?"script"===s?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(s,{is:r.is}):(e=u.createElement(s),"select"===s&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,s),e[kn]=t,e[wn]=r,La(e,t),t.stateNode=e,u=sn(s,r),s){case"iframe":case"object":case"embed":$t("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ye.length;l++)$t(Ye[l],e);l=r;break;case"source":$t("error",e),l=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),l=r;break;case"form":$t("reset",e),$t("submit",e),l=r;break;case"details":$t("toggle",e),l=r;break;case"input":Pe(e,r),l=Ie(e,r),$t("invalid",e),un(n,"onChange");break;case"option":l=Ne(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=o({},r,{value:void 0}),$t("invalid",e),un(n,"onChange");break;case"textarea":Re(e,r),l=Te(e,r),$t("invalid",e),un(n,"onChange");break;default:l=r}on(s,l);var c=l;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?nn(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&Be(e,d):"children"===i?"string"==typeof d?("textarea"!==s||""!==d)&&Le(e,d):"number"==typeof d&&Le(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(k.hasOwnProperty(i)?null!=d&&un(n,i):null!=d&&Q(e,i,d,u))}switch(s){case"input":Me(e),Ee(e,r,!1);break;case"textarea":Me(e),xe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ve(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ve(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=ln)}bn(s,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Rs(Ts.current),Rs(Ns.current),Sa(t)?(n=t.stateNode,r=t.memoizedProps,n[kn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[kn]=t,t.stateNode=n)}return null;case 13:return uo(Ds),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Sa(t):(r=null!==(s=e.memoizedState),n||null===s||null!==(s=e.child.sibling)&&(null!==(i=t.firstEffect)?(t.firstEffect=s,s.nextEffect=i):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ds.current)?Si===Mi&&(Si=_i):(Si!==Mi&&Si!==_i||(Si=Ii),0!==Oi&&null!==ki&&(xu(ki,Ei),Au(ki,Oi)))),(n||r)&&(t.effectTag|=4),null);case 4:return xs(),null;case 10:return ts(t),null;case 17:return go(t.type)&&bo(),null;case 19:if(uo(Ds),null===(r=t.memoizedState))return null;if(s=0!=(64&t.effectTag),null===(i=r.rendering)){if(s)Ka(r,!1);else if(Si!==Mi||null!==e&&0!=(64&e.effectTag))for(i=t.child;null!==i;){if(null!==(e=js(i))){for(t.effectTag|=64,Ka(r,!1),null!==(s=e.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)i=n,(s=r).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(e=s.alternate)?(s.childExpirationTime=0,s.expirationTime=i,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=e.childExpirationTime,s.expirationTime=e.expirationTime,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=null===i?null:{expirationTime:i.expirationTime,firstContext:i.firstContext,responders:i.responders}),r=r.sibling;return lo(Ds,1&Ds.current|2),t.child}i=i.sibling}}else{if(!s)if(null!==(e=js(i))){if(t.effectTag|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ka(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Lo()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,s=!0,Ka(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=r.last)?n.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Lo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Lo(),n.sibling=null,t=Ds.current,lo(Ds,s?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Qa(e){switch(e.tag){case 1:go(e.type)&&bo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(xs(),uo(mo),uo(fo),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Cs(e),null;case 13:return uo(Ds),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return uo(Ds),null;case 4:return xs(),null;case 10:return ts(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:be(t)}}La=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,r,s){var a=e.memoizedProps;if(a!==r){var i,u,l=t.stateNode;switch(Rs(Ns.current),e=null,n){case"input":a=Ie(l,a),r=Ie(l,r),e=[];break;case"option":a=Ne(l,a),r=Ne(l,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Te(l,a),r=Te(l,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=ln)}for(i in on(n,r),n=null,a)if(!r.hasOwnProperty(i)&&a.hasOwnProperty(i)&&null!=a[i])if("style"===i)for(u in l=a[i])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(k.hasOwnProperty(i)?e||(e=[]):(e=e||[]).push(i,null));for(i in r){var c=r[i];if(l=null!=a?a[i]:void 0,r.hasOwnProperty(i)&&c!==l&&(null!=c||null!=l))if("style"===i)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(i,n)),n=c;else"dangerouslySetInnerHTML"===i?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(i,c)):"children"===i?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(i,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&(k.hasOwnProperty(i)?(null!=c&&un(s,i),e||l===c||(e=[])):(e=e||[]).push(i,c))}n&&(e=e||[]).push("style",n),s=e,(t.updateQueue=s)&&(t.effectTag|=4)}},qa=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function ei(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=be(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ti(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){vu(e,t)}else t.current=null}function ni(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ko(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ri(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function oi(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function si(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void oi(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ko(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function ai(e,t,n){switch("function"==typeof Iu&&Iu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;zo(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){vu(o,e)}}e=e.next}while(e!==r)}))}break;case 1:ti(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){vu(e,t)}}(t,n);break;case 5:ti(t);break;case 4:ci(e,t,n)}}function ii(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ii(t)}function ui(e){return 5===e.tag||3===e.tag||4===e.tag}function li(e){e:{for(var t=e.return;null!==t;){if(ui(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Le(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ui(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,s=5===o||6===o;if(s)t=s?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,s=5===o||6===o;if(s)t=s?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ci(e,t,n){for(var r,o,s=t,i=!1;;){if(!i){i=s.return;e:for(;;){if(null===i)throw Error(a(160));switch(r=i.stateNode,i.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}i=i.return}i=!0}if(5===s.tag||6===s.tag){e:for(var u=e,l=s,c=n,d=l;;)if(ai(u,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break e;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(u=r,l=s.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,o=!0,s.child.return=s,s=s.child;continue}}else if(ai(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(i=!1)}s.sibling.return=s.return,s=s.sibling}}function di(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ri(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[wn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(n,r),sn(e,o),t=sn(e,r),o=0;o<s.length;o+=2){var i=s[o],u=s[o+1];"style"===i?nn(n,u):"dangerouslySetInnerHTML"===i?Be(n,u):"children"===i?Le(n,u):Q(n,i,u,t)}switch(e){case"input":we(n,r);break;case"textarea":Oe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ve(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ve(n,!!r.multiple,r.defaultValue,!0):Ve(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ai=Lo()),null!==n)e:for(e=n;;){if(5===e.tag)s=e.stateNode,r?"function"==typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,s.style.display=tn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(s=e.child.sibling).return=e,e=s;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fi(t);case 19:return void fi(t);case 17:return}throw Error(a(163))}function fi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var mi="function"==typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=us(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Di||(Di=!0,ji=r),ei(e,t)},n}function hi(e,t,n){(n=us(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return ei(e,t),r(o)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fi?Fi=new Set([this]):Fi.add(this),ei(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gi,bi=Math.ceil,vi=Y.ReactCurrentDispatcher,yi=Y.ReactCurrentOwner,Mi=0,_i=3,Ii=4,Pi=0,ki=null,wi=null,Ei=0,Si=Mi,Ni=null,Vi=1073741823,Ti=1073741823,Ri=null,Oi=0,xi=!1,Ai=0,Ci=null,Di=!1,ji=null,Fi=null,Bi=!1,Li=null,Ui=90,qi=null,zi=0,Hi=null,Wi=0;function Gi(){return 0!=(48&Pi)?1073741821-(Lo()/10|0):0!==Wi?Wi:Wi=1073741821-(Lo()/10|0)}function $i(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Uo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Pi))return Ei;if(null!==n)e=Xo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Xo(e,150,100);break;case 97:case 96:e=Xo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==ki&&e===Ei&&--e,e}function Xi(e,t){if(50<zi)throw zi=0,Hi=null,Error(a(185));if(null!==(e=Ki(e,t))){var n=Uo();1073741823===t?0!=(8&Pi)&&0==(48&Pi)?Zi(e):(Qi(e),0===Pi&&Go()):Qi(e),0==(4&Pi)||98!==n&&99!==n||(null===qi?qi=new Map([[e,t]]):(void 0===(n=qi.get(e))||n>t)&&qi.set(e,t))}}function Ki(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(ki===o&&(au(t),Si===Ii&&xu(o,Ei)),Au(o,t)),o}function Yi(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ou(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qi(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wo(Zi.bind(null,e));else{var t=Yi(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Gi();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==xo&&ko(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wo(Zi.bind(null,e)):Ho(r,Ji.bind(null,e),{timeout:10*(1073741821-t)-Lo()}),e.callbackNode=t}}}function Ji(e,t){if(Wi=0,t)return Cu(e,t=Gi()),Qi(e),null;var n=Yi(e);if(0!==n){if(t=e.callbackNode,0!=(48&Pi))throw Error(a(327));if(hu(),e===ki&&n===Ei||nu(e,n),null!==wi){var r=Pi;Pi|=16;for(var o=ou();;)try{uu();break}catch(t){ru(e,t)}if(es(),Pi=r,vi.current=o,1===Si)throw t=Ni,nu(e,n),xu(e,n),Qi(e),t;if(null===wi)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Si,ki=null,r){case Mi:case 1:throw Error(a(345));case 2:Cu(e,2<n?2:n);break;case _i:if(xu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=du(o)),1073741823===Vi&&10<(o=Ai+500-Lo())){if(xi){var s=e.lastPingedTime;if(0===s||s>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(s=Yi(e))&&s!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=yn(fu.bind(null,e),o);break}fu(e);break;case Ii:if(xu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=du(o)),xi&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(o=Yi(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ti?r=10*(1073741821-Ti)-Lo():1073741823===Vi?r=0:(r=10*(1073741821-Vi)-5e3,0>(r=(o=Lo())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bi(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=yn(fu.bind(null,e),r);break}fu(e);break;case 5:if(1073741823!==Vi&&null!==Ri){s=Vi;var i=Ri;if(0>=(r=0|i.busyMinDurationMs)?r=0:(o=0|i.busyDelayMs,r=(s=Lo()-(10*(1073741821-s)-(0|i.timeoutMs||5e3)))<=o?0:o+r-s),10<r){xu(e,n),e.timeoutHandle=yn(fu.bind(null,e),r);break}}fu(e);break;default:throw Error(a(329))}if(Qi(e),e.callbackNode===t)return Ji.bind(null,e)}}return null}function Zi(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Pi))throw Error(a(327));if(hu(),e===ki&&t===Ei||nu(e,t),null!==wi){var n=Pi;Pi|=16;for(var r=ou();;)try{iu();break}catch(t){ru(e,t)}if(es(),Pi=n,vi.current=r,1===Si)throw n=Ni,nu(e,t),xu(e,t),Qi(e),n;if(null!==wi)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ki=null,fu(e),Qi(e)}return null}function eu(e,t){var n=Pi;Pi|=1;try{return e(t)}finally{0===(Pi=n)&&Go()}}function tu(e,t){var n=Pi;Pi&=-2,Pi|=8;try{return e(t)}finally{0===(Pi=n)&&Go()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Mn(n)),null!==wi)for(n=wi.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&bo();break;case 3:xs(),uo(mo),uo(fo);break;case 5:Cs(r);break;case 4:xs();break;case 13:case 19:uo(Ds);break;case 10:ts(r)}n=n.return}ki=e,wi=Eu(e.current,null),Ei=t,Si=Mi,Ni=null,Ti=Vi=1073741823,Ri=null,Oi=0,xi=!1}function ru(e,t){for(;;){try{if(es(),Bs.current=ga,Ws)for(var n=qs.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Us=0,Hs=zs=qs=null,Ws=!1,null===wi||null===wi.return)return Si=1,Ni=t,wi=null;e:{var o=e,s=wi.return,a=wi,i=t;if(t=Ei,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var u=i;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Ds.current),d=s;do{var f;if(f=13===d.tag){var m=d.memoizedState;if(null!==m)f=null!==m.dehydrated;else{var p=d.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var h=d.updateQueue;if(null===h){var g=new Set;g.add(u),d.updateQueue=g}else h.add(u);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var b=us(1073741823,null);b.tag=2,ls(a,b)}a.expirationTime=1073741823;break e}i=void 0,a=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new mi,i=new Set,v.set(u,i)):void 0===(i=v.get(u))&&(i=new Set,v.set(u,i)),!i.has(a)){i.add(a);var y=yu.bind(null,o,u,a);u.then(y,y)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);i=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+be(a))}5!==Si&&(Si=2),i=Ja(i,a),d=s;do{switch(d.tag){case 3:u=i,d.effectTag|=4096,d.expirationTime=t,cs(d,pi(d,u,t));break e;case 1:u=i;var M=d.type,_=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof M.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Fi||!Fi.has(_)))){d.effectTag|=4096,d.expirationTime=t,cs(d,hi(d,u,t));break e}}d=d.return}while(null!==d)}wi=cu(wi)}catch(e){t=e;continue}break}}function ou(){var e=vi.current;return vi.current=ga,null===e?ga:e}function su(e,t){e<Vi&&2<e&&(Vi=e),null!==t&&e<Ti&&2<e&&(Ti=e,Ri=t)}function au(e){e>Oi&&(Oi=e)}function iu(){for(;null!==wi;)wi=lu(wi)}function uu(){for(;null!==wi&&!Ao();)wi=lu(wi)}function lu(e){var t=gi(e.alternate,e,Ei);return e.memoizedProps=e.pendingProps,null===t&&(t=cu(e)),yi.current=null,t}function cu(e){wi=e;do{var t=wi.alternate;if(e=wi.return,0==(2048&wi.effectTag)){if(t=Ya(t,wi,Ei),1===Ei||1!==wi.childExpirationTime){for(var n=0,r=wi.child;null!==r;){var o=r.expirationTime,s=r.childExpirationTime;o>n&&(n=o),s>n&&(n=s),r=r.sibling}wi.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=wi.firstEffect),null!==wi.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=wi.firstEffect),e.lastEffect=wi.lastEffect),1<wi.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=wi:e.firstEffect=wi,e.lastEffect=wi))}else{if(null!==(t=Qa(wi)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=wi.sibling))return t;wi=e}while(null!==wi);return Si===Mi&&(Si=5),null}function du(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fu(e){var t=Uo();return zo(99,mu.bind(null,e,t)),null}function mu(e,t){do{hu()}while(null!==Li);if(0!=(48&Pi))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=du(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ki&&(wi=ki=null,Ei=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var s=Pi;Pi|=32,yi.current=null,hn=Gt;var i=mn();if(pn(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{var l=(u=(u=i.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{u.nodeType,d.nodeType}catch(e){u=null;break e}var f=0,m=-1,p=-1,h=0,g=0,b=i,v=null;t:for(;;){for(var y;b!==u||0!==c&&3!==b.nodeType||(m=f+c),b!==d||0!==l&&3!==b.nodeType||(p=f+l),3===b.nodeType&&(f+=b.nodeValue.length),null!==(y=b.firstChild);)v=b,b=y;for(;;){if(b===i)break t;if(v===u&&++h===c&&(m=f),v===d&&++g===l&&(p=f),null!==(y=b.nextSibling))break;v=(b=v).parentNode}b=y}u=-1===m||-1===p?null:{start:m,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;gn={activeElementDetached:null,focusedElem:i,selectionRange:u},Gt=!1,Ci=o;do{try{pu()}catch(e){if(null===Ci)throw Error(a(330));vu(Ci,e),Ci=Ci.nextEffect}}while(null!==Ci);Ci=o;do{try{for(i=e,u=t;null!==Ci;){var M=Ci.effectTag;if(16&M&&Le(Ci.stateNode,""),128&M){var _=Ci.alternate;if(null!==_){var I=_.ref;null!==I&&("function"==typeof I?I(null):I.current=null)}}switch(1038&M){case 2:li(Ci),Ci.effectTag&=-3;break;case 6:li(Ci),Ci.effectTag&=-3,di(Ci.alternate,Ci);break;case 1024:Ci.effectTag&=-1025;break;case 1028:Ci.effectTag&=-1025,di(Ci.alternate,Ci);break;case 4:di(Ci.alternate,Ci);break;case 8:ci(i,c=Ci,u),ii(c)}Ci=Ci.nextEffect}}catch(e){if(null===Ci)throw Error(a(330));vu(Ci,e),Ci=Ci.nextEffect}}while(null!==Ci);if(I=gn,_=mn(),M=I.focusedElem,u=I.selectionRange,_!==M&&M&&M.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(M.ownerDocument.documentElement,M)){null!==u&&pn(M)&&(_=u.start,void 0===(I=u.end)&&(I=_),"selectionStart"in M?(M.selectionStart=_,M.selectionEnd=Math.min(I,M.value.length)):(I=(_=M.ownerDocument||document)&&_.defaultView||window).getSelection&&(I=I.getSelection(),c=M.textContent.length,i=Math.min(u.start,c),u=void 0===u.end?i:Math.min(u.end,c),!I.extend&&i>u&&(c=u,u=i,i=c),c=fn(M,i),d=fn(M,u),c&&d&&(1!==I.rangeCount||I.anchorNode!==c.node||I.anchorOffset!==c.offset||I.focusNode!==d.node||I.focusOffset!==d.offset)&&((_=_.createRange()).setStart(c.node,c.offset),I.removeAllRanges(),i>u?(I.addRange(_),I.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),I.addRange(_))))),_=[];for(I=M;I=I.parentNode;)1===I.nodeType&&_.push({element:I,left:I.scrollLeft,top:I.scrollTop});for("function"==typeof M.focus&&M.focus(),M=0;M<_.length;M++)(I=_[M]).element.scrollLeft=I.left,I.element.scrollTop=I.top}Gt=!!hn,gn=hn=null,e.current=n,Ci=o;do{try{for(M=e;null!==Ci;){var P=Ci.effectTag;if(36&P&&si(M,Ci.alternate,Ci),128&P){_=void 0;var k=Ci.ref;if(null!==k){var w=Ci.stateNode;switch(Ci.tag){case 5:_=w;break;default:_=w}"function"==typeof k?k(_):k.current=_}}Ci=Ci.nextEffect}}catch(e){if(null===Ci)throw Error(a(330));vu(Ci,e),Ci=Ci.nextEffect}}while(null!==Ci);Ci=null,Co(),Pi=s}else e.current=n;if(Bi)Bi=!1,Li=e,Ui=t;else for(Ci=o;null!==Ci;)t=Ci.nextEffect,Ci.nextEffect=null,Ci=t;if(0===(t=e.firstPendingTime)&&(Fi=null),1073741823===t?e===Hi?zi++:(zi=0,Hi=e):zi=0,"function"==typeof _u&&_u(n.stateNode,r),Qi(e),Di)throw Di=!1,e=ji,ji=null,e;return 0!=(8&Pi)||Go(),null}function pu(){for(;null!==Ci;){var e=Ci.effectTag;0!=(256&e)&&ni(Ci.alternate,Ci),0==(512&e)||Bi||(Bi=!0,Ho(97,(function(){return hu(),null}))),Ci=Ci.nextEffect}}function hu(){if(90!==Ui){var e=97<Ui?97:Ui;return Ui=90,zo(e,gu)}}function gu(){if(null===Li)return!1;var e=Li;if(Li=null,0!=(48&Pi))throw Error(a(331));var t=Pi;for(Pi|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ri(5,n),oi(5,n)}}catch(t){if(null===e)throw Error(a(330));vu(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Pi=t,Go(),!0}function bu(e,t,n){ls(e,t=pi(e,t=Ja(n,t),1073741823)),null!==(e=Ki(e,1073741823))&&Qi(e)}function vu(e,t){if(3===e.tag)bu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){bu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fi||!Fi.has(r))){ls(n,e=hi(n,e=Ja(t,e),1073741823)),null!==(n=Ki(n,1073741823))&&Qi(n);break}}n=n.return}}function yu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ki===e&&Ei===n?Si===Ii||Si===_i&&1073741823===Vi&&Lo()-Ai<500?nu(e,Ei):xi=!0:Ou(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qi(e)))}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$i(t=Gi(),e,null)),null!==(e=Ki(e,t))&&Qi(e)}gi=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||mo.current)Ta=!0;else{if(r<n){switch(Ta=!1,t.tag){case 3:Ba(t),Na();break;case 5:if(As(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:go(t.type)&&Mo(t);break;case 4:Os(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,o=t.type._context,lo(Yo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ha(e,t,n):(lo(Ds,1&Ds.current),null!==(t=Xa(e,t,n))?t.sibling:null);lo(Ds,1&Ds.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return $a(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),lo(Ds,Ds.current),!r)return null}return Xa(e,t,n)}Ta=!1}}else Ta=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=ho(t,fo.current),rs(t,n),o=Xs(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,go(r)){var s=!0;Mo(t)}else s=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,as(t);var i=r.getDerivedStateFromProps;"function"==typeof i&&hs(t,r,i,e),o.updater=gs,t.stateNode=o,o._reactInternalFiber=t,Ms(t,r,e,n),t=Fa(null,t,r,!0,s,n)}else t.tag=0,Ra(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,s=t.tag=function(e){if("function"==typeof e)return wu(e)?1:0;if(null!=e){if((e=e.$$typeof)===ue)return 11;if(e===de)return 14}return 2}(o),e=Ko(o,e),s){case 0:t=Da(null,t,o,e,n);break e;case 1:t=ja(null,t,o,e,n);break e;case 11:t=Oa(null,t,o,e,n);break e;case 14:t=xa(null,t,o,Ko(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Da(e,t,r,o=t.elementType===r?o:Ko(r,o),n);case 1:return r=t.type,o=t.pendingProps,ja(e,t,r,o=t.elementType===r?o:Ko(r,o),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,is(e,t),ds(t,r,null,n),(r=t.memoizedState.element)===o)Na(),t=Xa(e,t,n);else{if((o=t.stateNode.hydrate)&&(_a=_n(t.stateNode.containerInfo.firstChild),Ma=t,o=Ia=!0),o)for(n=Es(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ra(e,t,r,n),Na();t=t.child}return t;case 5:return As(t),null===e&&wa(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,vn(r,o)?i=null:null!==s&&vn(r,s)&&(t.effectTag|=16),Ca(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ra(e,t,i,n),t=t.child),t;case 6:return null===e&&wa(t),null;case 13:return Ha(e,t,n);case 4:return Os(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Oa(e,t,r,o=t.elementType===r?o:Ko(r,o),n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value;var u=t.type._context;if(lo(Yo,u._currentValue),u._currentValue=s,null!==i)if(u=i.value,0===(s=jr(u,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,s):1073741823))){if(i.children===o.children&&!mo.current){t=Xa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){i=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&s)){1===u.tag&&((c=us(n,null)).tag=2,ls(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ns(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else i=10===u.tag&&u.type===t.type?null:u.child;if(null!==i)i.return=u;else for(i=u;null!==i;){if(i===t){i=null;break}if(null!==(u=i.sibling)){u.return=i.return,i=u;break}i=i.return}u=i}Ra(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(s=t.pendingProps).children,rs(t,n),r=r(o=os(o,s.unstable_observedBits)),t.effectTag|=1,Ra(e,t,r,n),t.child;case 14:return s=Ko(o=t.type,t.pendingProps),xa(e,t,o,s=Ko(o.type,s),r,n);case 15:return Aa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ko(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,go(r)?(e=!0,Mo(t)):e=!1,rs(t,n),vs(t,r,o),Ms(t,r,o,n),Fa(null,t,r,!0,e,n);case 19:return $a(e,t,n)}throw Error(a(156,t.tag))};var _u=null,Iu=null;function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ku(e,t,n,r){return new Pu(e,t,n,r)}function wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Eu(e,t){var n=e.alternate;return null===n?((n=ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Su(e,t,n,r,o,s){var i=2;if(r=e,"function"==typeof e)wu(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case ne:return Nu(n.children,o,s,t);case ie:i=8,o|=7;break;case re:i=8,o|=1;break;case oe:return(e=ku(12,n,t,8|o)).elementType=oe,e.type=oe,e.expirationTime=s,e;case le:return(e=ku(13,n,t,o)).type=le,e.elementType=le,e.expirationTime=s,e;case ce:return(e=ku(19,n,t,o)).elementType=ce,e.expirationTime=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case se:i=10;break e;case ae:i=9;break e;case ue:i=11;break e;case de:i=14;break e;case fe:i=16,r=null;break e;case me:i=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ku(i,n,t,o)).elementType=e,t.type=r,t.expirationTime=s,t}function Nu(e,t,n,r){return(e=ku(7,e,r,t)).expirationTime=n,e}function Vu(e,t,n){return(e=ku(6,e,null,t)).expirationTime=n,e}function Tu(e,t,n){return(t=ku(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ru(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ou(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function xu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Au(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Cu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Du(e,t,n,r){var o=t.current,s=Gi(),i=ms.suspense;s=$i(s,o,i);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(go(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(go(l)){n=yo(n,l,u);break e}}n=u}else n=co;return null===t.context?t.context=n:t.pendingContext=n,(t=us(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ls(o,t),Xi(o,s),s}function ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bu(e,t){Fu(e,t),(e=e.alternate)&&Fu(e,t)}function Lu(e,t,n){var r=new Ru(e,t,n=null!=n&&!0===n.hydrate),o=ku(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,as(o),e[En]=r.current,n&&0!==t&&function(e,t){var n=Je(t);Et.forEach((function(e){pt(e,t,n)})),St.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Uu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if("function"==typeof o){var i=o;o=function(){var e=ju(a);i.call(e)}}Du(t,a,e,o)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Lu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=s._internalRoot,"function"==typeof o){var u=o;o=function(){var e=ju(a);u.call(e)}}tu((function(){Du(t,a,e,o)}))}return ju(a)}function zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uu(t))throw Error(a(200));return zu(e,t,null,n)}Lu.prototype.render=function(e){Du(e,this._internalRoot,null,null)},Lu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Du(null,e,null,(function(){t[En]=null}))},ht=function(e){if(13===e.tag){var t=Xo(Gi(),150,100);Xi(e,t),Bu(e,t)}},gt=function(e){13===e.tag&&(Xi(e,3),Bu(e,3))},bt=function(e){if(13===e.tag){var t=Gi();Xi(e,t=$i(t,e,null)),Bu(e,t)}},N=function(e,t,n){switch(t){case"input":if(we(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Tn(r);if(!o)throw Error(a(90));_e(r),we(r,o)}}}break;case"textarea":Oe(e,n);break;case"select":null!=(t=n.value)&&Ve(e,!!n.multiple,t,!1)}},A=eu,C=function(e,t,n,r,o){var s=Pi;Pi|=4;try{return zo(98,e.bind(null,t,n,r,o))}finally{0===(Pi=s)&&Go()}},D=function(){0==(49&Pi)&&(function(){if(null!==qi){var e=qi;qi=null,e.forEach((function(e,t){Cu(t,e),Qi(t)})),Go()}}(),hu())},j=function(e,t){var n=Pi;Pi|=2;try{return e(t)}finally{0===(Pi=n)&&Go()}};var Wu,Gu,$u={Events:[Nn,Vn,Tn,E,P,jn,function(e){ot(e,Dn)},O,x,Qt,it,hu,{current:!1}]};Gu=(Wu={findFiberByHostInstance:Sn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);_u=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Iu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(o({},Wu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Gu?Gu(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,t.createPortal=Hu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Pi))throw Error(a(187));var n=Pi;Pi|=1;try{return zo(99,e.bind(null,t))}finally{Pi=n,Go()}},t.hydrate=function(e,t,n){if(!Uu(t))throw Error(a(200));return qu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Uu(t))throw Error(a(200));return qu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uu(e))throw Error(a(40));return!!e._reactRootContainer&&(tu((function(){qu(null,null,e,!1,(function(){e._reactRootContainer=null,e[En]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return Hu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return qu(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(79)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,s,a,i;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,l=null,c=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(c,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},o=function(e,t){l=setTimeout(e,t)},s=function(){clearTimeout(l)},a=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,m=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var b=m.now();t.unstable_now=function(){return m.now()-b}}var v=!1,y=null,M=-1,_=5,I=0;a=function(){return t.unstable_now()>=I},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var P=new MessageChannel,k=P.port2;P.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();I=e+_;try{y(!0,e)?k.postMessage(null):(v=!1,y=null)}catch(e){throw k.postMessage(null),e}}else v=!1},r=function(e){y=e,v||(v=!0,k.postMessage(null))},o=function(e,n){M=p((function(){e(t.unstable_now())}),n)},s=function(){h(M),M=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<N(o,t)))break e;e[r]=t,e[n]=o,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var s=2*(r+1)-1,a=e[s],i=s+1,u=e[i];if(void 0!==a&&0>N(a,n))void 0!==u&&0>N(u,a)?(e[r]=u,e[i]=n,r=i):(e[r]=a,e[s]=n,r=s);else{if(!(void 0!==u&&0>N(u,n)))break e;e[r]=u,e[i]=n,r=i}}}return t}return null}function N(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var V=[],T=[],R=1,O=null,x=3,A=!1,C=!1,D=!1;function j(e){for(var t=E(T);null!==t;){if(null===t.callback)S(T);else{if(!(t.startTime<=e))break;S(T),t.sortIndex=t.expirationTime,w(V,t)}t=E(T)}}function F(e){if(D=!1,j(e),!C)if(null!==E(V))C=!0,r(B);else{var t=E(T);null!==t&&o(F,t.startTime-e)}}function B(e,n){C=!1,D&&(D=!1,s()),A=!0;var r=x;try{for(j(n),O=E(V);null!==O&&(!(O.expirationTime>n)||e&&!a());){var i=O.callback;if(null!==i){O.callback=null,x=O.priorityLevel;var u=i(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?O.callback=u:O===E(V)&&S(V),j(n)}else S(V);O=E(V)}if(null!==O)var l=!0;else{var c=E(T);null!==c&&o(F,c.startTime-n),l=!1}return l}finally{O=null,x=r,A=!1}}function L(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){C||A||(C=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return E(V)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,n,a){var i=t.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?i+u:i,a="number"==typeof a.timeout?a.timeout:L(e)}else a=L(e),u=i;return e={id:R++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>i?(e.sortIndex=u,w(T,e),null===E(V)&&e===E(T)&&(D?s():D=!0,o(F,u-i))):(e.sortIndex=a,w(V,e),C||A||(C=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var n=E(V);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},function(e,t,n){},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(45),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},function(e,t,n){var r=n(33),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[i]=n:delete e[i]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(86),o=n(48);e.exports=function(e){return o(r(e))}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){var n=Math.floor,r=Math.random;e.exports=function(e,t){return e+n(r()*(t-e+1))}},function(e,t,n){var r=n(48),o=n(89);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(90),o=n(91);e.exports=function(e){return null==e?[]:r(e,o(e))}},function(e,t,n){var r=n(49);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){var r=n(92),o=n(102),s=n(52);e.exports=function(e){return s(e)?r(e):o(e)}},function(e,t,n){var r=n(93),o=n(94),s=n(35),a=n(96),i=n(50),u=n(98),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),c=!n&&o(e),d=!n&&!c&&a(e),f=!n&&!c&&!d&&u(e),m=n||c||d||f,p=m?r(e.length,String):[],h=p.length;for(var g in e)!t&&!l.call(e,g)||m&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,h))||p.push(g);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(95),o=n(26),s=Object.prototype,a=s.hasOwnProperty,i=s.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!i.call(e,"callee")};e.exports=u},function(e,t,n){var r=n(25),o=n(26);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t,n){(function(e){var r=n(34),o=n(97),s=t&&!t.nodeType&&t,a=s&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===s?r.Buffer:void 0,u=(i?i.isBuffer:void 0)||o;e.exports=u}).call(this,n(36)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(99),o=n(100),s=n(101),a=s&&s.isTypedArray,i=a?o(a):r;e.exports=i},function(e,t,n){var r=n(25),o=n(51),s=n(26),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(47),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o&&r.process,i=function(){try{var e=s&&s.require&&s.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}).call(this,n(36)(e))},function(e,t,n){var r=n(103),o=n(104),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(105)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(25),o=n(24);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(t);var u=1e3;s&&"number"==typeof s.maxKeys&&(u=s.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var d,f,m,p,h=e[c].replace(i,"%20"),g=h.indexOf(n);g>=0?(d=h.substr(0,g),f=h.substr(g+1)):(d=h,f=""),m=decodeURIComponent(d),p=decodeURIComponent(f),r(a,m)?o(a[m])?a[m].push(p):a[m]=[a[m],p]:a[m]=p}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?s(a(e),(function(a){var i=encodeURIComponent(r(a))+n;return o(e[a])?s(e[a],(function(e){return i+encodeURIComponent(r(e))})).join(t):i+encodeURIComponent(r(e[a]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var r=n(110);function o(){}function s(){}s.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,s,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,M=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function I(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case u:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case m:case b:case g:case l:return e;default:return t}}case s:return t}}}function P(e){return I(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=l,t.Element=o,t.ForwardRef=m,t.Fragment=a,t.Lazy=b,t.Memo=g,t.Portal=s,t.Profiler=u,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return P(e)||I(e)===d},t.isConcurrentMode=P,t.isContextConsumer=function(e){return I(e)===c},t.isContextProvider=function(e){return I(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return I(e)===m},t.isFragment=function(e){return I(e)===a},t.isLazy=function(e){return I(e)===b},t.isMemo=function(e){return I(e)===g},t.isPortal=function(e){return I(e)===s},t.isProfiler=function(e){return I(e)===u},t.isStrictMode=function(e){return I(e)===i},t.isSuspense=function(e){return I(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===i||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===m||e.$$typeof===y||e.$$typeof===M||e.$$typeof===_||e.$$typeof===v)},t.typeOf=I},function(e,t,n){var r=n(53);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(27).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(116),o=n(117),s=n(55),a=n(118);e.exports=function(e,t){return r(e)||o(e,t)||s(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s,a,i=[],u=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(120);e.exports=function(e,t){if(null==e)return{};var n,o,s=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(54);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(124);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(126),o=n(127),s=n(128);e.exports=function(e){var t=o();return function(){var n,o=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return s(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(27).default,o=n(129);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(131),o=n(132),s=n(55),a=n(133);e.exports=function(e){return r(e)||o(e)||s(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(56);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(34);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";function r(e){let t;if(e){if(!(e instanceof ArrayBuffer))throw Error("Invalid buffer received.");if(this.datas=new DataView(e,0,r.HEADER_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"h"!==String.fromCharCode(this.datas.getUint8(2))||"d"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileHeader : MThd prefix not found");if(6!==this.datas.getUint32(4))throw new Error("Invalid MIDIFileHeader : Chunk length must be 6")}else t=new Uint8Array(r.HEADER_LENGTH),t[0]=77,t[1]=84,t[2]=104,t[3]=100,t[4]=0,t[5]=0,t[6]=0,t[7]=6,t[8]=0,t[9]=1,t[10]=0,t[11]=1,t[12]=0,t[13]=192,this.datas=new DataView(t.buffer,0,r.HEADER_LENGTH)}r.HEADER_LENGTH=14,r.FRAMES_PER_SECONDS=1,r.TICKS_PER_BEAT=2,r.prototype.getFormat=function(){const e=this.datas.getUint16(8);if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI file : MIDI format ("+e+"), format can be 0, 1 or 2 only.");return e},r.prototype.setFormat=function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI format given ("+e+"), format can be 0, 1 or 2 only.");this.datas.setUint16(8,e)},r.prototype.getTracksCount=function(){return this.datas.getUint16(10)},r.prototype.setTracksCount=function(e){return this.datas.setUint16(10,e)},r.prototype.getTickResolution=function(e){return 32768&this.datas.getUint16(12)?1e6/(this.getSMPTEFrames()*this.getTicksPerFrame()):(e=e||5e5)/this.getTicksPerBeat()},r.prototype.getTimeDivision=function(){return 32768&this.datas.getUint16(12)?r.FRAMES_PER_SECONDS:r.TICKS_PER_BEAT},r.prototype.getTicksPerBeat=function(){var e=this.datas.getUint16(12);if(32768&e)throw new Error("Time division is not expressed as ticks per beat.");return e},r.prototype.setTicksPerBeat=function(e){this.datas.setUint16(12,32767&e)},r.prototype.getSMPTEFrames=function(){const e=this.datas.getUint16(12);let t;if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");if(t=32512&e,-1===[24,25,29,30].indexOf(t))throw new Error("Invalid SMPTE frames value ("+t+").");return 29===t?29.97:t},r.prototype.getTicksPerFrame=function(){const e=this.datas.getUint16(12);if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");return 255&e},r.prototype.setSMTPEDivision=function(e,t){if(29.97===e&&(e=29),-1===[24,25,29,30].indexOf(e))throw new Error("Invalid SMPTE frames value given ("+e+").");if(0>t||255<t)throw new Error("Invalid ticks per frame value given ("+e+").");this.datas.setUint8(12,128|e),this.datas.setUint8(13,t)},e.exports=r},function(e,t,n){"use strict";function r(e,t){let n,o;if(e){if(!(e instanceof ArrayBuffer))throw new Error("Invalid buffer received.");if(12>e.byteLength-t)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : Buffer length must size at least 12bytes");if(this.datas=new DataView(e,t,r.HDR_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"r"!==String.fromCharCode(this.datas.getUint8(2))||"k"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : MTrk prefix not found");if(o=this.getTrackLength(),e.byteLength-t<o)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : The track size exceed the buffer length.");if(this.datas=new DataView(e,t,r.HDR_LENGTH+o),255!==this.datas.getUint8(r.HDR_LENGTH+(o-3))||47!==this.datas.getUint8(r.HDR_LENGTH+(o-2))||0!==this.datas.getUint8(r.HDR_LENGTH+(o-1)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : No track end event found at the expected index ("+(r.HDR_LENGTH+(o-1)).toString(16)+").")}else n=new Uint8Array(12),n[0]=77,n[1]=84,n[2]=114,n[3]=107,n[4]=0,n[5]=0,n[6]=0,n[7]=4,n[8]=0,n[9]=255,n[10]=47,n[11]=0,this.datas=new DataView(n.buffer,0,r.HDR_LENGTH+4)}r.HDR_LENGTH=8,r.prototype.getTrackLength=function(){return this.datas.getUint32(4)},r.prototype.setTrackLength=function(e){return this.datas.setUint32(4,e)},r.prototype.getTrackContent=function(){return new DataView(this.datas.buffer,this.datas.byteOffset+r.HDR_LENGTH,this.datas.byteLength-r.HDR_LENGTH)},r.prototype.setTrackContent=function(e){let t,n,o,s;const a=e.byteLength-e.byteOffset;if(4>a)throw new Error("Invalid track length, must size at least 4bytes");for(this.datas=new DataView(new Uint8Array(r.HDR_LENGTH+a).buffer),this.datas.setUint8(0,77),this.datas.setUint8(1,84),this.datas.setUint8(2,114),this.datas.setUint8(3,107),this.datas.setUint32(4,a),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=new Uint8Array(this.datas.buffer,r.HDR_LENGTH,a),o=0,s=t.length;o<s;o++)n[o]=t[o]},e.exports=r},function(e,t){function n(e){return 240==(240&e)?4:224==(224&e)?3:192==(192&e)?2:e==(127&e)?1:0}function r(e,t,r){var o=0,s="";if(t=t||0,e.length-t<=0)throw new Error("No more characters remaining in array.");if(0==(r=r||n(e[t])))throw new Error(e[t].toString(2)+" is not a significative byte (offset:"+t+").");if(1===r)return e[t];if(e.length-t<r)throw new Error("Expected at least "+r+" bytes remaining in array.");if(s="00000000".slice(0,r)+1+"00000000".slice(r+1),e[t]&parseInt(s,2))throw Error("Index "+t+": A "+r+" bytes encoded char cannot encode the "+(r+1)+"th rank bit to 1.");for(s="0000".slice(0,r+1)+"11111111".slice(r+1),o+=(e[t]&parseInt(s,2))<<6*--r;r;){if(128!=(128&e[t+1])||64==(64&e[t+1]))throw Error("Index "+(t+1)+': Next bytes of encoded char must begin with a "10" bit sequence.');o+=(63&e[++t])<<6*--r}return o}function o(e,t,o,s){var a,i=[];for(t|=0,o="number"==typeof o?o:e.byteLength||e.length;t<o;t++){if(t+(a=n(e[t]))>o){if(s)throw Error("Index "+t+": Found a "+a+" bytes encoded char declaration but only "+(o-t)+" bytes are available.")}else i.push(String.fromCodePoint(r(e,t,a)));t+=a-1}return i.join("")}function s(e){if(e<128)return 1;if(e<2048)return 2;if(e<65536)return 3;if(e<2097152)return 4;throw new Error("CharCode "+e+" cannot be encoded with UTF8.")}function a(e,t,n,r){if(e|=0,t=t||[],n|=0,1==(r=r||s(e)))t[n]=e;else for(t[n++]=(parseInt("1111".slice(0,r),2)<<8-r)+(e>>>6*--r);r>0;)t[n++]=e>>>6*--r&63|128;return t}e.exports={isNotUTF8:function(e,t,n){try{o(e,t,n,!0)}catch(e){return!0}return!1},getCharLength:n,getCharCode:r,getStringFromBytes:o,getBytesForCharCode:s,setBytesFromCharCode:a,setBytesFromString:function(e,t,n,r,o){e=e||"",t=t||[],n|=0,r="number"==typeof r?r:t.byteLength||1/0;for(var i=0,u=e.length;i<u;i++){var l=s(e[i].codePointAt(0));if(o&&n+l>r)throw new Error('Not enought bytes to encode the char "'+e[i]+'" at the offset "'+n+'".');a(e[i].codePointAt(0),t,n,l),n+=l}return t}}},function(e,t,n){"use strict";n.r(t);var r=n(9),o=n.n(r),s=n(30),a=n.n(s);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=t,this.curEvent=t[0],this.pos=0,this.loopStartPos=null,this.elapsedLoops=0,this.curTick=0}var t,n,o;return t=e,(n=[{key:"loop",value:function(){this.curTick<1e6&&this.elapsedLoops<1e3&&(this.pos=this.loopStartPos,console.debug("Channel %d looped at tick %d (loop %d completed)",this.curEvent.channel,this.curTick,this.elapsedLoops),this.elapsedLoops++)}},{key:"next",value:function(){var e=this.events[this.pos++];return e?(this.curTick+=e.delta,e.type===r.EVENT_MIDI&&e.subtype===r.EVENT_MIDI_CONTROLLER&&(102===e.param1&&(this.loopStartPos=this.pos),103===e.param1&&this.loop()),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):null}}])&&c(t.prototype,n),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return 102===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function p(e){return 103===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function h(e){return 123===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function g(e,t,n){return{channel:t,track:e,playTime:n,type:r.EVENT_MIDI,subtype:r.EVENT_MIDI_CONTROLLER,param1:123,delta:0}}function b(e,t){for(var n=[],r=0,o=0;o<t.length;o++){var s=t[o];r+=s.delta;var a=Math.floor(r/1e3);h(s)?(n[a]="X",r+=1e3):m(s)?n[a]=">":p(s)?n[a]="<":null==n[a]?n[a]="":""===n[a]?n[a]="-":"-"===n[a]&&(n[a]="=")}e=(""+e).padStart(2,"0");for(var i=[],u=0;u<n.length;u++)i[u]=n[u]||" ";console.debug("Track ".concat(e," |").concat(i.join(""),"|"))}a.a.prototype.getLoopedEvents=function(e){var t,n,r,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=0,u=[],l=this.header.getFormat(),c=this.header.getTickResolution(),d=!1,m=null,p=null;if(1!==l||1===this.tracks.length)for(n=0,r=this.tracks.length;n<r;n++){i=2===l&&i?i:0;var h=new f(e[n]);for(t=h.next();t;)i+=t.delta?t.delta*c/1e3:0,t.type===o.a.EVENT_META&&t.subtype===o.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),m&&t.type!==m||p&&(!t.subtype||t.subtype!==p)||(t.playTime=i,u.push(t)),t=h.next()}else{s=-1;var v=[];for(n=0,r=e.length;n<r;n++)b(n,e[n]),v[n]=new f(e[n]),v[n].curEvent=v[n].next();do{for(s=-1,n=0,r=v.length;n<r;n++)v[n].curEvent&&(-1===s||v[n].curEvent.delta<v[s].curEvent.delta||v[n].curEvent.delta===v[s].curEvent.delta&&v[n].elapsedLoops<v[s].elapsedLoops)&&(s=n);if(-1!==s){for(n=0,r=v.length;n<r;n++)n!==s&&v[n].curEvent&&(v[n].curEvent.delta-=v[s].curEvent.delta);i+=(t=v[s].curEvent).delta?t.delta*c/1e3:0,t.type===o.a.EVENT_META&&t.subtype===o.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),m&&t.type!==m||p&&(!t.subtype||t.subtype!==p)||(t.playTime=i,t.track=s,u.push(t)),v[s].curEvent=v[s].next(),d=v.every((function(e){return null==e.curEvent||e.elapsedLoops>=a}))}}while(-1!==s&&!1===d);for(var y=0;y<v.length;y++){var M;null!==(M=v[y])&&void 0!==M&&M.curEvent&&u.push(g(y,v[y].curEvent.channel,i))}}return console.debug(u),u}},function(e,t,n){var r=n(142),o=n(143),s=n(145);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),a=void 0===a?t<n?1:-1:s(a),r(t,n,a,e)}}},function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,o,s){for(var a=-1,i=r(n((t-e)/(o||1)),0),u=Array(i);i--;)u[s?i:++a]=e,e+=o;return u}},function(e,t,n){var r=n(144),o=n(52),s=n(50),a=n(24);e.exports=function(e,t,n){if(!a(n))return!1;var i=typeof t;return!!("number"==i?o(n)&&s(t,n.length):"string"==i&&t in n)&&r(n[t],e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(32);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(147);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++r<o;)s[r]=e[r+t];return s}},function(e,t,n){var r=n(149);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(150),o=n(151),s=n(152);e.exports=function(e,t,n){return t==t?s(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,s=n+(r?1:-1);r?s--:++s<o;)if(t(e[s],s,e))return s;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(154),o=n(155),s=n(156);e.exports=function(e){return o(e)?s(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[s,a,i].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),c="(?:"+[s+r+"?",r,a,i,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+c+l,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,n){var r=n(57);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),s=n(20),a=n.n(s),i=(n(80),n(5));const u=["componentWillMount","UNSAFE_componentWillMount","render","getSnapshotBeforeUpdate","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidCatch","setState","forceUpdate"];function l(e,{exclude:t=[],...n}={}){return n.exclude=[...t,...u],Object(i.a)(e,n)}var c=n(58);class d{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class f{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new c.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,"[DEFAULT]"===r?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p=[];var h;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(h||(h={}));const g={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},b=h.INFO,v={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},y=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),o=v[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${e.name}:`,...n)};class M{constructor(e){this.name=e,this._logLevel=b,this._logHandler=y,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?g[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}}var _=n(11);let I,P;const k=new WeakMap,w=new WeakMap,E=new WeakMap,S=new WeakMap,N=new WeakMap;let V={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return w.get(e);if("objectStoreNames"===t)return e.objectStoreNames||E.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return O(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function T(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(x(this),t),O(k.get(this))}:function(...t){return O(e.apply(x(this),t))}:function(t,...n){const r=e.call(x(this),t,...n);return E.set(r,t.sort?t.sort():[t]),O(r)}}function R(e){return"function"==typeof e?T(e):(e instanceof IDBTransaction&&function(e){if(w.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});w.set(e,t)}(e),t=e,(I||(I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,V):e);var t}function O(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(O(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&k.set(t,e)}).catch(()=>{}),N.set(t,e),t}(e);if(S.has(e))return S.get(e);const t=R(e);return t!==e&&(S.set(e,t),N.set(t,e)),t}const x=e=>N.get(e);const A=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],D=new Map;function j(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(D.get(t))return D.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=C.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!A.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,o?"readwrite":"readonly");let a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),o&&s.done]))[0]};return D.set(t,s),s}V=(e=>({...e,get:(t,n,r)=>j(t,n)||e.get(t,n,r),has:(t,n)=>!!j(t,n)||e.has(t,n)}))(V);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class F{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const B="@firebase/app",L=new M("@firebase/app"),U={[B]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},q=new Map,z=new Map;function H(e,t){try{e.container.addComponent(t)}catch(n){L.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function W(e){const t=e.name;if(z.has(t))return L.debug(`There were multiple attempts to register component ${t}.`),!1;z.set(t,e);for(const t of q.values())H(t,e);return!0}function G(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},X=new _.a("app","Firebase",$);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class K{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new d("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw X.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!=typeof o||!o)throw X.create("bad-app-name",{appName:String(o)});if(n||(n=Object(_.e)()),!n)throw X.create("no-options");const s=q.get(o);if(s){if(Object(_.d)(n,s.options)&&Object(_.d)(r,s.config))return s;throw X.create("duplicate-app",{appName:o})}const a=new m(o);for(const e of z.values())a.addComponent(e);const i=new K(n,r,a);return q.set(o,i),i}function Q(e="[DEFAULT]"){const t=q.get(e);if(!t&&"[DEFAULT]"===e&&Object(_.e)())return Y();if(!t)throw X.create("no-app",{appName:e});return t}function J(e,t,n){var r;let o=null!==(r=U[e])&&void 0!==r?r:e;n&&(o+="-"+n);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void L.warn(e.join(" "))}W(new d(o+"-version",()=>({library:o,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const a=indexedDB.open(e,t),i=O(a);return r&&a.addEventListener("upgradeneeded",e=>{r(O(a.result),e.oldVersion,e.newVersion,O(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),i.then(e=>{s&&e.addEventListener("close",()=>s()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Z)}}}).catch(e=>{throw X.create("idb-open",{originalErrorMessage:e.message})})),ee}async function ne(e,t){try{const n=(await te()).transaction(Z,"readwrite"),r=n.objectStore(Z);await r.put(t,re(e)),await n.done}catch(e){if(e instanceof _.b)L.warn(e.message);else{const t=X.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});L.warn(t.message)}}}function re(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=se();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=se(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),ie(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ie(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Object(_.c)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function se(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(_.f)()&&Object(_.g)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await te();return await t.transaction(Z).objectStore(Z).get(re(e))}catch(e){if(e instanceof _.b)L.warn(e.message);else{const t=X.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});L.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ie(e){return Object(_.c)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;ue="",W(new d("platform-logger",e=>new F(e),"PRIVATE")),W(new d("heartbeat",e=>new oe(e),"PRIVATE")),J(B,"0.9.12",ue),J(B,"0.9.12","esm2017"),J("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
J("firebase","9.22.2","app");var le=n(1);function ce(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;function de(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fe=de,me=new le.a("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new M("@firebase/auth");function he(e,...t){pe.logLevel<=h.ERROR&&pe.error("Auth (9.22.2): "+e,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e,...t){throw Me(e,...t)}function be(e,...t){return Me(e,...t)}function ve(e,t,n){const r=Object.assign(Object.assign({},fe()),{[t]:n});return new le.a("auth","Firebase",r).create(t,{appName:e.name})}function ye(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ge(e,"argument-error"),ve(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return me.create(e,...t)}function _e(e,t,...n){if(!e)throw Me(t,...n)}function Ie(e){const t="INTERNAL ASSERTION FAILED: "+e;throw he(t),new Error(t)}function Pe(e,t){e||Ie(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function we(){return"http:"===Ee()||"https:"===Ee()}function Ee(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Se{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pe(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(le.n)()||Object(le.o)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(we()||Object(le.k)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(e,t){Pe(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new Se(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function xe(e,t,n,r,o={}){return Ae(e,o,async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=Object(le.p)(Object.assign({key:e.config.apiKey},s)).slice(1),i=await e._getAdditionalHeaders();return i["Content-Type"]="application/json",e.languageCode&&(i["X-Firebase-Locale"]=e.languageCode),Ve.fetch()(De(e,e.config.apiHost,n,a),Object.assign({method:t,headers:i,referrerPolicy:"no-referrer"},o))})}async function Ae(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Te),t);try{const t=new je(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Fe(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const t=o.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Fe(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Fe(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Fe(e,"user-disabled",s);const i=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ve(e,i,a);ge(e,i)}}catch(t){if(t instanceof le.b)throw t;ge(e,"network-request-failed",{message:String(t)})}}async function Ce(e,t,n,r,o={}){const s=await xe(e,t,n,r,o);return"mfaPendingCredential"in s&&ge(e,"multi-factor-auth-required",{_serverResponse:s}),s}function De(e,t,n,r){const o=`${t}${n}?${r}`;return e.config.emulator?Ne(e.config,o):`${e.config.apiScheme}://${o}`}class je{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(be(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fe(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=be(e,t,r);return o.customData._tokenResponse=n,o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Be(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){return 1e3*Number(e)}function Ue(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return he("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(le.c)(n);return e?JSON.parse(e):(he("Failed to decode base64 JWT payload"),null)}catch(e){return he("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function qe(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof le.b&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ze{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Be(this.lastLoginAt),this.creationTime=Be(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function We(e){var t;const n=e.auth,r=await e.getIdToken(),o=await qe(e,async function(e,t){return xe(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));_e(null==o?void 0:o.users.length,n,"internal-error");const s=o.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=ce(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const i=(u=e.providerData,l=a,[...u.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var u,l;const c=e.isAnonymous,d=!(e.email&&s.passwordHash||(null==i?void 0:i.length)),f=!!c&&d,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new He(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,m)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(void 0!==e.idToken,"internal-error"),_e(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ue(e);return _e(t,"internal-error"),_e(void 0!==t.exp,"internal-error"),_e(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n=await Ae(e,{},async()=>{const n=Object(le.p)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=De(e,r,"/v1/token","key="+o),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ve.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,s=new Ge;return n&&(_e("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(_e("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(_e("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return Ie("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e,t){_e("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Xe{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=ce(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ze(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new He(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await qe(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Object(le.i)(e),r=await n.getIdToken(t),o=Ue(r);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"==typeof o.firebase?o.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:Be(Le(o.auth_time)),issuedAtTime:Be(Le(o.iat)),expirationTime:Be(Le(o.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Object(le.i)(e);await We(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xe(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await We(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qe(this,async function(e,t){return xe(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,s,a,i,u,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,m=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,h=null!==(i=t._redirectEventId)&&void 0!==i?i:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,b=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:y,isAnonymous:M,providerData:_,stsTokenManager:I}=t;_e(v&&I,e,"internal-error");const P=Ge.fromJSON(this.name,I);_e("string"==typeof v,e,"internal-error"),$e(c,e.name),$e(d,e.name),_e("boolean"==typeof y,e,"internal-error"),_e("boolean"==typeof M,e,"internal-error"),$e(f,e.name),$e(m,e.name),$e(p,e.name),$e(h,e.name),$e(g,e.name),$e(b,e.name);const k=new Xe({uid:v,auth:e,email:d,emailVerified:y,displayName:c,isAnonymous:M,photoURL:m,phoneNumber:f,tenantId:p,stsTokenManager:P,createdAt:g,lastLoginAt:b});return _&&Array.isArray(_)&&(k.providerData=_.map(e=>Object.assign({},e))),h&&(k._redirectEventId=h),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new Ge;r.updateFromServerResponse(t);const o=new Xe({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await We(o),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke=new Map;function Ye(e){Pe(e instanceof Function,"Expected a class definition");let t=Ke.get(e);return t?(Pe(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ke.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qe.type="NONE";const Je=Qe;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e,t,n){return`firebase:${e}:${t}:${n}`}class et{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=Ze(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ze("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xe._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new et(Ye(Je),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||Ye(Je);const s=Ze(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(s);if(t){const r=Xe._fromJSON(e,t);n!==o&&(a=r),o=n;break}}catch(e){}const i=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&i.length?(o=i[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(s)}catch(e){}})),new et(o,e,n)):new et(o,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(st(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(it(t))return"Blackberry";if(ut(t))return"Webos";if(rt(t))return"Safari";if((t.includes("chrome/")||ot(t))&&!t.includes("edge/"))return"Chrome";if(at(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function nt(e=Object(le.j)()){return/firefox\//i.test(e)}function rt(e=Object(le.j)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ot(e=Object(le.j)()){return/crios\//i.test(e)}function st(e=Object(le.j)()){return/iemobile/i.test(e)}function at(e=Object(le.j)()){return/android/i.test(e)}function it(e=Object(le.j)()){return/blackberry/i.test(e)}function ut(e=Object(le.j)()){return/webos/i.test(e)}function lt(e=Object(le.j)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ct(e=Object(le.j)()){return lt(e)||at(e)||ut(e)||it(e)||/windows phone/i.test(e)||st(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dt(e,t=[]){let n;switch(e){case"Browser":n=tt(Object(le.j)());break;case"Worker":n=`${tt(Object(le.j)())}-${e}`;break;default:n=e}return`${n}/JsCore/9.22.2/${t.length?t.join(","):"FirebaseCore-web"}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ft(e,t){return xe(e,"GET","/v2/recaptchaConfig",Oe(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(e){return void 0!==e&&void 0!==e.enterprise}class pt{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e){return new Promise((t,n)=>{const r=document.createElement("script");var o,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=be("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(o=document.getElementsByTagName("head"))||void 0===o?void 0:o[0])&&void 0!==s?s:document).appendChild(r)})}function gt(e){return`__${e}${Math.floor(1e6*Math.random())}`}class bt{constructor(e){this.type="recaptcha-enterprise",this.auth=_t(e)}async verify(e="verify",t=!1){function n(t,n,r){const o=window.grecaptcha;mt(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ft(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new pt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&mt(window.grecaptcha))n(o,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));ht("https://www.google.com/recaptcha/enterprise.js?render="+o).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function vt(e,t,n,r=!1){const o=new bt(e);let s;try{s=await o.verify(n)}catch(e){s=await o.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new It(this),this.idTokenSubscription=new It(this),this.beforeStateQueue=new yt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ye(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await et.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null==a?void 0:a.user)||(r=a.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await We(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(le.i)(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ye(e))})}async initializeRecaptchaConfig(){const e=await ft(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new pt(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new bt(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new le.a("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ye(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await et.create(this,[Ye(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){pe.logLevel<=h.WARN&&pe.warn("Auth (9.22.2): "+e,...t)}("Error while retrieving App Check token: "+t.error),null==t?void 0:t.token}}function _t(e){return Object(le.i)(e)}class It{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(le.d)(e=>this.observer=e)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e,t,n){const r=_t(e);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null==n?void 0:n.disableWarnings),s=kt(t),{host:a,port:i}=function(e){const t=kt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:wt(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:wt(t)}}}(t),u=null===i?"":":"+i;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:i,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function kt(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wt(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Et{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ie("not implemented")}_getIdTokenResponse(e){return Ie("not implemented")}_linkToIdToken(e,t){return Ie("not implemented")}_getReauthenticationResolver(e){return Ie("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function St(e,t){return xe(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Nt(e,t){return Ce(e,"POST","/v1/accounts:signInWithPassword",Oe(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vt extends Et{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Vt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Vt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await vt(e,n,"signInWithPassword");return Nt(e,t)}return Nt(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await vt(e,n,"signInWithPassword");return Nt(e,t)}return Promise.reject(t)});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithEmailLink",Oe(e,t))}(e,{email:this._email,oobCode:this._password});default:ge(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return St(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithEmailLink",Oe(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ge(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tt(e,t){return Ce(e,"POST","/v1/accounts:signInWithIdp",Oe(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends Et{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ge("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=ce(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Rt(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return Tt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(le.p)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xt extends Et{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new xt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new xt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithPhoneNumber",Oe(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ce(e,"POST","/v1/accounts:signInWithPhoneNumber",Oe(e,t));if(n.temporaryProof)throw Fe(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithPhoneNumber",Oe(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ot)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new xt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){var t,n,r,o,s,a;const i=Object(le.q)(Object(le.f)(e)),u=null!==(t=i.apiKey)&&void 0!==t?t:null,l=null!==(n=i.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=i.mode)&&void 0!==r?r:null);_e(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(o=i.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=i.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=i.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Object(le.q)(Object(le.f)(e)).link,n=t?Object(le.q)(Object(le.f)(t)).deep_link_id:null,r=Object(le.q)(Object(le.f)(e)).deep_link_id;return(r?Object(le.q)(Object(le.f)(r)).link:null)||r||n||t||e}(e);try{return new At(t)}catch(e){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ct{constructor(){this.providerId=Ct.PROVIDER_ID}static credential(e,t){return Vt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=At.parseLink(t);return _e(n,"argument-error"),Vt._fromEmailAndCode(e,n.code,n.tenantId)}}Ct.PROVIDER_ID="password",Ct.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ct.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Dt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends Dt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ft extends jt{constructor(){super("facebook.com")}static credential(e){return Rt._fromParams({providerId:Ft.PROVIDER_ID,signInMethod:Ft.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ft.credentialFromTaggedObject(e)}static credentialFromError(e){return Ft.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ft.credential(e.oauthAccessToken)}catch(e){return null}}}Ft.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ft.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bt extends jt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rt._fromParams({providerId:Bt.PROVIDER_ID,signInMethod:Bt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bt.credentialFromTaggedObject(e)}static credentialFromError(e){return Bt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Bt.credential(t,n)}catch(e){return null}}}Bt.GOOGLE_SIGN_IN_METHOD="google.com",Bt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Lt extends jt{constructor(){super("github.com")}static credential(e){return Rt._fromParams({providerId:Lt.PROVIDER_ID,signInMethod:Lt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lt.credentialFromTaggedObject(e)}static credentialFromError(e){return Lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Lt.credential(e.oauthAccessToken)}catch(e){return null}}}Lt.GITHUB_SIGN_IN_METHOD="github.com",Lt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ut extends jt{constructor(){super("twitter.com")}static credential(e,t){return Rt._fromParams({providerId:Ut.PROVIDER_ID,signInMethod:Ut.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ut.credentialFromTaggedObject(e)}static credentialFromError(e){return Ut.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ut.credential(t,n)}catch(e){return null}}}Ut.TWITTER_SIGN_IN_METHOD="twitter.com",Ut.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const o=await Xe._fromIdTokenResponse(e,n,r),s=zt(n);return new qt({user:o,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=zt(n);return new qt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function zt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ht extends le.b{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ht.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ht(e,t,n,r)}}function Wt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Ht._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gt(e,t,n=!1){const r=await qe(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qt._forOperation(e,"link",r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function $t(e,t,n=!1){const{auth:r}=e;try{const o=await qe(e,Wt(r,"reauthenticate",t,e),n);_e(o.idToken,r,"internal-error");const s=Ue(o.idToken);_e(s,r,"internal-error");const{sub:a}=s;return _e(e.uid===a,r,"user-mismatch"),qt._forOperation(e,"reauthenticate",o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&ge(r,"user-mismatch"),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xt(e,t,n=!1){const r=await Wt(e,"signIn",t),o=await qt._fromIdTokenResponse(e,"signIn",r);return n||await e._updateCurrentUser(o.user),o}new WeakMap;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt extends Kt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Object(le.j)();return rt(e)||lt(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ct(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Object(le.m)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yt.type="LOCAL";const Qt=Yt;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Kt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jt.type="SESSION";const Zt=Jt;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class en{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new en(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,o)),i=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:i})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tn(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.receivers=[];class nn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,i)=>{const u=tn("",20);r.port1.start();const l=setTimeout(()=>{i(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{i(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(t.data.response);break;default:clearTimeout(l),clearTimeout(o),i(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function on(){return void 0!==rn().WorkerGlobalScope&&"function"==typeof rn().importScripts}class sn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function an(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function un(){const e=indexedDB.open("firebaseLocalStorageDb",1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains("firebaseLocalStorage")?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase("firebaseLocalStorageDb");return new sn(e).toPromise()}(),t(await un()))})})}async function ln(e,t,n){const r=an(e,!0).put({fbase_key:t,value:n});return new sn(r).toPromise()}function cn(e,t){const n=an(e,!0).delete(t);return new sn(n).toPromise()}class dn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await un()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return on()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=en._getInstance(on()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new nn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await un();return await ln(e,"__sak","1"),await cn(e,"__sak"),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ln(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=an(e,!1).get(t),r=await new sn(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cn(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=an(e,!1).getAll();return new sn(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}dn.type="LOCAL";const fn=dn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
gt("rcb"),new Se(3e4,6e4);async function mn(e,t,n){var r;const o=await n.verify();try{let s;if(_e("string"==typeof o,e,"argument-error"),_e("recaptcha"===n.type,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){_e("enroll"===t.type,e,"internal-error");return(await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return xe(e,"POST","/v2/accounts/mfaEnrollment:start",Oe(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo}{_e("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;_e(n,e,"missing-multi-factor-info");return(await function(e,t){return xe(e,"POST","/v2/accounts/mfaSignIn:start",Oe(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return xe(e,"POST","/v1/accounts:sendVerificationCode",Oe(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:o});return t}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pn{constructor(e){this.providerId=pn.PROVIDER_ID,this.auth=_t(e)}verifyPhoneNumber(e,t){return mn(this.auth,e,Object(le.i)(t))}static credential(e,t){return xt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return pn.credentialFromTaggedObject(t)}static credentialFromError(e){return pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?xt._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hn(e,t){return t?Ye(t):(_e(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.PROVIDER_ID="phone",pn.PHONE_SIGN_IN_METHOD="phone";class gn extends Et{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bn(e){return Xt(e.auth,new gn(e),e.bypassAuthState)}function vn(e){const{auth:t,user:n}=e;return _e(n,t,"internal-error"),$t(n,new gn(e),e.bypassAuthState)}async function yn(e){const{auth:t,user:n}=e;return _e(n,t,"internal-error"),Gt(n,new gn(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,t,n,r,o=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:s,type:a}=e;if(s)return void this.reject(s);const i={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(i))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bn;case"linkViaPopup":case"linkViaRedirect":return yn;case"reauthViaPopup":case"reauthViaRedirect":return vn;default:ge(this.auth,"internal-error")}}resolve(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Se(2e3,1e4);class In extends Mn{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,In.currentPopupAction&&In.currentPopupAction.cancel(),In.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Pe(1===this.filter.length,"Popup operations only handle one event");const e=tn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(be(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,In.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,_n.get())};e()}}In.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Pn=new Map;class kn extends Mn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Pn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Sn(t),r=En(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Pn.set(this.auth._key(),e)}return this.bypassAuthState||Pn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function wn(e,t){Pn.set(e._key(),t)}function En(e){return Ye(e._redirectPersistence)}function Sn(e){return Ze("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nn(e,t,n=!1){const r=_t(e),o=hn(r,t),s=new kn(r,o,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Vn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rn(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Rn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(be(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tn(e))}saveEventToCache(e){this.cachedEventUids.add(Tn(e)),this.lastProcessedEventTime=Date.now()}}function Tn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Rn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const On=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xn=/^https?/;async function An(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return xe(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Cn(e))return}catch(e){}ge(e,"unauthorized-domain")}function Cn(e){const t=ke(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!xn.test(n))return!1;if(On.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new Se(3e4,6e4);function jn(){const e=rn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Fn=null;function Bn(e){return Fn=Fn||function(e){return new Promise((t,n)=>{var r,o,s;function a(){jn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jn(),n(be(e,"network-request-failed"))},timeout:Dn.get()})}if(null===(o=null===(r=rn().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=rn().gapi)||void 0===s?void 0:s.load)){const t=gt("iframefcb");return rn()[t]=()=>{gapi.load?a():n(be(e,"network-request-failed"))},ht("https://apis.google.com/js/api.js?onload="+t).catch(e=>n(e))}a()}}).catch(e=>{throw Fn=null,e})}(e),Fn}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new Se(5e3,15e3),Un={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zn(e){const t=e.config;_e(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ne(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:"9.22.2"},o=qn.get(e.config.apiHost);o&&(r.eid=o);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Object(le.p)(r).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Hn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Gn(e,t,n,r=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let i="";const u=Object.assign(Object.assign({},Hn),{width:r.toString(),height:o.toString(),top:s,left:a}),l=Object(le.j)().toLowerCase();n&&(i=ot(l)?"_blank":n),nt(l)&&(t=t||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Object(le.j)()){var t;return lt(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==i)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",i),new Wn(null);const d=window.open(t||"",i,c);_e(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Wn(d)}const $n=encodeURIComponent("fac");async function Xn(e,t,n,r,o,s){_e(e.config.authDomain,e,"auth-domain-config-required"),_e(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:"9.22.2",eventId:o};if(t instanceof Dt){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Object(le.l)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof jt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const i=a;for(const e of Object.keys(i))void 0===i[e]&&delete i[e];const u=await e._getAppCheckToken(),l=u?`#${$n}=${encodeURIComponent(u)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/__/auth/handler`;return Ne(e,"emulator/auth/handler")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Object(le.p)(i).slice(1)}${l}`}const Kn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zt,this._completeRedirectFn=Nn,this._overrideRedirectResult=wn}async _openPopup(e,t,n,r){var o;Pe(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return Gn(e,await Xn(e,t,n,ke(),r),tn())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){rn().location.href=e}(await Xn(e,t,n,ke(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Pe(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Bn(e),n=rn().gapi;return _e(n,e,"internal-error"),t.open({where:document.body,url:zn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Un,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=be(e,"network-request-failed"),s=rn().setTimeout(()=>{r(o)},Ln.get());function a(){rn().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(o)})}))}(e),n=new Vn(e);return t.register("authEvent",t=>{_e(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var r;const o=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==o&&t(!!o),ge(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=An(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ct()||rt()||lt()}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qn=Object(le.h)("authIdTokenMaxAge")||300;let Jn=null;function Zn(e=Q()){const t=G(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=G(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if(Object(le.e)(r,null!=t?t:{}))return e;ge(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Kn,persistence:[fn,Qt,Zt]}),r=Object(le.h)("authTokenSyncURL");if(r){const e=(o=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Qn)return;const r=null==t?void 0:t.token;Jn!==r&&(Jn=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer "+r}:{}}))});!function(e,t,n){Object(le.i)(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Object(le.i)(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var o;const s=Object(le.g)("auth");return s&&Pt(n,"http://"+s),n}var er;er="Browser",W(new d("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const i={apiKey:s,authDomain:a,clientPlatform:er,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dt(er)},u=new Mt(n,r,o,i);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ye);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),W(new d("auth-internal",e=>(e=>new Yn(e))(_t(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),J("@firebase/auth","0.23.2",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(er)),J("@firebase/auth","0.23.2","esm2017");var tr=n(4);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let rr="9.22.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new M("@firebase/firestore");function sr(e,...t){if(or.logLevel<=h.DEBUG){const n=t.map(ur);or.debug(`Firestore (${rr}): ${e}`,...n)}}function ar(e,...t){if(or.logLevel<=h.ERROR){const n=t.map(ur);or.error(`Firestore (${rr}): ${e}`,...n)}}function ir(e,...t){if(or.logLevel<=h.WARN){const n=t.map(ur);or.warn(`Firestore (${rr}): ${e}`,...n)}}function ur(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(e="Unexpected state"){const t=`FIRESTORE (${rr}) INTERNAL ASSERTION FAILED: `+e;throw ar(t),new Error(t)}function cr(e,t){e||lr()}function dr(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="cancelled",mr="unknown",pr="invalid-argument",hr="deadline-exceeded",gr="permission-denied",br="unauthenticated",vr="failed-precondition",yr="aborted",Mr="out-of-range",_r="unimplemented",Ir="internal",Pr="unavailable";class kr extends tr.a{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class Er{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class Sr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nr{constructor(e){this.auth=null,e.onInit(e=>{this.auth=e})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(cr("string"==typeof e.accessToken),new wr(e.accessToken,new nr(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class Vr{constructor(e,t,n){this.t=e,this.i=t,this.o=n,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.u=new Map}h(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.h();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class Tr{constructor(e,t,n){this.t=e,this.i=t,this.o=n}getToken(){return Promise.resolve(new Vr(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Or{constructor(e){this.l=e,this.appCheck=null,e.onInit(e=>{this.appCheck=e})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(cr("string"==typeof e.token),new Rr(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t,n,r,o,s,a,i,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=i,this.useFetchStreams=u}}class Ar{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ar("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ar&&e.projectId===this.projectId&&e.database===this.database}}class Cr{constructor(e,t,n){void 0===t?t=0:t>e.length&&lr(),void 0===n?n=e.length-t:n>e.length-t&&lr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Cr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),o=t.get(r);if(n<o)return-1;if(n>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dr extends Cr{construct(e,t,n){return new Dr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new kr(pr,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Dr(t)}static emptyPath(){return new Dr([])}}const jr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends Cr{construct(e,t,n){return new Fr(e,t,n)}static isValidIdentifier(e){return jr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new kr(pr,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new kr(pr,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new kr(pr,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(o(),r++)}if(o(),s)throw new kr(pr,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.path=e}static fromPath(e){return new Br(Dr.fromString(e))}static fromName(e){return new Br(Dr.fromString(e).popFirst(5))}static empty(){return new Br(Dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Br(new Dr(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(e,t,n){if(!n)throw new kr(pr,`Function ${e}() cannot be called with an empty ${t}.`)}function Ur(e){if(!Br.isDocumentKey(e))throw new kr(pr,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":lr()}function zr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kr(pr,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qr(e);throw new kr(pr,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hr(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}let Wr=null;function Gr(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr,Kr;function Yr(e){if(void 0===e)return ar("RPC_ERROR","HTTP error has no status"),mr;switch(e){case 200:return"ok";case 400:return vr;case 401:return br;case 403:return gr;case 404:return"not-found";case 409:return yr;case 416:return Mr;case 429:return"resource-exhausted";case 499:return fr;case 500:return mr;case 501:return _r;case 503:return Pr;case 504:return hr;default:return e>=200&&e<300?"ok":e>=400&&e<500?vr:e>=500&&e<600?Ir:mr}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Kr=Xr||(Xr={}))[Kr.OK=0]="OK",Kr[Kr.CANCELLED=1]="CANCELLED",Kr[Kr.UNKNOWN=2]="UNKNOWN",Kr[Kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kr[Kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kr[Kr.NOT_FOUND=5]="NOT_FOUND",Kr[Kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kr[Kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kr[Kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kr[Kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kr[Kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kr[Kr.ABORTED=10]="ABORTED",Kr[Kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kr[Kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kr[Kr.INTERNAL=13]="INTERNAL",Kr[Kr.UNAVAILABLE=14]="UNAVAILABLE",Kr[Kr.DATA_LOSS=15]="DATA_LOSS";class Qr extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.m=t+"://"+e.host,this.p="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get g(){return!1}v(e,t,n,r,o){const s=(null===Wr?Wr=268435456+Math.round(2147483648*Math.random()):Wr++,"0x"+Wr.toString(16)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */),a=this.I(e,t);sr("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const i={};return this.T(i,r,o),this.A(e,a,i,n).then(t=>(sr("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw ir("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}R(e,t,n,r,o,s){return this.v(e,t,n,r,o)}T(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}I(e,t){const n=$r[e];return`${this.m}/v1/${t}:${n}`}}{constructor(e,t){super(e),this.P=t}V(e,t){throw new Error("Not supported by FetchConnection")}async A(e,t,n,r){var o;const s=JSON.stringify(r);let a;try{a=await this.P(t,{method:"POST",headers:n,body:s})}catch(e){const t=e;throw new kr(Yr(t.status),"Request failed with error: "+t.statusText)}if(!a.ok){let e=await a.json();Array.isArray(e)&&(e=e[0]);const t=null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message;throw new kr(Yr(a.status),"Request failed with error: "+(null!=t?t:a.statusText))}return a.json()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{static N(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Jr(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%e.length))}return n}}function eo(e,t){return e<t?-1:e>t?1:0}function to(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ro(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oo("Invalid base64 string: "+e):e}}(e);return new so(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new so(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return eo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}so.EMPTY_BYTE_STRING=new so("");const ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(e){if(cr(!!e),"string"==typeof e){let t=0;const n=ao.exec(e);if(cr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:uo(e.seconds),nanos:uo(e.nanos)}}function uo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lo(e){return"string"==typeof e?so.fromBase64String(e):so.fromUint8Array(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kr(pr,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kr(pr,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kr(pr,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kr(pr,"Timestamp seconds out of range: "+e)}static now(){return co.fromMillis(Date.now())}static fromDate(e){return co.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new co(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?eo(this.nanoseconds,e.nanoseconds):eo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mo(e){const t=io(e.mapValue.fields.__local_write_time__.timestampValue);return new co(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fo(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:10:lr()}function ho(e,t){if(e===t)return!0;const n=po(e);if(n!==po(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mo(e).isEqual(mo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=io(e.timestampValue),r=io(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lo(e.bytesValue).isEqual(lo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return uo(e.geoPointValue.latitude)===uo(t.geoPointValue.latitude)&&uo(e.geoPointValue.longitude)===uo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return uo(e.integerValue)===uo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=uo(e.doubleValue),r=uo(t.doubleValue);return n===r?Gr(n)===Gr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return to(e.arrayValue.values||[],t.arrayValue.values||[],ho);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(no(n)!==no(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!ho(n[e],r[e])))return!1;return!0}(e,t);default:return lr()}}function go(e){return!!e&&"mapValue"in e}function bo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ro(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=bo(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=bo(e.arrayValue.values[n]);return t}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vo{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vo(e)}static min(){return new vo(new co(0,0))}static max(){return new vo(new co(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t){this.comparator=e,this.root=t||_o.EMPTY}insert(e,t){return new yo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_o.BLACK,null,null))}remove(e){return new yo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_o.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mo(this.root,e,this.comparator,!0)}}class Mo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _o{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:_o.RED,this.left=null!=r?r:_o.EMPTY,this.right=null!=o?o:_o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new _o(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _o.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lr();if(this.right.isRed())throw lr();const e=this.left.check();if(e!==this.right.check())throw lr();return e+(this.isRed()?0:1)}}_o.EMPTY=null,_o.RED=!0,_o.BLACK=!1,_o.EMPTY=new class{constructor(){this.size=0}get key(){throw lr()}get value(){throw lr()}get color(){throw lr()}get left(){throw lr()}get right(){throw lr()}copy(e,t,n,r,o){return this}insert(e,t,n){return new _o(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Io{constructor(e){this.comparator=e,this.data=new yo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Po(this.data.getIterator())}getIteratorFrom(e){return new Po(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Io))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Io(this.comparator);return t.data=e,t}}class Po{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new ko([])}unionWith(e){let t=new Io(Fr.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new ko(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.value=e}static empty(){return new wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!go(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(t)}setAll(e){let t=Fr.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=bo(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());go(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ho(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];go(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ro(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new wo(bo(this.value))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,t,n,r,o,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Eo(e,0,vo.min(),vo.min(),vo.min(),wo.empty(),0)}static newFoundDocument(e,t,n,r){return new Eo(e,1,t,vo.min(),n,r,0)}static newNoDocument(e,t){return new Eo(e,2,t,vo.min(),vo.min(),wo.empty(),0)}static newUnknownDocument(e,t){return new Eo(e,3,t,vo.min(),vo.min(),wo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Eo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Eo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class So{constructor(e,t=null,n=[],r=[],o=null,s="F",a=null,i=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=i,this.q=null,this.O=null,this.startAt,this.endAt}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function No(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Gr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?function(e){return{integerValue:""+e}}(t):function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gr(t)?"-0":t}}(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this._=void 0}}class To extends Vo{}class Ro extends Vo{constructor(e){super(),this.elements=e}}class Oo extends Vo{constructor(e){super(),this.elements=e}}class xo extends Vo{constructor(e,t){super(),this.serializer=e,this.k=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ao}static exists(e){return new Ao(void 0,e)}static updateTime(e){return new Ao(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class Co{}class Do extends Co{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class jo extends Co{constructor(e,t,n,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}class Fo extends Co{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bo extends Co{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uo(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zo(e,t){return Uo(e,t.toTimestamp())}function Ho(e){return cr(!!e),vo.fromTimestamp(function(e){const t=io(e);return new co(t.seconds,t.nanos)}(e))}function Wo(e,t){return function(e){return new Dr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Go(e,t){return Wo(e.databaseId,t.path)}function $o(e,t){const n=function(e){const t=Dr.fromString(e);return cr(Qo(t)),t}(t);if(n.get(1)!==e.databaseId.projectId)throw new kr(pr,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kr(pr,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Br((cr((r=n).length>4&&"documents"===r.get(4)),r.popFirst(5)));var r}function Xo(e){return new Dr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ko(e,t,n){return{name:Go(e,t),fields:n.value.mapValue.fields}}function Yo(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Qo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(e){return new Lo(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zo extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J=!1}X(){if(this.J)throw new kr(vr,"The client has already been terminated.")}v(e,t,n){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.v(e,t,n,r,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===br&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kr(mr,e.toString())})}R(e,t,n,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.R(e,t,n,o,s,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===br&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kr(mr,e.toString())})}terminate(){this.J=!0}}async function es(e,t){const n=dr(e),r=Xo(n.serializer)+"/documents",o={writes:t.map(e=>function(e,t){let n;if(t instanceof Do)n={update:Ko(e,t.key,t.value)};else if(t instanceof Fo)n={delete:Go(e,t.key)};else if(t instanceof jo)n={update:Ko(e,t.key,t.data),updateMask:Yo(t.fieldMask)};else{if(!(t instanceof Bo))return lr();n={verify:Go(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof To)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ro)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Oo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xo)return{fieldPath:t.field.canonicalString(),increment:n.k};throw lr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:lr()}(e,t.precondition)),n}(n.serializer,e))};await n.v("Commit",r,o)}async function ts(e,t){const n=dr(e),r=Xo(n.serializer)+"/documents",o={documents:t.map(e=>Go(n.serializer,e))},s=await n.R("BatchGetDocuments",r,o,t.length),a=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){cr(!!t.found),t.found.name,t.found.updateTime;const n=$o(e,t.found.name),r=Ho(t.found.updateTime),o=t.found.createTime?Ho(t.found.createTime):vo.min(),s=new wo({mapValue:{fields:t.found.fields}});return Eo.newFoundDocument(n,r,o,s)}(e,t):"missing"in t?function(e,t){cr(!!t.missing),cr(!!t.readTime);const n=$o(e,t.missing),r=Ho(t.readTime);return Eo.newNoDocument(n,r)}(e,t):lr()}(n.serializer,e);a.set(t.key.toString(),t)});const i=[];return t.forEach(e=>{const t=a.get(e.toString());cr(!!t),i.push(t)}),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ns=new Map;function rs(e){if(e._terminated)throw new kr(vr,"The client has already been terminated.");if(!ns.has(e)){sr("ComponentProvider","Initializing Datastore");const s=function(e){return new Qr(e,fetch.bind(null))}((t=e._databaseId,n=e.app.options.appId||"",r=e._persistenceKey,o=e._freezeSettings(),new xr(t,n,r,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Hr(o.experimentalLongPollingOptions),o.useFetchStreams))),a=Jo(e._databaseId),i=function(e,t,n,r){return new Zo(e,t,n,r)}(e._authCredentials,e._appCheckCredentials,s,a);ns.set(e,i)}var t,n,r,o;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return ns.get(e)}class os{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new kr(pr,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kr(pr,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}!function(e,t,n,r){if(!0===t&&!0===r)throw new kr(pr,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hr(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new kr(pr,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new kr(pr,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new kr(pr,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ss{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new os({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kr(vr,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kr(vr,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new os(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Er;switch(e.type){case"firstParty":return new Tr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new kr(pr,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ns.get(e);t&&(sr("ComponentProvider","Removing Datastore"),ns.delete(e),t.terminate())}(this),Promise.resolve()}}function as(e,t){const n="string"==typeof e?e:t||"(default)",r=G("object"==typeof e?e:Q(),"firestore/lite").getImmediate({identifier:n});if(!r._initialized){const e=Object(tr.d)("firestore");e&&function(e,t,n,r={}){var o;const s=(e=zr(e,ss))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=nr.MOCK_USER;else{t=Object(tr.b)(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new kr(pr,"mockUserToken must contain 'sub' or 'user_id' field!");n=new nr(s)}e._authCredentials=new Sr(new wr(t,n))}}(r,...e)}return r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class is{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new is(this.firestore,e,this._key)}}class us{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class ls extends us{constructor(e,t,n){super(e,t,new So(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new is(this.firestore,null,new Br(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function cs(e,t,...n){if(e=Object(tr.e)(e),1===arguments.length&&(t=Zr.N()),Lr("doc","path",t),e instanceof ss){const r=Dr.fromString(t,...n);return Ur(r),new is(e,null,new Br(r))}{if(!(e instanceof is||e instanceof ls))throw new kr(pr,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Dr.fromString(t,...n));return Ur(r),new is(e.firestore,e instanceof ls?e.converter:null,new Br(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(so.fromBase64String(e))}catch(e){throw new kr(pr,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ds(so.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new kr(pr,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ms{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kr(pr,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kr(pr,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return eo(this._lat,e._lat)||eo(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=/^__.*__$/;class gs{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new jo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Do(e,this.data,t,this.fieldTransforms)}}class bs{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new jo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vs(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lr()}}class ys{constructor(e,t,n,r,o,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.tt(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get et(){return this.settings.et}nt(e){return new ys(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}rt(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.it(e),r}ot(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.tt(),r}ut(e){return this.nt({path:void 0,st:!0})}ct(e){return xs(e,this.settings.methodName,this.settings.ht||!1,this.path,this.settings.lt)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tt(){if(this.path)for(let e=0;e<this.path.length;e++)this.it(this.path.get(e))}it(e){if(0===e.length)throw this.ct("Document fields must not be empty");if(vs(this.et)&&hs.test(e))throw this.ct('Document fields cannot begin and end with "__"')}}class Ms{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Jo(e)}ft(e,t,n,r=!1){return new ys({et:e,methodName:t,lt:n,path:Fr.emptyPath(),st:!1,ht:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _s(e){const t=e._freezeSettings(),n=Jo(e._databaseId);return new Ms(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Is(e,t,n,r,o,s={}){const a=e.ft(s.merge||s.mergeFields?2:0,t,n,o);Vs("Data must be an object, but it was:",a,r);const i=Ss(r,a);let u,l;if(s.merge)u=new ko(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const o=Ts(t,r,n);if(!a.contains(o))throw new kr(pr,`Field '${o}' is specified in your field mask but missing from your input data.`);As(e,o)||e.push(o)}u=new ko(e),l=a.fieldTransforms.filter(e=>u.covers(e.field))}else u=null,l=a.fieldTransforms;return new gs(new wo(i),u,l)}class Ps extends ms{_toFieldTransform(e){if(2!==e.et)throw 1===e.et?e.ct(this._methodName+"() can only appear at the top level of your update data"):e.ct(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ps}}function ks(e,t,n,r){const o=e.ft(1,t,n);Vs("Data must be an object, but it was:",o,r);const s=[],a=wo.empty();ro(r,(e,r)=>{const i=Os(t,e,n);r=Object(tr.e)(r);const u=o.ot(i);if(r instanceof Ps)s.push(i);else{const e=Es(r,u);null!=e&&(s.push(i),a.set(i,e))}});const i=new ko(s);return new bs(a,i,o.fieldTransforms)}function ws(e,t,n,r,o,s){const a=e.ft(1,t,n),i=[Ts(t,r,n)],u=[o];if(s.length%2!=0)throw new kr(pr,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)i.push(Ts(t,s[e])),u.push(s[e+1]);const l=[],c=wo.empty();for(let e=i.length-1;e>=0;--e)if(!As(l,i[e])){const t=i[e];let n=u[e];n=Object(tr.e)(n);const r=a.ot(t);if(n instanceof Ps)l.push(t);else{const e=Es(n,r);null!=e&&(l.push(t),c.set(t,e))}}const d=new ko(l);return new bs(c,d,a.fieldTransforms)}function Es(e,t){if(Ns(e=Object(tr.e)(e)))return Vs("Unsupported field value:",t,e),Ss(e,t);if(e instanceof ms)return function(e,t){if(!vs(t.et))throw t.ct(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.ct(e._methodName+"() is not currently supported inside arrays");const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.st&&4!==t.et)throw t.ct("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=Es(o,t.ut(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(tr.e)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return No(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=co.fromDate(e);return{timestampValue:Uo(t.serializer,n)}}if(e instanceof co){const n=new co(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Uo(t.serializer,n)}}if(e instanceof ps)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ds)return{bytesValue:qo(t.serializer,e._byteString)};if(e instanceof is){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ct(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Wo(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ct("Unsupported field value: "+qr(e))}(e,t)}function Ss(e,t){const n={};return function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ro(e,(e,r)=>{const o=Es(r,t.rt(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function Ns(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof co||e instanceof ps||e instanceof ds||e instanceof is||e instanceof ms)}function Vs(e,t,n){if(!Ns(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=qr(n);throw"an object"===r?t.ct(e+" a custom object"):t.ct(e+" "+r)}}function Ts(e,t,n){if((t=Object(tr.e)(t))instanceof fs)return t._internalPath;if("string"==typeof t)return Os(e,t);throw xs("Field path arguments must be of type string or ",e,!1,void 0,n)}const Rs=new RegExp("[~\\*/\\[\\]]");function Os(e,t,n){if(t.search(Rs)>=0)throw xs(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fs(...t.split("."))._internalPath}catch(r){throw xs(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xs(e,t,n,r,o){const s=r&&!r.isEmpty(),a=void 0!==o;let i=`Function ${t}() called with invalid data`;n&&(i+=" (via `toFirestore()`)"),i+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=" in field "+r),a&&(u+=" in document "+o),u+=")"),new kr(pr,i+e+u)}function As(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new is(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ds(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(js("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ds extends Cs{data(){return super.data()}}function js(e,t){return"string"==typeof t?Os(e,t):t instanceof fs?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fs(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Bs extends class{convertValue(e,t="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return uo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ro(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new ps(uo(e.latitude),uo(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=function e(t){const n=t.mapValue.fields.__previous_value__;return fo(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mo(e));default:return null}}convertTimestamp(e){const t=io(e);return new co(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Dr.fromString(e);cr(Qo(n));const r=new Ar(n.get(1),n.get(3)),o=new Br(n.popFirst(5));return r.isEqual(t)||ar(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new is(this.firestore,null,t)}}function Ls(e){const t=rs((e=zr(e,is)).firestore),n=new Bs(e.firestore);return ts(t,[e._key]).then(t=>{cr(1===t.length);const r=t[0];return new Cs(e.firestore,n,e._key,r.isFoundDocument()?r:null,e.converter)})}function Us(e,t,n){const r=Fs((e=zr(e,is)).converter,t,n),o=Is(_s(e.firestore),"setDoc",e._key,r,null!==e.converter,n);return es(rs(e.firestore),[o.toMutation(e._key,Ao.none())])}rr="9.22.2_lite",W(new d("firestore/lite",(e,{instanceIdentifier:t,options:n})=>{const r=e.getProvider("app").getImmediate(),o=new ss(new Nr(e.getProvider("auth-internal")),new Or(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kr(pr,'"projectId" not provided in firebase.initializeApp.');return new Ar(e.options.projectId,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,t),r);return n&&o._setSettings(n),o},"PUBLIC").setMultipleInstances(!0)),J("firestore-lite","3.12.2",""),J("firestore-lite","3.12.2","esm2017");var qs=n(37),zs=n.n(qs),Hs=n(38),Ws=n.n(Hs),Gs=n(28),$s=n.n(Gs),Xs=n(7),Ks=n.n(Xs),Ys=n(10),Qs=n.n(Ys),Js=n(2),Zs=n.n(Js),ea=n(59),ta=n.n(ea),na=("function"==typeof Symbol&&Symbol.iterator,"undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"));function ra(e,t){return"application/x-moz-file"===e.type||ta()(e,t)}function oa(e){return!e.dataTransfer||Array.prototype.every.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e}))}function sa(e){e.preventDefault()}function aa(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function ia(e){return-1!==e.indexOf("Edge/")}var ua={borderStyle:"solid",backgroundColor:"#eee"},la={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},ca={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},da={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},fa={opacity:.5},ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ha(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ga=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.renderChildren=function(e,t,n,o){return"function"==typeof e?e(ma({},r.state,{isDragActive:t,isDragAccept:n,isDragReject:o,open:r.open})):e},r.composeHandlers=r.composeHandlers.bind(r),r.onClick=r.onClick.bind(r),r.onDocumentDrop=r.onDocumentDrop.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrop=r.onDrop.bind(r),r.onFileDialogCancel=r.onFileDialogCancel.bind(r),r.onInputElementClick=r.onInputElementClick.bind(r),r.open=r.open.bind(r),r.setRef=r.setRef.bind(r),r.setRefs=r.setRefs.bind(r),r.isFileDialogActive=!1,r.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pa(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",sa,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),null!=this.fileInputEl&&this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",sa),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){e.persist(),this.props.onDragStart&&oa(e)&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){var t=this;e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),e.persist(),oa(e)&&(Promise.resolve(this.props.getDataTransferItems(e)).then((function(n){e.isPropagationStopped()||t.setState({draggedFiles:n,isDragActive:!0})})),this.props.onDragEnter&&this.props.onDragEnter.call(this,e))}},{key:"onDragOver",value:function(e){e.preventDefault(),e.persist();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&oa(e)&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),e.persist(),this.dragTargets=this.dragTargets.filter((function(n){return n!==e.target&&t.node.contains(n)})),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&oa(e)&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,r=n.onDrop,o=n.onDropAccepted,s=n.onDropRejected,a=n.multiple,i=n.accept,u=n.getDataTransferItems;e.preventDefault(),e.persist(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),oa(e)&&Promise.resolve(u(e)).then((function(n){var u=[],l=[];e.isPropagationStopped()||(n.forEach((function(e){ra(e,i)&&function(e,t,n){return e.size<=t&&e.size>=n}(e,t.props.maxSize,t.props.minSize)?u.push(e):l.push(e)})),!a&&u.length>1&&l.push.apply(l,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(u.splice(0))),t.setState({acceptedFiles:u,rejectedFiles:l},(function(){r&&r.call(t,u,l,e),l.length>0&&s&&s.call(t,l,e),u.length>0&&o&&o.call(t,u,e)})))}))}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick,r=t.disableClick;n&&n.call(this,e),r||e.isDefaultPrevented()||(e.stopPropagation(),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return aa(e)||ia(e)}()?this.open():setTimeout(this.open,0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick(e)}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout((function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()}),300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,r=e.activeClassName,s=e.children,a=e.disabled,i=e.disabledClassName,u=e.inputProps,l=e.multiple,c=e.name,d=e.rejectClassName,f=ha(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),m=f.acceptStyle,p=f.activeStyle,h=f.className,g=void 0===h?"":h,b=f.disabledStyle,v=f.rejectStyle,y=f.style,M=ha(f,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),_=this.state,I=_.isDragActive,P=_.draggedFiles,k=P.length,w=l||k<=1,E=k>0&&function(e,t){return e.every((function(e){return ra(e,t)}))}(P,this.props.accept),S=k>0&&(!E||!w),N=!(g||y||p||m||v||b);I&&r&&(g+=" "+r),E&&n&&(g+=" "+n),S&&d&&(g+=" "+d),a&&i&&(g+=" "+i),N&&(y=da,p=ua,m=la,v=ca,b=fa);var V=ma({position:"relative"},y);p&&I&&(V=ma({},V,p)),m&&E&&(V=ma({},V,m)),v&&S&&(V=ma({},V,v)),b&&a&&(V=ma({},V,b));var T={accept:t,disabled:a,type:"file",style:ma({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},u.style),multiple:na&&l,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};c&&c.length&&(T.name=c);M.acceptedFiles,M.preventDropOnDocument,M.disableClick,M.onDropAccepted,M.onDropRejected,M.onFileDialogCancel,M.maxSize,M.minSize,M.getDataTransferItems;var R=ha(M,["acceptedFiles","preventDropOnDocument","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return o.a.createElement("div",ma({className:g,style:V},R,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":a}),this.renderChildren(s,I,E,S),o.a.createElement("input",ma({},u,T)))}}]),t}(o.a.Component),ba=ga;ga.propTypes={accept:Zs.a.oneOfType([Zs.a.string,Zs.a.arrayOf(Zs.a.string)]),children:Zs.a.oneOfType([Zs.a.node,Zs.a.func]),disableClick:Zs.a.bool,disabled:Zs.a.bool,preventDropOnDocument:Zs.a.bool,inputProps:Zs.a.object,multiple:Zs.a.bool,name:Zs.a.string,maxSize:Zs.a.number,minSize:Zs.a.number,className:Zs.a.string,activeClassName:Zs.a.string,acceptClassName:Zs.a.string,rejectClassName:Zs.a.string,disabledClassName:Zs.a.string,style:Zs.a.object,activeStyle:Zs.a.object,acceptStyle:Zs.a.object,rejectStyle:Zs.a.object,disabledStyle:Zs.a.object,getDataTransferItems:Zs.a.func,onClick:Zs.a.func,onDrop:Zs.a.func,onDropAccepted:Zs.a.func,onDropRejected:Zs.a.func,onDragStart:Zs.a.func,onDragEnter:Zs.a.func,onDragOver:Zs.a.func,onDragLeave:Zs.a.func,onFileDialogCancel:Zs.a.func},ga.defaultProps={preventDropOnDocument:!0,disabled:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}};var va=n(6),ya=n(14),Ma=n(12),_a=n(8),Ia=n(17),Pa=n(13),ka=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(Ma.a)(t.props),t}return Object(ya.a)(t,e),t.prototype.render=function(){return o.a.createElement(va.c,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;var wa=function(e,t){return"function"==typeof e?e(t):e},Ea=function(e,t){return"string"==typeof e?Object(Ma.c)(e,null,null,t):e},Sa=function(e){return e},Na=o.a.forwardRef;void 0===Na&&(Na=Sa);var Va=Na((function(e,t){var n=e.innerRef,r=e.navigate,s=e.onClick,a=Object(Ia.a)(e,["innerRef","navigate","onClick"]),i=a.target,u=Object(_a.a)({},a,{onClick:function(e){try{s&&s(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=Sa!==Na&&t||n,o.a.createElement("a",u)}));var Ta=Na((function(e,t){var n=e.component,r=void 0===n?Va:n,s=e.replace,a=e.to,i=e.innerRef,u=Object(Ia.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(va.e.Consumer,null,(function(e){e||Object(Pa.a)(!1);var n=e.history,l=Ea(wa(a,e.location),e.location),c=l?n.createHref(l):"",d=Object(_a.a)({},u,{href:c,navigate:function(){var t=wa(a,e.location),r=Object(Ma.e)(e.location)===Object(Ma.e)(Ea(t));(s||r?n.replace:n.push)(t)}});return Sa!==Na?d.ref=t||i:d.innerRef=i,o.a.createElement(r,d)}))})),Ra=function(e){return e},Oa=o.a.forwardRef;void 0===Oa&&(Oa=Ra);var xa=Oa((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,s=e.activeClassName,a=void 0===s?"active":s,i=e.activeStyle,u=e.className,l=e.exact,c=e.isActive,d=e.location,f=e.sensitive,m=e.strict,p=e.style,h=e.to,g=e.innerRef,b=Object(Ia.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(va.e.Consumer,null,(function(e){e||Object(Pa.a)(!1);var n=d||e.location,s=Ea(wa(h,n),n),v=s.pathname,y=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),M=y?Object(va.f)(n.pathname,{path:y,exact:l,sensitive:f,strict:m}):null,_=!!(c?c(M,n):M),I="function"==typeof u?u(_):u,P="function"==typeof p?p(_):p;_&&(I=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(I,a),P=Object(_a.a)({},P,i));var k=Object(_a.a)({"aria-current":_&&r||null,className:I,style:P,to:s},b);return Ra!==Oa?k.ref=t||g:k.innerRef=g,o.a.createElement(Ta,k)}))})),Aa=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ca=function(e,t){for(var n=1/0,r=null,o=0,s=t;o<s.length;o++){var a=s[o],i=Math.abs(e-a.span[0]);i<n&&(r=a.span[0],n=i)}return r},Da=function(e,t){var n=[],r=[];if(null!==e.firstMeasure&&n.push(e.firstMeasure),null!==e.secondMeasure)for(var o=e.firstMeasure,s=e.secondMeasure-e.firstMeasure,a=2;a<400;a++){var i=null;if(o===(i=e.correctedMeasures&&e.correctedMeasures[a]?e.correctedMeasures[a]:e.disableSnapToNotes?o+s:Ca(o+s,t)))break;if(n.push(i),s=i-o,o=i,a===e.loop+1)break}if(n.length>2){n.pop();var u=n[n.length-1]-n[n.length-2];n.push(n[n.length-1]+u)}var l=e.beatsPerMeasure||4;for(a=0;a<n.length-1;++a)for(var c=n[a],d=n[a+1],f=1;f<l;++f)r.push(c*(l-f)/l+d*f/l);return{measures:n,beats:r}},ja=function(e,t){var n,r,o,s;if((null!==(r=null===(n=e.fourMeasurePhrasingReferences)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>1)return Array.from(new Set(Aa(Aa([],e.fourMeasurePhrasingReferences,!0),Object.keys(e.form||{}).map((function(e){return parseInt(e,10)})),!0))).sort((function(e,t){return e-t}));var a,i=[];for(a=null!==(s=null===(o=e.fourMeasurePhrasingReferences)||void 0===o?void 0:o[0])&&void 0!==s?s:1;a<t;a+=4)i.push(a);return i.push(a),i},Fa=function(){return(Fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ba=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},La=function(e,t){var n=e[0],r=e[1],o=t[0],s=t[1];if(r<o||s<n)return 0;var a=Math.max(n,o);return Math.min(r,s)-a},Ua=function(e,t,n){for(var r=0,o=0,s=n;o<s.length;o++){var a=s[o];a.note.midiNumber%12===e&&(r+=La(t,a.span))}return r},qa=["i","viio/ii","ii","biii","iii","iv","viio/V","v","bvi","vi","bvii","viio"],za=["I","bII","V/V","III","V/vi","IV","#IV","V","VI","V/ii","VII","#VII"],Ha=["I5","bII5","II5","III5","#III5","IV5","#IV5","V5","VI5","#VI5","VII5","#VII5"],Wa=["","","2","","3","4","T","5","+","6","7",""],Ga={I:0,bII:1,II:2,"#III":4,III:3,IV:5,V:7,VI:8,VII:10,i:0,ii:2,iii:4,iv:5,v:7,vi:9,vii:11,"-":12,bvi:8,"#IV":6,"#iv":6,biii:3,"#VII":11,bii:1,"#VI":9,bvii:10},$a=function(e,t){return(e||"").split(t).filter((function(e){return""!==e}))},Xa=function(e){return $a(e," ")},Ka=function(e){return $a(e,"-")},Ya=function(e){return e.replace(/\d|o||\^|\+/g,"")},Qa=function(e){if("string"!=typeof e||0===e.length)return 12;var t=(e=Ya(e)).split("/"),n=t[0],r=t[1];return r?(Ga[n]+Ga[r])%12:Ga[e]},Ja=["red","brown","#FF8C00","#dd0","green","#0EFFD0","#787276","blue","#9F9FFF","#9400D3","#ff14c4","#ffaacc","black"],Za=function(e){var t,n,o,s=e.romanNumeral,a=e.styleProps,i=void 0===a?{}:a,u=e.nextNumeral,l=void 0===u?void 0:u,c=null!==(t=Ja[Qa(s)])&&void 0!==t?t:"black";return r.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:c,display:"grid",placeItems:"center",userSelect:"none"}},r.createElement("span",{style:Fa({color:-1!==["#dd0","#9F9FFF","#0EFFD0"].indexOf(c)?"black":"white"},i)},(n=s,o=l,o&&-1!==n.indexOf("/")&&Ga[Ya(n.split("/")[1])]===Ga[Ya(o)]?n.split("/")[0]+"":n).replace("9","").replace("7","").replace("6","").replace("5","").replace("4","").replace("3","").replace("2","").replace("1","").replace("b","").replace("#","").replace("o","")))},ei=function(e){var t=e.semitones,n=e.isCompact,o=void 0!==n&&n,s=t>6?-12+t:t;return r.createElement("div",{className:"modulation",style:{position:"absolute",left:0,backgroundColor:"black",color:"white",padding:0,margin:0,height:"100%",top:0,zIndex:100,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"}},s>0?r.createElement("div",null,""):!o&&r.createElement("div",{style:{opacity:0}},""),r.createElement("div",null,Math.abs(s)),s<0?r.createElement("div",null,""):!o&&r.createElement("div",{style:{opacity:0}},""))},ti=function(e){var t=e.rnArray,n=e.modulations,o=void 0===n?{}:n,s=e.isSearch,a=void 0!==s&&s,i=[];return t.map((function(e,n){var s=e.split("-");s.forEach((function(e,u){return i.push(r.createElement("div",{style:{width:a?70:120/s.length,height:30,display:"grid",placeItems:"center",overflow:"hidden",position:"relative",backgroundColor:Ja[Qa(e)]}},n in o&&0===u&&r.createElement(ei,{semitones:o[n]}),r.createElement(Za,{romanNumeral:e.replace("_"," "),nextNumeral:u+1<s.length?s[u+1]:(t[n+1]||"").split("-")[0],styleProps:{fontFamily:"sans-serif",fontSize:a?"18px":s.length>=3?"12px":2==s.length?"16px":"18px"}})))}))})),r.createElement("div",{style:{display:"flex",flexDirection:"row"}},i)},ni=function(e){var t=e.dashedRN,n=e.modulation,o=void 0===n?null:n,s=Ka(t);return r.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"100%"}},null!==o&&r.createElement(ei,{semitones:o,isCompact:!0}),s.map((function(e){return r.createElement(Za,{romanNumeral:e})})))},ri=function(e){var t=e.rn;return r.createElement("div",{style:{width:45*t.split("-").length,marginTop:"1px",display:"inline-block"}},r.createElement(ni,{dashedRN:t}))},oi=function(e){return Ba([{measure:-1,tonic:e.tonic}],Object.entries(e.modulations||[]).map((function(e){return{measure:parseInt(e[0],10)-1,tonic:e[1]}})),!0).sort((function(e,t){return e.measure-t.measure}))},si=function(e,t){for(var n=oi(t),r=0;r+1<n.length&&n[r+1].measure<=e;)r++;return n[r].tonic},ai=function(e,t){if(!t)return-1;var n=(e.span[0]+e.span[1])/2;return t.findIndex((function(e){return e>=n}))-1},ii=function(e,t){if(null===e)return{};for(var n=Fa(Fa({},t),{0:e}),r=Object.keys(n).map(Number).sort((function(e,t){return e-t})),o={},s=1;s<r.length;s++){var a=n[r[s-1]],i=n[r[s]];o[r[s]]=(i-a+12)%12}return o},ui=function(e){var t=e.label;return r.createElement("div",{style:{textAlign:"start",fontFamily:"sans-serif",fontSize:"15px",padding:"3px",color:"white",backgroundColor:"#333"}},t)},li=function(e){var t=e.analysis,n=t.romanNumerals,o=t.form,s=Xa(n),a=ja(t,Math.max(4,s.length));1!==(null==a?void 0:a[0])&&a.unshift(1);for(var i=ii(t.tonic,t.modulations),u=[],l=function(e){var t=null==o?void 0:o[a[e]];t&&u.push(r.createElement(ui,{label:t}));var n=Object.keys(i).filter((function(t){var n=Number(t);return n>=a[e]&&n<a[e+1]})).reduce((function(t,n){return t[Number(n)-a[e]]=i[n],t}),{});u.push(r.createElement(ti,{rnArray:s.slice(a[e]-1,a[e+1]-1),modulations:n}))},c=0;c+1<a.length;c++)l(c);return r.createElement("div",{style:{display:"inline-block"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},u))},ci=function(){return(ci=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},di=function(e){var t=e.fs;return r.createElement("div",{style:{backgroundColor:"#333",padding:"1px 10px 0px 10px",color:"white",display:"inline-block"}},t)},fi=function(){return r.createElement(di,{fs:"A"})},mi=function(){return r.createElement(di,{fs:"B"})},pi=function(e){var t=e.d;return r.createElement("div",{style:{width:"15px",height:"13px",backgroundColor:Ja[t],display:"inline-block",borderRadius:"3px"}})},hi=function(e){var t=e.d;return r.createElement("div",{style:{display:"inline-block"}},t.map((function(e,n){return r.createElement("span",{style:{position:"relative",top:t.length/2-n,marginRight:"3px"}},r.createElement(pi,{d:e}))})))},gi=function(e){var t=e.cn;return r.createElement("div",{style:{width:"24px",height:"18px",display:"inline-block",borderRadius:"10px",backgroundColor:"white"}},r.createElement("div",{style:{display:"grid",placeItems:"center"}},r.createElement("span",{style:{color:"black",fontFamily:"Helvetica, sans-serif",fontWeight:700,fontSize:"14px"}},Wa[t])))},bi=r.createContext(null),vi=function(e){var t=e.span,n=void 0===t?null:t,o=e.mask,s=e.children,a=r.useContext(bi);return r.createElement("button",{className:"box-button",style:{margin:"0 10px 10px 0"},onClick:function(){return a(n,o)}},s)},yi=function(e){var t=e.r;return r.createElement(r.Fragment,null,t)},Mi={diversity:[{path:"Nintendo/Armadillo",subtune:"1",title:"functional",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Music for NES/Famicom is very diverse in its structure. I invite you to the journey on discovering it. It can be functional and complex in chords."))}},{path:"Nintendo/Bao Xiao Tien Guo (Explosion Sangokushi) - Bao Xiao San Guo (SFX)",subtune:"2",title:"static",text:function(){return r.createElement(r.Fragment,null,"It can be static in harmony, it can have riffs and have a dorian feel"," ",r.createElement(hi,{d:[0,2,3,5,7,9,10]}),". What's a dorian feel? Click on the tags below to see other examples which I tagged this way. Maybe you can feel it too.")}},{path:"Nintendo/Astyanax",subtune:"8",title:"chromatic",text:function(){return r.createElement(r.Fragment,null,"It can be chromatic, with no reuse of a standard tonal theory, yet rhythmically very clear and even.")}},{path:"Nintendo/Bakushou! Star Monomane Shitennou",subtune:"20",title:"rock-n-roll",text:function(){return r.createElement(r.Fragment,null,"It can employ the language of rock-n-roll and solo-like elements.")}},{path:"Nintendo/Barcode World",subtune:"6",title:"lost",text:function(){return r.createElement(r.Fragment,null,"It may have short tracks for certain cases - eg. when a player has lost.")}},{path:"Nintendo/Bad Dudes  [Bad Dudes vs. Dragon Ninja]",subtune:"6",title:"classic",text:function(){return r.createElement(r.Fragment,null,"It can sound very classic. How is this sound achieved? And how to break outside of it?")}},{path:"Nintendo/Bucky O'Hare",subtune:"18",title:"80s",text:function(){return r.createElement(r.Fragment,null,"It can sound like 80s. Or maybe it sounds completely different for you.")}},{path:"Nintendo/Bionic Commando",subtune:"5",title:"complex",text:function(){return r.createElement(r.Fragment,null,"Many voice-leading and harmonic techniques can blend in a single piece.")}},{path:"Nintendo/Alfred Chicken",subtune:"1",title:"cool timbres",text:function(){return r.createElement(r.Fragment,null,"Composers were searching for cool timbres and witty sound effects.")}},{path:"Nintendo/Alien 3",subtune:"1",title:"vibes",text:function(){return r.createElement(r.Fragment,null,"Sometimes you just vibe.")}},{path:"Nintendo/Bucky O'Hare",subtune:"19",title:"boss",text:function(){return r.createElement(r.Fragment,null,"Sometimes you fight a boss.")}},{path:"Nintendo/Adventures of Lolo 3",subtune:"19",title:"victory",text:function(){return r.createElement(r.Fragment,null,"And then, maybe, at some point you celebrate victory.")}}],notation:[{path:"Nintendo/1943 - The Battle of Midway",subtune:"10",title:"12 colors",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"I visualize the notes via a piano roll. The notes are painted in 12 rainbow colors. Same notes in different octaves have the same color. A red note is a tonic. I choose it manually for every piece."))}},{path:"Nintendo/Exodus - Journey to the Promised Land",subtune:"10",title:"major scale",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Most pieces choose several notes out of these 12 as main ones and use others rarely. A major scale will always have the same seven colors. What is a major scale? It's seven notes with certain intervals chosen from a tonic. A major scale will always have its third note in green."))}},{path:"Nintendo/Alien Syndrome",subtune:"1",title:"minor scale",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"A minor scale will have that third note one semitone closer to the tonic - and thus it will always be yellow. The fifth note is blue in both scales."),r.createElement("div",null,'Oh and there isn\'t a single thing like a "minor scale". Instead, there are many, depending on which color are second, sixth, seventh notes. Here you see a natural minor scale.'))}},{path:"Nintendo/Alfred Chicken",subtune:"2",title:"major chord",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"A chord is three notes chosen from the scale."))}}],textures:[{path:"Nintendo/Adventures of Lolo 2",subtune:"7",title:"unison",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,'A unison texture, a single melodic line doubled in an octaves, with no bass, no chords. A rare beast in NES. The usage of an unusual scale give it another flavor of "not from here".'),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{span:[1,8],mask:"11000"},"Upper voice"),r.createElement(vi,{span:[1,8],mask:"00100"},"Lower voice"),r.createElement(vi,{span:[1,8],mask:"11100"},"Two voices"),r.createElement(vi,{span:[1,8],mask:"11111"},"Two voices + percussion")))}},{path:"Nintendo/Exodus - Journey to the Promised Land",subtune:"1",title:"parallel harmony",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,'Western music language dominates in NES. It favors several simultaneous voices. One of the simplest way to add a second voice is to use parallel harmony. That is, to add notes from the scale at a chosen interval below. Thirds and sixths work perfectly for that, since they are consonant enough and help a listener follow two voices independently. Fourths and fifths are "banned" historically since they can blend together indistinguishably. See'," ",r.createElement(yi,{r:"Huron, 2016"})),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{span:[1,8],mask:"10000"},"Melody"),r.createElement(vi,{span:[1,8],mask:"01000"},"Lower voice"),r.createElement(vi,{span:[1,8],mask:"11111"},"Both voices")))}},{path:"Nintendo/8 Eyes",subtune:"4",title:"Celtic drone",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"The other way to add two more voices is to make them static. Historically, this is used in some traditional cultures - here most likely it resembles Celtic music, although the drone is also used eg. in Indian music (played by"," ",r.createElement("a",{href:"https://en.wikipedia.org/wiki/Tanpura",target:"_blank"},"tanpura"),")."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Tonic"),r.createElement(vi,{mask:"01000"},"Fifth"),r.createElement(vi,{mask:"01100"},"Tonic + fifth"),r.createElement(vi,{mask:"10000"},"Melody"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Battle Fleet",subtune:"4 ",title:"static riff",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Here the bass always plays the same 1-measure riff in a pentatonic scale ",r.createElement(hi,{d:[0,3,5,7,10]}),". Above it, the scale is expanded to dorian. Almost everywhere, except for m.28, m.32 and m.33 the middle voice plays exactly the third below the melody. This third is drawn from the scale - two notes below it on the scale - so acoustically it can either be a minor third (narrower) or a minor third (wider). You can check all intervals by hovering over the middle voice."))}},{path:"Nintendo/Robocop 3",subtune:"2",title:"two static riffs",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Here the bass plays a one-measure riff. The upper voice has a riff with slight variations between the measures, doubled in parallel fourths in the middle voice. The bass + the upper voice draw notes from the blues scale. The middle voice has the notes outside of this scale, but it's ok since doubling in a perfect fourth creates a blended timbrally rich single upper voice (a distorted guitar) rather than two independent voices. Here the bass voice has a rapid percussion glide in the same channel."),r.createElement("div",null,""),r.createElement("div",null,"The bass voice has a rapid percussion glide in the same channel. After four measures, the whole thing modulates down a fourth."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Bass"),r.createElement(vi,{mask:"01000"},"Melody"),r.createElement(vi,{mask:"10000"},"Middle voice"),r.createElement(vi,{mask:"11000"},"Upper voices - parallel fourth"),r.createElement(vi,{mask:"11111"},"Mix")))}}],bass_line:[{path:"Nintendo/All-Pro Basketball",subtune:"3",title:"chord tones",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"If a harmony isn't static and there's a chain of chords, then the structure of the bass line can either outline the current chord or draw/emphasize certain notes from it. In its clearest form, the bass line plays all notes of the chord and no other notes. Here in mm. 1-32 every chord is major, and every chord is outlined via its notes root ",r.createElement(gi,{cn:0}),", major third ",r.createElement(gi,{cn:4})," and perfect fifth"," ",r.createElement(gi,{cn:7})," in a 3+3+2 rhythm. In ",r.createElement(fi,null)," a melody doubles this bass line in octave, and in the ",r.createElement(mi,null)," there's a separate melody on top of this bass line. Finally, in the Mario cadence (mm. 33-35) the bass line plays mostly the root in octaves. (Why then we see chords"," ",r.createElement(ri,{rn:"VI-VII-I"})," in those measures?)"),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"01000"},"First bass voice"),r.createElement(vi,{mask:"00100"},"Second bass voice"),r.createElement(vi,{mask:"01100"},"Two layered bass voices"),r.createElement(vi,{mask:"10000"},"Melody"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Arkanoid",subtune:"6",title:"root in octaves",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"The bass line can play just the root of the chords in octaves. We still speak of chords in measures where no voice plays just the chord tones, because the upper voices emphasize chord tones by either using them on strong metrical positions or by using them at turn points of the contours."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Bass"),r.createElement(vi,{mask:"11000"},"Upper voices"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Bubble Bobble",subtune:"2",title:"root without chords",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Even if there's no middle voice, and the melody isn't clearly outlining the chord tones, the logic and the effect of changes in the bass is similar to the chord changes, especially if the melody doesn't contradict it too much. Here in the part B the bass mostly repeats the melody notes, yet the 2-5-1 cadence in m.23-24 makes it functional and makes the whole period work."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Bass"),r.createElement(vi,{mask:"01000"},"Melody"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Bionic Commando",subtune:"3",title:"drone",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"If the harmony is static and there are no chord changes, then the bass can play the tonic of the current key - the"," ",r.createElement("a",{href:"https://en.wikipedia.org/wiki/Drone_(sound)",target:"_blank"},"drone.")),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"001000"},"Bass"),r.createElement(vi,{mask:"01000"},"Upper voice"),r.createElement(vi,{mask:"10000"},"Middle voice"),r.createElement(vi,{mask:"11000"},"Two upper voices"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Battle Storm",subtune:"12",title:"drone and fills",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Here the bass plays the drone and also the fills - notes from the scales and chromatic approaches to them - when the melody is sustained. This is logical: over time, there's always something happening, and there's always only one stream of rapid changes."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Bass"),r.createElement(vi,{mask:"11000"},"Upper voices"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Barcode World",subtune:"2",title:"root and fifth - 1",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Usually in Western harmony all three chord tones are emphasized in some voice. So, if a melody takes care of the third, the bass can play just root and fifth. It can employ a certain rhythmical figure in which to play these two notes (a riff). Here the riff is"," ",r.createElement("pre",null,"(.) .--5 5--. .--5 5--"),"The fifth can be either above or below the root to make a smoother voice-leading."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Bass"),r.createElement(vi,{mask:"00111"},"Bass + percussion"),r.createElement(vi,{mask:"11000"},"Upper voices"),r.createElement(vi,{mask:"11011"},"Upper voices + percussion"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Battle Storm",subtune:"11",title:"root and fifth - 2",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Even if the harmony itself isn't classic and very chiptune-y - like in this example, where all chords are major (constant structures), the patterns for bass may be the same."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Bass"),r.createElement(vi,{mask:"00111"},"Bass + percussion"),r.createElement(vi,{mask:"10000"},"Upper voice"),r.createElement(vi,{mask:"01000"},"Middle voice"),r.createElement(vi,{mask:"11000"},"Upper voices"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/1943 - The Battle of Midway",subtune:"3",title:"smooth",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"To make a static and smooth bass line that moves by step, a composer can choose the next chord tone that's closest to the previous note. This wording implies that a chain of chords was designed first, and the bass line was inferred from it."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{span:[1,27],mask:"00100"},"Bass"),r.createElement(vi,{span:[1,27],mask:"00111"},"Bass + percussion"),r.createElement(vi,{span:[1,27],mask:"10000"},"Melody"),r.createElement(vi,{span:[1,27],mask:"01000"},"Middle voice"),r.createElement(vi,{span:[1,27],mask:"11000"},"Upper voices"),r.createElement(vi,{span:[1,27],mask:"11111"},"Mix")))}},{path:"Nintendo/Adventures of Lolo 2",subtune:"10",title:"descending diatonic",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"It's possible to build long step-wise descending bass lines by choosing proper chord tones for each chord. This example starts with five descending notes. The middle voice here plays arpeggiated chords."),r.createElement("div",null,""),r.createElement("div",null,"However, just the arpeggio isn't enough. Sometimes the bass here plays the note of the next chord faster than the arpeggio: m.7, m.15, resulting in a richer harmony. In m.8 the bass is indispensable to make it a deceptive cadence: the arpeggio on top simply plays I. Hover the red note in m.8 to see that."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Bass"),r.createElement(vi,{mask:"00111"},"Bass + percussion"),r.createElement(vi,{mask:"01000"},"Arpeggio"),r.createElement(vi,{mask:"01100"},"Bass + chords"),r.createElement(vi,{mask:"10000"},"Melody"),r.createElement(vi,{mask:"11000"},"Melody + chords"),r.createElement(vi,{mask:"10100"},"Melody + bass"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Burai Fighter",subtune:"8",title:"ascending diatonic",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"The bass line can also go up, although it happens less frequently. Rhythmically a bass line in the part A uses a riff on two notes."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"01000"},"Bass"),r.createElement(vi,{mask:"01011"},"Bass + percussion"),r.createElement(vi,{mask:"00100"},"Melody"),r.createElement(vi,{mask:"10000"},"Middle voice"),r.createElement(vi,{mask:"10100"},"Upper voices"),r.createElement(vi,{mask:"11000"},"Lower voices"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/'89 Dennou Kyuusei Uranai",subtune:"16",title:"descending chromatic",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"The bass line can go down chromatically, which in the absence of clearly arpeggiated chords makes Roman numeral analysis less clear and less helpful. Sometimes the voice-leading is more important than the storyline of implied chords."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Bass"),r.createElement(vi,{mask:"10000"},"Melody"),r.createElement(vi,{mask:"10100"},"Bass + melody"),r.createElement(vi,{mask:"11000"},"Melody + parallel thirds below"),r.createElement(vi,{mask:"01000"},"Middle voice"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Banana",subtune:"1",title:"transposed riff",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"A bass riff can include non-chord tones as well. Here, as the riff is transposed from a different root, the relative distances from the root are calculated according to a scale (here mixolydian), not chromatically. This isn't universal, and even in this example green and yellow notes are both used on ",r.createElement(ri,{rn:"VII"})," chords."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{span:[2,9],mask:"00100"},"Bass"),r.createElement(vi,{span:[2,9],mask:"11000"},"Upper voices"),r.createElement(vi,{span:[2,9],mask:"11111"},"Mix")))}},{path:"Nintendo/Bugs Bunny Birthday Blowout, The",subtune:"1",title:"Alberti bass - 1",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("a",{href:"https://en.wikipedia.org/wiki/Alberti_bass",target:"_blank"},"Alberti bass")," ","is a certain riff that can be traced back to at least 18th century. The order of notes is: lowest, highest, middle, highest. Here in m.3 the fifth is omitted in favor of the seventh."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"00100"},"Bass"),r.createElement(vi,{mask:"00111"},"Bass + percussion"),r.createElement(vi,{mask:"10000"},"Melody"),r.createElement(vi,{mask:"01000"},"Echo"),r.createElement(vi,{mask:"11000"},"Melody + echo"),r.createElement(vi,{mask:"11011"},"Melody + echo + percussion"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Bubble Bobble",subtune:"29",title:"Alberti bass - 2",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,'Even though Alberti bass is classic, the melody shouldn\'t necessarily stay within the standard scale. Here a chromatic melody resembles "Flight of the Bumblebee".'),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{span:[3,10],mask:"00100"},"Alberti bass"),r.createElement(vi,{span:[3,10],mask:"01000"},"Chromatic melody"),r.createElement(vi,{span:[3,10],mask:"11111"},"Mix")))}},{path:"Nintendo/Faxanadu",subtune:"11",title:"static riff and pedal point",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Previous strategies were used when chords are changing often. Another way of structuring a piece is to use static harmony and employ a static bass riff. A bass in part A here repeats a minor major seventh chord, and a bass in part B plays a static note (a pedal point)."),r.createElement("div",null,""),r.createElement("div",null,"A:"," ",r.createElement(vi,{span:[5,21],mask:"10000"},"Bass"),r.createElement(vi,{span:[5,21],mask:"01000"},"Its echo"),r.createElement(vi,{span:[5,21],mask:"11000"},"Bass + echo"),r.createElement(vi,{span:[5,21],mask:"00100"},"Melody"),r.createElement(vi,{span:[5,21],mask:"11111"},"Mix")),r.createElement("div",null,""),r.createElement("div",null,"B:"," ",r.createElement(vi,{span:[21,37],mask:"00100"},"Bass pedal point"),r.createElement(vi,{span:[21,37],mask:"01000"},"Arpeggio"),r.createElement(vi,{span:[21,37],mask:"10000"},"Melody"),r.createElement(vi,{span:[21,37],mask:"11111"},"Mix")))}},{path:"Nintendo/Bubble Bath Babes",subtune:"1",title:"static functional riff",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"A static riff doesn't necessarily lead to rare harmonies. Here a riff on four notes 1-6-2-5 reminds of a standard major pop/jazz progression ",r.createElement(ri,{rn:"I-vi-ii-V"}),", yet no chords are present, and the notes go too fast in a 3+3+2"," ",r.createElement("a",{href:"https://en.wikipedia.org/wiki/Tresillo_(rhythm)",target:"_blank"},"tresillo")," ","rhythm."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{span:[5,71],mask:"00100"},"Bass"),r.createElement(vi,{span:[4,21],mask:"10000"},"Melody"),r.createElement(vi,{span:[4,21],mask:"01000"},"Middle voice counterpoint"),r.createElement(vi,{span:[4,21],mask:"11000"},"Upper voices"),r.createElement(vi,{span:[4,21],mask:"11111"},"Mix")))}},{path:"Nintendo/Bugs Bunny Crazy Castle, The",subtune:"5",title:"walking bass",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("a",{href:"https://en.wikipedia.org/wiki/Bassline#Walking_bass",target:"_blank"},"Walking bass")," ","usually consists of even quarter notes. Besides the chord tones, musicians often play chromatic (semitone) approaches to chord tones of the next measure - below or above."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{span:[5,36],mask:"00100"},"Bass"),r.createElement(vi,{span:[5,36],mask:"00111"},"Bass + percussion"),r.createElement(vi,{span:[5,36],mask:"10000"},"Melody"),r.createElement(vi,{span:[5,36],mask:"01000"},"Echo"),r.createElement(vi,{span:[5,36],mask:"11000"},"Melody + echo"),r.createElement(vi,{span:[5,36],mask:"11111"},"Mix")))}},{path:"Nintendo/Bubble Bath Babes",subtune:"3",title:"exercise 1",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"How is the bass structured here in A+B vs. in A'? Feel free to solo or mute voices via controls in the lower right corner."))}},{path:"Nintendo/Crayon Shin-chan - Ora to Poi Poi",subtune:"12",title:"exercise 2",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line in mm.3-6?"))}},{path:"Nintendo/Bandit Kings of Ancient China",subtune:"4",title:"exercise 3",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line in different parts here?"))}},{path:"Nintendo/Adventures of Rad Gravity, The",subtune:"2",title:"exercise 4",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line in different parts here?"))}},{path:"Nintendo/Bad News Baseball",subtune:"6",title:"exercise 5",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))}},{path:"Nintendo/Alien 3",subtune:"1",title:"exercise 6",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))}},{path:"Nintendo/Arch Rivals - A Basketbrawl!",subtune:"5",title:"exercise 7",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))}},{path:"Nintendo/Blaster Master",subtune:"15",title:"exercise 8",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))}},{path:"Nintendo/Be-Bop High School - Koukousei Gokuraku Densetsu",subtune:"21",title:"exercise 9",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))}},{path:"Nintendo/Beauty and the Beast",subtune:"1",title:"exercise 10",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))}}],minor:[{path:"Nintendo/Battle Chess",subtune:"1",title:"natural minor",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"A pure natural minor ",r.createElement(hi,{d:[0,2,3,5,7,8,10]})," harmony isn't easily found. When it does, it lacks the leading tone, so the two avaiable dominants are ",r.createElement(ri,{rn:"v"})," and ",r.createElement(ri,{rn:"VII"}),"."))}},{path:"Nintendo/Armadillo",subtune:"3",title:"hexatonic minor",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"Sometimes a minor scale ",r.createElement(hi,{d:[0,2,3,5,7,10]})," ","specifically lacks the sixth scale degree (",r.createElement(pi,{d:"8"})," or ",r.createElement(pi,{d:"9"}),"), making it hexatonic and ambiguos - neither aeolian nor dorian."))}}],modulation:[{path:"Nintendo/Bandit Kings of Ancient China",subtune:"7",title:"(1)",text:function(){return r.createElement(r.Fragment,null)}},{path:"Nintendo/Blackjack",subtune:"2",title:"(2)",text:function(){return r.createElement(r.Fragment,null)}},{path:" Nintendo/Battle Storm",subtune:"1",title:"(3)",text:function(){return r.createElement(r.Fragment,null)}},{path:" Nintendo/Battle Storm",subtune:"2",title:"(4)",text:function(){return r.createElement(r.Fragment,null,"Compare with the previous example. Should a modulation be marked in mm.5-6?")}},{path:" Nintendo/Bionic Commando",subtune:"5",title:"(5)",text:function(){return r.createElement(r.Fragment,null)}}],form:[{path:"Nintendo/Bonza",subtune:"1",title:"period",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,'A form is how repetitions of music material are structured on various levels. Oxford Companion to Music: "A period consists of two phrases, antecedent and consequent, each of which begins with the same basic motif". In periods in NES, one to several measures repeat verbatim, and the ending changes.'),r.createElement("div",null,""),r.createElement("div",null,'We\'ll only call it a "normal" period if the consequent ends in a more stable way than the antecedent. So, here the antecedent ends on',r.createElement(ri,{rn:"VII"}),", and the consequent squashes the ",r.createElement(ri,{rn:"VI-VII"})," ","chords and adds ",r.createElement(ri,{rn:"i"})," after them."),r.createElement("div",null,""),r.createElement("div",null,"Chords in m.9 aren't present in a clear form - your analysis may vary."))}}],middle_voice:[{path:"Nintendo/Slalom",subtune:"10",title:"parallel thirds",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,'One way of using a middle voice is to double melody in some interval. For example, in parallel thirds. All notes are taken from a diatonic scale, which means that actually there are two different intervals, both called "thirds": minor thirds and major thirds. As the melody goes, upper voices constantly oscillate between two intervals, making two voices somewhat separable and independent.'),r.createElement("div",null,""),r.createElement("div",null,r.createElement(vi,{mask:"01000"},"Melody"),r.createElement(vi,{mask:"10000"},"Middle voice"),r.createElement(vi,{mask:"11000"},"Upper voices"),r.createElement(vi,{mask:"11111"},"Mix")))}},{path:"Nintendo/Battle Chess",subtune:"1",title:"transposed riff",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"A transposed riff here oscillates between 5 and 4 for ",r.createElement(ri,{rn:"i"})," ","and ",r.createElement(ri,{rn:"VI"}),". It plays a static 5 for other harmonies. Are"," ",r.createElement(mi,null)," and ",r.createElement(di,{fs:"B'"})," a period?"))}}],classical_harmony:[{path:"Nintendo/Binary Land",subtune:"1",title:"viio/V I64",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"This example isn't original NES. It's an arrangement of Erik Satie - Je Te Veux, composed around 1897. So there's no surprise that some classical idioms used here aren't used a century after it without bearing the meaning \"common practice\". Among them the"," ",r.createElement(ri,{rn:"viio/V-I64"})))}}],misc:[{path:"Nintendo/BreakThru",subtune:"6",title:"chord-scale theory",text:function(){return r.createElement(r.Fragment,null,r.createElement("div",null,"A major scale is used for non-chord tones everywhere except on"," ",r.createElement(ri,{rn:"iv"})," where a minor scale is used. To be precise, a scale played ",r.createElement(ri,{rn:"IV"})," is lydian and is taken from a major scale for"," ",r.createElement(ri,{rn:"I"}),". A scale played ",r.createElement(ri,{rn:"iv"})," is dorian and is taken from a natural minor scale for ",r.createElement(ri,{rn:"i"}),". (This is a poorly written paragraph.)"),r.createElement("div",null,""),r.createElement("div",null,"To hear it clearer, slow down the speed in Settings."))}}]},_i=function(e){return ci(ci({},Mi[e.split("/")[0]][Number(e.split("/")[1])-1]),{index:Number(e.split("/")[1])})},Ii=function(){return r.createElement("div",null,r.createElement("span",{style:{color:"white"}},"Music Theory through NES Soundtracks"),r.createElement("div",null,""),r.createElement("ol",{style:{margin:"0 0 100px 0",columnGap:"20px",columnWidth:"250px"}},Object.keys(Mi).map((function(e){return r.createElement("li",{style:{breakInside:"avoid"}},r.createElement(Ta,{to:{pathname:"/book/".concat(e,"/1")}},e.replace(/_/g," ")),r.createElement("ol",null,Mi[e].map((function(t,n){var o=t.title;return r.createElement("li",null,r.createElement(Ta,{to:{pathname:"/book/".concat(e,"/").concat(n+1)}},null!=o?o:n))}))))}))),r.createElement("span",{style:{color:"white"}},"Games"),r.createElement("div",null,""))},Pi=function(e){var t=e.path,n=e.playSegment,o=e.tags,s=_i(t),a=s.title,i=s.text,u=s.index,l=function(e){var t=e.split("/"),n=t[0],r=t[1],o=null,s=null;return(r=Number(r)-1)>0&&(o="/book/".concat(n,"/").concat(r)),r+1<Mi[n].length&&(s="/book/".concat(n,"/").concat(r+2)),[o,s]}(t),c=l[0],d=l[1];return r.createElement("div",{className:"App-main-content-area settings book-chapter",key:"BookExample"},r.createElement("div",null,r.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.createElement("div",{style:{marginBottom:"10px"}},r.createElement(Ta,{to:{pathname:c}},r.createElement("button",{className:"box-button",disabled:!c},"<"))," ",r.createElement(Ta,{to:{pathname:d}},r.createElement("button",{className:"box-button",disabled:!d},">"))," ",r.createElement("span",{style:{color:"white"}},u,". ",a)))),r.createElement(bi.Provider,{value:n},r.createElement("div",null,i&&i(n))," "),o&&(!a||!a.startsWith("exercise"))&&r.createElement("div",null,r.createElement("div",null,""),r.createElement("div",null,""),r.createElement("div",null,""),r.createElement("div",null,"Tags:"),o.map((function(e){return r.createElement("div",{key:e},r.createElement("a",{href:"https://vpavlenko.github.io/chiptheory/search/".concat(e.replace(":","/")),target:"_blank"},e.replace(":",": ").replace(/_/g," ")))}))))};function ki(e){var t=e.send;return e.send=function(){var n=arguments;return new Promise((function(r,o){e.onload=function(){e.status<200||e.status>=300?o({status:e.status,statusText:e.statusText}):r(e)},e.onerror=function(){o({status:e.status,statusText:e.statusText})};try{t.apply(e,n)}catch(e){}}))},e}function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==wi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===wi(s)?s:String(s)),r)}var o,s}var Si=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(i.a)(this),this.data={},this.request=null}var t,n,r;return t=e,(n=[{key:"fetchCached",value:function(e){var t=this;return this.data[e]?Promise.resolve(this.data[e]):(this.request&&this.request.abort(),this.request=ki(new XMLHttpRequest),this.request.responseType="json",this.request.open("GET",e),this.request.send().then((function(n){if(n.status>=200&&n.status<400)return t.data[e]=n.response,n.response;throw Error("RequestCache HTTP "+n.status)})))}}])&&Ei(t.prototype,n),r&&Ei(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Ni=n(29),Vi=n.n(Ni),Ti=n(3);function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Oi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var s=t&&t.prototype instanceof f?t:f,a=Object.create(s.prototype),i=new w(o||[]);return r(a,"_invoke",{value:_(e,n,i)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};u(h,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==t&&n.call(b,s)&&(h=b);var v=p.prototype=f.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){var o;r(this,"_invoke",{value:function(r,s){function a(){return new t((function(o,a){!function r(o,s,a,i){var u=c(e[o],e,s);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==Ri(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,i)}),(function(e){r("throw",e,a,i)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,i)}))}i(u.arg)}(r,s,o,a)}))}return o=o?o.then(a,a):a()}})}function _(e,t,n){var r="suspendedStart";return function(o,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw s;return S()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var i=I(a,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=c(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var s=o.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function E(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=u(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(M.prototype),u(M.prototype,a,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,o,s){void 0===s&&(s=Promise);var a=new M(l(t,n,r,o),s);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,i,"Generator"),u(v,s,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var i=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(i&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function xi(e,t,n,r,o,s,a){try{var i=e[s](a),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function Ai(e){return function(e){if(Array.isArray(e))return Ci(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ci(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ji(e,t,n){return(t=Bi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bi(r.key),r)}}function Bi(e){var t=function(e,t){if("object"!==Ri(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ri(t)?t:String(t)}function Li(e,t){return(Li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ui(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hi(e);if(t){var o=Hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qi(this,n)}}function qi(e,t){if(t&&("object"===Ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zi(e)}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hi(e){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Li(e,t)}(a,e);var t,n,r,o,s=Ui(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),l(zi(n=s.call(this))),n.player=null,n.players=e,n.currIdx=0,n.context=null,n.currUrl=null,n.shuffle=0,n.shuffleOrder=[],n.songRequest=null,n.repeat=0,n.history=t,n.players.forEach((function(e){e.on("playerStateUpdate",n.handlePlayerStateUpdate),e.on("playerError",n.handlePlayerError)})),n}return t=a,(n=[{key:"handlePlayerError",value:function(e){this.emit("playerError",e),this.context?this.nextSong():this.emit("sequencerStateUpdate",{isEjected:!0})}},{key:"handlePlayerStateUpdate",value:function(e){var t=e.isStopped;console.debug("Sequencer.handlePlayerStateUpdate(isStopped=%s)",t),t?(this.currUrl=null,this.context&&this.nextSong()):this.emit("sequencerStateUpdate",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:this.currUrl,hasPlayer:!0,isEjected:!1},e))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.currIdx=t,this.context=e,1===this.shuffle&&this.setShuffle(this.shuffle),this.playCurrentSong(n)}},{key:"playCurrentSong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.currIdx;1===this.shuffle&&(t=this.shuffleOrder[t],console.log("Shuffle (%s): %s",this.currIdx,t)),this.playSong(this.context[t],e)}},{key:"playSonglist",value:function(e){this.playContext(e,0)}},{key:"toggleShuffle",value:function(){this.setShuffle(!this.shuffle)}},{key:"setShuffle",value:function(e){var t=this;this.shuffle=e,1===this.shuffle&&this.context?(this.shuffleOrder=[this.currIdx].concat(Ai($s()(this.context.map((function(e,t){return t})).filter((function(e){return e!==t.currIdx}))))),this.currIdx=0):this.shuffleOrder&&null!==this.shuffleOrder[this.currIdx]&&(this.currIdx=this.shuffleOrder[this.currIdx])}},{key:"setRepeat",value:function(e){this.repeat=e}},{key:"advanceSong",value:function(e){null!=this.context&&(2!==this.repeat&&(this.currIdx+=e),this.currIdx<0||this.currIdx>=this.context.length?1===this.repeat?(this.currIdx=(this.currIdx+this.context.length)%this.context.length,this.playCurrentSong()):(console.debug("Sequencer.advanceSong(direction=%s) %s passed end of context length %s",e,this.currIdx,this.context.length),this.currIdx=0,this.context=null,this.player.stop(),this.emit("sequencerStateUpdate",{isEjected:!0})):this.playCurrentSong())}},{key:"nextSong",value:function(){this.advanceSong(1)}},{key:"prevSong",value:function(){this.advanceSong(-1)}},{key:"playSubtune",value:function(e){var t=window.location.pathname.replace("/chiptheory/","/"),n=new URLSearchParams(window.location.search);n.set("subtune",e+1),this.history.push({pathname:t,search:n.toString()}),this.player.playSubtune(e)}},{key:"prevSubtune",value:function(){var e=this.player.getSubtune()-1;e<0||this.playSubtune(e)}},{key:"nextSubtune",value:function(){var e=this.player.getSubtune()+1;e>=this.player.getNumSubtunes()||this.playSubtune(e)}},{key:"getPlayer",value:function(){return this.player}},{key:"getCurrContext",value:function(){return this.context}},{key:"getCurrIdx",value:function(){return this.shuffle?this.shuffleOrder[this.currIdx]:this.currIdx}},{key:"getCurrUrl",value:function(){return this.currUrl}},{key:"playSong",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null!==this.player&&this.player.suspend();for(var r=(e=e.startsWith("http")?e:Ti.CATALOG_PREFIX+encodeURIComponent(encodeURIComponent(e))).split(".").pop().toLowerCase(),o=0;o<this.players.length;o++)if(this.players[o].canPlay(r)){this.player=this.players[o];break}null!==this.player?(this.songRequest&&this.songRequest.abort(),this.songRequest=ki(new XMLHttpRequest),this.songRequest.responseType="arraybuffer",this.songRequest.open("GET",e),this.songRequest.send().then((function(e){return e.response})).then((function(r){t.currUrl=e;var o=e.replace(Ti.CATALOG_PREFIX,"");t.playSongBuffer(o,r,n)})).catch((function(n){t.handlePlayerError(n.message||"HTTP ".concat(n.status," ").concat(n.statusText," ").concat(e))}))):this.emit("playerError",'The file format ".'.concat(r,'" was not recognized.'))}},{key:"playSongFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;null!==this.player&&this.player.suspend();var r=e.split(".").pop().toLowerCase(),o=this.players.find((function(e){return e.canPlay(r)}));null!=o?(this.player=o,this.context=[],this.currUrl=null,this.playSongBuffer(e,t,n)):this.emit("playerError",'The file format ".'.concat(r,'" was not recognized.'))}},{key:"playSongBuffer",value:(o=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){xi(s,r,o,a,i,"next",e)}function i(e){xi(s,r,o,a,i,"throw",e)}a(void 0)}))}}(Oi().mark((function e(t,n){var r,o,s,a=arguments;return Oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:0,o=new Uint8Array(n),this.player.setTempo(1),e.prev=3,e.next=6,this.player.loadData(o,t,r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.handlePlayerError("Unable to play ".concat(t," (").concat(e.t0.message,")."));case 11:s=this.player.getNumVoices(),this.player.setVoiceMask(Ai(Array(s)).fill(!0));case 13:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e,t){return o.apply(this,arguments)})}])&&Fi(t.prototype,n),r&&Fi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Vi.a);function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $i,Xi=($i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r;o.ready=new Promise((function(n,r){e=n,t=r}));var s,a,i,u=Object.assign({},o),l="./this.program",c=!0,d=!1,f="";function m(e){return o.locateFile?o.locateFile(e,f):f+e}(c||d)&&(d?f=self.location.href:"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),$i&&(f=$i),f=0!==f.indexOf("blob:")?f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(i=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),a=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var p,h,g=o.print||console.log.bind(console),b=o.printErr||console.error.bind(console);Object.assign(o,u),u=null,o.arguments&&o.arguments,o.thisProgram&&(l=o.thisProgram),o.quit&&o.quit,o.wasmBinary&&(p=o.wasmBinary),o.noExitRuntime,"object"!=("undefined"==typeof WebAssembly?"undefined":Gi(WebAssembly))&&z("no native wasm support detected");var v,y,M,_,I,P,k,w,E=!1;function S(e,t){e||z(t)}function N(){var e=h.buffer;o.HEAP8=v=new Int8Array(e),o.HEAP16=M=new Int16Array(e),o.HEAPU8=y=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAP32=_=new Int32Array(e),o.HEAPU32=I=new Uint32Array(e),o.HEAPF32=P=new Float32Array(e),o.HEAPF64=w=new Float64Array(e),o.HEAP64=k=new BigInt64Array(e),o.HEAPU64=new BigUint64Array(e)}var V=[],T=[],R=[];function O(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)C(o.preRun.shift());Z(V)}function x(){o.noFSInit||Te.init.initialized||Te.init(),Te.ignorePermissions=!1,ve.init(),Z(T)}function A(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)j(o.postRun.shift());Z(R)}function C(e){V.unshift(e)}function D(e){T.unshift(e)}function j(e){R.unshift(e)}var F=0,B=null,L=null;function U(e){F++,o.monitorRunDependencies&&o.monitorRunDependencies(F)}function q(e){if(F--,o.monitorRunDependencies&&o.monitorRunDependencies(F),0==F&&(null!==B&&(clearInterval(B),B=null),L)){var t=L;L=null,t()}}function z(e){o.onAbort&&o.onAbort(e),b(e="Aborted("+e+")"),E=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw t(n),n}var H,W="data:application/octet-stream;base64,";function G(e){return e.startsWith(W)}function $(e){if(e==H&&p)return new Uint8Array(p);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}function X(e){return p||!c&&!d||"function"!=typeof fetch?Promise.resolve().then((function(){return $(e)})):fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((function(){return $(e)}))}function K(e,t,n){return X(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){b("failed to asynchronously prepare wasm: ".concat(e)),z(e)}))}function Y(e,t,n,r){return e||"function"!=typeof WebAssembly.instantiateStreaming||G(t)||"function"!=typeof fetch?K(t,n,r):fetch(t,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,n).then(r,(function(e){return b("wasm streaming compile failed: ".concat(e)),b("falling back to ArrayBuffer instantiation"),K(t,n,r)}))}))}function Q(){var e={a:bt};function n(e,t){var n=e.exports;return h=(vt=n).r,N(),vt.pb,D(vt.s),q(),n}if(U(),o.instantiateWasm)try{return o.instantiateWasm(e,n)}catch(e){b("Module.instantiateWasm callback failed with error: ".concat(e)),t(e)}return Y(p,H,e,(function(e){n(e.instance)})).catch(t),{}}G(H="chip-core.wasm")||(H=m(H));var J={510956:function(e){console.log("Error during V2M conversion.",e)}},Z=function(e){for(;e.length>0;)e.shift()(o)};function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i8";switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return v[e>>0];case"i16":return M[e>>1];case"i32":return _[e>>2];case"i64":return k[e>>3];case"float":return P[e>>2];case"double":return w[e>>3];case"*":return I[e>>2];default:z("invalid type for getValue: ".concat(t))}}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i8";switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":v[e>>0]=t;break;case"i16":M[e>>1]=t;break;case"i32":_[e>>2]=t;break;case"i64":k[e>>3]=BigInt(t);break;case"float":P[e>>2]=t;break;case"double":w[e>>3]=t;break;case"*":I[e>>2]=t;break;default:z("invalid type for setValue: ".concat(n))}}var ne="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,re=function(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&ne)return ne.decode(e.subarray(t,o));for(var s="";t<o;){var a=e[t++];if(128&a){var i=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|i<<6|u:(7&a)<<18|i<<12|u<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var l=a-65536;s+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else s+=String.fromCharCode((31&a)<<6|i)}else s+=String.fromCharCode(a)}return s},oe=function(e,t){return e?re(y,e,t):""},se=function(e,t,n,r){z("Assertion failed: ".concat(oe(e),", at: ")+[t?oe(t):"unknown filename",n,r?oe(r):"unknown function"])};function ae(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){I[this.ptr+4>>2]=e},this.get_type=function(){return I[this.ptr+4>>2]},this.set_destructor=function(e){I[this.ptr+8>>2]=e},this.get_destructor=function(){return I[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,v[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=v[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,v[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=v[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){I[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return I[this.ptr+16>>2]},this.get_exception_ptr=function(){if(kt(this.get_type()))return I[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}var ie=function(e,t,n){throw new ae(e).init(t,n),e},ue=function(e){return _[yt()>>2]=e,e},le={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t=le.isAbs(e),n="/"===e.substr(-1);return(e=le.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=le.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=le.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return le.normalize(e.join("/"))},join2:function(e,t){return le.normalize(e+"/"+t)}},ce=function(){if("object"==("undefined"==typeof crypto?"undefined":Gi(crypto))&&"function"==typeof crypto.getRandomValues)return function(e){return crypto.getRandomValues(e)};z("initRandomDevice")},de=function(e){return(de=ce())(e)},fe={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:Te.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t=le.isAbs(r)}return(t?"/":"")+(e=le.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=fe.resolve(e).substr(1),t=fe.resolve(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),s=Math.min(r.length,o.length),a=s,i=0;i<s;i++)if(r[i]!==o[i]){a=i;break}var u=[];for(i=a;i<r.length;i++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}},me=[],pe=function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},he=function(e,t,n,r){if(!(r>0))return 0;for(var o=n,s=n+r-1,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),i<=127){if(n>=s)break;t[n++]=i}else if(i<=2047){if(n+1>=s)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=s)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=s)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}return t[n]=0,n-o};function ge(e,t,n){var r=n>0?n:pe(e)+1,o=new Array(r),s=he(e,o,0,o.length);return t&&(o.length=s),o}var be=function(){if(!me.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;me=ge(e,!0)}return me.shift()},ve={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ve.ttys[e]={input:[],output:[],ops:t},Te.registerDevice(e,ve.stream_ops)},stream_ops:{open:function(e){var t=ve.ttys[e.node.rdev];if(!t)throw new Te.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.get_char)throw new Te.ErrnoError(60);for(var s=0,a=0;a<r;a++){var i;try{i=e.tty.ops.get_char(e.tty)}catch(e){throw new Te.ErrnoError(29)}if(void 0===i&&0===s)throw new Te.ErrnoError(6);if(null==i)break;s++,t[n+a]=i}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.put_char)throw new Te.ErrnoError(60);try{for(var s=0;s<r;s++)e.tty.ops.put_char(e.tty,t[n+s])}catch(e){throw new Te.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),s}},default_tty_ops:{get_char:function(e){return be()},put_char:function(e,t){null===t||10===t?(g(re(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(g(re(e.output,0)),e.output=[])},ioctl_tcgets:function(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets:function(e,t,n){return 0},ioctl_tiocgwinsz:function(e){return[24,80]}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(b(re(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(b(re(e.output,0)),e.output=[])}}},ye=function(e,t){return y.fill(0,e,e+t),e},Me=function(e,t){return Math.ceil(e/t)*t},_e=function(e){e=Me(e,65536);var t=Mt(65536,e);return t?ye(t,e):0},Ie={ops_table:null,mount:function(e){return Ie.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Te.isBlkdev(n)||Te.isFIFO(n))throw new Te.ErrnoError(63);Ie.ops_table||(Ie.ops_table={dir:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,lookup:Ie.node_ops.lookup,mknod:Ie.node_ops.mknod,rename:Ie.node_ops.rename,unlink:Ie.node_ops.unlink,rmdir:Ie.node_ops.rmdir,readdir:Ie.node_ops.readdir,symlink:Ie.node_ops.symlink},stream:{llseek:Ie.stream_ops.llseek}},file:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:{llseek:Ie.stream_ops.llseek,read:Ie.stream_ops.read,write:Ie.stream_ops.write,allocate:Ie.stream_ops.allocate,mmap:Ie.stream_ops.mmap,msync:Ie.stream_ops.msync}},link:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,readlink:Ie.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:Te.chrdev_stream_ops}});var o=Te.createNode(e,t,n,r);return Te.isDir(o.mode)?(o.node_ops=Ie.ops_table.dir.node,o.stream_ops=Ie.ops_table.dir.stream,o.contents={}):Te.isFile(o.mode)?(o.node_ops=Ie.ops_table.file.node,o.stream_ops=Ie.ops_table.file.stream,o.usedBytes=0,o.contents=null):Te.isLink(o.mode)?(o.node_ops=Ie.ops_table.link.node,o.stream_ops=Ie.ops_table.link.stream):Te.isChrdev(o.mode)&&(o.node_ops=Ie.ops_table.chrdev.node,o.stream_ops=Ie.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Te.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Te.isDir(e.mode)?t.size=4096:Te.isFile(e.mode)?t.size=e.usedBytes:Te.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ie.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Te.genericErrors[44]},mknod:function(e,t,n,r){return Ie.createNode(e,t,n,r)},rename:function(e,t,n){if(Te.isDir(e.mode)){var r;try{r=Te.lookupNode(t,n)}catch(e){}if(r)for(var o in r.contents)throw new Te.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=Te.lookupNode(e,t);for(var r in n.contents)throw new Te.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=Ie.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!Te.isLink(e.mode))throw new Te.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,o){var s=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,r);if(a>8&&s.subarray)t.set(s.subarray(o,o+a),n);else for(var i=0;i<a;i++)t[n+i]=s[o+i];return a},write:function(e,t,n,r,o,s){if(t.buffer===v.buffer&&(s=!1),!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(s)return a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===o)return a.contents=t.slice(n,n+r),a.usedBytes=r,r;if(o+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),o),r}if(Ie.expandFileStorage(a,o+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)a.contents[o+i]=t[n+i];return a.usedBytes=Math.max(a.usedBytes,o+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Te.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Te.ErrnoError(28);return r},allocate:function(e,t,n){Ie.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,o){if(!Te.isFile(e.node.mode))throw new Te.ErrnoError(43);var s,a,i=e.node.contents;if(2&o||i.buffer!==v.buffer){if((n>0||n+t<i.length)&&(i=i.subarray?i.subarray(n,n+t):Array.prototype.slice.call(i,n,n+t)),a=!0,!(s=_e(t)))throw new Te.ErrnoError(48);v.set(i,s)}else a=!1,s=i.byteOffset;return{ptr:s,allocated:a}},msync:function(e,t,n,r,o){return Ie.stream_ops.write(e,t,0,r,n,!1),0}}},Pe=function(e,t,n,r){var o=r?"":"al ".concat(e);a(e,(function(n){S(n,'Loading data file "'.concat(e,'" failed (no arrayBuffer).')),t(new Uint8Array(n)),o&&q()}),(function(t){if(!n)throw'Loading data file "'.concat(e,'" failed.');n()})),o&&U()},ke=o.preloadPlugins||[],we=function(e,t,n,r){"undefined"!=typeof Browser&&Browser.init();var o=!1;return ke.forEach((function(s){o||s.canHandle(t)&&(s.handle(e,t,n,r),o=!0)})),o},Ee=function(e,t,n,r,o,s,a,i,u,l){var c=t?fe.resolve(le.join2(e,t)):e;function d(n){function d(n){l&&l(),i||Te.createDataFile(e,t,n,r,o,u),s&&s(),q()}we(n,c,d,(function(){a&&a(),q()}))||d(n)}"cp ".concat(c),U(),"string"==typeof n?Pe(n,(function(e){return d(e)}),a):d(n)},Se=function(e){var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===t)throw new Error("Unknown file open mode: ".concat(e));return t},Ne=function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},Ve={dbs:{},indexedDB:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==("undefined"==typeof window?"undefined":Gi(window))&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),S(e,"IDBFS used, but indexedDB not supported"),e})),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return Ie.mount.apply(null,arguments)},syncfs:function(e,t,n){Ve.getLocalSet(e,(function(r,o){if(r)return n(r);Ve.getRemoteSet(e,(function(e,r){if(e)return n(e);var s=t?r:o,a=t?o:r;Ve.reconcile(s,a,n)}))}))},quit:function(){Object.values(Ve.dbs).forEach((function(e){return e.close()})),Ve.dbs={}},getDB:function(e,t){var n,r=Ve.dbs[e];if(r)return t(null,r);try{n=Ve.indexedDB().open(e,Ve.DB_VERSION)}catch(e){return t(e)}if(!n)return t("Unable to connect to IndexedDB");n.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;(t=n.objectStoreNames.contains(Ve.DB_STORE_NAME)?r.objectStore(Ve.DB_STORE_NAME):n.createObjectStore(Ve.DB_STORE_NAME)).indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=function(){r=n.result,Ve.dbs[e]=r,t(null,r)},n.onerror=function(e){t(e.target.error),e.preventDefault()}},getLocalSet:function(e,t){var n={};function r(e){return"."!==e&&".."!==e}function o(e){return function(t){return le.join2(e,t)}}for(var s=Te.readdir(e.mountpoint).filter(r).map(o(e.mountpoint));s.length;){var a,i=s.pop();try{a=Te.stat(i)}catch(e){return t(e)}Te.isDir(a.mode)&&s.push.apply(s,Te.readdir(i).filter(r).map(o(i))),n[i]={timestamp:a.mtime}}return t(null,{type:"local",entries:n})},getRemoteSet:function(e,t){var n={};Ve.getDB(e.mountpoint,(function(e,r){if(e)return t(e);try{var o=r.transaction([Ve.DB_STORE_NAME],"readonly");o.onerror=function(e){t(e.target.error),e.preventDefault()},o.objectStore(Ve.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var o=e.target.result;if(!o)return t(null,{type:"remote",db:r,entries:n});n[o.primaryKey]={timestamp:o.key},o.continue()}}catch(e){return t(e)}}))},loadLocalEntry:function(e,t){var n,r;try{r=Te.lookupPath(e).node,n=Te.stat(e)}catch(e){return t(e)}return Te.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):Te.isFile(n.mode)?(r.contents=Ie.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(Te.isDir(t.mode))Te.mkdirTree(e,t.mode);else{if(!Te.isFile(t.mode))return n(new Error("node type not supported"));Te.writeFile(e,t.contents,{canOwn:!0})}Te.chmod(e,t.mode),Te.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=Te.stat(e);Te.isDir(n.mode)?Te.rmdir(e):Te.isFile(n.mode)&&Te.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(e.target.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){try{var o=e.put(n,t)}catch(e){return void r(e)}o.onsuccess=function(){r(null)},o.onerror=function(e){r(e.target.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(e.target.error),e.preventDefault()}},reconcile:function(e,t,r){var o=0,s=[];Object.keys(e.entries).forEach((function(n){var r=e.entries[n],a=t.entries[n];a&&r.timestamp.getTime()==a.timestamp.getTime()||(s.push(n),o++)}));var a=[];if(Object.keys(t.entries).forEach((function(t){e.entries[t]||(a.push(t),o++)})),!o)return r(null);var i=!1,u=("remote"===e.type?e.db:t.db).transaction([Ve.DB_STORE_NAME],"readwrite"),l=u.objectStore(Ve.DB_STORE_NAME);function c(e){if(e&&!i)return i=!0,r(e)}u.onerror=function(e){c(n.error),e.preventDefault()},u.oncomplete=function(e){i||r(null)},s.sort().forEach((function(e){"local"===t.type?Ve.loadRemoteEntry(l,e,(function(t,n){if(t)return c(t);Ve.storeLocalEntry(e,n,c)})):Ve.loadLocalEntry(e,(function(t,n){if(t)return c(t);Ve.storeRemoteEntry(l,e,n,c)}))})),a.sort().reverse().forEach((function(e){"local"===t.type?Ve.removeLocalEntry(e,c):Ve.removeRemoteEntry(l,e,c)}))}},Te={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=fe.resolve(e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if((t=Object.assign(n,t)).recurse_count>8)throw new Te.ErrnoError(32);for(var r=e.split("/").filter((function(e){return!!e})),o=Te.root,s="/",a=0;a<r.length;a++){var i=a===r.length-1;if(i&&t.parent)break;if(o=Te.lookupNode(o,r[a]),s=le.join2(s,r[a]),Te.isMountpoint(o)&&(!i||i&&t.follow_mount)&&(o=o.mounted.root),!i||t.follow)for(var u=0;Te.isLink(o.mode);){var l=Te.readlink(s);s=fe.resolve(le.dirname(s),l);var c=Te.lookupPath(s,{recurse_count:t.recurse_count+1});if(o=c.node,u++>40)throw new Te.ErrnoError(32)}}return{path:s,node:o}},getPath:function(e){for(var t;;){if(Te.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?"".concat(n,"/").concat(t):n+t:n}t=t?"".concat(e.name,"/").concat(t):e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Te.nameTable.length},hashAddNode:function(e){var t=Te.hashName(e.parent.id,e.name);e.name_next=Te.nameTable[t],Te.nameTable[t]=e},hashRemoveNode:function(e){var t=Te.hashName(e.parent.id,e.name);if(Te.nameTable[t]===e)Te.nameTable[t]=e.name_next;else for(var n=Te.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=Te.mayLookup(e);if(n)throw new Te.ErrnoError(n,e);for(var r=Te.hashName(e.id,t),o=Te.nameTable[r];o;o=o.name_next){var s=o.name;if(o.parent.id===e.id&&s===t)return o}return Te.lookup(e,t)},createNode:function(e,t,n,r){var o=new Te.FSNode(e,t,n,r);return Te.hashAddNode(o),o},destroyNode:function(e){Te.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Te.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Te.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Te.lookupNode(e,t),20}catch(e){}return Te.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=Te.lookupNode(e,t)}catch(e){return e.errno}var o=Te.nodePermissions(e,"wx");if(o)return o;if(n){if(!Te.isDir(r.mode))return 54;if(Te.isRoot(r)||Te.getPath(r)===Te.cwd())return 10}else if(Te.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Te.isLink(e.mode)?32:Te.isDir(e.mode)&&("r"!==Te.flagsToPermissionString(t)||512&t)?31:Te.nodePermissions(e,Te.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=0;e<=Te.MAX_OPEN_FDS;e++)if(!Te.streams[e])return e;throw new Te.ErrnoError(33)},getStreamChecked:function(e){var t=Te.getStream(e);if(!t)throw new Te.ErrnoError(8);return t},getStream:function(e){return Te.streams[e]},createStream:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return Te.FSStream||(Te.FSStream=function(){this.shared={}},Te.FSStream.prototype={},Object.defineProperties(Te.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Te.FSStream,e),-1==t&&(t=Te.nextfd()),e.fd=t,Te.streams[t]=e,e},closeStream:function(e){Te.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Te.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Te.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Te.devices[e]={stream_ops:t}},getDevice:function(e){return Te.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Te.syncFSRequests++,Te.syncFSRequests>1&&b("warning: ".concat(Te.syncFSRequests," FS.syncfs operations in flight at once, probably just doing extra work"));var n=Te.getMounts(Te.root.mount),r=0;function o(e){return Te.syncFSRequests--,t(e)}function s(e){if(e)return s.errored?void 0:(s.errored=!0,o(e));++r>=n.length&&o(null)}n.forEach((function(t){if(!t.type.syncfs)return s(null);t.type.syncfs(t,e,s)}))},mount:function(e,t,n){var r,o="/"===n,s=!n;if(o&&Te.root)throw new Te.ErrnoError(10);if(!o&&!s){var a=Te.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,Te.isMountpoint(r))throw new Te.ErrnoError(10);if(!Te.isDir(r.mode))throw new Te.ErrnoError(54)}var i={type:e,opts:t,mountpoint:n,mounts:[]},u=e.mount(i);return u.mount=i,i.root=u,o?Te.root=u:r&&(r.mounted=i,r.mount&&r.mount.mounts.push(i)),u},unmount:function(e){var t=Te.lookupPath(e,{follow_mount:!1});if(!Te.isMountpoint(t.node))throw new Te.ErrnoError(28);var n=t.node,r=n.mounted,o=Te.getMounts(r);Object.keys(Te.nameTable).forEach((function(e){for(var t=Te.nameTable[e];t;){var n=t.name_next;o.includes(t.mount)&&Te.destroyNode(t),t=n}})),n.mounted=null;var s=n.mount.mounts.indexOf(r);n.mount.mounts.splice(s,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=Te.lookupPath(e,{parent:!0}).node,o=le.basename(e);if(!o||"."===o||".."===o)throw new Te.ErrnoError(28);var s=Te.mayCreate(r,o);if(s)throw new Te.ErrnoError(s);if(!r.node_ops.mknod)throw new Te.ErrnoError(63);return r.node_ops.mknod(r,o,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Te.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Te.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",o=0;o<n.length;++o)if(n[o]){r+="/"+n[o];try{Te.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,Te.mknod(e,t,n)},symlink:function(e,t){if(!fe.resolve(e))throw new Te.ErrnoError(44);var n=Te.lookupPath(t,{parent:!0}).node;if(!n)throw new Te.ErrnoError(44);var r=le.basename(t),o=Te.mayCreate(n,r);if(o)throw new Te.ErrnoError(o);if(!n.node_ops.symlink)throw new Te.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,o=le.dirname(e),s=le.dirname(t),a=le.basename(e),i=le.basename(t);if(n=Te.lookupPath(e,{parent:!0}).node,r=Te.lookupPath(t,{parent:!0}).node,!n||!r)throw new Te.ErrnoError(44);if(n.mount!==r.mount)throw new Te.ErrnoError(75);var u,l=Te.lookupNode(n,a),c=fe.relative(e,s);if("."!==c.charAt(0))throw new Te.ErrnoError(28);if("."!==(c=fe.relative(t,o)).charAt(0))throw new Te.ErrnoError(55);try{u=Te.lookupNode(r,i)}catch(e){}if(l!==u){var d=Te.isDir(l.mode),f=Te.mayDelete(n,a,d);if(f)throw new Te.ErrnoError(f);if(f=u?Te.mayDelete(r,i,d):Te.mayCreate(r,i))throw new Te.ErrnoError(f);if(!n.node_ops.rename)throw new Te.ErrnoError(63);if(Te.isMountpoint(l)||u&&Te.isMountpoint(u))throw new Te.ErrnoError(10);if(r!==n&&(f=Te.nodePermissions(n,"w")))throw new Te.ErrnoError(f);Te.hashRemoveNode(l);try{n.node_ops.rename(l,r,i)}catch(e){throw e}finally{Te.hashAddNode(l)}}},rmdir:function(e){var t=Te.lookupPath(e,{parent:!0}).node,n=le.basename(e),r=Te.lookupNode(t,n),o=Te.mayDelete(t,n,!0);if(o)throw new Te.ErrnoError(o);if(!t.node_ops.rmdir)throw new Te.ErrnoError(63);if(Te.isMountpoint(r))throw new Te.ErrnoError(10);t.node_ops.rmdir(t,n),Te.destroyNode(r)},readdir:function(e){var t=Te.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Te.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Te.lookupPath(e,{parent:!0}).node;if(!t)throw new Te.ErrnoError(44);var n=le.basename(e),r=Te.lookupNode(t,n),o=Te.mayDelete(t,n,!1);if(o)throw new Te.ErrnoError(o);if(!t.node_ops.unlink)throw new Te.ErrnoError(63);if(Te.isMountpoint(r))throw new Te.ErrnoError(10);t.node_ops.unlink(t,n),Te.destroyNode(r)},readlink:function(e){var t=Te.lookupPath(e).node;if(!t)throw new Te.ErrnoError(44);if(!t.node_ops.readlink)throw new Te.ErrnoError(28);return fe.resolve(Te.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=Te.lookupPath(e,{follow:!t}).node;if(!n)throw new Te.ErrnoError(44);if(!n.node_ops.getattr)throw new Te.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Te.stat(e,!0)},chmod:function(e,t,n){var r;if(!(r="string"==typeof e?Te.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Te.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Te.chmod(e,t,!0)},fchmod:function(e,t){var n=Te.getStreamChecked(e);Te.chmod(n.node,t)},chown:function(e,t,n,r){var o;if(!(o="string"==typeof e?Te.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Te.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,n){Te.chown(e,t,n,!0)},fchown:function(e,t,n){var r=Te.getStreamChecked(e);Te.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new Te.ErrnoError(28);var n;if(!(n="string"==typeof e?Te.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Te.ErrnoError(63);if(Te.isDir(n.mode))throw new Te.ErrnoError(31);if(!Te.isFile(n.mode))throw new Te.ErrnoError(28);var r=Te.nodePermissions(n,"w");if(r)throw new Te.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=Te.getStreamChecked(e);if(0==(2097155&n.flags))throw new Te.ErrnoError(28);Te.truncate(n.node,t)},utime:function(e,t,n){var r=Te.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n){if(""===e)throw new Te.ErrnoError(44);var r;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?Se(t):t)?4095&n|32768:0,"object"==Gi(e))r=e;else{e=le.normalize(e);try{r=Te.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var s=!1;if(64&t)if(r){if(128&t)throw new Te.ErrnoError(20)}else r=Te.mknod(e,n,0),s=!0;if(!r)throw new Te.ErrnoError(44);if(Te.isChrdev(r.mode)&&(t&=-513),65536&t&&!Te.isDir(r.mode))throw new Te.ErrnoError(54);if(!s){var a=Te.mayOpen(r,t);if(a)throw new Te.ErrnoError(a)}512&t&&!s&&Te.truncate(r,0),t&=-131713;var i=Te.createStream({node:r,path:Te.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return i.stream_ops.open&&i.stream_ops.open(i),!o.logReadFiles||1&t||(Te.readFiles||(Te.readFiles={}),e in Te.readFiles||(Te.readFiles[e]=1)),i},close:function(e){if(Te.isClosed(e))throw new Te.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Te.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(Te.isClosed(e))throw new Te.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Te.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Te.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,o){if(r<0||o<0)throw new Te.ErrnoError(28);if(Te.isClosed(e))throw new Te.ErrnoError(8);if(1==(2097155&e.flags))throw new Te.ErrnoError(8);if(Te.isDir(e.node.mode))throw new Te.ErrnoError(31);if(!e.stream_ops.read)throw new Te.ErrnoError(28);var s=void 0!==o;if(s){if(!e.seekable)throw new Te.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,t,n,r,o);return s||(e.position+=a),a},write:function(e,t,n,r,o,s){if(r<0||o<0)throw new Te.ErrnoError(28);if(Te.isClosed(e))throw new Te.ErrnoError(8);if(0==(2097155&e.flags))throw new Te.ErrnoError(8);if(Te.isDir(e.node.mode))throw new Te.ErrnoError(31);if(!e.stream_ops.write)throw new Te.ErrnoError(28);e.seekable&&1024&e.flags&&Te.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new Te.ErrnoError(70)}else o=e.position;var i=e.stream_ops.write(e,t,n,r,o,s);return a||(e.position+=i),i},allocate:function(e,t,n){if(Te.isClosed(e))throw new Te.ErrnoError(8);if(t<0||n<=0)throw new Te.ErrnoError(28);if(0==(2097155&e.flags))throw new Te.ErrnoError(8);if(!Te.isFile(e.node.mode)&&!Te.isDir(e.node.mode))throw new Te.ErrnoError(43);if(!e.stream_ops.allocate)throw new Te.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,o){if(0!=(2&r)&&0==(2&o)&&2!=(2097155&e.flags))throw new Te.ErrnoError(2);if(1==(2097155&e.flags))throw new Te.ErrnoError(2);if(!e.stream_ops.mmap)throw new Te.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,o)},msync:function(e,t,n,r,o){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,o):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new Te.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.flags=n.flags||0,n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'.concat(n.encoding,'"'));var r=Te.open(e,n.flags),o=Te.stat(e),s=o.size,a=new Uint8Array(s);return Te.read(r,a,0,s,0),"utf8"===n.encoding?t=re(a,0):"binary"===n.encoding&&(t=a),Te.close(r),t},writeFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var r=Te.open(e,n.flags,n.mode);if("string"==typeof t){var o=new Uint8Array(pe(t)+1),s=he(t,o,0,o.length);Te.write(r,o,0,s,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Te.write(r,t,0,t.byteLength,void 0,n.canOwn)}Te.close(r)},cwd:function(){return Te.currentPath},chdir:function(e){var t=Te.lookupPath(e,{follow:!0});if(null===t.node)throw new Te.ErrnoError(44);if(!Te.isDir(t.node.mode))throw new Te.ErrnoError(54);var n=Te.nodePermissions(t.node,"x");if(n)throw new Te.ErrnoError(n);Te.currentPath=t.path},createDefaultDirectories:function(){Te.mkdir("/tmp"),Te.mkdir("/home"),Te.mkdir("/home/web_user")},createDefaultDevices:function(){Te.mkdir("/dev"),Te.registerDevice(Te.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,o){return r}}),Te.mkdev("/dev/null",Te.makedev(1,3)),ve.register(Te.makedev(5,0),ve.default_tty_ops),ve.register(Te.makedev(6,0),ve.default_tty1_ops),Te.mkdev("/dev/tty",Te.makedev(5,0)),Te.mkdev("/dev/tty1",Te.makedev(6,0));var e=new Uint8Array(1024),t=0,n=function(){return 0===t&&(t=de(e).byteLength),e[--t]};Te.createDevice("/dev","random",n),Te.createDevice("/dev","urandom",n),Te.mkdir("/dev/shm"),Te.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Te.mkdir("/proc");var e=Te.mkdir("/proc/self");Te.mkdir("/proc/self/fd"),Te.mount({mount:function(){var t=Te.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var n=+t,r=Te.getStreamChecked(n),o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return o.parent=o,o}},t}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?Te.createDevice("/dev","stdin",o.stdin):Te.symlink("/dev/tty","/dev/stdin"),o.stdout?Te.createDevice("/dev","stdout",null,o.stdout):Te.symlink("/dev/tty","/dev/stdout"),o.stderr?Te.createDevice("/dev","stderr",null,o.stderr):Te.symlink("/dev/tty1","/dev/stderr"),Te.open("/dev/stdin",0),Te.open("/dev/stdout",1),Te.open("/dev/stderr",1)},ensureErrnoError:function(){Te.ErrnoError||(Te.ErrnoError=function(e,t){this.name="ErrnoError",this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Te.ErrnoError.prototype=new Error,Te.ErrnoError.prototype.constructor=Te.ErrnoError,[44].forEach((function(e){Te.genericErrors[e]=new Te.ErrnoError(e),Te.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Te.ensureErrnoError(),Te.nameTable=new Array(4096),Te.mount(Ie,{},"/"),Te.createDefaultDirectories(),Te.createDefaultDevices(),Te.createSpecialDirectories(),Te.filesystems={MEMFS:Ie,IDBFS:Ve}},init:function(e,t,n){Te.init.initialized=!0,Te.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=t||o.stdout,o.stderr=n||o.stderr,Te.createStandardStreams()},quit:function(){Te.init.initialized=!1;for(var e=0;e<Te.streams.length;e++){var t=Te.streams[e];t&&Te.close(t)}},findObject:function(e,t){var n=Te.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{e=(r=Te.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Te.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=le.basename(e),r=Te.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createPath:function(e,t,n,r){e="string"==typeof e?e:Te.getPath(e);for(var o=t.split("/").reverse();o.length;){var s=o.pop();if(s){var a=le.join2(e,s);try{Te.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,n,r,o){var s=le.join2("string"==typeof e?e:Te.getPath(e),t),a=Ne(r,o);return Te.create(s,a)},createDataFile:function(e,t,n,r,o,s){var a=t;e&&(e="string"==typeof e?e:Te.getPath(e),a=t?le.join2(e,t):e);var i=Ne(r,o),u=Te.create(a,i);if(n){if("string"==typeof n){for(var l=new Array(n.length),c=0,d=n.length;c<d;++c)l[c]=n.charCodeAt(c);n=l}Te.chmod(u,146|i);var f=Te.open(u,577);Te.write(f,n,0,n.length,0,s),Te.close(f),Te.chmod(u,i)}return u},createDevice:function(e,t,n,r){var o=le.join2("string"==typeof e?e:Te.getPath(e),t),s=Ne(!!n,!!r);Te.createDevice.major||(Te.createDevice.major=64);var a=Te.makedev(Te.createDevice.major++,0);return Te.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,o,s){for(var a=0,i=0;i<o;i++){var u;try{u=n()}catch(e){throw new Te.ErrnoError(29)}if(void 0===u&&0===a)throw new Te.ErrnoError(6);if(null==u)break;a++,t[r+i]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,o,s){for(var a=0;a<o;a++)try{r(t[n+a])}catch(e){throw new Te.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Te.mkdev(o,s,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!s)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=ge(s(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Te.ErrnoError(29)}},createLazyFile:function(e,t,n,r,o){function s(){this.lengthKnown=!1,this.chunks=[]}if(s.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},s.prototype.setDataGetter=function(e){this.getter=e},s.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,s=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;o||(a=r);var i=this;i.setDataGetter((function(e){var t=e*a,o=(e+1)*a-1;if(o=Math.min(o,r-1),void 0===i.chunks[e]&&(i.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),r!==a&&o.setRequestHeader("Range","bytes="+e+"-"+t),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):ge(o.responseText||"",!0)}(t,o)),void 0===i.chunks[e])throw new Error("doXHR failed!");return i.chunks[e]})),!s&&r||(a=r=1,r=this.getter(0).length,a=r,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new s;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var i={isDevice:!1,contents:a}}else i={isDevice:!1,url:n};var u=Te.createFile(e,t,i,r,o);i.contents?u.contents=i.contents:i.url&&(u.contents=null,u.url=i.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var l={};function c(e,t,n,r,o){var s=e.node.contents;if(o>=s.length)return 0;var a=Math.min(s.length-o,r);if(s.slice)for(var i=0;i<a;i++)t[n+i]=s[o+i];else for(i=0;i<a;i++)t[n+i]=s.get(o+i);return a}return Object.keys(u.stream_ops).forEach((function(e){var t=u.stream_ops[e];l[e]=function(){return Te.forceLoadFile(u),t.apply(null,arguments)}})),l.read=function(e,t,n,r,o){return Te.forceLoadFile(u),c(e,t,n,r,o)},l.mmap=function(e,t,n,r,o){Te.forceLoadFile(u);var s=_e(t);if(!s)throw new Te.ErrnoError(48);return c(e,v,s,t,n),{ptr:s,allocated:!0}},u.stream_ops=l,u}},Re={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(le.isAbs(t))return t;var r;if(r=-100===e?Te.cwd():Re.getStreamFromFD(e).path,0==t.length){if(!n)throw new Te.ErrnoError(44);return r}return le.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&le.normalize(t)!==le.normalize(Te.getPath(e.node)))return-54;throw e}_[n>>2]=r.dev,_[n+4>>2]=r.mode,I[n+8>>2]=r.nlink,_[n+12>>2]=r.uid,_[n+16>>2]=r.gid,_[n+20>>2]=r.rdev,k[n+24>>3]=BigInt(r.size),_[n+32>>2]=4096,_[n+36>>2]=r.blocks;var o=r.atime.getTime(),s=r.mtime.getTime(),a=r.ctime.getTime();return k[n+40>>3]=BigInt(Math.floor(o/1e3)),I[n+48>>2]=o%1e3*1e3,k[n+56>>3]=BigInt(Math.floor(s/1e3)),I[n+64>>2]=s%1e3*1e3,k[n+72>>3]=BigInt(Math.floor(a/1e3)),I[n+80>>2]=a%1e3*1e3,k[n+88>>3]=BigInt(r.ino),0},doMsync:function(e,t,n,r,o){if(!Te.isFile(t.node.mode))throw new Te.ErrnoError(43);if(2&r)return 0;var s=y.slice(e,e+n);Te.msync(t,s,o,n,r)},varargs:void 0,get:function(){var e=_[Re.varargs>>2];return Re.varargs+=4,e},getp:function(){return Re.get()},getStr:function(e){return oe(e)},getStreamFromFD:function(e){return Te.getStreamChecked(e)}};function Oe(e,t,n){Re.varargs=n;try{var r=Re.getStreamFromFD(e);switch(t){case 0:if((o=Re.get())<0)return-28;for(;Te.streams[o];)o++;return Te.createStream(r,o).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var o=Re.get();return r.flags|=o,0;case 5:return o=Re.getp(),M[o+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ue(28),-1;default:return-28}}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}function xe(e,t,n){Re.varargs=n;try{var r=Re.getStreamFromFD(e);switch(t){case 21509:return r.tty?0:-59;case 21505:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcgets){var o=r.tty.ops.ioctl_tcgets(r),s=Re.getp();_[s>>2]=o.c_iflag||0,_[s+4>>2]=o.c_oflag||0,_[s+8>>2]=o.c_cflag||0,_[s+12>>2]=o.c_lflag||0;for(var a=0;a<32;a++)v[s+a+17>>0]=o.c_cc[a]||0;return 0}return 0;case 21510:case 21511:case 21512:return r.tty?0:-59;case 21506:case 21507:case 21508:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcsets){s=Re.getp();var i=_[s>>2],u=_[s+4>>2],l=_[s+8>>2],c=_[s+12>>2],d=[];for(a=0;a<32;a++)d.push(v[s+a+17>>0]);return r.tty.ops.ioctl_tcsets(r.tty,t,{c_iflag:i,c_oflag:u,c_cflag:l,c_lflag:c,c_cc:d})}return 0;case 21519:return r.tty?(s=Re.getp(),_[s>>2]=0,0):-59;case 21520:return r.tty?-28:-59;case 21531:return s=Re.getp(),Te.ioctl(r,t,s);case 21523:if(!r.tty)return-59;if(r.tty.ops.ioctl_tiocgwinsz){var f=r.tty.ops.ioctl_tiocgwinsz(r.tty);s=Re.getp(),M[s>>1]=f[0],M[s+2>>1]=f[1]}return 0;case 21524:case 21515:return r.tty?0:-59;default:return-28}}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ae(e,t,n,r){Re.varargs=r;try{t=Re.getStr(t),t=Re.calculateAt(e,t);var o=r?Re.get():0;return Te.open(t,n,o).fd}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ce(e,t){try{return e=Re.getStr(e),Re.doStat(Te.stat,e,t)}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}var De=9007199254740992,je=-9007199254740992,Fe=function(e){return e<je||e>De?NaN:Number(e)};function Be(e,t,n,r,o,s){s=Fe(s);try{if(isNaN(s))return 61;var a=Re.getStreamFromFD(o);2&n&&Re.doMsync(e,a,t,r,s),Te.munmap(a)}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}var Le=function(){z("")},Ue=[],qe=function(e,t){var n;for(Ue.length=0;n=y[e++];)t+=105!=n&&t%8?4:0,Ue.push(106==n?k[t>>3]:105==n?_[t>>2]:w[t>>3]),t+=105==n?4:8;return Ue},ze=function(e,t,n){var r=qe(t,n);return J[e].apply(null,r)},He=function(e,t,n){return ze(e,t,n)},We=function(e,t,n){return y.copyWithin(e,t,t+n)},Ge=function(){return 2147483648},$e=function(e){var t=(e-h.buffer.byteLength+65535)/65536;try{return h.grow(t),N(),1}catch(e){}},Xe=function(e){var t=y.length;e>>>=0;var n=Ge();if(e>n)return!1;for(var r,o,s=1;s<=4;s*=2){var a=t*(1+.2/s);a=Math.min(a,e+100663296);var i=Math.min(n,(r=Math.max(e,a))+((o=65536)-r%o)%o);if($e(i))return!0}return!1},Ke={},Ye=function(){return l||"./this.program"},Qe=function e(){if(!e.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==("undefined"==typeof navigator?"undefined":Gi(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ye()};for(var n in Ke)void 0===Ke[n]?delete t[n]:t[n]=Ke[n];var r=[];for(var n in t)r.push("".concat(n,"=").concat(t[n]));e.strings=r}return e.strings},Je=function(e,t){for(var n=0;n<e.length;++n)v[t++>>0]=e.charCodeAt(n);v[t>>0]=0},Ze=function(e,t){var n=0;return Qe().forEach((function(r,o){var s=t+n;I[e+4*o>>2]=s,Je(r,s),n+=r.length+1})),0},et=function(e,t){var n=Qe();I[e>>2]=n.length;var r=0;return n.forEach((function(e){return r+=e.length+1})),I[t>>2]=r,0};function tt(e){try{var t=Re.getStreamFromFD(e);return Te.close(t),0}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return e.errno}}var nt=function(e,t,n,r){for(var o=0,s=0;s<n;s++){var a=I[t>>2],i=I[t+4>>2];t+=8;var u=Te.read(e,v,a,i,r);if(u<0)return-1;if(o+=u,u<i)break;void 0!==r&&(r+=u)}return o};function rt(e,t,n,r){try{var o=Re.getStreamFromFD(e),s=nt(o,t,n);return I[r>>2]=s,0}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return e.errno}}function ot(e,t,n,r){t=Fe(t);try{if(isNaN(t))return 61;var o=Re.getStreamFromFD(e);return Te.llseek(o,t,n),k[r>>3]=BigInt(o.position),o.getdents&&0===t&&0===n&&(o.getdents=null),0}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return e.errno}}var st=function(e,t,n,r){for(var o=0,s=0;s<n;s++){var a=I[t>>2],i=I[t+4>>2];t+=8;var u=Te.write(e,v,a,i,r);if(u<0)return-1;o+=u,void 0!==r&&(r+=u)}return o};function at(e,t,n,r){try{var o=Re.getStreamFromFD(e),s=st(o,t,n);return I[r>>2]=s,0}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return e.errno}}var it=0,ut=function(e){return o["_"+e]},lt=function(e,t){v.set(e,t)},ct=function(e,t,n){return he(e,y,t,n)},dt=function(e){var t=pe(e)+1,n=Pt(t);return ct(e,n,t),n},ft=function(e,t,n,r,o){var s={string:function(e){var t=0;return null!=e&&0!==e&&(t=dt(e)),t},array:function(e){var t=Pt(e.length);return lt(e,t),t}},a=ut(e),i=[],u=0;if(r)for(var l=0;l<r.length;l++){var c=s[n[l]];c?(0===u&&(u=_t()),i[l]=c(r[l])):i[l]=r[l]}var d=a.apply(null,i);return d=function(e){return 0!==u&&It(u),function(e){return"string"===t?oe(e):"boolean"===t?Boolean(e):e}(e)}(d)},mt=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Te.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},pt=365,ht=146;Object.defineProperties(mt.prototype,{read:{get:function(){return(this.mode&pt)===pt},set:function(e){e?this.mode|=pt:this.mode&=~pt}},write:{get:function(){return(this.mode&ht)===ht},set:function(e){e?this.mode|=ht:this.mode&=~ht}},isFolder:{get:function(){return Te.isDir(this.mode)}},isDevice:{get:function(){return Te.isChrdev(this.mode)}}}),Te.FSNode=mt,Te.createPreloadedFile=Ee,Te.staticInit();var gt,bt={a:se,b:ie,c:Oe,h:xe,i:Ae,o:Ce,p:Be,e:Le,k:He,j:We,n:Xe,l:Ze,m:et,d:tt,g:rt,q:ot,f:at},vt=Q(),yt=(o._cqt_init=function(e,t,n,r,s,a){return(o._cqt_init=vt.t)(e,t,n,r,s,a)},o._cqt_calc=function(e,t){return(o._cqt_calc=vt.u)(e,t)},o._cqt_render_line=function(e){return(o._cqt_render_line=vt.v)(e)},o._cqt_bin_to_freq=function(e){return(o._cqt_bin_to_freq=vt.w)(e)},o._fluid_synth_noteon=function(e,t,n,r){return(o._fluid_synth_noteon=vt.x)(e,t,n,r)},o._fluid_synth_noteoff=function(e,t,n){return(o._fluid_synth_noteoff=vt.y)(e,t,n)},o._fluid_synth_write_float=function(e,t,n,r,s,a,i,u){return(o._fluid_synth_write_float=vt.z)(e,t,n,r,s,a,i,u)},o._fluid_synth_all_notes_off=function(e,t){return(o._fluid_synth_all_notes_off=vt.A)(e,t)},o._adl_rt_noteOn=function(e,t,n,r){return(o._adl_rt_noteOn=vt.B)(e,t,n,r)},o._adl_rt_noteOff=function(e,t,n){return(o._adl_rt_noteOff=vt.C)(e,t,n)},o._adl_rt_patchChange=function(e,t,n){return(o._adl_rt_patchChange=vt.D)(e,t,n)},o._adl_rt_pitchBend=function(e,t,n){return(o._adl_rt_pitchBend=vt.E)(e,t,n)},o._adl_rt_controllerChange=function(e,t,n,r){return(o._adl_rt_controllerChange=vt.F)(e,t,n,r)},o._adl_rt_channelAfterTouch=function(e,t,n){return(o._adl_rt_channelAfterTouch=vt.G)(e,t,n)},o._adl_panic=function(e){return(o._adl_panic=vt.H)(e)},o._adl_rt_resetState=function(e){return(o._adl_rt_resetState=vt.I)(e)},o._tp_note_on=function(e,t,n){return(o._tp_note_on=vt.J)(e,t,n)},o._tp_note_off=function(e,t){return(o._tp_note_off=vt.K)(e,t)},o._tp_program_change=function(e,t){return(o._tp_program_change=vt.L)(e,t)},o._tp_pitch_bend=function(e,t){return(o._tp_pitch_bend=vt.M)(e,t)},o._tp_control_change=function(e,t,n){return(o._tp_control_change=vt.N)(e,t,n)},o._tp_channel_pressure=function(e,t){return(o._tp_channel_pressure=vt.O)(e,t)},o._tp_render=function(e,t){return(o._tp_render=vt.P)(e,t)},o._tp_panic=function(){return(o._tp_panic=vt.Q)()},o._tp_panic_channel=function(e){return(o._tp_panic_channel=vt.R)(e)},o._tp_reset=function(){return(o._tp_reset=vt.S)()},o._tp_init=function(e){return(o._tp_init=vt.T)(e)},o._new_fluid_settings=function(){return(o._new_fluid_settings=vt.U)()},o._fluid_settings_setstr=function(e,t,n){return(o._fluid_settings_setstr=vt.V)(e,t,n)},o._fluid_settings_setint=function(e,t,n){return(o._fluid_settings_setint=vt.W)(e,t,n)},o._fluid_settings_setnum=function(e,t,n){return(o._fluid_settings_setnum=vt.X)(e,t,n)},o._new_fluid_synth=function(e){return(o._new_fluid_synth=vt.Y)(e)},o._fluid_synth_set_interp_method=function(e,t,n){return(o._fluid_synth_set_interp_method=vt.Z)(e,t,n)},o._adl_init=function(e){return(o._adl_init=vt._)(e)},o._adl_setSoftPanEnabled=function(e,t){return(o._adl_setSoftPanEnabled=vt.$)(e,t)},o._adl_setNumChips=function(e,t){return(o._adl_setNumChips=vt.aa)(e,t)},o._tp_unload_soundfont=function(){return(o._tp_unload_soundfont=vt.ba)()},o._tp_load_soundfont=function(e){return(o._tp_load_soundfont=vt.ca)(e)},o._fluid_synth_sfload=function(e,t,n){return(o._fluid_synth_sfload=vt.da)(e,t,n)},o._tp_add_soundfont=function(e){return(o._tp_add_soundfont=vt.ea)(e)},o._tp_set_reverb=function(e){return(o._tp_set_reverb=vt.fa)(e)},o._fluid_synth_set_reverb_on=function(e,t){return(o._fluid_synth_set_reverb_on=vt.ga)(e,t)},o._fluid_synth_set_reverb=function(e,t,n,r,s){return(o._fluid_synth_set_reverb=vt.ha)(e,t,n,r,s)},o._tp_get_polyphony=function(){return(o._tp_get_polyphony=vt.ia)()},o._fluid_synth_get_polyphony=function(e){return(o._fluid_synth_get_polyphony=vt.ja)(e)},o._tp_set_polyphony=function(e){return(o._tp_set_polyphony=vt.ka)(e)},o._fluid_synth_set_polyphony=function(e,t){return(o._fluid_synth_set_polyphony=vt.la)(e,t)},o._tp_get_channel_in_use=function(e){return(o._tp_get_channel_in_use=vt.ma)(e)},o._tp_get_channel_program=function(e){return(o._tp_get_channel_program=vt.na)(e)},o._tp_set_channel_mute=function(e,t){return(o._tp_set_channel_mute=vt.oa)(e,t)},o._tp_set_bank=function(e){return(o._tp_set_bank=vt.pa)(e)},o._adl_setBank=function(e,t){return(o._adl_setBank=vt.qa)(e,t)},o._tp_set_synth_engine=function(e){return(o._tp_set_synth_engine=vt.ra)(e)},o._tp_set_ch10_melodic=function(e){return(o._tp_set_ch10_melodic=vt.sa)(e)},o._fluid_synth_bank_select=function(e,t,n){return(o._fluid_synth_bank_select=vt.ta)(e,t,n)},o._tp_get_fluid_synth=function(){return(o._tp_get_fluid_synth=vt.ua)()},o._malloc=function(e){return(o._malloc=vt.va)(e)},o._gme_open_data=function(e,t,n,r){return(o._gme_open_data=vt.wa)(e,t,n,r)},o._gme_delete=function(e){return(o._gme_delete=vt.xa)(e)},o._gme_track_count=function(e){return(o._gme_track_count=vt.ya)(e)},o._gme_track_info=function(e,t,n){return(o._gme_track_info=vt.za)(e,t,n)},o._gme_start_track=function(e,t){return(o._gme_start_track=vt.Aa)(e,t)},o._gme_play=function(e,t,n){return(o._gme_play=vt.Ba)(e,t,n)},o._gme_set_fade=function(e,t,n){return(o._gme_set_fade=vt.Ca)(e,t,n)},o._gme_track_ended=function(e){return(o._gme_track_ended=vt.Da)(e)},o._gme_tell_scaled=function(e){return(o._gme_tell_scaled=vt.Ea)(e)},o._gme_seek_scaled=function(e,t){return(o._gme_seek_scaled=vt.Fa)(e,t)},o._gme_voice_count=function(e){return(o._gme_voice_count=vt.Ga)(e)},o._gme_ignore_silence=function(e,t){return(o._gme_ignore_silence=vt.Ha)(e,t)},o._gme_set_tempo=function(e,t){return(o._gme_set_tempo=vt.Ia)(e,t)},o._gme_mute_voices=function(e,t){return(o._gme_mute_voices=vt.Ja)(e,t)},o._gme_voice_name=function(e,t){return(o._gme_voice_name=vt.Ka)(e,t)},o._gme_get_chip_state=function(e){return(o._gme_get_chip_state=vt.La)(e)},o._xmp_start_player=function(e,t,n){return(o._xmp_start_player=vt.Ma)(e,t,n)},o._xmp_end_player=function(e){return(o._xmp_end_player=vt.Na)(e)},o._xmp_play_buffer=function(e,t,n,r){return(o._xmp_play_buffer=vt.Oa)(e,t,n,r)},o._xmp_get_frame_info=function(e,t){return(o._xmp_get_frame_info=vt.Pa)(e,t)},o._xmp_get_module_info=function(e,t){return(o._xmp_get_module_info=vt.Qa)(e,t)},o._xmp_create_context=function(){return(o._xmp_create_context=vt.Ra)()},o._xmp_stop_module=function(e){return(o._xmp_stop_module=vt.Sa)(e)},o._xmp_restart_module=function(e){return(o._xmp_restart_module=vt.Ta)(e)},o._xmp_seek_time=function(e,t){return(o._xmp_seek_time=vt.Ua)(e,t)},o._xmp_channel_mute=function(e,t,n){return(o._xmp_channel_mute=vt.Va)(e,t,n)},o._xmp_get_player=function(e,t){return(o._xmp_get_player=vt.Wa)(e,t)},o._xmp_get_format_list=function(){return(o._xmp_get_format_list=vt.Xa)()},o._xmp_inject_event=function(e,t,n){return(o._xmp_inject_event=vt.Ya)(e,t,n)},o._xmp_load_module_from_memory=function(e,t,n){return(o._xmp_load_module_from_memory=vt.Za)(e,t,n)},o._lvgm_init=function(e){return(o._lvgm_init=vt._a)(e)},o._lvgm_load_data=function(e,t,n){return(o._lvgm_load_data=vt.$a)(e,t,n)},o._lvgm_get_position_ms=function(e){return(o._lvgm_get_position_ms=vt.ab)(e)},o._lvgm_get_duration_ms=function(e){return(o._lvgm_get_duration_ms=vt.bb)(e)},o._lvgm_start=function(e){return(o._lvgm_start=vt.cb)(e)},o._lvgm_render=function(e,t,n){return(o._lvgm_render=vt.db)(e,t,n)},o._lvgm_stop=function(e){return(o._lvgm_stop=vt.eb)(e)},o._lvgm_reset=function(e){return(o._lvgm_reset=vt.fb)(e)},o._lvgm_set_playback_speed=function(e,t){return(o._lvgm_set_playback_speed=vt.gb)(e,t)},o._lvgm_get_playback_speed=function(e){return(o._lvgm_get_playback_speed=vt.hb)(e)},o._lvgm_seek_ms=function(e,t){return(o._lvgm_seek_ms=vt.ib)(e,t)},o._lvgm_get_metadata=function(e){return(o._lvgm_get_metadata=vt.jb)(e)},o._lvgm_get_voice_count=function(e){return(o._lvgm_get_voice_count=vt.kb)(e)},o._lvgm_get_voice_name=function(e,t){return(o._lvgm_get_voice_name=vt.lb)(e,t)},o._lvgm_get_chip_state=function(e){return(o._lvgm_get_chip_state=vt.mb)(e)},o._lvgm_set_voice_mask=function(e,t){return(o._lvgm_set_voice_mask=vt.nb)(e,t)},o._lvgm_get_voice_mask=function(e){return(o._lvgm_get_voice_mask=vt.ob)(e)},o._fluid_synth_all_sounds_off=function(e,t){return(o._fluid_synth_all_sounds_off=vt.qb)(e,t)},o._fluid_synth_set_chorus=function(e,t,n,r,s,a){return(o._fluid_synth_set_chorus=vt.rb)(e,t,n,r,s,a)},o._fluid_synth_set_chorus_on=function(e,t){return(o._fluid_synth_set_chorus_on=vt.sb)(e,t)},o._adl_getNumChips=function(e){return(o._adl_getNumChips=vt.tb)(e)},o._adl_getBanksCount=function(){return(o._adl_getBanksCount=vt.ub)()},o._adl_getBankNames=function(){return(o._adl_getBankNames=vt.vb)()},o._adl_generate=function(e,t,n){return(o._adl_generate=vt.wb)(e,t,n)},o._v2m_open=function(e,t,n){return(o._v2m_open=vt.xb)(e,t,n)},o._v2m_write_audio=function(e,t){return(o._v2m_write_audio=vt.yb)(e,t)},o._v2m_get_position_ms=function(){return(o._v2m_get_position_ms=vt.zb)()},o._v2m_get_duration_ms=function(){return(o._v2m_get_duration_ms=vt.Ab)()},o._v2m_seek_ms=function(e){return(o._v2m_seek_ms=vt.Bb)(e)},o._v2m_set_speed=function(e){return(o._v2m_set_speed=vt.Cb)(e)},o._v2m_close=function(){return(o._v2m_close=vt.Db)()},function(){return(yt=vt.Eb)()}),Mt=(o._n64_load_file=function(e,t,n,r){return(o._n64_load_file=vt.Fb)(e,t,n,r)},o._n64_get_duration_ms=function(){return(o._n64_get_duration_ms=vt.Gb)()},o._n64_get_position_ms=function(){return(o._n64_get_position_ms=vt.Hb)()},o._n64_render_audio=function(e,t){return(o._n64_render_audio=vt.Ib)(e,t)},o._n64_seek_ms=function(e){return(o._n64_seek_ms=vt.Jb)(e)},o._n64_shutdown=function(){return(o._n64_shutdown=vt.Kb)()},o._mdx_open=function(e,t,n){return(o._mdx_open=vt.Lb)(e,t,n)},o._mdx_set_dir=function(e,t){return(o._mdx_set_dir=vt.Mb)(e,t)},o._mdx_set_rate=function(e){return(o._mdx_set_rate=vt.Nb)(e)},o._mdx_set_max_loop=function(e,t){return(o._mdx_set_max_loop=vt.Ob)(e,t)},o._mdx_next_frame=function(e){return(o._mdx_next_frame=vt.Pb)(e)},o._mdx_frame_length=function(e){return(o._mdx_frame_length=vt.Qb)(e)},o._mdx_calc_sample=function(e,t,n){return(o._mdx_calc_sample=vt.Rb)(e,t,n)},o._mdx_calc_log=function(e,t,n){return(o._mdx_calc_log=vt.Sb)(e,t,n)},o._mdx_get_title=function(e,t){return(o._mdx_get_title=vt.Tb)(e,t)},o._mdx_get_length=function(e){return(o._mdx_get_length=vt.Ub)(e)},o._mdx_get_tracks=function(e){return(o._mdx_get_tracks=vt.Vb)(e)},o._mdx_get_current_notes=function(e,t,n){return(o._mdx_get_current_notes=vt.Wb)(e,t,n)},o._mdx_close=function(e){return(o._mdx_close=vt.Xb)(e)},o._mdx_create_context=function(){return(o._mdx_create_context=vt.Yb)()},o._mdx_get_position_ms=function(e){return(o._mdx_get_position_ms=vt.Zb)(e)},o._mdx_set_speed=function(e,t){return(o._mdx_set_speed=vt._b)(e,t)},o._mdx_set_position_ms=function(e,t){return(o._mdx_set_position_ms=vt.$b)(e,t)},o._mdx_get_pdx_filename=function(e,t){return(o._mdx_get_pdx_filename=vt.ac)(e,t)},o._mdx_get_track_name=function(e,t){return(o._mdx_get_track_name=vt.bc)(e,t)},o._mdx_get_track_mask=function(e){return(o._mdx_get_track_mask=vt.cc)(e)},o._mdx_set_track_mask=function(e,t){return(o._mdx_set_track_mask=vt.dc)(e,t)},function(e,t){return(Mt=vt.ec)(e,t)}),_t=function(){return(_t=vt.fc)()},It=function(e){return(It=vt.gc)(e)},Pt=function(e){return(Pt=vt.hc)(e)},kt=function(e){return(kt=vt.ic)(e)};function wt(){function t(){gt||(gt=!0,o.calledRun=!0,E||(x(),e(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),A()))}F>0||(O(),F>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(o._xmp_version=510632,o._xmp_vercode=87556,o.ccall=ft,o.setValue=te,o.getValue=ee,o.UTF8ToString=oe,o.FS=Te,o.ALLOC_NORMAL=it,L=function e(){gt||wt(),gt||(L=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return wt(),r.ready}),Ki={apiKey:"AIzaSyC_zKemNR_zToveh9E7cRKTgE8Rkmfg6ao",authDomain:"chiptheory-bda40.firebaseapp.com",projectId:"chiptheory-bda40",storageBucket:"chiptheory-bda40.appspot.com",messagingSenderId:"564638848686",appId:"1:564638848686:web:061cfa2277b9985e9c3f3f",measurementId:"G-TDLV6BZJ1B"};var Yi=Object(r.memo)(Qi);function Qi(e){var t,n=e.dim?"DirectoryLink-dim":null,r=e.to.replace("%25","%2525"),s=e.search||(delete(t=Qs.a.parse(window.location.search.substring(1))).q,Qs.a.stringify(t)),a={pathname:r,search:".."===e.children?"":s,state:{prevPathname:window.location.pathname.replace("/chiptheory/","/")}},i=null;return e.isBackLink&&(i=function(t){t.preventDefault(),e.history.goBack()}),o.a.createElement(Ta,{to:a,className:n,onClick:i},e.children)}Qi.propTypes={to:Js.string.isRequired,dim:Js.bool,search:Js.string,isBackLink:Js.bool};function Ji(){for(var e="",t=0;t<arguments.length;t++){if(!(t<0||arguments.length<=t?void 0:arguments[t]))return"";e+=t<0||arguments.length<=t?void 0:arguments[t]}return e}function Zi(e){return e.replace(Ti.CATALOG_PREFIX,"/")}function eu(e){return"".concat(Ti.API_BASE,"/metadata?path=").concat(encodeURIComponent(e))}function tu(e,t,n){return e.FS.analyzePath(t).exists?(console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t)):(console.log("Downloading ".concat(t,"...")),fetch(n).then((function(e){if(!e.ok)throw Error("HTTP ".concat(e.status," while fetching ").concat(t));return e})).then((function(e){return e.arrayBuffer()})).then((function(n){var r=new Uint8Array(n);return nu(e,t,r,!0)})))}function nu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r&&e.FS.analyzePath(t).exists)return console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t);console.debug("Writing ".concat(t," to Emscripten file system..."));var o=Ks.a.dirname(t);return e.FS.mkdirTree(o),e.FS.writeFile(t,n),new Promise((function(n,r){e.FS.syncfs(!1,(function(e){e?(console.error("Error synchronizing to indexeddb.",e),r(e)):(console.debug("Synchronized ".concat(t," to indexeddb.")),n(t))}))}))}function ru(e,t,n){return function(e,t,n,r,o){return r+(e-t)/(n-t)*(o-r)}(e,0,1,t,n)}function ou(e){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function su(e){var t=function(e,t){if("object"!==ou(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ou(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ou(t)?t:String(t)}function au(e,t,n){return(t=su(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(n),!0).forEach((function(t){au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cu(e,t){if(e){if("string"==typeof e)return lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lu(e,t):void 0}}function du(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s,a,i=[],u=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||cu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var mu=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function pu(){return(pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,su(r.key),r)}}function gu(e,t){return(gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bu(e){return(bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vu(e,t){if(t&&("object"===ou(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bu(e);if(t){var o=bu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vu(this,n)}}function Mu(e){return function(e){if(Array.isArray(e))return lu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _u=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Iu="-webkit-",Pu=Math.abs,ku=String.fromCharCode,wu=Object.assign;function Eu(e,t){return 45^Ru(e,0)?(((t<<2^Ru(e,0))<<2^Ru(e,1))<<2^Ru(e,2))<<2^Ru(e,3):0}function Su(e){return e.trim()}function Nu(e,t){return(e=t.exec(e))?e[0]:e}function Vu(e,t,n){return e.replace(t,n)}function Tu(e,t){return e.indexOf(t)}function Ru(e,t){return 0|e.charCodeAt(t)}function Ou(e,t,n){return e.slice(t,n)}function xu(e){return e.length}function Au(e){return e.length}function Cu(e,t){return t.push(e),e}function Du(e,t){return e.map(t).join("")}var ju=1,Fu=1,Bu=0,Lu=0,Uu=0,qu="";function zu(e,t,n,r,o,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:s,line:ju,column:Fu,length:a,return:""}}function Hu(e,t){return wu(zu("",null,null,"",null,null,0),e,{length:-e.length},t)}function Wu(){return Uu=Lu<Bu?Ru(qu,Lu++):0,Fu++,10===Uu&&(Fu=1,ju++),Uu}function Gu(){return Ru(qu,Lu)}function $u(){return Lu}function Xu(e,t){return Ou(qu,e,t)}function Ku(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Yu(e){return ju=Fu=1,Bu=xu(qu=e),Lu=0,[]}function Qu(e){return qu="",e}function Ju(e){return Su(Xu(Lu-1,function e(t){for(;Wu();)switch(Uu){case t:return Lu;case 34:case 39:34!==t&&39!==t&&e(Uu);break;case 40:41===t&&e(t);break;case 92:Wu()}return Lu}(91===e?e+2:40===e?e+1:e)))}function Zu(e){for(;(Uu=Gu())&&Uu<33;)Wu();return Ku(e)>2||Ku(Uu)>3?"":" "}function el(e,t){for(;--t&&Wu()&&!(Uu<48||Uu>102||Uu>57&&Uu<65||Uu>70&&Uu<97););return Xu(e,$u()+(t<6&&32==Gu()&&32==Wu()))}function tl(e,t){for(;Wu()&&e+Uu!==57&&(e+Uu!==84||47!==Gu()););return"/*"+Xu(t,Lu-1)+"*"+ku(47===e?e:Wu())}function nl(e){for(;!Ku(Gu());)Wu();return Xu(e,Lu)}function rl(e){return Qu(function e(t,n,r,o,s,a,i,u,l){var c=0,d=0,f=i,m=0,p=0,h=0,g=1,b=1,v=1,y=0,M="",_=s,I=a,P=o,k=M;for(;b;)switch(h=y,y=Wu()){case 40:if(108!=h&&58==Ru(k,f-1)){-1!=Tu(k+=Vu(Ju(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=Ju(y);break;case 9:case 10:case 13:case 32:k+=Zu(h);break;case 92:k+=el($u()-1,7);continue;case 47:switch(Gu()){case 42:case 47:Cu(sl(tl(Wu(),$u()),n,r),l);break;default:k+="/"}break;case 123*g:u[c++]=xu(k)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+d:-1==v&&(k=Vu(k,/\f/g,"")),p>0&&xu(k)-f&&Cu(p>32?al(k+";",o,r,f-1):al(Vu(k," ","")+";",o,r,f-2),l);break;case 59:k+=";";default:if(Cu(P=ol(k,n,r,c,d,s,u,M,_=[],I=[],f),a),123===y)if(0===d)e(k,n,P,P,_,a,f,u,I);else switch(99===m&&110===Ru(k,3)?100:m){case 100:case 108:case 109:case 115:e(t,P,P,o&&Cu(ol(t,P,P,0,0,s,u,M,s,_=[],f),I),s,I,f,u,o?_:I);break;default:e(k,P,P,P,[""],I,0,u,I)}}c=d=p=0,g=v=1,M=k="",f=i;break;case 58:f=1+xu(k),p=h;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==(Uu=Lu>0?Ru(qu,--Lu):0,Fu--,10===Uu&&(Fu=1,ju--),Uu))continue;switch(k+=ku(y),y*g){case 38:v=d>0?1:(k+="\f",-1);break;case 44:u[c++]=(xu(k)-1)*v,v=1;break;case 64:45===Gu()&&(k+=Ju(Wu())),m=Gu(),d=f=xu(M=k+=nl($u())),y++;break;case 45:45===h&&2==xu(k)&&(g=0)}}return a}("",null,null,null,[""],e=Yu(e),0,[0],e))}function ol(e,t,n,r,o,s,a,i,u,l,c){for(var d=o-1,f=0===o?s:[""],m=Au(f),p=0,h=0,g=0;p<r;++p)for(var b=0,v=Ou(e,d+1,d=Pu(h=a[p])),y=e;b<m;++b)(y=Su(h>0?f[b]+" "+v:Vu(v,/&\f/g,f[b])))&&(u[g++]=y);return zu(e,t,n,0===o?"rule":i,u,l,c)}function sl(e,t,n){return zu(e,t,n,"comm",ku(Uu),Ou(e,2,-2),0)}function al(e,t,n,r){return zu(e,t,n,"decl",Ou(e,0,r),Ou(e,r+1,-1),r)}function il(e,t){for(var n="",r=Au(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function ul(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"decl":return e.return=e.return||e.value;case"comm":return"";case"@keyframes":return e.return=e.value+"{"+il(e.children,r)+"}";case"rule":e.value=e.props.join(",")}return xu(n=il(e.children,r))?e.return=e.value+"{"+n+"}":""}var ll=n(22),cl=function(e,t,n){for(var r=0,o=0;r=o,o=Gu(),38===r&&12===o&&(t[n]=1),!Ku(o);)Wu();return Xu(e,Lu)},dl=function(e,t){return Qu(function(e,t){var n=-1,r=44;do{switch(Ku(r)){case 0:38===r&&12===Gu()&&(t[n]=1),e[n]+=cl(Lu-1,t,n);break;case 2:e[n]+=Ju(r);break;case 4:if(44===r){e[++n]=58===Gu()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ku(r)}}while(r=Wu());return e}(Yu(e),t))},fl=new WeakMap,ml=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fl.get(n))&&!r){fl.set(e,!0);for(var o=[],s=dl(t,o),a=n.props,i=0,u=0;i<s.length;i++)for(var l=0;l<a.length;l++,u++)e.props[u]=o[i]?s[i].replace(/&\f/g,a[l]):a[l]+" "+s[i]}}},pl=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};var hl=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case"decl":e.return=function e(t,n){switch(Eu(t,n)){case 5103:return Iu+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Iu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Iu+t+"-moz-"+t+"-ms-"+t+t;case 6828:case 4268:return Iu+t+"-ms-"+t+t;case 6165:return Iu+t+"-ms-flex-"+t+t;case 5187:return Iu+t+Vu(t,/(\w+).+(:[^]+)/,Iu+"box-$1$2-ms-flex-$1$2")+t;case 5443:return Iu+t+"-ms-flex-item-"+Vu(t,/flex-|-self/,"")+t;case 4675:return Iu+t+"-ms-flex-line-pack"+Vu(t,/align-content|flex-|-self/,"")+t;case 5548:return Iu+t+"-ms-"+Vu(t,"shrink","negative")+t;case 5292:return Iu+t+"-ms-"+Vu(t,"basis","preferred-size")+t;case 6060:return Iu+"box-"+Vu(t,"-grow","")+Iu+t+"-ms-"+Vu(t,"grow","positive")+t;case 4554:return Iu+Vu(t,/([^-])(transform)/g,"$1"+Iu+"$2")+t;case 6187:return Vu(Vu(Vu(t,/(zoom-|grab)/,Iu+"$1"),/(image-set)/,Iu+"$1"),t,"")+t;case 5495:case 3959:return Vu(t,/(image-set\([^]*)/,Iu+"$1$`$1");case 4968:return Vu(Vu(t,/(.+:)(flex-)?(.*)/,Iu+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Iu+t+t;case 4095:case 3583:case 4068:case 2532:return Vu(t,/(.+)-inline(.+)/,Iu+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xu(t)-1-n>6)switch(Ru(t,n+1)){case 109:if(45!==Ru(t,n+4))break;case 102:return Vu(t,/(.+:)(.+)-([^]+)/,"$1"+Iu+"$2-$3$1-moz-"+(108==Ru(t,n+3)?"$3":"$2-$3"))+t;case 115:return~Tu(t,"stretch")?e(Vu(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==Ru(t,n+1))break;case 6444:switch(Ru(t,xu(t)-3-(~Tu(t,"!important")&&10))){case 107:return Vu(t,":",":"+Iu)+t;case 101:return Vu(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Iu+(45===Ru(t,14)?"inline-":"")+"box$3$1"+Iu+"$2$3$1-ms-$2box$3")+t}break;case 5936:switch(Ru(t,n+11)){case 114:return Iu+t+"-ms-"+Vu(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Iu+t+"-ms-"+Vu(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Iu+t+"-ms-"+Vu(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Iu+t+"-ms-"+t+t}return t}(e.value,e.length);break;case"@keyframes":return il([Hu(e,{value:Vu(e.value,"@","@"+Iu)})],r);case"rule":if(e.length)return Du(e.props,(function(t){switch(Nu(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return il([Hu(e,{props:[Vu(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return il([Hu(e,{props:[Vu(t,/:(plac\w+)/,":"+Iu+"input-$1")]}),Hu(e,{props:[Vu(t,/:(plac\w+)/,":-moz-$1")]}),Hu(e,{props:[Vu(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],gl=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||hl;var o,s,a={},i=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;i.push(e)}));var u,l,c=[ul,(l=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=Au(e);return function(n,r,o,s){for(var a="",i=0;i<t;i++)a+=e[i](n,r,o,s)||"";return a}}([ml,pl].concat(r,c));s=function(e,t,n,r){u=n,il(rl(e?e+"{"+t.styles+"}":t.styles),d),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new _u({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return f.sheet.hydrate(i),f};n(16);function bl(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var vl=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},yl=function(e,t,n){vl(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};var Ml={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_l=/[A-Z]|^ms/g,Il=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Pl=function(e){return 45===e.charCodeAt(1)},kl=function(e){return null!=e&&"boolean"!=typeof e},wl=Object(ll.a)((function(e){return Pl(e)?e:e.replace(_l,"-$&").toLowerCase()})),El=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Il,(function(e,t,n){return Nl={name:t,styles:n,next:Nl},t}))}return 1===Ml[e]||Pl(e)||"number"!=typeof t||0===t?t:t+"px"};function Sl(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Nl={name:n.name,styles:n.styles,next:Nl},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Nl={name:r.name,styles:r.styles,next:Nl},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Sl(e,t,n[o])+";";else for(var s in n){var a=n[s];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=s+"{"+t[a]+"}":kl(a)&&(r+=wl(s)+":"+El(s,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var i=Sl(e,t,a);switch(s){case"animation":case"animationName":r+=wl(s)+":"+i+";";break;default:r+=s+"{"+i+"}"}}else for(var u=0;u<a.length;u++)kl(a[u])&&(r+=wl(s)+":"+El(s,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=Nl,s=n(e);return Nl=o,Sl(e,t,s)}break;case"string":}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var Nl,Vl=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Tl=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";Nl=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,o+=Sl(n,t,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=Sl(n,t,e[a]),r&&(o+=s[a]);Vl.lastIndex=0;for(var i,u="";null!==(i=Vl.exec(o));)u+="-"+i[1];return{name:function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+u,styles:o,next:Nl}},Rl=!!r.useInsertionEffect&&r.useInsertionEffect,Ol=Rl||function(e){return e()},xl=(Rl||r.useLayoutEffect,{}.hasOwnProperty),Al=r.createContext("undefined"!=typeof HTMLElement?gl({key:"css"}):null);Al.Provider;var Cl=function(e){return Object(r.forwardRef)((function(t,n){var o=Object(r.useContext)(Al);return e(t,o,n)}))};var Dl=r.createContext({});var jl="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Fl=function(e,t){var n={};for(var r in t)xl.call(t,r)&&(n[r]=t[r]);return n[jl]=e,n},Bl=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return vl(t,n,r),Ol((function(){return yl(t,n,r)})),null};var Ll=Cl((function(e,t,n){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var s=e[jl],a=[o],i="";"string"==typeof e.className?i=bl(t.registered,a,e.className):null!=e.className&&(i=e.className+" ");var u=Tl(a,void 0,r.useContext(Dl));i+=t.key+"-"+u.name;var l={};for(var c in e)xl.call(e,c)&&"css"!==c&&c!==jl&&(l[c]=e[c]);return l.ref=n,l.className=i,r.createElement(r.Fragment,null,r.createElement(Bl,{cache:t,serialized:u,isStringTag:"string"==typeof s}),r.createElement(s,l))})),Ul=(n(135),function(e,t){var n=arguments;if(null==t||!xl.call(t,"css"))return r.createElement.apply(void 0,n);var o=n.length,s=new Array(o);s[0]=Ll,s[1]=Fl(e,t);for(var a=2;a<o;a++)s[a]=n[a];return r.createElement.apply(null,s)});function ql(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Tl(t)}const zl=Math.min,Hl=Math.max,Wl=Math.round,Gl=Math.floor,$l=e=>({x:e,y:e});function Xl(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Kl(e){return Jl(e)?(e.nodeName||"").toLowerCase():"#document"}function Yl(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ql(e){var t;return null==(t=(Jl(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Jl(e){return e instanceof Node||e instanceof Yl(e).Node}function Zl(e){return e instanceof Element||e instanceof Yl(e).Element}function ec(e){return e instanceof HTMLElement||e instanceof Yl(e).HTMLElement}function tc(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Yl(e).ShadowRoot)}function nc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=sc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function rc(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function oc(e){return["html","body","#document"].includes(Kl(e))}function sc(e){return Yl(e).getComputedStyle(e)}function ac(e){if("html"===Kl(e))return e;const t=e.assignedSlot||e.parentNode||tc(e)&&e.host||Ql(e);return tc(t)?t.host:t}function ic(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=function e(t){const n=ac(t);return oc(n)?t.ownerDocument?t.ownerDocument.body:t.body:ec(n)&&nc(n)?n:e(n)}(e),s=o===(null==(r=e.ownerDocument)?void 0:r.body),a=Yl(o);return s?t.concat(a,a.visualViewport||[],nc(o)?o:[],a.frameElement&&n?ic(a.frameElement):[]):t.concat(o,ic(o,[],n))}function uc(e){const t=sc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ec(e),s=o?e.offsetWidth:n,a=o?e.offsetHeight:r,i=Wl(n)!==s||Wl(r)!==a;return i&&(n=s,r=a),{width:n,height:r,$:i}}function lc(e){return Zl(e)?e:e.contextElement}function cc(e){const t=lc(e);if(!ec(t))return $l(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=uc(t);let a=(s?Wl(n.width):n.width)/r,i=(s?Wl(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),i&&Number.isFinite(i)||(i=1),{x:a,y:i}}const dc=$l(0);function fc(e){const t=Yl(e);return rc()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:dc}function mc(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),s=lc(e);let a=$l(1);t&&(r?Zl(r)&&(a=cc(r)):a=cc(e));const i=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Yl(e))&&t}(s,n,r)?fc(s):$l(0);let u=(o.left+i.x)/a.x,l=(o.top+i.y)/a.y,c=o.width/a.x,d=o.height/a.y;if(s){const e=Yl(s),t=r&&Zl(r)?Yl(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=cc(n),t=n.getBoundingClientRect(),r=sc(n),o=t.left+(n.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(n.clientTop+parseFloat(r.paddingTop))*e.y;u*=e.x,l*=e.y,c*=e.x,d*=e.y,u+=o,l+=s,n=Yl(n).frameElement}}return Xl({width:c,height:d,x:u,y:l})}function pc(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:u=!1}=r,l=lc(e),c=o||s?[...l?ic(l):[],...ic(t)]:[];c.forEach(e=>{o&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)});const d=l&&i?function(e,t){let n,r=null;const o=Ql(e);function s(){clearTimeout(n),r&&r.disconnect(),r=null}return function a(i,u){void 0===i&&(i=!1),void 0===u&&(u=1),s();const{left:l,top:c,width:d,height:f}=e.getBoundingClientRect();if(i||t(),!d||!f)return;const m={rootMargin:-Gl(c)+"px "+-Gl(o.clientWidth-(l+d))+"px "+-Gl(o.clientHeight-(c+f))+"px "+-Gl(l)+"px",threshold:Hl(0,zl(1,u))||1};let p=!0;function h(e){const t=e[0].intersectionRatio;if(t!==u){if(!p)return a();t?a(!1,t):n=setTimeout(()=>{a(!1,1e-7)},100)}p=!1}try{r=new IntersectionObserver(h,{...m,root:o.ownerDocument})}catch(e){r=new IntersectionObserver(h,m)}r.observe(e)}(!0),s}(l,n):null;let f,m=-1,p=null;a&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{p&&p.observe(t)})),n()}),l&&!u&&p.observe(l),p.observe(t));let h=u?mc(e):null;return u&&function t(){const r=mc(e);!h||r.x===h.x&&r.y===h.y&&r.width===h.width&&r.height===h.height||n();h=r,f=requestAnimationFrame(t)}(),n(),()=>{c.forEach(e=>{o&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)}),d&&d(),p&&p.disconnect(),p=null,u&&cancelAnimationFrame(f)}}var hc=r.useLayoutEffect,gc=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],bc=function(){};function vc(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function yc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var s=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&s.push("".concat(vc(e,a)));return s.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Mc=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===ou(e)&&null!==e?[e]:[];var t},_c=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,uu({},fu(e,gc))},Ic=function(e,t,n){var r=e.cx,o=e.getStyles,s=e.getClassNames,a=e.className;return{css:o(t,e),className:r(null!=n?n:{},s(t,e),a)}};function Pc(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function kc(e){return Pc(e)?window.pageYOffset:e.scrollTop}function wc(e,t){Pc(e)?window.scrollTo(0,t):e.scrollTop=t}function Ec(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bc,o=kc(e),s=t-o,a=10,i=0;function u(){var t=Ec(i+=a,o,s,n);wc(e,t),i<n?window.requestAnimationFrame(u):r(e)}u()}function Nc(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?wc(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&wc(e,Math.max(t.offsetTop-o,0))}function Vc(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Tc=!1,Rc={get passive(){return Tc=!0}},Oc="undefined"!=typeof window?window:{};Oc.addEventListener&&Oc.removeEventListener&&(Oc.addEventListener("p",bc,Rc),Oc.removeEventListener("p",bc,!1));var xc=Tc;function Ac(e){return null!=e}function Cc(e,t,n){return e?t:n}var Dc=["children","innerProps"],jc=["children","innerProps"];function Fc(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,s=e.shouldScroll,a=e.isFixedPosition,i=e.controlHeight,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var c,d=u.getBoundingClientRect().height,f=n.getBoundingClientRect(),m=f.bottom,p=f.height,h=f.top,g=n.offsetParent.getBoundingClientRect().top,b=a?window.innerHeight:Pc(c=u)?window.innerHeight:c.clientHeight,v=kc(u),y=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),_=g-M,I=b-h,P=_+v,k=d-v-h,w=m-b+v+y,E=v+h-M;switch(o){case"auto":case"bottom":if(I>=p)return{placement:"bottom",maxHeight:t};if(k>=p&&!a)return s&&Sc(u,w,160),{placement:"bottom",maxHeight:t};if(!a&&k>=r||a&&I>=r)return s&&Sc(u,w,160),{placement:"bottom",maxHeight:a?I-y:k-y};if("auto"===o||a){var S=t,N=a?_:P;return N>=r&&(S=Math.min(N-y-i,t)),{placement:"top",maxHeight:S}}if("bottom"===o)return s&&wc(u,w),{placement:"bottom",maxHeight:t};break;case"top":if(_>=p)return{placement:"top",maxHeight:t};if(P>=p&&!a)return s&&Sc(u,E,160),{placement:"top",maxHeight:t};if(!a&&P>=r||a&&_>=r){var V=t;return(!a&&P>=r||a&&_>=r)&&(V=a?_-M:P-M),s&&Sc(u,E,160),{placement:"top",maxHeight:V}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return l}var Bc,Lc=function(e){return"auto"===e?"bottom":e},Uc=Object(r.createContext)(null),qc=function(e){var t=e.children,n=e.minMenuHeight,o=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,i=e.menuShouldScrollIntoView,u=e.theme,l=(Object(r.useContext)(Uc)||{}).setPortalPlacement,c=Object(r.useRef)(null),d=du(Object(r.useState)(o),2),f=d[0],m=d[1],p=du(Object(r.useState)(null),2),h=p[0],g=p[1],b=u.spacing.controlHeight;return hc((function(){var e=c.current;if(e){var t="fixed"===a,r=Fc({maxHeight:o,menuEl:e,minHeight:n,placement:s,shouldScroll:i&&!t,isFixedPosition:t,controlHeight:b});m(r.maxHeight),g(r.placement),null==l||l(r.placement)}}),[o,s,a,i,n,l,b]),t({ref:c,placerProps:uu(uu({},e),{},{placement:h||Lc(s),maxHeight:f})})},zc=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return Ul("div",pu({},Ic(e,"menu",{menu:!0}),{ref:n},r),t)},Hc=function(e,t){var n=e.theme,r=n.spacing.baseUnit,o=n.colors;return uu({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Wc=Hc,Gc=Hc,$c=["size"],Xc=["innerProps","isRtl","size"];var Kc,Yc,Qc={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Jc=function(e){var t=e.size,n=fu(e,$c);return Ul("svg",pu({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Qc},n))},Zc=function(e){return Ul(Jc,pu({size:20},e),Ul("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ed=function(e){return Ul(Jc,pu({size:20},e),Ul("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},td=function(e,t){var n=e.isFocused,r=e.theme,o=r.spacing.baseUnit,s=r.colors;return uu({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*o,":hover":{color:n?s.neutral80:s.neutral40}})},nd=td,rd=td,od=function(){var e=ql.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Bc||(Kc=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Yc||(Yc=Kc.slice(0)),Bc=Object.freeze(Object.defineProperties(Kc,{raw:{value:Object.freeze(Yc)}})))),sd=function(e){var t=e.delay,n=e.offset;return Ul("span",{css:ql({animation:"".concat(od," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ad=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,o=e.innerRef,s=e.innerProps,a=e.menuIsOpen;return Ul("div",pu({ref:o},Ic(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),s),t)},id=["data"],ud=function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.getClassNames,s=e.Heading,a=e.headingProps,i=e.innerProps,u=e.label,l=e.theme,c=e.selectProps;return Ul("div",pu({},Ic(e,"group",{group:!0}),i),Ul(s,pu({},a,{selectProps:c,theme:l,getStyles:r,getClassNames:o,cx:n}),u),Ul("div",null,t))},ld=["innerRef","isDisabled","isHidden","inputClassName"],cd={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},dd={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":uu({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},cd)},fd=function(e){return uu({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},cd)},md=function(e){var t=e.children,n=e.innerProps;return Ul("div",n,t)};var pd={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Ul("div",pu({},Ic(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Ul(Zc,null))},Control:ad,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Ul("div",pu({},Ic(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Ul(ed,null))},DownChevron:ed,CrossIcon:Zc,Group:ud,GroupHeading:function(e){var t=_c(e);t.data;var n=fu(t,id);return Ul("div",pu({},Ic(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Ul("div",pu({},Ic(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Ul("span",pu({},t,Ic(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=_c(e),o=r.innerRef,s=r.isDisabled,a=r.isHidden,i=r.inputClassName,u=fu(r,ld);return Ul("div",pu({},Ic(e,"input",{"input-container":!0}),{"data-value":n||""}),Ul("input",pu({className:t({input:!0},i),ref:o,style:fd(a),disabled:s},u)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,o=void 0===r?4:r,s=fu(e,Xc);return Ul("div",pu({},Ic(uu(uu({},s),{},{innerProps:t,isRtl:n,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Ul(sd,{delay:0,offset:n}),Ul(sd,{delay:160,offset:!0}),Ul(sd,{delay:320,offset:!n}))},Menu:zc,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,o=e.isMulti;return Ul("div",pu({},Ic(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,o=e.controlElement,a=e.innerProps,i=e.menuPlacement,u=e.menuPosition,l=Object(r.useRef)(null),c=Object(r.useRef)(null),d=du(Object(r.useState)(Lc(i)),2),f=d[0],m=d[1],p=Object(r.useMemo)((function(){return{setPortalPlacement:m}}),[]),h=du(Object(r.useState)(null),2),g=h[0],b=h[1],v=Object(r.useCallback)((function(){if(o){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(o),t="fixed"===u?0:window.pageYOffset,n=e[f]+t;n===(null==g?void 0:g.offset)&&e.left===(null==g?void 0:g.rect.left)&&e.width===(null==g?void 0:g.rect.width)||b({offset:n,rect:e})}}),[o,u,f,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);hc((function(){v()}),[v]);var y=Object(r.useCallback)((function(){"function"==typeof c.current&&(c.current(),c.current=null),o&&l.current&&(c.current=pc(o,l.current,v,{elementResize:"ResizeObserver"in window}))}),[o,v]);hc((function(){y()}),[y]);var M=Object(r.useCallback)((function(e){l.current=e,y()}),[y]);if(!t&&"fixed"!==u||!g)return null;var _=Ul("div",pu({ref:M},Ic(uu(uu({},e),{},{offset:g.offset,position:u,rect:g.rect}),"menuPortal",{"menu-portal":!0}),a),n);return Ul(Uc.Provider,{value:p},t?Object(s.createPortal)(_,t):_)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,o=fu(e,jc);return Ul("div",pu({},Ic(uu(uu({},o),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,o=fu(e,Dc);return Ul("div",pu({},Ic(uu(uu({},o),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:function(e){var t=e.children,n=e.components,r=e.data,o=e.innerProps,s=e.isDisabled,a=e.removeProps,i=e.selectProps,u=n.Container,l=n.Label,c=n.Remove;return Ul(u,{data:r,innerProps:uu(uu({},Ic(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),o),selectProps:i},Ul(l,{data:r,innerProps:uu({},Ic(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:i},t),Ul(c,{data:r,innerProps:uu(uu({},Ic(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:i}))},MultiValueContainer:md,MultiValueLabel:md,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Ul("div",pu({role:"button"},n),t||Ul(Zc,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,o=e.isSelected,s=e.innerRef,a=e.innerProps;return Ul("div",pu({},Ic(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":o}),{ref:s,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Ul("div",pu({},Ic(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,o=e.isRtl;return Ul("div",pu({},Ic(e,"container",{"--is-disabled":r,"--is-rtl":o}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return Ul("div",pu({},Ic(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,o=e.hasValue;return Ul("div",pu({},Ic(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":o}),n),t)}},hd=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function gd(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||hd(r)&&hd(o)))return!1;var r,o;return!0}for(var bd={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},vd=function(e){return Ul("span",pu({css:bd},e))},yd={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,o=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,o=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return"option ".concat(r,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,o=e.label,s=void 0===o?"":o,a=e.selectValue,i=e.isDisabled,u=e.isSelected,l=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(s," focused, ").concat(l(a,n),".");if("menu"===t){var c=i?" disabled":"",d="".concat(u?"selected":"focused").concat(c);return"option ".concat(s," ").concat(d,", ").concat(l(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Md=function(e){var t=e.ariaSelection,n=e.focusedOption,o=e.focusedValue,s=e.focusableOptions,a=e.isFocused,i=e.selectValue,u=e.selectProps,l=e.id,c=u.ariaLiveMessages,d=u.getOptionLabel,f=u.inputValue,m=u.isMulti,p=u.isOptionDisabled,h=u.isSearchable,g=u.menuIsOpen,b=u.options,v=u.screenReaderStatus,y=u.tabSelectsValue,M=u["aria-label"],_=u["aria-live"],I=Object(r.useMemo)((function(){return uu(uu({},yd),c||{})}),[c]),P=Object(r.useMemo)((function(){var e,n="";if(t&&I.onChange){var r=t.option,o=t.options,s=t.removedValue,a=t.removedValues,u=t.value,l=s||r||(e=u,Array.isArray(e)?null:e),c=l?d(l):"",f=o||a||void 0,m=f?f.map(d):[],h=uu({isDisabled:l&&p(l,i),label:c,labels:m},t);n=I.onChange(h)}return n}),[t,I,p,i,d]),k=Object(r.useMemo)((function(){var e="",t=n||o,r=!!(n&&i&&i.includes(n));if(t&&I.onFocus){var a={focused:t,label:d(t),isDisabled:p(t,i),isSelected:r,options:s,context:t===n?"menu":"value",selectValue:i};e=I.onFocus(a)}return e}),[n,o,d,p,I,s,i]),w=Object(r.useMemo)((function(){var e="";if(g&&b.length&&I.onFilter){var t=v({count:s.length});e=I.onFilter({inputValue:f,resultsMessage:t})}return e}),[s,f,g,I,b,v]),E=Object(r.useMemo)((function(){var e="";if(I.guidance){var t=o?"value":g?"menu":"input";e=I.guidance({"aria-label":M,context:t,isDisabled:n&&p(n,i),isMulti:m,isSearchable:h,tabSelectsValue:y})}return e}),[M,n,o,m,p,h,g,I,i,y]),S="".concat(k," ").concat(w," ").concat(E),N=Ul(r.Fragment,null,Ul("span",{id:"aria-selection"},P),Ul("span",{id:"aria-context"},S)),V="initial-input-focus"===(null==t?void 0:t.action);return Ul(r.Fragment,null,Ul(vd,{id:l},V&&N),Ul(vd,{"aria-live":_,"aria-atomic":"false","aria-relevant":"additions text"},a&&!V&&N))},_d=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Id=new RegExp("["+_d.map((function(e){return e.letters})).join("")+"]","g"),Pd={},kd=0;kd<_d.length;kd++)for(var wd=_d[kd],Ed=0;Ed<wd.letters.length;Ed++)Pd[wd.letters[Ed]]=wd.base;var Sd=function(e){return e.replace(Id,(function(e){return Pd[e]}))},Nd=function(e,t){void 0===t&&(t=gd);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return r.clear=function(){n=null},r}(Sd),Vd=function(e){return e.replace(/^\s+|\s+$/g,"")},Td=function(e){return"".concat(e.label," ").concat(e.value)},Rd=["innerRef"];function Od(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Object.entries(e).filter((function(e){var t=du(e,1)[0];return!n.includes(t)}));return o.reduce((function(e,t){var n=du(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}(fu(e,Rd),"onExited","in","enter","exit","appear");return Ul("input",pu({ref:t},n,{css:ql({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var xd=["boxSizing","height","overflow","paddingRight","position"],Ad={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Cd(e){e.preventDefault()}function Dd(e){e.stopPropagation()}function jd(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Fd(){return"ontouchstart"in window||navigator.maxTouchPoints}var Bd=!("undefined"==typeof window||!window.document||!window.document.createElement),Ld=0,Ud={capture:!1,passive:!1};var qd=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},zd={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Hd(e){var t=e.children,n=e.lockEnabled,o=e.captureEnabled,s=function(e){var t=e.isEnabled,n=e.onBottomArrive,o=e.onBottomLeave,s=e.onTopArrive,a=e.onTopLeave,i=Object(r.useRef)(!1),u=Object(r.useRef)(!1),l=Object(r.useRef)(0),c=Object(r.useRef)(null),d=Object(r.useCallback)((function(e,t){if(null!==c.current){var r=c.current,l=r.scrollTop,d=r.scrollHeight,f=r.clientHeight,m=c.current,p=t>0,h=d-f-l,g=!1;h>t&&i.current&&(o&&o(e),i.current=!1),p&&u.current&&(a&&a(e),u.current=!1),p&&t>h?(n&&!i.current&&n(e),m.scrollTop=d,g=!0,i.current=!0):!p&&-t>l&&(s&&!u.current&&s(e),m.scrollTop=0,g=!0,u.current=!0),g&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[n,o,s,a]),f=Object(r.useCallback)((function(e){d(e,e.deltaY)}),[d]),m=Object(r.useCallback)((function(e){l.current=e.changedTouches[0].clientY}),[]),p=Object(r.useCallback)((function(e){var t=l.current-e.changedTouches[0].clientY;d(e,t)}),[d]),h=Object(r.useCallback)((function(e){if(e){var t=!!xc&&{passive:!1};e.addEventListener("wheel",f,t),e.addEventListener("touchstart",m,t),e.addEventListener("touchmove",p,t)}}),[p,m,f]),g=Object(r.useCallback)((function(e){e&&(e.removeEventListener("wheel",f,!1),e.removeEventListener("touchstart",m,!1),e.removeEventListener("touchmove",p,!1))}),[p,m,f]);return Object(r.useEffect)((function(){if(t){var e=c.current;return h(e),function(){g(e)}}}),[t,h,g]),function(e){c.current=e}}({isEnabled:void 0===o||o,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var t=e.isEnabled,n=e.accountForScrollbars,o=void 0===n||n,s=Object(r.useRef)({}),a=Object(r.useRef)(null),i=Object(r.useCallback)((function(e){if(Bd){var t=document.body,n=t&&t.style;if(o&&xd.forEach((function(e){var t=n&&n[e];s.current[e]=t})),o&&Ld<1){var r=parseInt(s.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,i=window.innerWidth-a+r||0;Object.keys(Ad).forEach((function(e){var t=Ad[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(i,"px"))}t&&Fd()&&(t.addEventListener("touchmove",Cd,Ud),e&&(e.addEventListener("touchstart",jd,Ud),e.addEventListener("touchmove",Dd,Ud))),Ld+=1}}),[o]),u=Object(r.useCallback)((function(e){if(Bd){var t=document.body,n=t&&t.style;Ld=Math.max(Ld-1,0),o&&Ld<1&&xd.forEach((function(e){var t=s.current[e];n&&(n[e]=t)})),t&&Fd()&&(t.removeEventListener("touchmove",Cd,Ud),e&&(e.removeEventListener("touchstart",jd,Ud),e.removeEventListener("touchmove",Dd,Ud)))}}),[o]);return Object(r.useEffect)((function(){if(t){var e=a.current;return i(e),function(){u(e)}}}),[t,i,u]),function(e){a.current=e}}({isEnabled:n});return Ul(r.Fragment,null,n&&Ul("div",{onClick:qd,css:zd}),t((function(e){s(e),a(e)})))}var Wd={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Gd=function(e){var t=e.name,n=e.onFocus;return Ul("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Wd,value:"",onChange:function(){}})},$d={clearIndicator:rd,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,o=e.theme,s=o.colors,a=o.borderRadius;return uu({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?s.neutral5:s.neutral0,borderColor:n?s.neutral10:r?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:r?s.primary:s.neutral30}})},dropdownIndicator:nd,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,o=n.spacing;return uu({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*o.baseUnit,paddingRight:3*o.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,o=r.spacing.baseUnit,s=r.colors;return uu({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?s.neutral10:s.neutral20,marginBottom:2*o,marginTop:2*o})},input:function(e,t){var n=e.isDisabled,r=e.value,o=e.theme,s=o.spacing,a=o.colors;return uu(uu({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},dd),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,o=e.theme,s=o.colors,a=o.spacing.baseUnit;return uu({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*a})},loadingMessage:Gc,menu:function(e,t){var n,r=e.placement,o=e.theme,s=o.borderRadius,a=o.spacing,i=o.colors;return uu((au(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),au(n,"position","absolute"),au(n,"width","100%"),au(n,"zIndex",1),n),t?{}:{backgroundColor:i.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return uu({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,o=n.borderRadius,s=n.colors;return uu({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:o/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,o=n.colors,s=e.cropWithEllipsis;return uu({overflow:"hidden",textOverflow:s||void 0===s?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,o=n.borderRadius,s=n.colors,a=e.isFocused;return uu({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:Wc,option:function(e,t){var n=e.isDisabled,r=e.isFocused,o=e.isSelected,s=e.theme,a=s.spacing,i=s.colors;return uu({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?i.primary:r?i.primary25:"transparent",color:n?i.neutral20:o?i.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:o?i.primary:i.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,o=n.colors;return uu({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,o=r.spacing,s=r.colors;return uu({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?s.neutral40:s.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,o=e.hasValue,s=e.selectProps.controlShouldRenderValue;return uu({alignItems:"center",display:r&&o&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var Xd,Kd={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Yd={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Vc(),captureMenuScroll:!Vc(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=uu({ignoreCase:!0,ignoreAccents:!0,stringify:Td,trim:!0,matchFrom:"any"},Xd),r=n.ignoreCase,o=n.ignoreAccents,s=n.stringify,a=n.trim,i=n.matchFrom,u=a?Vd(t):t,l=a?Vd(s(e)):s(e);return r&&(u=u.toLowerCase(),l=l.toLowerCase()),o&&(u=Nd(u),l=Sd(l)),"start"===i?l.substr(0,u.length)===u:l.indexOf(u)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Qd(e,t,n,r){return{type:"option",data:t,isDisabled:rf(e,t,n),isSelected:of(e,t,n),label:tf(e,t),value:nf(e,t),index:r}}function Jd(e,t){return e.options.map((function(n,r){if("options"in n){var o=n.options.map((function(n,r){return Qd(e,n,t,r)})).filter((function(t){return ef(e,t)}));return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var s=Qd(e,n,t,r);return ef(e,s)?s:void 0})).filter(Ac)}function Zd(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Mu(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function ef(e,t){var n=e.inputValue,r=void 0===n?"":n,o=t.data,s=t.isSelected,a=t.label,i=t.value;return(!af(e)||!s)&&sf(e,{label:a,value:i,data:o},r)}var tf=function(e,t){return e.getOptionLabel(t)},nf=function(e,t){return e.getOptionValue(t)};function rf(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function of(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=nf(e,t);return n.some((function(t){return nf(e,t)===r}))}function sf(e,t,n){return!e.filterOption||e.filterOption(t,n)}var af=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},uf=1,lf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gu(e,t)}(a,e);var t,n,o,s=yu(a);function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,o=r.onChange,s=r.name;n.name=s,t.ariaOnChange(e,n),o(e,n)},t.setValue=function(e,n,r){var o=t.props,s=o.closeMenuOnSelect,a=o.isMulti,i=o.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:i}),s&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,o=n.isMulti,s=n.name,a=t.state.selectValue,i=o&&t.isOptionSelected(e,a),u=t.isOptionDisabled(e,a);if(i){var l=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==l})),"deselect-option",e)}else{if(u)return void t.ariaOnChange(e,{action:"select-option",option:e,name:s});o?t.setValue([].concat(Mu(a),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,o=t.getOptionValue(e),s=r.filter((function(e){return t.getOptionValue(e)!==o})),a=Cc(n,s,s[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Cc(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],o=n.slice(0,n.length-1),s=Cc(e,o,o[0]||null);t.onChange(s,{action:"pop-value",removedValue:r})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return yc.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return tf(t.props,e)},t.getOptionValue=function(e){return nf(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,o=$d[e](n,r);o.boxSizing="border-box";var s=t.props.styles[e];return s?s(o,n):o},t.getClassNames=function(e,n){var r,o;return null===(r=(o=t.props.classNames)[e])||void 0===r?void 0:r.call(o,n)},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,uu(uu({},pd),e.components);var e},t.buildCategorizedOptions=function(){return Jd(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return Zd(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:uu({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||t.props.isDisabled)){var n=t.props,r=n.isMulti,o=n.menuIsOpen;t.focusInput(),o?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Pc(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var o=Math.abs(r.clientX-t.initialTouchX),s=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=o>5||s>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return af(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,o=n.backspaceRemovesValue,s=n.escapeClearsValue,a=n.inputValue,i=n.isClearable,u=n.isDisabled,l=n.menuIsOpen,c=n.onKeyDown,d=n.tabSelectsValue,f=n.openMenuOnFocus,m=t.state,p=m.focusedOption,h=m.focusedValue,g=m.selectValue;if(!(u||"function"==typeof c&&(c(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;t.focusValue("previous");break;case"ArrowRight":if(!r||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(h)t.removeValue(h);else{if(!o)return;r?t.popValue():i&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!l||!d||!p||f&&t.isOptionSelected(p,g))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(l){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":l?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):i&&s&&t.clearValue();break;case" ":if(a)return;if(!l){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":l?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":l?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!l)return;t.focusOption("pageup");break;case"PageDown":if(!l)return;t.focusOption("pagedown");break;case"Home":if(!l)return;t.focusOption("first");break;case"End":if(!l)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++uf),t.state.selectValue=Mc(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.buildFocusableOptions(),r=n.indexOf(t.state.selectValue[0]);t.state.focusedOption=n[r]}return t}return t=a,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,s=t.ariaSelection,a=t.isFocused,i=t.prevWasFocused,u=e.options,l=e.value,c=e.menuIsOpen,d=e.inputValue,f=e.isMulti,m=Mc(l),p={};if(n&&(l!==n.value||u!==n.options||c!==n.menuIsOpen||d!==n.inputValue)){var h=c?function(e,t){return Zd(Jd(e,t))}(e,m):[],g=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,m):null;p={selectValue:m,focusedOption:function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,h),focusedValue:g,clearFocusValueOnUpdate:!1}}var b=null!=o&&e!==n?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},v=s,y=a&&i;return a&&!y&&(v={value:Cc(f,m,m[0]||null),options:m,action:"initial-input-focus"},y=!i),"initial-input-focus"===(null==s?void 0:s.action)&&(v=null),uu(uu(uu({},p),b),{},{prevProps:e,ariaSelection:v,prevWasFocused:y})}}],(n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Nc(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,o=this.state.isFocused;(o&&!n&&e.isDisabled||o&&r&&!e.menuIsOpen)&&this.focusInput(),o&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):o||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Nc(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,o=n.isFocused,s=this.buildFocusableOptions(),a="first"===e?0:s.length-1;if(!this.props.isMulti){var i=s.indexOf(r[0]);i>-1&&(a=i)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:s[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=n.indexOf(r);r||(o=-1);var s=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===o?0:-1===o?s:o-1;break;case"next":o>-1&&o<s&&(a=o+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var o=0,s=r.indexOf(n);n||(s=-1),"up"===e?o=s>0?s-1:r.length-1:"down"===e?o=(s+1)%r.length:"pageup"===e?(o=s-t)<0&&(o=0):"pagedown"===e?(o=s+t)>r.length-1&&(o=r.length-1):"last"===e&&(o=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[o],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Kd):uu(uu({},Kd),this.props.theme):Kd}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,o=this.getValue,s=this.selectOption,a=this.setValue,i=this.props,u=i.isMulti,l=i.isRtl,c=i.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:o,hasValue:this.hasValue(),isMulti:u,isRtl:l,options:c,selectOption:s,selectProps:i,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return rf(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return of(this.props,e,t)}},{key:"filterOption",value:function(e,t){return sf(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,o=e.inputId,s=e.inputValue,a=e.tabIndex,i=e.form,u=e.menuIsOpen,l=e.required,c=this.getComponents().Input,d=this.state,f=d.inputIsHidden,m=d.ariaSelection,p=this.commonProps,h=o||this.getElementId("input"),g=uu(uu(uu({"aria-autocomplete":"list","aria-expanded":u,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":l,role:"combobox"},u&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==m?void 0:m.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?r.createElement(c,pu({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:h,innerRef:this.getInputRef,isDisabled:t,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:i,type:"text",value:s},g)):r.createElement(Od,pu({id:h,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:bc,onFocus:this.onInputFocus,disabled:t,tabIndex:a,inputMode:"none",form:i,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,o=t.MultiValueContainer,s=t.MultiValueLabel,a=t.MultiValueRemove,i=t.SingleValue,u=t.Placeholder,l=this.commonProps,c=this.props,d=c.controlShouldRenderValue,f=c.isDisabled,m=c.isMulti,p=c.inputValue,h=c.placeholder,g=this.state,b=g.selectValue,v=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!d)return p?null:r.createElement(u,pu({},l,{key:"placeholder",isDisabled:f,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),h);if(m)return b.map((function(t,i){var u=t===v,c="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return r.createElement(n,pu({},l,{components:{Container:o,Label:s,Remove:a},isFocused:u,isDisabled:f,key:c,index:i,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(p)return null;var M=b[0];return r.createElement(i,pu({},l,{data:M,isDisabled:f}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,s=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||o||!this.hasValue()||s)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,pu({},t,{innerProps:i,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,s=n.isLoading,a=this.state.isFocused;return e&&s?r.createElement(e,pu({},t,{innerProps:{"aria-hidden":"true"},isDisabled:o,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var o=this.commonProps,s=this.props.isDisabled,a=this.state.isFocused;return r.createElement(n,pu({},o,{isDisabled:s,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,o=this.state.isFocused,s={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,pu({},t,{innerProps:s,isDisabled:n,isFocused:o}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,o=t.GroupHeading,s=t.Menu,a=t.MenuList,i=t.MenuPortal,u=t.LoadingMessage,l=t.NoOptionsMessage,c=t.Option,d=this.commonProps,f=this.state.focusedOption,m=this.props,p=m.captureMenuScroll,h=m.inputValue,g=m.isLoading,b=m.loadingMessage,v=m.minMenuHeight,y=m.maxMenuHeight,M=m.menuIsOpen,_=m.menuPlacement,I=m.menuPosition,P=m.menuPortalTarget,k=m.menuShouldBlockScroll,w=m.menuShouldScrollIntoView,E=m.noOptionsMessage,S=m.onMenuScrollToTop,N=m.onMenuScrollToBottom;if(!M)return null;var V,T=function(t,n){var o=t.type,s=t.data,a=t.isDisabled,i=t.isSelected,u=t.label,l=t.value,m=f===s,p=a?void 0:function(){return e.onOptionHover(s)},h=a?void 0:function(){return e.selectOption(s)},g="".concat(e.getElementId("option"),"-").concat(n),b={id:g,onClick:h,onMouseMove:p,onMouseOver:p,tabIndex:-1};return r.createElement(c,pu({},d,{innerProps:b,data:s,isDisabled:a,isSelected:i,key:g,label:u,type:o,value:l,isFocused:m,innerRef:m?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())V=this.getCategorizedOptions().map((function(t){if("group"===t.type){var s=t.data,a=t.options,i=t.index,u="".concat(e.getElementId("group"),"-").concat(i),l="".concat(u,"-heading");return r.createElement(n,pu({},d,{key:u,data:s,options:a,Heading:o,headingProps:{id:l,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return T(e,"".concat(i,"-").concat(e.index))})))}if("option"===t.type)return T(t,"".concat(t.index))}));else if(g){var R=b({inputValue:h});if(null===R)return null;V=r.createElement(u,d,R)}else{var O=E({inputValue:h});if(null===O)return null;V=r.createElement(l,d,O)}var x={minMenuHeight:v,maxMenuHeight:y,menuPlacement:_,menuPosition:I,menuShouldScrollIntoView:w},A=r.createElement(qc,pu({},d,x),(function(t){var n=t.ref,o=t.placerProps,i=o.placement,u=o.maxHeight;return r.createElement(s,pu({},d,x,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:g,placement:i}),r.createElement(Hd,{captureEnabled:p,onTopArrive:S,onBottomArrive:N,lockEnabled:k},(function(t){return r.createElement(a,pu({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:g,maxHeight:u,focusedOption:f}),V)})))}));return P||"fixed"===I?r.createElement(i,pu({},d,{appendTo:P,controlElement:this.controlRef,menuPlacement:_,menuPosition:I}),A):A}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,o=t.isDisabled,s=t.isMulti,a=t.name,i=t.required,u=this.state.selectValue;if(i&&!this.hasValue()&&!o)return r.createElement(Gd,{name:a,onFocus:this.onValueInputFocus});if(a&&!o){if(s){if(n){var l=u.map((function(t){return e.getOptionValue(t)})).join(n);return r.createElement("input",{name:a,type:"hidden",value:l})}var c=u.length>0?u.map((function(t,n){return r.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):r.createElement("input",{name:a,type:"hidden",value:""});return r.createElement("div",null,c)}var d=u[0]?this.getOptionValue(u[0]):"";return r.createElement("input",{name:a,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,o=t.focusedOption,s=t.focusedValue,a=t.isFocused,i=t.selectValue,u=this.getFocusableOptions();return r.createElement(Md,pu({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:o,focusedValue:s,isFocused:a,selectValue:i,focusableOptions:u}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,o=e.SelectContainer,s=e.ValueContainer,a=this.props,i=a.className,u=a.id,l=a.isDisabled,c=a.menuIsOpen,d=this.state.isFocused,f=this.commonProps=this.getCommonProps();return r.createElement(o,pu({},f,{className:i,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:d}),this.renderLiveRegion(),r.createElement(t,pu({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:d,menuIsOpen:c}),r.createElement(s,pu({},f,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),r.createElement(n,pu({},f,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}])&&hu(t.prototype,n),o&&hu(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);lf.defaultProps=Yd;n(113),n(115),n(119),n(121),n(122),n(123),n(125),n(130),n(27),n(134),n(53);var cf=Object(r.forwardRef)((function(e,t){var n,o,s,a,i,u,l,c,d,f,m,p,h,g,b,v,y,M,_,I,P,k,w,E,S,N,V,T,R,O,x,A=(o=(n=e).defaultInputValue,s=void 0===o?"":o,a=n.defaultMenuIsOpen,i=void 0!==a&&a,u=n.defaultValue,l=void 0===u?null:u,c=n.inputValue,d=n.menuIsOpen,f=n.onChange,m=n.onInputChange,p=n.onMenuClose,h=n.onMenuOpen,g=n.value,b=fu(n,mu),v=du(Object(r.useState)(void 0!==c?c:s),2),y=v[0],M=v[1],_=du(Object(r.useState)(void 0!==d?d:i),2),I=_[0],P=_[1],k=du(Object(r.useState)(void 0!==g?g:l),2),w=k[0],E=k[1],S=Object(r.useCallback)((function(e,t){"function"==typeof f&&f(e,t),E(e)}),[f]),N=Object(r.useCallback)((function(e,t){var n;"function"==typeof m&&(n=m(e,t)),M(void 0!==n?n:e)}),[m]),V=Object(r.useCallback)((function(){"function"==typeof h&&h(),P(!0)}),[h]),T=Object(r.useCallback)((function(){"function"==typeof p&&p(),P(!1)}),[p]),R=void 0!==c?c:y,O=void 0!==d?d:I,x=void 0!==g?g:w,uu(uu({},b),{},{inputValue:R,menuIsOpen:O,onChange:S,onInputChange:N,onMenuClose:T,onMenuOpen:V,value:x}));return r.createElement(lf,pu({ref:t},A))})),df=n(18),ff={name:"PP",midiNumber:-1,frequency:20,pianoNumber:null,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},mf=[ff,{name:"A0",midiNumber:21,frequency:27.5,pianoNumber:1,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:2033,triangleFrequency:27.4977,triangleTuningError:0},{name:"A#0",midiNumber:22,frequency:29.1352,pianoNumber:2,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1919,triangleFrequency:29.1304,triangleTuningError:0},{name:"B0",midiNumber:23,frequency:30.8677,pianoNumber:3,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1811,triangleFrequency:30.8666,triangleTuningError:0},{name:"C1",midiNumber:24,frequency:32.7031,pianoNumber:4,apuIndex:0,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1709,triangleFrequency:32.7078,triangleTuningError:0},{name:"C#1",midiNumber:25,frequency:34.6478,pianoNumber:5,apuIndex:1,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1613,triangleFrequency:34.6532,triangleTuningError:0},{name:"D1",midiNumber:26,frequency:36.708,pianoNumber:6,apuIndex:2,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1523,triangleFrequency:36.6997,triangleTuningError:0},{name:"D#1",midiNumber:27,frequency:38.8908,pianoNumber:7,apuIndex:3,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1437,triangleFrequency:38.8945,triangleTuningError:0},{name:"E1",midiNumber:28,frequency:41.2034,pianoNumber:8,apuIndex:4,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1356,triangleFrequency:41.2162,triangleTuningError:1},{name:"F1",midiNumber:29,frequency:43.6535,pianoNumber:9,apuIndex:5,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1280,triangleFrequency:43.6615,triangleTuningError:0},{name:"F#1",midiNumber:30,frequency:46.2493,pianoNumber:10,apuIndex:6,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1208,triangleFrequency:46.2617,triangleTuningError:0},{name:"G1",midiNumber:31,frequency:48.9994,pianoNumber:11,apuIndex:7,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1140,triangleFrequency:49.0187,triangleTuningError:1},{name:"G#1",midiNumber:32,frequency:51.913,pianoNumber:12,apuIndex:8,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1076,triangleFrequency:51.9316,triangleTuningError:1},{name:"A1",midiNumber:33,frequency:55,pianoNumber:13,apuIndex:9,pulsePeriod:2033,pulseFrequency:54.9954,pulseTuningError:0,trianglePeriod:1016,triangleFrequency:54.9954,triangleTuningError:0},{name:"A#1",midiNumber:34,frequency:58.2704,pianoNumber:14,apuIndex:10,pulsePeriod:1919,pulseFrequency:58.2608,pulseTuningError:0,trianglePeriod:959,triangleFrequency:58.2608,triangleTuningError:0},{name:"B1",midiNumber:35,frequency:61.7354,pianoNumber:15,apuIndex:11,pulsePeriod:1811,pulseFrequency:61.7333,pulseTuningError:0,trianglePeriod:905,triangleFrequency:61.7333,triangleTuningError:0},{name:"C2",midiNumber:36,frequency:65.4063,pianoNumber:16,apuIndex:12,pulsePeriod:1709,pulseFrequency:65.4156,pulseTuningError:0,trianglePeriod:854,triangleFrequency:65.4156,triangleTuningError:0},{name:"C#2",midiNumber:37,frequency:69.2956,pianoNumber:17,apuIndex:13,pulsePeriod:1613,pulseFrequency:69.3065,pulseTuningError:0,trianglePeriod:806,triangleFrequency:69.3065,triangleTuningError:0},{name:"D2",midiNumber:38,frequency:73.4161,pianoNumber:18,apuIndex:14,pulsePeriod:1523,pulseFrequency:73.3994,pulseTuningError:0,trianglePeriod:761,triangleFrequency:73.3994,triangleTuningError:0},{name:"D#2",midiNumber:39,frequency:77.7817,pianoNumber:19,apuIndex:15,pulsePeriod:1437,pulseFrequency:77.7891,pulseTuningError:0,trianglePeriod:718,triangleFrequency:77.7891,triangleTuningError:0},{name:"E2",midiNumber:40,frequency:82.4068,pianoNumber:20,apuIndex:16,pulsePeriod:1356,pulseFrequency:82.4324,pulseTuningError:1,trianglePeriod:678,triangleFrequency:82.3717,triangleTuningError:-1},{name:"F2",midiNumber:41,frequency:87.307,pianoNumber:21,apuIndex:17,pulsePeriod:1280,pulseFrequency:87.323,pulseTuningError:0,trianglePeriod:640,triangleFrequency:87.2549,triangleTuningError:-1},{name:"F#2",midiNumber:42,frequency:92.4986,pianoNumber:22,apuIndex:18,pulsePeriod:1208,pulseFrequency:92.5234,pulseTuningError:0,trianglePeriod:604,triangleFrequency:92.4469,triangleTuningError:-1},{name:"G2",midiNumber:43,frequency:97.9988,pianoNumber:23,apuIndex:19,pulsePeriod:1140,pulseFrequency:98.0375,pulseTuningError:1,trianglePeriod:570,triangleFrequency:97.9516,triangleTuningError:-1},{name:"G#2",midiNumber:44,frequency:103.8261,pianoNumber:24,apuIndex:20,pulsePeriod:1076,pulseFrequency:103.8633,pulseTuningError:1,trianglePeriod:538,triangleFrequency:103.7669,triangleTuningError:-1},{name:"A2",midiNumber:45,frequency:110,pianoNumber:25,apuIndex:21,pulsePeriod:1016,pulseFrequency:109.9909,pulseTuningError:0,trianglePeriod:507,triangleFrequency:110.0992,triangleTuningError:2},{name:"A#2",midiNumber:46,frequency:116.5409,pianoNumber:26,apuIndex:22,pulsePeriod:959,pulseFrequency:116.5216,pulseTuningError:0,trianglePeriod:479,triangleFrequency:116.5216,triangleTuningError:0},{name:"B2",midiNumber:47,frequency:123.4708,pianoNumber:27,apuIndex:23,pulsePeriod:905,pulseFrequency:123.4666,pulseTuningError:0,trianglePeriod:452,triangleFrequency:123.4666,triangleTuningError:0},{name:"C3",midiNumber:48,frequency:130.8127,pianoNumber:28,apuIndex:24,pulsePeriod:854,pulseFrequency:130.8313,pulseTuningError:0,trianglePeriod:427,triangleFrequency:130.6785,triangleTuningError:-2},{name:"C#3",midiNumber:49,frequency:138.5913,pianoNumber:29,apuIndex:25,pulsePeriod:806,pulseFrequency:138.6131,pulseTuningError:0,trianglePeriod:403,triangleFrequency:138.4415,triangleTuningError:-2},{name:"D3",midiNumber:50,frequency:146.8323,pianoNumber:30,apuIndex:26,pulsePeriod:761,pulseFrequency:146.7989,pulseTuningError:0,trianglePeriod:380,triangleFrequency:146.7989,triangleTuningError:0},{name:"D#3",midiNumber:51,frequency:155.5634,pianoNumber:31,apuIndex:27,pulsePeriod:718,pulseFrequency:155.5783,pulseTuningError:0,trianglePeriod:359,triangleFrequency:155.3622,triangleTuningError:-2},{name:"E3",midiNumber:52,frequency:164.8137,pianoNumber:32,apuIndex:28,pulsePeriod:678,pulseFrequency:164.7434,pulseTuningError:-1,trianglePeriod:338,triangleFrequency:164.9864,triangleTuningError:2},{name:"F3",midiNumber:53,frequency:174.6141,pianoNumber:33,apuIndex:29,pulsePeriod:640,pulseFrequency:174.5098,pulseTuningError:-1,trianglePeriod:319,triangleFrequency:174.7825,triangleTuningError:2},{name:"F#3",midiNumber:54,frequency:184.9972,pianoNumber:34,apuIndex:30,pulsePeriod:604,pulseFrequency:184.8939,pulseTuningError:-1,trianglePeriod:301,triangleFrequency:185.2,triangleTuningError:2},{name:"G3",midiNumber:55,frequency:195.9977,pianoNumber:35,apuIndex:31,pulsePeriod:570,pulseFrequency:195.9033,pulseTuningError:-1,trianglePeriod:284,triangleFrequency:196.247,triangleTuningError:2},{name:"G#3",midiNumber:56,frequency:207.6523,pianoNumber:36,apuIndex:32,pulsePeriod:538,pulseFrequency:207.5339,pulseTuningError:-1,trianglePeriod:268,triangleFrequency:207.9197,triangleTuningError:2},{name:"A3",midiNumber:57,frequency:220,pianoNumber:37,apuIndex:33,pulsePeriod:507,pulseFrequency:220.1984,pulseTuningError:2,trianglePeriod:253,triangleFrequency:220.1984,triangleTuningError:2},{name:"A#3",midiNumber:58,frequency:233.0818,pianoNumber:38,apuIndex:34,pulsePeriod:479,pulseFrequency:233.0433,pulseTuningError:0,trianglePeriod:239,triangleFrequency:233.0433,triangleTuningError:0},{name:"B3",midiNumber:59,frequency:246.9416,pianoNumber:39,apuIndex:35,pulsePeriod:452,pulseFrequency:246.9333,pulseTuningError:0,trianglePeriod:225,triangleFrequency:247.4796,triangleTuningError:4},{name:"C4",midiNumber:60,frequency:261.6255,pianoNumber:40,apuIndex:36,pulsePeriod:427,pulseFrequency:261.357,pulseTuningError:-2,trianglePeriod:213,triangleFrequency:261.357,triangleTuningError:-2},{name:"C#4",midiNumber:61,frequency:277.1826,pianoNumber:41,apuIndex:37,pulsePeriod:403,pulseFrequency:276.8831,pulseTuningError:-2,trianglePeriod:201,triangleFrequency:276.8831,triangleTuningError:-2},{name:"D4",midiNumber:62,frequency:293.6647,pianoNumber:42,apuIndex:38,pulsePeriod:380,pulseFrequency:293.5979,pulseTuningError:0,trianglePeriod:189,triangleFrequency:294.3705,triangleTuningError:4},{name:"D#4",midiNumber:63,frequency:311.1269,pianoNumber:43,apuIndex:39,pulsePeriod:359,pulseFrequency:310.7244,pulseTuningError:-2,trianglePeriod:179,triangleFrequency:310.7244,triangleTuningError:-2},{name:"E4",midiNumber:64,frequency:329.6275,pianoNumber:44,apuIndex:40,pulsePeriod:338,pulseFrequency:329.9728,pulseTuningError:2,trianglePeriod:169,triangleFrequency:329.0023,triangleTuningError:-3},{name:"F4",midiNumber:65,frequency:349.2282,pianoNumber:45,apuIndex:41,pulsePeriod:319,pulseFrequency:349.565,pulseTuningError:2,trianglePeriod:159,triangleFrequency:349.565,triangleTuningError:2},{name:"F#4",midiNumber:66,frequency:369.9944,pianoNumber:46,apuIndex:42,pulsePeriod:301,pulseFrequency:370.4,pulseTuningError:2,trianglePeriod:150,triangleFrequency:370.4,triangleTuningError:2},{name:"G4",midiNumber:67,frequency:391.9954,pianoNumber:47,apuIndex:43,pulsePeriod:284,pulseFrequency:392.494,pulseTuningError:2,trianglePeriod:142,triangleFrequency:391.1217,triangleTuningError:-4},{name:"G#4",midiNumber:68,frequency:415.3046,pianoNumber:48,apuIndex:44,pulsePeriod:268,pulseFrequency:415.8394,pulseTuningError:2,trianglePeriod:134,triangleFrequency:414.2993,triangleTuningError:-4},{name:"A4",midiNumber:69,frequency:440,pianoNumber:49,apuIndex:45,pulsePeriod:253,pulseFrequency:440.3968,pulseTuningError:2,trianglePeriod:126,triangleFrequency:440.3968,triangleTuningError:2},{name:"A#4",midiNumber:70,frequency:466.1637,pianoNumber:50,apuIndex:46,pulsePeriod:239,pulseFrequency:466.0867,pulseTuningError:0,trianglePeriod:119,triangleFrequency:466.0867,triangleTuningError:0},{name:"B4",midiNumber:71,frequency:493.8833,pianoNumber:51,apuIndex:47,pulsePeriod:225,pulseFrequency:494.9593,pulseTuningError:4,trianglePeriod:112,triangleFrequency:494.9593,triangleTuningError:4},{name:"C5",midiNumber:72,frequency:523.2511,pianoNumber:52,apuIndex:48,pulsePeriod:213,pulseFrequency:522.714,pulseTuningError:-2,trianglePeriod:106,triangleFrequency:522.714,triangleTuningError:-2},{name:"C#5",midiNumber:73,frequency:554.3652,pianoNumber:53,apuIndex:49,pulsePeriod:201,pulseFrequency:553.7663,pulseTuningError:-2,trianglePeriod:100,triangleFrequency:553.7663,triangleTuningError:-2},{name:"D5",midiNumber:74,frequency:587.3295,pianoNumber:54,apuIndex:50,pulsePeriod:189,pulseFrequency:588.7411,pulseTuningError:4,trianglePeriod:94,triangleFrequency:588.7411,triangleTuningError:4},{name:"D#5",midiNumber:75,frequency:622.2539,pianoNumber:55,apuIndex:51,pulsePeriod:179,pulseFrequency:621.4489,pulseTuningError:-2,trianglePeriod:89,triangleFrequency:621.4489,triangleTuningError:-2},{name:"E5",midiNumber:76,frequency:659.2551,pianoNumber:56,apuIndex:52,pulsePeriod:169,pulseFrequency:658.0047,pulseTuningError:-3,trianglePeriod:84,triangleFrequency:658.0047,triangleTuningError:-3},{name:"F5",midiNumber:77,frequency:698.4564,pianoNumber:57,apuIndex:53,pulsePeriod:159,pulseFrequency:699.13,pulseTuningError:2,trianglePeriod:79,triangleFrequency:699.13,triangleTuningError:2},{name:"F#5",midiNumber:78,frequency:739.9888,pianoNumber:58,apuIndex:54,pulsePeriod:150,pulseFrequency:740.8,pulseTuningError:2,trianglePeriod:75,triangleFrequency:735.9263,triangleTuningError:-10},{name:"G5",midiNumber:79,frequency:783.9908,pianoNumber:59,apuIndex:55,pulsePeriod:142,pulseFrequency:782.2434,pulseTuningError:-4,trianglePeriod:70,triangleFrequency:787.7522,triangleTuningError:8},{name:"G#5",midiNumber:80,frequency:830.6093,pianoNumber:60,apuIndex:56,pulsePeriod:134,pulseFrequency:828.5986,pulseTuningError:-4,trianglePeriod:66,triangleFrequency:834.7821,triangleTuningError:9},{name:"A5",midiNumber:81,frequency:880,pianoNumber:61,apuIndex:57,pulsePeriod:126,pulseFrequency:880.7937,pulseTuningError:2,trianglePeriod:63,triangleFrequency:873.9125,triangleTuningError:-12},{name:"A#5",midiNumber:82,frequency:932.3275,pianoNumber:62,apuIndex:58,pulsePeriod:119,pulseFrequency:932.1734,pulseTuningError:0,trianglePeriod:59,triangleFrequency:932.1734,triangleTuningError:0},{name:"B5",midiNumber:83,frequency:987.7666,pianoNumber:63,apuIndex:59,pulsePeriod:112,pulseFrequency:989.9186,pulseTuningError:4,trianglePeriod:56,triangleFrequency:981.2351,triangleTuningError:-11},{name:"C6",midiNumber:84,frequency:1046.5022,pianoNumber:64,apuIndex:60,pulsePeriod:106,pulseFrequency:1045.4281,pulseTuningError:-2,trianglePeriod:52,triangleFrequency:1055.2906,triangleTuningError:14},{name:"C#6",midiNumber:85,frequency:1108.7305,pianoNumber:65,apuIndex:61,pulsePeriod:100,pulseFrequency:1107.5327,pulseTuningError:-2,trianglePeriod:49,triangleFrequency:1118.6081,triangleTuningError:15},{name:"D6",midiNumber:86,frequency:1174.659,pianoNumber:66,apuIndex:62,pulsePeriod:94,pulseFrequency:1177.4822,pulseTuningError:4,trianglePeriod:47,triangleFrequency:1165.2167,triangleTuningError:-14},{name:"D#6",midiNumber:87,frequency:1244.5079,pianoNumber:67,apuIndex:63,pulsePeriod:89,pulseFrequency:1242.8979,pulseTuningError:-2,trianglePeriod:44,triangleFrequency:1242.8979,triangleTuningError:-2},{name:"E6",midiNumber:88,frequency:1318.5102,pianoNumber:68,apuIndex:64,pulsePeriod:84,pulseFrequency:1316.0095,pulseTuningError:-3,trianglePeriod:41,triangleFrequency:1331.6763,triangleTuningError:17},{name:"F6",midiNumber:89,frequency:1396.9129,pianoNumber:69,apuIndex:65,pulsePeriod:79,pulseFrequency:1398.2601,pulseTuningError:2,trianglePeriod:39,triangleFrequency:1398.2601,triangleTuningError:2},{name:"F#6",midiNumber:90,frequency:1479.9776,pianoNumber:70,apuIndex:66,pulsePeriod:75,pulseFrequency:1471.8527,pulseTuningError:-10,trianglePeriod:37,triangleFrequency:1471.8527,triangleTuningError:-10},{name:"G6",midiNumber:91,frequency:1567.9817,pianoNumber:71,apuIndex:67,pulsePeriod:70,pulseFrequency:1575.5044,pulseTuningError:8,trianglePeriod:35,triangleFrequency:1553.6223,triangleTuningError:-16},{name:"G#6",midiNumber:92,frequency:1661.2187,pianoNumber:72,apuIndex:68,pulsePeriod:66,pulseFrequency:1669.5643,pulseTuningError:9,trianglePeriod:33,triangleFrequency:1645.0119,triangleTuningError:-17},{name:"A6",midiNumber:93,frequency:1760,pianoNumber:73,apuIndex:69,pulsePeriod:63,pulseFrequency:1747.8251,pulseTuningError:-12,trianglePeriod:31,triangleFrequency:1747.8251,triangleTuningError:-12},{name:"A#6",midiNumber:94,frequency:1864.655,pianoNumber:74,apuIndex:70,pulsePeriod:59,pulseFrequency:1864.3468,pulseTuningError:0,trianglePeriod:29,triangleFrequency:1864.3468,triangleTuningError:0},{name:"B6",midiNumber:95,frequency:1975.5332,pianoNumber:75,apuIndex:71,pulsePeriod:56,pulseFrequency:1962.4703,pulseTuningError:-11,trianglePeriod:27,triangleFrequency:1997.5145,triangleTuningError:19},{name:"C7",midiNumber:96,frequency:2093.0045,pianoNumber:76,apuIndex:72,pulsePeriod:52,pulseFrequency:2110.5813,pulseTuningError:14,trianglePeriod:26,triangleFrequency:2071.4965,triangleTuningError:-18},{name:"C#7",midiNumber:97,frequency:2217.461,pianoNumber:77,apuIndex:73,pulsePeriod:49,pulseFrequency:2237.2162,pulseTuningError:15,trianglePeriod:24,triangleFrequency:2237.2162,triangleTuningError:15},{name:"D7",midiNumber:98,frequency:2349.3181,pianoNumber:78,apuIndex:74,pulsePeriod:47,pulseFrequency:2330.4335,pulseTuningError:-14,trianglePeriod:23,triangleFrequency:2330.4335,triangleTuningError:-14},{name:"D#7",midiNumber:99,frequency:2489.0158,pianoNumber:79,apuIndex:75,pulsePeriod:44,pulseFrequency:2485.7958,pulseTuningError:-2,trianglePeriod:21,triangleFrequency:2542.2911,triangleTuningError:37},{name:"E7",midiNumber:100,frequency:2637.0204,pianoNumber:80,apuIndex:76,pulsePeriod:41,pulseFrequency:2663.3526,pulseTuningError:17,trianglePeriod:20,triangleFrequency:2663.3526,triangleTuningError:17},{name:"F7",midiNumber:101,frequency:2793.8258,pianoNumber:81,apuIndex:77,pulsePeriod:39,pulseFrequency:2796.5203,pulseTuningError:2,trianglePeriod:19,triangleFrequency:2796.5203,triangleTuningError:2},{name:"F#7",midiNumber:102,frequency:2959.9553,pianoNumber:82,apuIndex:78,pulsePeriod:37,pulseFrequency:2943.7055,pulseTuningError:-10,trianglePeriod:18,triangleFrequency:2943.7055,triangleTuningError:-10},{name:"G7",midiNumber:103,frequency:3135.9634,pianoNumber:83,apuIndex:79,pulsePeriod:35,pulseFrequency:3107.2447,pulseTuningError:-16,trianglePeriod:17,triangleFrequency:3107.2447,triangleTuningError:-16},{name:"G#7",midiNumber:104,frequency:3322.4375,pianoNumber:84,apuIndex:80,pulsePeriod:33,pulseFrequency:3290.0238,pulseTuningError:-17,trianglePeriod:16,triangleFrequency:3290.0238,triangleTuningError:-17},{name:"A7",midiNumber:105,frequency:3520,pianoNumber:85,apuIndex:81,pulsePeriod:31,pulseFrequency:3495.6503,pulseTuningError:-12,trianglePeriod:15,triangleFrequency:3495.6503,triangleTuningError:-12},{name:"A#7",midiNumber:106,frequency:3729.31,pianoNumber:86,apuIndex:82,pulsePeriod:29,pulseFrequency:3728.6937,pulseTuningError:0,trianglePeriod:14,triangleFrequency:3728.6937,triangleTuningError:0},{name:"B7",midiNumber:107,frequency:3951.0664,pianoNumber:87,apuIndex:83,pulsePeriod:27,pulseFrequency:3995.029,pulseTuningError:19,trianglePeriod:13,triangleFrequency:3995.029,triangleTuningError:19},{name:"C8",midiNumber:108,frequency:4186.009,pianoNumber:88,apuIndex:84,pulsePeriod:26,pulseFrequency:4142.993,pulseTuningError:-18,trianglePeriod:12,triangleFrequency:4302.3389,triangleTuningError:47},{name:"C#8",midiNumber:109,frequency:4434.922,pianoNumber:null,apuIndex:85,pulsePeriod:24,pulseFrequency:4474.4325,pulseTuningError:15,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"D8",midiNumber:110,frequency:4698.6362,pianoNumber:null,apuIndex:86,pulsePeriod:23,pulseFrequency:4660.8671,pulseTuningError:-14,trianglePeriod:11,triangleFrequency:4660.8671,triangleTuningError:-14},{name:"D#8",midiNumber:111,frequency:4978.0317,pianoNumber:null,apuIndex:87,pulsePeriod:21,pulseFrequency:5084.5823,pulseTuningError:37,trianglePeriod:10,triangleFrequency:5084.5823,triangleTuningError:37},{name:"E8",midiNumber:112,frequency:5274.0409,pianoNumber:null,apuIndex:88,pulsePeriod:20,pulseFrequency:5326.7053,pulseTuningError:17,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"F8",midiNumber:113,frequency:5587.6517,pianoNumber:null,apuIndex:89,pulsePeriod:19,pulseFrequency:5593.0406,pulseTuningError:2,trianglePeriod:9,triangleFrequency:5593.0406,triangleTuningError:2},{name:"F#8",midiNumber:114,frequency:5919.9107,pianoNumber:null,apuIndex:90,pulsePeriod:18,pulseFrequency:5887.4111,pulseTuningError:-10,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"G8",midiNumber:115,frequency:6271.9269,pianoNumber:null,apuIndex:91,pulsePeriod:17,pulseFrequency:6214.4895,pulseTuningError:-16,trianglePeriod:8,triangleFrequency:6214.4895,triangleTuningError:-16},{name:"G#8",midiNumber:116,frequency:6644.8751,pianoNumber:null,apuIndex:92,pulsePeriod:16,pulseFrequency:6580.0477,pulseTuningError:-17,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"A8",midiNumber:117,frequency:7040,pianoNumber:null,apuIndex:93,pulsePeriod:15,pulseFrequency:6991.3007,pulseTuningError:-12,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"A#8",midiNumber:118,frequency:7458.6201,pianoNumber:null,apuIndex:94,pulsePeriod:14,pulseFrequency:7457.3875,pulseTuningError:0,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"B8",midiNumber:119,frequency:7902.1328,pianoNumber:null,apuIndex:95,pulsePeriod:13,pulseFrequency:7990.058,pulseTuningError:19,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null}],pf=function(){return(pf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},hf=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},gf=localStorage&&parseInt(localStorage.getItem("latency"),10)||70;function bf(e,t){if(-1===e)return ff;if("noise"===t){var n=e%4;return{name:"".concat(n,"_"),midiNumber:n+90,frequency:0,pianoNumber:null,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null}}for(var r=null,o=1/0,s=0,a=mf;s<a.length;s++){var i=a[s],u=Number("pulse"===t?i.pulsePeriod:i.trianglePeriod);if(null!=u){var l=Math.abs(e-u);l<o&&(o=l,r=i)}}return r}var vf,yf,Mf,_f,If=function(e,t){if(void 0===e)return[];for(var n=[],r=0,o=Rf,s=0,a=e;s<a.length;s++){var i=a[s],u=bf(i,t),l=n[n.length-1];0!==n.length&&l.note.midiNumber===u.midiNumber||(n.length>0&&(l.span[1]=r),n.push({note:{midiNumber:-1===i?-1:u.midiNumber,name:u.name},span:[r,0],chipState:{period:i}})),r+=o}return n.length>0&&(n[n.length-1].span[1]=r),n.filter((function(e){return-1!==e.note.midiNumber}))},Pf=function(e){return 70*e},kf=function(e,t){var n=t/1e3;return e.span[0]<=n&&n<=e.span[1]},wf={pulse1:"#26577C",pulse2:"#AE445A",triangle:"#63995a",noise:"white","under cursor":"under cursor"},Ef=function(e,t,n,o,s,a,i,u,l,c){return void 0===i&&(i=function(e,t){}),void 0===u&&(u=null),void 0===l&&(l=function(e,t){}),void 0===c&&(c=function(){}),e.map((function(e){var d=s(e.note.midiNumber),f=Pf(e.span[0]),m=function(e,t,n,r){return"noise"===e?"black":null===n.tonic?wf[e]:Ja[(t.note.midiNumber-si(ai(t,r),n))%12]}(t,e,o,u),p="under cursor"!==t?function(e,t,n,r){if(e.span[1]-e.span[0]<.08)return"";if(!n)return"";var o=ai(e,n);if(o<0||o+1>=n.length)return"";for(var s=Ka(Xa(r)[o]),a=n[o],i=n[o+1],u=s.length,l=0,c=(e.span[0]+e.span[1])/2;l<u&&c>a+(i-a)*(l+1)/u;)l++;var d=s[l];if(!d)return"";var f=Qa(d);return-1===f?"":Wa[((e.note.midiNumber-si(o,t))%12+12-f)%12]}(e,o,u,o.romanNumerals):null,h=p?r.createElement("span",{className:"noteText",style:{fontSize:"".concat(Math.min(a+2,14),"px"),lineHeight:"".concat(Math.min(a,14),"px"),fontFamily:"Helvetica, sans-serif",fontWeight:700,color:-1!==["brown","blue","#9400D3","#787276"].indexOf(m)?"white":"black"}},p):null;return r.createElement("div",{className:"noteRectangleTonal",style:pf({position:"absolute",height:"".concat(a,"px"),width:Pf(e.span[1])-Pf(e.span[0]),backgroundColor:m,top:d,left:f,pointerEvents:"under cursor"===t?"none":"auto",borderRadius:"pulse1"===t?"10px":"triangle"===t?"3px":"",cursor:"pointer",zIndex:10,opacity:n?.9:.1,display:"grid",placeItems:"center"},"under cursor"===t?{boxShadow:"white 0px 1px",boxSizing:"border-box",backgroundColor:"transparent"}:{}),onClick:function(t){t.stopPropagation(),i(e,t.altKey)},onMouseEnter:function(t){return l(e,t.altKey)},onMouseLeave:c},h)}))},Sf=function(e){var t=e.chipStateDump,n=e.getCurrentPositionMs,o=e.savedAnalysis,s=e.saveAnalysis,a=e.voiceMask,i=e.handleSetVoiceMask,u=e.analysisEnabled,l=e.seek,c=e.registerSeekCallback,d=e.bookPath,f=e.pause,m=e.paused,p=Object(r.useState)(jf),h=p[0],g=p[1];Object(r.useEffect)((function(){g(o||jf)}),[o]);var b=Object(r.useState)(null),v=b[0],y=b[1],M=Object(r.useRef)(h);Object(r.useEffect)((function(){M.current=h}),[h]);var _=Object(r.useRef)(v);Object(r.useEffect)((function(){_.current=v}),[v]);var I=Object(r.useMemo)((function(){return{p1:If(t.p1,"pulse"),p2:If(t.p2,"pulse"),t:If(t.t,"triangle"),n:If(t.n,"noise")}}),[t]),P=Object(r.useMemo)((function(){return hf(hf(hf([],I.t,!0),I.p1,!0),I.p2,!0)}),[t]),k=Object(r.useMemo)((function(){return function(e){for(var t=1/0,n=-1/0,r=0,o=e;r<o.length;r++){var s=o[r].note.midiNumber;s<t&&(t=s),s>n&&(n=s)}return{minMidiNumber:t,maxMidiNumber:n}}(hf(hf(hf([],I.t,!0),I.p1,!0),I.p2,!0))}),[I]),w=k.minMidiNumber,E=k.maxMidiNumber,S=Object(r.useState)(0),N=S[0],V=S[1],T=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=function(){T.current&&V(T.current.offsetHeight)};return e(),window.addEventListener("resize",e),new ResizeObserver((function(){return e()})).observe(T.current),function(){window.removeEventListener("resize",e)}}),[]),Object(r.useEffect)((function(){T.current.scrollLeft=0}),[t]);var R=(N-60)/(E-w+7),O=Object(r.useMemo)((function(){return function(e){return N-(e-w+4)*R}}),[R]),x=Object(r.useState)(null),A=x[0],C=x[1],D=Object(r.useState)(!1),j=D[0],F=D[1],B=function(e,t){C(e),F(t)},L=function(){C(null)},U=Object(r.useMemo)((function(){return A?Ff(A,_.current,M.current,null,P,Da(h,P).measures,j):h}),[A,h]),q=Object(r.useMemo)((function(){return Da(U,P)}),[U,P]),z=function(e,t){Bf(e,_.current,y,M.current,s,g,null,P,q.measures,t)},H=Object(r.useMemo)((function(){return[{notes:I.p1,label:"pulse1",mask:a[0]},{notes:I.p2,label:"pulse2",mask:a[1]},{notes:I.t,label:"triangle",mask:a[2]}].flatMap((function(e){return Ef(e.notes,e.label,e.mask,U,O,R,z,q.measures,B,L)}))}),[I,h,q,R,a,A,j]),W=Object(r.useState)(0),G=W[0],$=W[1],X=Ef(function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var s=o[r];kf(s,t)&&n.push(s)}return n}(P,G),"under cursor",!0,h,O,R);Object(r.useEffect)((function(){var e=!0,t=function(){e&&($(n()-gf),requestAnimationFrame(t))};return t(),function(){e=!1}}),[]),Object(r.useEffect)((function(){var e=function(e){"Escape"!==e.key&&27!==e.keyCode||y(null)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);var K=function(e){return T.current.scrollLeft=Pf(e/1e3)-100};return Object(r.useEffect)((function(){c(K)}),[]),!m&&d&&h.loop&&G>1e3*q.measures[h.loop-1]&&f(),r.createElement("div",{className:"App-main-content-and-settings"},r.createElement("div",{key:"leftPanel",style:{width:"100%",height:"100%",marginTop:"19px",padding:0,backgroundColor:"black"}},r.createElement("div",{ref:T,style:{margin:0,padding:0,position:"relative",overflowX:"scroll",overflowY:"hidden",width:"100%",height:"100%",backgroundColor:"black"},onClick:function(e){var t=e.target,n=t.getBoundingClientRect(),r=e.clientX-n.left+t.scrollLeft,o=r/70;v?Bf(null,_.current,y,M.current,s,g,o):l(1e3*o)}},H,X,r.createElement(Uf,{style:{left:Pf(G/1e3)}}),r.createElement($f,{analysis:U,allNotes:P,measuresAndBeats:q,midiNumberToY:O,noteHeight:R,selectedDownbeat:v,selectDownbeat:y}))),u&&(d?r.createElement(Pi,{path:d,playSegment:function(e,t){for(var n=hf([],a,!0),r=0;r<t.length;++r)n[r]="1"===t[r];i(n);var o=e?1e3*q.measures[e[0]-1]:0;l(o),K(o)},tags:h.tags}):r.createElement(Xf,{analysis:h,saveAnalysis:s,setAnalysis:g,selectedDownbeat:v,selectDownbeat:y})))},Nf=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Vf=function(){return(Vf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Tf=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Rf=.01,Of=["scale:blues","scale:pentatonic","scale:major_pentatonic","scale:tetratonic","scale:chromatic","scale:phrygian","scale:dorian","scale:mixolydian","scale:lydian","scale:hijaz","scale:atonal","scale:octatonic","scale:natural_minor","scale:melodic_minor","scale:harmonic_minor","scale:harmonic_major","scale:hexatonic_minor_no6","scale:whole-tone","scale:nikriz","scale:saba","scale:mixed_minor","scale:hemitonic_pentatonic","scale:demo","scale:dorian_over_pentatonic","scale:mixed_major","harmony:stasis","harmony:parallel_keys","harmony:power_chords","harmony:diatonic_seventh_chords","harmony:blues_seventh_chords","harmony:constant_structures","harmony:quartal","harmony:neo-riemannian","harmony:diminished_seventh_chords","harmony:shuttle","harmony:mixolydian_shuttle","harmony:lydian_shuttle","harmony:plagal_shuttle","harmony:phrygian_shuttle","harmony:dorian_shuttle","harmony:blues_shuttle","harmony:I-vi shuttle","harmony:i-VI shuttle","harmony:i-VII shuttle","harmony:I-III shuttle","harmony:diminished_chord_modulation","harmony:weird","harmony:pure_I-V","harmony:pure_i-V","harmony:57_chord_no3","harmony:parallel","harmony:tonic_added-sixth_chord","harmony:unison","harmony:rich_common_practice","harmony:far-out_point","harmony:weird_chord","harmony:turnaround_coda","harmony:picardy_third","rhythm:syncopation","rhythm:interesting","rhythm:swing","rhythm:clave","rhythm:latin","rhythm:3+3+2","rhythm:1+2+2+2","rhythm:3+3+3+3+2+2","rhythm:4 against 3","rhythm:3 against 2","tempo:accelerando","tempo:ritardando","tempo:uneven","tempo:twice_as_fast","beats:unclear_measure_onsets","beats:incomplete_measure_on_transition","beats:extra_beat","beats:division_change","tonic:ambiguous","location:scary","location:launch_screen","location:menu","location:intro","location:level_start","location:level","location:boss","location:final_boss","location:level_completed","location:lost","location:game_won","location:credits","location:after_credits","location:jingle","location:shop","location:password","location:sport_level","location:sport_half_time","location:sport_points_scored","location:pause","chip:extensions","chip:tonal_DMC","chip:toms_DMC","chip:vocal_DMC","voice_leading:descending_chromatic_bass","voice_leading:descending_diatonic_bass","voice_leading:ascending_bass","voice_leading:descending_chromatic_melody","voice_leading:ascending_chromatic","voice_leading:Vsus4","voice_leading:Isus4","voice_leading:Cad64","voice_leading:Ger+6","voice_leading:triple_suspension","voice_leading:W-arpeggio","voice_leading:rich_ornamentation","voice_leading:three_parallel_voices","voice_leading:three_independent_voices","non-chord tones:neighbor","non-chord_tones:double_neighbor","non-chord_tones:chromatic_passing","non-chord_tones:mordent","chord:N6","chord:Aug6","motive:4 repetitions","motive:3 repetitions","form:ABA","form:AABA","form:ABABC","form:ABAC","form:ABACA","form:B_part_triple_shuttle","form:12-bar_blues","form:16-bar_blues","form:basso_ostinato","form:fermata_between_sections","form:extra_measure","form:stasis_vs_progression","form:period","form:uniform_period","form:reversed_period","form:tag","form:accumulative","form:solo","form:abrupt_ending","form:verse-chorus","form:development_through_timbre","form:sentence","form:not_looped","form:progression","form:EDM","form:complex","form:binary","timbre:ultra_fast_notes","timbre:rich","timbre:layered","timbre:wide_vibrato","timbre:oscillator_as_percussion","timbre:unexpected_detune","timbre:silence","timbre:chirp","timbre:portamento","timbre:one-channel delay","timbre:minor_seconds","timbre:chorus","timbre:tremolo","timbre:many_instruments_same_voice","timbre:variable_duty_cycle","melody:riff","melody:transposed_riff","melody:chromatic_embellishments","melody:basic_idea_x3","melody:basic_idea_x4","melody:fills_at_rests","melody:fill_after_cadence","melody:stepwise","melody:chord_tones","bass:drone","bass:transposed_riff","bass:riff","bass:walking","bass:melody","bass:alberti","bass:pedal_point","bass:counterpoint","bass:octaves","bass:root","bass:root_fifth","bass:root_third_fifth","bass:root_third_fifth_seventh","bass:creative_chord_tones","bass:absent","bass:inversions","bass:different_strategies","bass:smooth_chord_tones","style:common_practice","style:ragtime","style:waltz","style:arabic","style:functional_blues","style:chinese","style:major_chord_jingle","style:single_chord_jingle","style:bagpipe","style:bossa_nova","style:boogie-woogie","middle_voice:melody_echo","middle_voice:doubles_bass","middle_voice:parallel_octaves","middle_voice:parallel_fourths","middle_voice:parallel_fifths","middle_voice:parallel_thirds","middle_voice:parallel_thirds_with_bass","middle_voice:mixed_parallel","middle_voice:thirds_and_sixths","middle_voice:parallel_sixths","middle_voice:thirds_and_chord_tones","middle_voice:lower_chord_tones","middle_voice:creative_chord_tones","middle_voice:root","middle_voice:static_chord_tones","middle_voice:drone","middle_voice:riff","middle_voice:transposed_riff","middle_voice:absent","middle_voice:melody","middle_voice:arpeggio","melody:arpeggio","melody:reharmonization","reference:previous_subtune","motive:natural_horn_call","motive:telephone_call","motive:cadential","upper_voices:polyphony","upper_voices:arpeggio","upper_voices:absent","upper_voices:legato_melody","upper_voices:different_strategies","upper_voices:same_range","upper_voice:riff","percussion:layered","analyzed_in:hopkins","analyzed_in:the common cold","anomaly:strange_offset","lower_voices:double_parallel","lower_voices:same_range","origin:demoscene","origin:russia","game_genre:baseball"],xf=["A","A'","B","B'","C","C'","D","D'","E","E'","intro","intro (looped)","intro (not looped)","bridge","verse","chorus","A:antecedent","A:consequent","B:antecedent","B:consequent","antecedent","consequent","sentence. basic idea","basic idea repeated","fragmentation","cadence","extra measure"],Af=["tonic","first measure","second measure","end"],Cf={"first measure":"#ffaaaa","second measure":"#ffffaa",tonic:"#aaffaa",end:"white"},Df={"first measure":"Click on a note at the start of the first measure","second measure":"Click on a note at the start of the second measure",tonic:"Click on a main tonic",end:"Click on root notes to enter chords. Alt+click for half duration"},jf={clickResolutionMs:Rf,step:Af[0],firstMeasure:null,secondMeasure:null,correctedMeasures:[],fourMeasurePhrasingReferences:[],modulations:[],beatsPerMeasure:4,loop:null,tonic:null,basedOn:null,romanNumerals:"",comment:"",tags:[],disableSnapToNotes:!1,form:[]},Ff=function(e,t,n,r,o,s,a){var i;void 0===r&&(r=null),void 0===o&&(o=[]),void 0===s&&(s=[]),void 0===a&&(a=!1);var u={};if(null!==t)a?e&&(u.modulations=Vf({},n.modulations||[]),u.modulations[t]=e.note.midiNumber%12):(u.correctedMeasures=Vf({},n.correctedMeasures||[]),u.correctedMeasures[t]=null!==(i=null==e?void 0:e.span[0])&&void 0!==i?i:r);else{var l=n.step;"end"!==l&&(u.step=Af[Af.indexOf(l)+1]),"first measure"===l?u.firstMeasure=e.span[0]:"second measure"===l?u.secondMeasure=e.span[0]:"tonic"===l?u.tonic=e.note.midiNumber%12:"end"===l&&(u.romanNumerals=function(e,t,n,r,o){for(var s=(t.span[0]+t.span[1])/2,a=r.findIndex((function(e){return e>=s}))-1,i=[r[a],r[a+1]],u=.5*i[0]+.5*i[1],l=o?s<u?[i[0],u]:[u,i[1]]:i,c=si(a,e),d=(t.note.midiNumber-c)%12,f=Ua((t.note.midiNumber+3)%12,l,n),m=Ua((t.note.midiNumber+4)%12,l,n),p=(f>m?qa:0===m?Ha:za)[d],h=Xa(e.romanNumerals);h.length<=a;)h.push("_");if(o){var g=Ka(h[a]);g.length<2&&g.push(g[0]),g[s<u?0:1]=p,h[a]=g.join("-")}else h[a]=p;return h.join(" ")}(n,e,o,s,a))}return Vf(Vf({},n),u)},Bf=function(e,t,n,r,o,s,a,i,u,l){void 0===a&&(a=null),void 0===i&&(i=[]),void 0===u&&(u=[]),void 0===l&&(l=!1);var c=Ff(e,t,r,a,i,u,l);n(null),o(c),s(c)},Lf=df.a.div(vf||(vf=Nf(["\n  width: 1px;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"],["\n  width: 1px;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"]))),Uf=Object(df.a)(Lf)(yf||(yf=Nf(["\n  background-color: #ff6666;\n  pointer-events: none;\n"],["\n  background-color: #ff6666;\n  pointer-events: none;\n"]))),qf=Object(df.a)(Lf)(Mf||(Mf=Nf(["\n  background-color: #444;\n"],["\n  background-color: #444;\n"]))),zf=Object(df.a)(Lf)(_f||(_f=Nf(["\n  border-left: 1px dashed #262626;\n"],["\n  border-left: 1px dashed #262626;\n"]))),Hf=function(e){var t=e.span,n=e.number,o=e.isFourMeasureMark,s=e.selectedDownbeat,a=e.selectDownbeat,i=e.romanNumeral,u=e.formSection,l=e.modulation,c=Pf(t[0])-1,d=Pf(t[1])-c-1;return r.createElement(r.Fragment,null,r.createElement(qf,{key:"db_".concat(n),style:Vf({left:c},o&&{backgroundColor:"#aaa"})}),r.createElement("div",{key:"db_n_".concat(n),style:{position:"absolute",top:30,left:"".concat(c+7,"px"),color:s===n?"red":"white",zIndex:5,cursor:"pointer",userSelect:"none"},onClick:function(e){e.stopPropagation(),a(n)}},n),u&&r.createElement("div",{key:"form_section_".concat(n),style:{position:"absolute",left:"".concat(c+1,"px"),top:"55px",zIndex:10,backgroundColor:"#333",padding:"5px 10px 5px 10px",color:"#ffe",userSelect:"none",pointerEvents:"none"}},u),r.createElement("div",{key:"db_rn_".concat(n),style:{position:"absolute",left:"".concat(c,"px"),width:d,top:0,height:"25px",display:"grid",placeItems:"center",fontSize:"25px",zIndex:5,borderLeft:"1px solid black"}},r.createElement(ni,{dashedRN:i,modulation:l})))},Wf=function(e){var t=e.second;return r.createElement(zf,{style:{left:Pf(t),zIndex:2,pointerEvents:"none"}})},Gf=r.memo((function(e){var t=e.analysis,n=e.measures,o=e.midiNumberToY,s=e.secondsToX,a=e.noteHeight,i=oi(t);if(i&&n){i.push({measure:n.length,tonic:i[0].tonic});for(var u=[],l=0;l+1<i.length;++l){var c=n[Math.max(i[l].measure,0)],d=n[Math.min(i[l+1].measure,n.length-1)],f=i[l].tonic,m=s(d-c);if(m)for(var p=2;p<=9;++p){var h=f+12*p;u.push(r.createElement(r.Fragment,null,r.createElement("div",{key:"gradient_".concat(h),style:{position:"absolute",width:m,height:12*a,left:s(c),top:o(h-1),pointerEvents:"none",background:"linear-gradient(to top, #222, transparent)",zIndex:1}})))}}return u}})),$f=r.memo((function(e){var t=e.analysis,n=e.measuresAndBeats,o=e.midiNumberToY,s=e.noteHeight,a=e.selectedDownbeat,i=e.selectDownbeat,u=n.measures,l=n.beats,c=null;t.loop&&(c=Pf(u[t.loop-1]));var d=ja(t,u.length),f=ii(t.tonic,t.modulations);return r.createElement(r.Fragment,null,u.map((function(e,n){var o,s,l=n+1;return r.createElement(Hf,{key:n,span:[e,null!==(o=u[n+1])&&void 0!==o?o:e],isFourMeasureMark:-1!==d.indexOf(l),formSection:(null!==(s=t.form)&&void 0!==s?s:{})[l],number:l,selectedDownbeat:a,selectDownbeat:i,romanNumeral:Xa(null==t?void 0:t.romanNumerals)[n],modulation:l in f?f[l]:null})})),l.map((function(e){return r.createElement(Wf,{key:e,second:e})})),r.createElement(Gf,{analysis:t,measures:u,secondsToX:Pf,midiNumberToY:o,noteHeight:s}),c&&r.createElement("div",{key:"loop",style:{boxShadow:"inset 0px -5px 10px white",pointerEvents:"none",position:"absolute",background:"linear-gradient(to right, rgba(0, 0, 0, 0.5) 0%, rgba(0,0,0,0.9) 300px)",left:c,height:"100%",right:0,zIndex:100,width:"5000px"}},r.createElement("div",{style:{margin:"50px",color:"white"}},"Loop")))})),Xf=r.memo((function(e){var t=e.analysis,n=e.saveAnalysis,o=e.setAnalysis,s=e.selectedDownbeat,a=e.selectDownbeat,i=function(e,s,a,i,u){void 0===i&&(i="95%"),void 0===u&&(u=null);var l=Object(r.useState)(e.toString()),c=l[0],d=l[1],f=Object(r.useState)(!1),m=f[0],p=f[1];Object(r.useEffect)((function(){var n;d(null!==(n=t[s])&&void 0!==n?n:e.toString())}),[t[s]]),Object(r.useEffect)((function(){if(m){var e=setTimeout((function(){return p(!1)}),100);return function(){return clearTimeout(e)}}}),[m]);return r.createElement("div",{key:"if_".concat(s),style:{marginTop:"10px"}},a,":"," ",r.createElement("input",{type:"text",value:c,style:{width:i,backgroundColor:m?"#66d":"#aaa",transition:"background-color 0.1s"},onChange:function(e){return d(e.target.value)},onKeyDown:function(r){var a;if("Enter"===r.key){var i=u?u(t,c):Vf(Vf({},t),((a={})[s]="number"==typeof e?parseInt(c,10):c,a));n(i),o(i),p(!0)}}}))},u=i("","basedOn","Based on"),l=i(4,"beatsPerMeasure","Beats per measure","1em"),c=i("","romanNumerals","Roman numerals"),d=i("","comment","Comment"),f=i("",null,"Form section",void 0,(function(e,t){var n;return a(null),Vf(Vf({},e),{form:Vf(Vf({},e.form),(n={},n[s]=t,n))})}));return r.createElement("div",{className:"App-main-content-area settings",key:"AnalysisBox"},r.createElement("div",{key:"nav-buttons"},r.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.createElement("div",{style:{marginBottom:"10px"}},r.createElement("button",{className:"box-button",disabled:t.step===Af[0],onClick:function(){return function(e,t){return t(Vf(Vf({},e),{step:Af[Af.indexOf(e.step)-1]}))}(t,o)}},"<")," ",r.createElement("button",{className:"box-button",disabled:t.step===Af[Af.length-1],onClick:function(){return function(e,t){return t(Vf(Vf({},e),{step:Af[Af.indexOf(e.step)+1]}))}(t,o)}},">"))),"  ",null===s&&r.createElement("div",{style:{color:Cf[t.step]}},Df[t.step])),r.createElement("div",{key:"menu",style:{marginTop:"20px"}},null!==s?r.createElement("div",null,r.createElement("div",null,"What to do with measure ",s,"?"),r.createElement("ul",{className:"vertical-list-of-buttons"},r.createElement("li",null,r.createElement("button",{className:"box-button",onClick:function(){var e=Vf(Vf({},t),{loop:s});a(null),n(e),o(e)}},"Mark loop start")),r.createElement("li",null,r.createElement("button",{className:"box-button",onClick:function(){var e=Vf(Vf({},t),{fourMeasurePhrasingReferences:[s]});a(null),n(e),o(e)}},"Mark start of 4-measure phrasing")),r.createElement("li",null,r.createElement("button",{className:"box-button",onClick:function(){var e=Vf(Vf({},t),{fourMeasurePhrasingReferences:Tf(Tf([],t.fourMeasurePhrasingReferences||[],!0),[s],!1).sort((function(e,t){return e-t}))});a(null),n(e),o(e)}},"Add custom phrasing measure (manual mode)")),r.createElement("li",null,"Adjust position: click anywhere"),r.createElement("li",null,"Enter modulation: alt+click on a new tonic"),r.createElement("li",null,f,r.createElement("div",null,xf.map((function(e){return r.createElement("button",{style:{marginRight:"10px",marginTop:"10px"},className:"box-button",onClick:function(){var r,i=Vf(Vf({},t),{form:Vf(Vf({},t.form),(r={},r[s]=e,r))});a(null),n(i),o(i)}},e)})))))):r.createElement("div",null,u,l,r.createElement("div",{key:"disable_snap",style:{marginTop:"10px"}},r.createElement("label",null,r.createElement("input",{type:"checkbox",onChange:function(){var e=Vf(Vf({},t),{disableSnapToNotes:!t.disableSnapToNotes});n(e),o(e)},checked:t.disableSnapToNotes}),"Disable snap to notes")),c,d,r.createElement("div",{key:"tags",style:{marginTop:"10px"}},"Tags:",r.createElement(cf,{isMulti:!0,options:Of.map((function(e){return{value:e,label:e}})),value:(t.tags||[]).map((function(e){return{value:e,label:e}})),onChange:function(e){var r=Vf(Vf({},t),{tags:e.map((function(e){return e.value}))});n(r),o(r)}})))))})),Kf=n(23);function Yf(e){return(Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==Yf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Yf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Yf(s)?s:String(s)),r)}var o,s}function Jf(e,t,n){return t&&Qf(e.prototype,t),n&&Qf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Zf=Jf((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new Kf.CalcCascades,r=n.lowpass({order:5,characteristic:"butterworth",Fs:t,Fc:200,gain:0}),o=n.lowpass({order:3,characteristic:"butterworth",Fs:t,Fc:120,gain:0}),s=n.highpass({order:3,characteristic:"butterworth",Fs:t,Fc:25,gain:0}),a=new Kf.IirFilter(r),i=new Kf.IirFilter(o),u=new Kf.IirFilter(s),l=0,c=0,d=0,f=0,m=Math.exp(-1/(.16*t)),p=0,h=Math.exp(-1/(.016*t));function g(e){return e=function(e){return e-(f=m*f+(1-m)*e)}(e),1.414*(p=h*p+(1-h)*Math.abs(e))}this.process=function(e){var t=a.singleStep(e),n=g(t);c=l,l=t,c<0&&l>=0&&(d=(d+1)%Math.pow(2,1));for(var r=0,o=0;o<1;o++){r+=d&1<<o?1:-1}return u.singleStep(i.singleStep(r))*n}}));function em(e){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e){return function(e){if(Array.isArray(e))return nm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==em(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==em(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===em(s)?s:String(s)),r)}var o,s}function sm(e,t){return(sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=um(e);if(t){var o=um(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return im(this,n)}}function im(e,t){if(t&&("object"===em(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function um(e){return(um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sm(e,t)}(s,e);var t,n,r,o=am(s);function s(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2048,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return rm(this,s),(n=o.call(this)).core=e,n.paused=!0,n.stopped=!0,n.fileExtensions=[],n.metadata=null,n.sampleRate=t,n.bufferSize=r,n.debug=a,n.timeCount=0,n.renderTime=0,n.perfLoggingInterval=100,n.paramDefs=[],n.params={},n.setChipStateDump=i,n}return t=s,r=[{key:"metadataFromFilepath",value:function(e){var t=e.split("/"),n={};return n.title=t.pop(),n.system=t.shift(),"Game MIDI"===n.system?n.game=t.shift():n.artist=t.shift(),n}}],(n=[{key:"togglePause",value:function(){return this.paused=!this.paused,this.paused}},{key:"isPaused",value:function(){return this.paused}},{key:"resume",value:function(){this.stopped=!1,this.paused=!1}},{key:"canPlay",value:function(e){return-1!==this.fileExtensions.indexOf(e.toLowerCase())}},{key:"loadData",value:function(e,t){throw Error("Player.loadData() must be implemented.")}},{key:"stop",value:function(){throw Error("Player.stop() must be implemented.")}},{key:"isPlaying",value:function(){throw Error("Player.isPlaying() must be implemented.")}},{key:"getTempo",value:function(){return console.warn("Player.getTempo() not implemented for this player."),1}},{key:"setTempo",value:function(){console.warn("Player.setTempo() not implemented for this player.")}},{key:"setFadeout",value:function(e){console.warn("Player.setFadeout() not implemented for this player.")}},{key:"getDurationMs",value:function(){return console.warn("Player.getDurationMs() not implemented for this player."),5e3}},{key:"getPositionMs",value:function(){return console.warn("Player.getPositionMs() not implemented for this player."),0}},{key:"seekMs",value:function(e){console.warn("Player.seekMs() not implemented for this player.")}},{key:"getVoiceName",value:function(e){console.warn("Player.getVoiceName() not implemented for this player.")}},{key:"getVoiceMask",value:function(){return console.warn("Player.getVoiceMask() not implemented for this player."),[]}},{key:"setVoiceMask",value:function(){console.warn("Player.setVoiceMask() not implemented for this player.")}},{key:"getNumVoices",value:function(){return 0}},{key:"getNumSubtunes",value:function(){return 1}},{key:"getSubtune",value:function(){return 0}},{key:"getMetadata",value:function(){return{title:null,author:null}}},{key:"getParamDefs",value:function(){return this.paramDefs}},{key:"getBasePlayerState",value:function(){var e=this;return{metadata:this.getMetadata(),durationMs:this.getDurationMs(),positionMs:this.getPositionMs(),numVoices:this.getNumVoices(),numSubtunes:this.getNumSubtunes(),subtune:this.getSubtune(),paramDefs:this.getParamDefs(),tempo:this.getTempo(),voiceMask:this.getVoiceMask(),voiceNames:tm(Array(this.getNumVoices())).map((function(t,n){return e.getVoiceName(n)})),infoTexts:[],isStopped:this.stopped,isPaused:this.paused}}},{key:"suspend",value:function(){this.stopped=!0,this.paused=!0}},{key:"processAudio",value:function(e){var t=performance.now();this.processAudioInner(e);var n=performance.now();if(this.debug&&(this.renderTime+=n-t,this.timeCount++,this.timeCount>=this.perfLoggingInterval)){var r=this.renderTime/this.timeCount,o=1e3*this.bufferSize/this.sampleRate;console.log("[%s] %s ms to render %d frames (%s ms) (%s% utilization)",this.constructor.name,r.toFixed(2),this.bufferSize,o.toFixed(1),(100*r/o).toFixed(1)),this.renderTime=0,this.timeCount=0}}},{key:"processAudioInner",value:function(){throw Error("Player.processAudioInner() must be implemented.")}},{key:"muteAudioDuringCall",value:function(e,t){if(e&&"running"===e.context.state&&!1===this.paused){var n=e.onaudioprocess;e.onaudioprocess=function(r){for(var o=0;o<r.outputBuffer.numberOfChannels;o++)r.outputBuffer.getChannelData(o).fill(0);t(),e.onaudioprocess=n}}else t()}},{key:"handleFileSystemReady",value:function(){}}])&&om(t.prototype,n),r&&om(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Vi.a);function cm(e){return(cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(Object(n),!0).forEach((function(t){Mm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_m(r.key),r)}}function hm(e,t){return(hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ym(e);if(t){var o=ym(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bm(this,n)}}function bm(e,t){if(t&&("object"===cm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vm(e)}function vm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ym(e){return(ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mm(e,t,n){return(t=_m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _m(e){var t=function(e,t){if("object"!==cm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cm(t)?t:String(t)}var Im=null,Pm={".spc":5e3,".gym":1e4,".vgm":1e4,".vgz":1e4},km=["nsf","nsfe","spc","ay","sgc","gbs"];window.requestIdleCallback=window.requestIdleCallback||function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var wm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hm(e,t)}(s,e);var t,n,r,o=gm(s);function s(){var e;mm(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mm(vm(e=o.call.apply(o,[this].concat(n))),"paramDefs",[{id:"subbass",label:"Sub Bass",type:"number",min:0,max:2,step:.01,defaultValue:1},{id:"stereoWidth",label:"Stereo Width",type:"number",min:0,max:1,step:.01,defaultValue:0}]),Object(i.a)(vm(e)),Im=e.core,e.name="Game Music Emu Player",e.paused=!1,e.fileExtensions=km,e.subtune=0,e.tempo=1,e.params={subbass:1},e.voiceMask=[],e.gmeCtx=null,e.seekRequestId=null,e.seekTargetMs=null,e.currentFileExt=null,e.buffer=Im._malloc(16*e.bufferSize),e.emuPtr=Im._malloc(4),e.subBass=new Zf(e.sampleRate),e.params={},e.paramDefs.forEach((function(t){return e.setParameter(t.id,t.defaultValue)})),e}return t=s,(n=[{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(t=0;t<e.length;t++)e[t].fill(0);else if(this.getPositionMs()>=this.getDurationMs()&&!1===this.fadingOut&&(console.log("Fading out at %d ms.",this.getPositionMs()),this.setFadeout(this.getPositionMs()),this.fadingOut=!0),1!==Im._gme_track_ended(this.gmeCtx)){for(Im._gme_play(this.gmeCtx,2*this.bufferSize,this.buffer),t=0;t<e.length;t++)for(n=0;n<this.bufferSize;n++)e[t][n]=Im.getValue(this.buffer+2*n*2+2*t,"i16")/65535;if(this.seekTargetMs){var r=Math.min(256,this.bufferSize/2);for(n=0;n<r;n++){var o=n/r;e[0][n]*=o,e[1][n]*=o,e[0][this.bufferSize-(n+1)]*=o,e[1][this.bufferSize-(n+1)]*=o}for(n=0;n<this.bufferSize;n++)e[0][n]*=.2,e[1][n]*=.2}if(this.params.stereoWidth<1){var s=ru(this.params.stereoWidth,.5,1);for(n=0;n<this.bufferSize;n++){var a=e[0][n],i=e[1][n];e[0][n]=a*s+i*(1-s),e[1][n]=i*s+a*(1-s)}}if(this.params.subbass>0)for(n=0;n<this.bufferSize;n++){var u=this.subBass.process(e[0][n])*this.params.subbass;for(t=0;t<e.length;t++)e[t][n]+=u}}else this.subtune++,(this.subtune>=Im._gme_track_count(this.gmeCtx)||0!==this.playSubtune(this.subtune))&&(this.suspend(),console.debug("GMEPlayer.gmeAudioProcess(): _gme_track_ended == %s and subtune (%s) > _gme_track_count (%s).",Im._gme_track_ended(this.gmeCtx),this.subtune,Im._gme_track_count(this.gmeCtx)),this.emit("playerStateUpdate",{isStopped:!0}))}},{key:"playSubtune",value:function(e){this.fadingOut=!1,this.subtune=e,this.metadata=this._parseMetadata(e),console.debug("GMEPlayer.playSubtune(subtune=%s)",e),this.emit("playerStateUpdate",fm(fm({},this.getBasePlayerState()),{},{isStopped:!1})),Im._gme_start_track(this.gmeCtx,e),console.time("extract notes from NES file");for(var t=Math.ceil(this.sampleRate/100),n=Im._malloc(16*t),r=[],o=[],s=[],a=[],i=0;i<this.getDurationMs()/1e3*100;++i){Im._gme_play(this.gmeCtx,2*t,n);var u=Im.UTF8ToString(Im._gme_get_chip_state(this.gmeCtx)),l=JSON.parse(u);r.push(l.square1_volume>0?l.square1_period:-1),o.push(l.square2_volume>0?l.square2_period:-1),s.push(l.triangle_volume>0?l.triangle_period:-1),a.push(l.noise_volume>0?l.noise_period:-1)}return this.setChipStateDump({p1:r,p2:o,t:s,n:a}),console.timeEnd("extract notes from NES file"),Im._gme_start_track(this.gmeCtx,e)}},{key:"loadData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.subtune=n,this.fadingOut=!1,this.seekTargetMs=null,this.seekRequestId=null,this.currentFileExt=Ks.a.extname(t),this.filepathMeta=lm.metadataFromFilepath(t);var r=t.match(/(\.sgc$|\.kss$|\.nsfe?$|\.ay$|Master System|Game Gear)/i);if(this.params.subbass=r?1:0,0!==Im.ccall("gme_open_data","number",["array","number","number","number"],[e,e.length,this.emuPtr,this.sampleRate]))throw this.stop(),Error("gme_open_data failed");if(this.gmeCtx=Im.getValue(this.emuPtr,"i32"),this.voiceMask=Array(Im._gme_voice_count(this.gmeCtx)).fill(!0),Im._gme_ignore_silence(this.gmeCtx,0),this.resume(),0!==this.playSubtune(this.subtune))throw this.stop(),Error("gme_start_track failed")}},{key:"_parseMetadata",value:function(e){var t=Im._malloc(4);0!==Im._gme_track_info(this.gmeCtx,t,e)&&console.error("could not load metadata");var n=Im.getValue(t,"*"),r=0,o=function(){var e=Im.getValue(n+r,"i32");return r+=4,e},s=function(){for(var e="",t=Im.getValue(n+r,"i8*"),o=0;o<255;o++){var s=Im.getValue(t+o,"i8");if(0===s)break;s<0&&(s=1+(255^Math.abs(s))),e+=String.fromCharCode(s)}return r+=4,e},a={};return a.length=o(),a.intro_length=o(),a.loop_length=o(),a.play_length=o(),r+=48,a.system=s(),a.game=s(),a.title=s()||a.game||this.filepathMeta.title,a.artist=s()||this.filepathMeta.artist,a.copyright=s(),a.comment=s(),a.formatted={title:a.game===a.title?a.title:Ji(a.game," - ")+a.title,subtitle:[a.artist,a.system].filter((function(e){return e})).join(" - ")+Ji(" (",a.copyright,")")},a}},{key:"getVoiceName",value:function(e){if(this.gmeCtx)return Im.UTF8ToString(Im._gme_voice_name(this.gmeCtx,e))}},{key:"getNumVoices",value:function(){if(this.gmeCtx)return Im._gme_voice_count(this.gmeCtx)}},{key:"getNumSubtunes",value:function(){if(this.gmeCtx)return Im._gme_track_count(this.gmeCtx)}},{key:"getSubtune",value:function(){return this.subtune}},{key:"getPositionMs",value:function(){return this.gmeCtx?Im._gme_tell_scaled(this.gmeCtx):0}},{key:"getDurationMs",value:function(){return this.gmeCtx?this.metadata.play_length:0}},{key:"getMetadata",value:function(){return this.metadata}},{key:"getParameter",value:function(e){return this.params[e]}},{key:"setParameter",value:function(e,t){switch(e){case"subbass":case"stereoWidth":this.params[e]=parseFloat(t);break;default:console.warn('GMEPlayer has no parameter with id "%s".',e)}}},{key:"isPlaying",value:function(){return!this.isPaused()&&1!==Im._gme_track_ended(this.gmeCtx)}},{key:"getTempo",value:function(){return this.tempo}},{key:"setTempo",value:function(e){this.tempo=e,this.gmeCtx&&Im._gme_set_tempo(this.gmeCtx,e)}},{key:"setFadeout",value:function(e){this.gmeCtx&&Im._gme_set_fade(this.gmeCtx,e,4e3)}},{key:"getVoiceMask",value:function(){return this.voiceMask}},{key:"setVoiceMask",value:function(e){if(this.gmeCtx){var t=0;e.forEach((function(e,n){e||(t+=1<<n)})),Im._gme_mute_voices(this.gmeCtx,t),Im._gme_ignore_silence(this.gmeCtx,0===t?0:1),console.log("GMEPlayer: Silence detection is %s.",0===t?"enabled":"disabled"),this.voiceMask=e}}},{key:"doIncrementalSeek",value:function(e){var t=this;this.seekRequestId=requestIdleCallback((function(){var n=Math.min(t.getPositionMs()+e,t.seekTargetMs);Im._gme_seek_scaled(t.gmeCtx,n),n<t.seekTargetMs?t.doIncrementalSeek(e):(Im._gme_set_tempo(t.gmeCtx,t.tempo),t.seekTargetMs=null,t.seekRequestId=null)}))}},{key:"seekMs",value:function(e){var t=this;if(this.gmeCtx)if(Pm[this.currentFileExt]){cancelIdleCallback(this.seekRequestId),this.seekTargetMs=e;var n=Pm[this.currentFileExt];e<this.getPositionMs()&&Im._gme_seek_scaled(this.gmeCtx,0),Im._gme_set_tempo(this.gmeCtx,2),this.doIncrementalSeek(n)}else this.muteAudioDuringCall(this.audioNode,(function(){return Im._gme_seek_scaled(t.gmeCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.gmeCtx&&Im._gme_delete(this.gmeCtx),this.gmeCtx=null,console.debug("GMEPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&pm(t.prototype,n),r&&pm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(lm);function Em(e){return(Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sm(Object(n),!0).forEach((function(t){Vm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vm(e,t,n){return(t=Om(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Om(r.key),r)}}function Om(e){var t=function(e,t){if("object"!==Em(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Em(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Em(t)?t:String(t)}function xm(e,t){return(xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jm(e);if(t){var o=jm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cm(this,n)}}function Cm(e,t){if(t&&("object"===Em(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dm(e)}function Dm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jm(e){return(jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fm,Bm=["mdx"],Lm=Math.pow(2,16)-1,Um=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xm(e,t)}(s,e);var t,n,r,o=Am(s);function s(){var e;Tm(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),Object(i.a)(Dm(e)),e.core.FS.mkdirTree("/mdx"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/mdx"),e.name="Sharp X68000 MDX Player",e.speed=1,e.mdxCtx=e.core._mdx_create_context(),e.core._mdx_set_rate(e.sampleRate),e.core._mdx_set_dir(e.mdxCtx,"/mdx"),e.fileExtensions=Bm,e.buffer=e.core._malloc(4*e.bufferSize),e}return t=s,(n=[{key:"loadData",value:function(e,t){var n,r=this;this.filepathMeta=lm.metadataFromFilepath(t);var o=Ks.a.dirname(t),s=Ks.a.join("/mdx",t);return nu(this.core,s,e).then((function(){var e=r.core.ccall("mdx_get_pdx_filename","string",["number","string"],[r.mdxCtx,s]);if(e){var t=Ks.a.join("/mdx",o,e),n=Ti.CATALOG_PREFIX+Ks.a.join(o,e.toUpperCase());return tu(r.core,t,n)}})).then((function(){r.muteAudioDuringCall(r.audioNode,(function(){if(0!==(n=r.core.ccall("mdx_open","number",["number","string","string"],[r.mdxCtx,s,null])))throw console.error("mdx_load_file failed. error code: %d",n),Error("mdx_load_file failed");r.core._mdx_set_speed(r.mdxCtx,r.speed);var e=r.core._malloc(256);r.core._mdx_get_title(r.mdxCtx,e);var o=r.core.HEAPU8.subarray(e,e+256),a=o.indexOf(0),i=new TextDecoder("shift-jis").decode(o.subarray(0,a));r.metadata={title:i||Ks.a.basename(t)},r.resume(),r.emit("playerStateUpdate",Nm(Nm({},r.getBasePlayerState()),{},{isStopped:!1}))}))}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._mdx_calc_sample(this.mdxCtx,this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/Lm}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._mdx_set_speed(this.mdxCtx,e)}},{key:"getPositionMs",value:function(){return this.core._mdx_get_position_ms(this.mdxCtx)}},{key:"getDurationMs",value:function(){return 1e3*this.core._mdx_get_length(this.mdxCtx)}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"getVoiceName",value:function(e){if(this.mdxCtx)return this.core.UTF8ToString(this.core._mdx_get_track_name(this.mdxCtx,e))}},{key:"getNumVoices",value:function(){if(this.mdxCtx)return this.core._mdx_get_tracks(this.mdxCtx)}},{key:"getVoiceMask",value:function(){for(var e=[],t=this.core._mdx_get_track_mask(this.mdxCtx),n=0;n<this.core._mdx_get_tracks(this.mdxCtx);n++)e.push(0==(t>>n&1));return e}},{key:"setVoiceMask",value:function(e){var t=0;e.forEach((function(e,n){e||(t+=1<<n)})),this.mdxCtx&&this.core._mdx_set_track_mask(this.mdxCtx,t)}},{key:"seekMs",value:function(e){var t=this;this.muteAudioDuringCall(this.audioNode,(function(){return t.core._mdx_set_position_ms(t.mdxCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.core._mdx_close(this.mdxCtx),console.debug("MDXPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Rm(t.prototype,n),r&&Rm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(lm),qm=n(63),zm=n.n(qm),Hm=n(30),Wm=n.n(Hm);function Gm(e){return(Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $m(e){return function(e){if(Array.isArray(e))return Xm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Km(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Gm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ym=n(9);n(140);var Qm=[126,127,9,1,247],Jm=[6,38,96,97,98,99,100,101],Zm=(Km(Fm={},Ym.EVENT_META_TEXT,"Text"),Km(Fm,Ym.EVENT_META_COPYRIGHT_NOTICE,"Copyright"),Km(Fm,Ym.EVENT_META_TRACK_NAME,"Track"),Km(Fm,Ym.EVENT_META_INSTRUMENT_NAME,"Instrument"),Km(Fm,Ym.EVENT_META_LYRICS,"Lyrics"),Km(Fm,Ym.EVENT_META_MARKER,"Marker"),Km(Fm,Ym.EVENT_META_CUE_POINT,"Cue point"),Fm);function ep(e){return("[F0 "+e.map((function(e){return("0"+e.toString(16)).slice(-2)})).join(" ")+"]").toUpperCase()}function tp(e){Object(i.a)(this),e=e||{},this.output=e.output||null,this.synth=e.synth||null,this.programChangeCb=e.programChangeCb,this.speed=1,this.skipSilence=e.skipSilence||!1,this.lastProcessPlayTimestamp=0,this.lastSendTimestamp=0,this.events=[],this.paused=!0,this.useWebMIDI=!1,this.sampleRate=e.sampleRate||44100,this.channelsInUse=[],this.channelMask=[],this.channelProgramNums=[],this.textInfo=[],window.addEventListener("unload",this.stop)}tp.prototype.load=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.stop(),this.position=0,this.elapsedTime=0;var n=e.tracks.map((function(t,n){return e.getTrackEvents(n)}));t?(console.debug("Processing MIDI track loops..."),this.events=e.getLoopedEvents(n,2)):this.events=e.getEvents(),this.summarizeMidiEvents()},tp.prototype.doSkipSilence=function(){var e=this,t=0,n=0,r=0,o=this.events.find((function(e){return e.subtype===Ym.EVENT_MIDI_NOTE_ON}));if(o&&o.playTime>0)if(this.useWebMIDI){for(var s,a=[];this.events[this.position]!==o;){var i=this.events[this.position];if(this.position++,i.type===Ym.EVENT_SYSEX||i.type===Ym.EVENT_DIVSYSEX){if(console.debug("Sysex event at %s ms:",Math.floor(i.playTime),ep(i.data)),i.data&&0===i.data[3]&&0===i.data[4])t+=500,n+=500;else{var u=.5*i.length;t+=u,n+=u}r++,s=[i.type].concat($m(i.data))}else if(-1!==Ym.MIDI_1PARAM_EVENTS.indexOf(i.subtype))t+=2,n+=2,s=[(i.subtype<<4)+i.channel,i.param1];else{if(-1===Ym.MIDI_2PARAMS_EVENTS.indexOf(i.subtype))continue;t+=2,n+=2,s=[(i.subtype<<4)+i.channel,i.param1,i.param2||0]}a.push({message:s,timestamp:this.lastProcessPlayTimestamp+n})}a.forEach((function(t){var n=t.message,r=t.timestamp;e.send(n,r)})),console.log("Time to first note %s ms was updated to %s ms; %s sysex events",Math.round(o.playTime),t,r),this.lastProcessPlayTimestamp+=t-o.playTime}else this.setPosition(o.playTime-50)},tp.prototype.play=function(e){return 0===this.position?(this.endCallback=e,this.reset(),this.lastProcessPlayTimestamp=performance.now(),this.skipSilence&&this.doSkipSilence(),this.resume(),1):0},tp.prototype.processPlaySynth=function(e,t){this.lastProcessPlayTimestamp=performance.now();for(var n=e,r=0,o=64,s=null,a=this.synth,i=1e3*this.speed*(o/this.sampleRate)/2,u=2*t;u>0;u-=o){if(o>u&&(o=u),!this.paused){var l=this.position;for(this.elapsedTime+=i;this.events[l]&&this.elapsedTime>=this.events[l].playTime;l++)switch((s=this.events[l]).subtype){case Ym.EVENT_MIDI_NOTE_ON:if(!this.channelMask[s.channel])break;0===s.param2?a.noteOff(s.channel,s.param1):a.noteOn(s.channel,s.param1,s.param2);break;case Ym.EVENT_MIDI_NOTE_OFF:a.noteOff(s.channel,s.param1);break;case Ym.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(s.channel,s.param1),a.programChange(s.channel,s.param1);break;case Ym.EVENT_MIDI_PITCH_BEND:a.pitchBend(s.channel,(s.param2<<7)+s.param1);break;case Ym.EVENT_MIDI_CONTROLLER:a.controlChange(s.channel,s.param1,s.param2)}this.position=l}a.render(e,o),e+=4*o,r+=o}if(this.position>=this.events.length){for(var c=0,d=0;d<t;d+=8)if(a.getValue(n+d,"float")>.001){c=1;break}if(0===c)return this.position=0,this.paused=!0,0}return r},tp.prototype.processPlay=function(){var e=performance.now(),t=(e-this.lastProcessPlayTimestamp)*this.speed;if(this.lastProcessPlayTimestamp=e,!this.paused){var n=0,r=0,o=null;this.elapsedTime+=t;for(var s=this.events[this.position];this.events[this.position]&&s.playTime<this.elapsedTime+33;){if(o=null,r=0,s.type===Ym.EVENT_SYSEX||s.type===Ym.EVENT_DIVSYSEX)o=[s.type].concat($m(s.data)),r=s.data&&0===s.data[3]&&0===s.data[4]?50:s.data.length/2,n>0?console.debug("Sysex event at %s ms delayed %s ms:",Math.floor(s.playTime),n,ep(s.data)):console.debug("Sysex event at %s ms:",Math.floor(s.playTime),ep(s.data));else switch(s.subtype){case Ym.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(s.channel,s.param1),o=[(s.subtype<<4)+s.channel,s.param1];break;case Ym.EVENT_MIDI_CHANNEL_AFTERTOUCH:o=[(s.subtype<<4)+s.channel,s.param1];break;case Ym.EVENT_MIDI_NOTE_OFF:case Ym.EVENT_MIDI_NOTE_ON:case Ym.EVENT_MIDI_NOTE_AFTERTOUCH:case Ym.EVENT_MIDI_CONTROLLER:case Ym.EVENT_MIDI_PITCH_BEND:if(!this.channelMask[s.channel])break;o=[(s.subtype<<4)+s.channel,s.param1,s.param2||0]}if(o){var a=(s.playTime-this.elapsedTime)/this.speed+this.lastProcessPlayTimestamp;this.send(o,a+n),n+=r,this.lastSendTimestamp=a}this.position++,s=this.events[this.position]}this.position>=this.events.length&&(setTimeout(this.endCallback,133),this.position=0,this.paused=!0)}},tp.prototype.handleProgramChange=function(e,t){this.channelProgramNums[e]=t,this.programChangeCb()},tp.prototype.togglePause=function(){return this.paused=!this.paused,!0===this.paused&&this.panic(this.lastSendTimestamp+10),this.paused},tp.prototype.resume=function(){this.paused=!1},tp.prototype.stop=function(){this.paused=!0,this.panic()},tp.prototype.send=function(e,t){try{this.output.send(e,t)}catch(t){console.warn(t),console.warn(e)}},tp.prototype.panic=function(e){if(this.useWebMIDI)for(var t=0;t<16;t++)this.send([(Ym.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(Ym.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(Ym.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e);else{for(var n=0;n<16;n++)this.synth.controlChange(n,64,0);this.synth.panic()}},tp.prototype.reset=function(e){if(this.useWebMIDI){this.send([Ym.EVENT_SYSEX].concat(Qm));for(var t=0;t<16;t++)this.send([(Ym.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(Ym.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(Ym.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e)}else this.synth.reset()},tp.prototype.getDuration=function(){return this.events&&this.events.length>0?this.events[this.events.length-1].playTime:0},tp.prototype.getPosition=function(){return this.elapsedTime},tp.prototype.setOutput=function(e){this.panic(this.lastSendTimestamp+10),this.output=e,this.setPosition(this.getPosition()-10)},tp.prototype.getSpeed=function(){return this.speed},tp.prototype.setSpeed=function(e){this.speed=Math.max(.1,Math.min(10,e))},tp.prototype.setPositionSynth=function(e){var t=this.synth;e.forEach((function(e){switch(e.subtype){case Ym.EVENT_MIDI_PROGRAM_CHANGE:t.programChange(e.channel,e.param1);break;case Ym.EVENT_MIDI_CONTROLLER:default:t.controlChange(e.channel,e.param1,e.param2)}}))},tp.prototype.setPositionWebMidi=function(e,t){var n,r=this,o=this.paused;this.paused=!0,t.forEach((function(e,t){e.subtype===Ym.EVENT_MIDI_PROGRAM_CHANGE?n=[(e.subtype<<4)+e.channel,e.param1]:e.subtype===Ym.EVENT_MIDI_CONTROLLER&&(n=[(e.subtype<<4)+e.channel,e.param1,e.param2]),r.send(n,r.lastSendTimestamp+20+2*t)}));var s=t.length,a=2*s;console.log("Scheduled %s events. Resuming playback in %s ms...",s,a),o||setTimeout(this.resume,a)},tp.prototype.setPosition=function(e){if(!(e<0||e>this.getDuration())){this.lastProcessPlayTimestamp=performance.now(),this.panic(this.lastSendTimestamp+10);var t={},n=[],r=this.position;for(e<this.elapsedTime&&(r=0);this.events[r]&&this.events[r].playTime<e;){var o=this.events[r];o.subtype===Ym.EVENT_MIDI_PROGRAM_CHANGE?(this.handleProgramChange(o.channel,o.param1),t["".concat(o.subtype,"-").concat(o.channel)]=o):o.subtype===Ym.EVENT_MIDI_CONTROLLER&&(Jm.includes(o.param1)?n.push(o):t["".concat(o.subtype,"-").concat(o.channel,"-").concat(o.param1)]=o),r++}n=Object.values(t).concat(n),this.useWebMIDI?this.setPositionWebMidi(e,n):this.setPositionSynth(n),this.elapsedTime=e,this.position=r}},tp.prototype.getChannelInUse=function(e){return!!this.channelsInUse[e]},tp.prototype.getChannelProgramNum=function(e){return this.channelProgramNums[e]},tp.prototype.summarizeMidiEvents=function(){this.textInfo=[];for(var e=this.channelsInUse,t=this.channelProgramNums,n=this.channelMask,r=0;r<16;r++)e[r]=0,t[r]=0,n[r]=!0;for(var o=0;o<this.events.length;o++){var s=this.events[o];switch(s.subtype){case Ym.EVENT_MIDI_NOTE_ON:e[s.channel]=1;break;case Ym.EVENT_MIDI_PROGRAM_CHANGE:t[s.channel]||this.handleProgramChange(s.channel,s.param1);break;case Ym.EVENT_META_TEXT:case Ym.EVENT_META_COPYRIGHT_NOTICE:case Ym.EVENT_META_TRACK_NAME:case Ym.EVENT_META_LYRICS:case Ym.EVENT_META_MARKER:case Ym.EVENT_META_CUE_POINT:var a=s.data.map((function(e){return String.fromCharCode(e)})).join("").trim();a&&!a.match(/nstd/i)&&this.textInfo.push("".concat(Zm[s.subtype],": ").concat(a))}}},tp.prototype.setChannelMute=function(e,t){if(this.channelMask[e]=!t,t){var n=this.lastSendTimestamp+10;this.send([(Ym.EVENT_MIDI_CONTROLLER<<4)+e,64,0],n),this.send([(Ym.EVENT_MIDI_CONTROLLER<<4)+e,120,0],n),this.synth.panicChannel(e)}},tp.prototype.setUseWebMIDI=function(e){this.useWebMIDI=e,this.setPosition(this.getPosition()-10)};var np=tp,rp=["Piano         ","Bright Piano  ","Electric Piano","Honky-tonk    ","Rhodes Piano  ","FM Piano      ","Harpsichord   ","Clavinet      ","Celesta       ","Glockenspiel  ","Music Box     ","Vibraphone    ","Marimba       ","Xylophone     ","Tubular Bells ","Dulcimer      ","Drawbar Organ ","Perc Organ    ","Rock Organ    ","Church Organ  ","Reed Organ    ","Accordion     ","Harmonica     ","Accordion     ","Steel Guitar  ","Nylon Guitar  ","Jazz Guitar   ","Clean Guitar  ","Muted Guitar  ","Overdrive Guit","Distort Guitar","Guit Harmonics","Acoustic Bass ","Finger Bass   ","Picked Bass   ","Fretless Bass ","Slap Bass 1   ","Slap Bass 2   ","Synth Bass 1  ","Synth Bass 2  ","Violin        ","Viola         ","Cello         ","Contrabass    ","Trem Strings  ","Pizz Strings  ","Harp          ","Timpani       ","String Ens 1  ","String Ens 2  ","Syn Strings 1 ","Syn Strings 2 ","Choir Aahs    ","Voice Oohs    ","Synth Voice   ","Orch Hit      ","Trumpet       ","Trombone      ","Tuba          ","Muted Trumpet ","French Horn   ","Brass Section ","SynthBrass 1  ","SynthBrass 2  ","Soprano Sax   ","Alto Sax      ","Tenor Sax     ","Baritone Sax  ","Oboe          ","English Horn  ","Bassoon       ","Clarinet      ","Piccolo       ","Flute         ","Recorder      ","Pan Flute     ","Blown Bottle  ","Shakuhachi    ","Whistle       ","Ocarina       ","Lead: Square  ","Lead: Sawtooth","Lead: Calliope","Lead: Chiff   ","Lead: Charang ","Lead: Voice   ","Lead: Fifths  ","Lead: Bass    ","Pad: New Age  ","Pad: Warm     ","Pad: Polysynth","Pad: Choir    ","Pad: Bowed    ","Pad: Metallic ","Pad: Halo     ","Pad: Sweep    ","FX: Rain      ","FX: Soundtrack","FX: Crystal   ","FX: Atmosphere","FX: Brightness","FX: Goblins   ","FX: Echoes    ","FX: Sci-fi    ","Sitar         ","Banjo         ","Shamisen      ","Koto          ","Kalimba       ","Bag pipe      ","Fiddle        ","Shanai        ","Tinkle Bell   ","Agogo         ","Steel Drums   ","Woodblock     ","Taiko Drum    ","Melodic Tom   ","Synth Drum    ","Reverse Cymbal","Fret Noise    ","Breath Noise  ","Seashore      ","Bird Tweet    ","Telephone Ring","Helicopter    ","Applause      ","Gunshot       "],op={0:"Std Drum Kit  ",8:"Room Drum Kit ",16:"Power Drum Kit",24:"Elec Drum Kit ",25:"TR808 Drum Kit",32:"Jazz Drum Kit ",40:"Brush Drum Kit"},sp=n(64),ap=n.n(sp);function ip(e){return(ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function up(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */up=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var s=t&&t.prototype instanceof f?t:f,a=Object.create(s.prototype),i=new w(o||[]);return r(a,"_invoke",{value:_(e,n,i)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};u(h,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==t&&n.call(b,s)&&(h=b);var v=p.prototype=f.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){var o;r(this,"_invoke",{value:function(r,s){function a(){return new t((function(o,a){!function r(o,s,a,i){var u=c(e[o],e,s);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==ip(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,i)}),(function(e){r("throw",e,a,i)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,i)}))}i(u.arg)}(r,s,o,a)}))}return o=o?o.then(a,a):a()}})}function _(e,t,n){var r="suspendedStart";return function(o,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw s;return S()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var i=I(a,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=c(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var s=o.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function E(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=u(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(M.prototype),u(M.prototype,a,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,o,s){void 0===s&&(s=Promise);var a=new M(l(t,n,r,o),s);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,i,"Generator"),u(v,s,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var i=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(i&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach((function(t){Pp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dp(e,t,n,r,o,s,a){try{var i=e[s](a),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function fp(e){return function(e){if(Array.isArray(e))return mp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kp(r.key),r)}}function gp(){return(gp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=bp(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function bp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ip(e)););return e}function vp(e,t){return(vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ip(e);if(t){var o=Ip(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mp(this,n)}}function Mp(e,t){if(t&&("object"===ip(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _p(e)}function _p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ip(e){return(Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pp(e,t,n){return(t=kp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kp(e){var t=function(e,t){if("object"!==ip(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ip(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ip(t)?t:String(t)}var wp=null,Ep={send:function(){}},Sp=[Ep],Np=["mid","midi","smf"],Vp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vp(e,t)}(a,e);var t,n,r,o,s=yp(a);function a(){var e;pp(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Pp(_p(e=s.call.apply(s,[this].concat(n))),"paramDefs",[{id:"synthengine",label:"Synth Engine",type:"enum",options:[{label:"MIDI Synthesis Engine",items:[{label:"SoundFont (libFluidLite)",value:0},{label:"Adlib/OPL3 FM (libADLMIDI)",value:1},{label:"MIDI Device (Web MIDI)",value:2}]}],defaultValue:0},{id:"soundfont",label:"Soundfont",type:"enum",options:Ti.SOUNDFONTS,defaultValue:Ti.SOUNDFONTS[1].items[0].value,dependsOn:{param:"synthengine",value:0}},{id:"reverb",label:"Reverb",type:"number",min:0,max:1,step:.01,defaultValue:.33,dependsOn:{param:"synthengine",value:0}},{id:"chorus",label:"Chorus",type:"number",min:0,max:1,step:.01,defaultValue:.5,dependsOn:{param:"synthengine",value:0}},{id:"fluidpoly",label:"Polyphony",type:"number",min:4,max:256,step:4,defaultValue:128,dependsOn:{param:"synthengine",value:0}},{id:"opl3bank",label:"OPL3 Bank",type:"enum",options:[],defaultValue:58,dependsOn:{param:"synthengine",value:1}},{id:"mididevice",label:"MIDI Device",type:"enum",options:[{label:"MIDI Output Devices",items:[{label:"Dummy device",value:0}]}],defaultValue:0,dependsOn:{param:"synthengine",value:2}},{id:"autoengine",label:"Auto Synth Engine Switching",hint:'Switch synth engine based on filenames. Files containing "FM" will play through Adlib/OPL3 synth.',type:"toggle",defaultValue:!0},{id:"gmreset",label:"GM Reset",hint:"Send a GM Reset sysex and reset all controllers on all channels.",type:"button"}]),Object(i.a)(_p(e)),(wp=e.core)._tp_init(e.sampleRate),wp.FS.mkdir(Ti.SOUNDFONT_MOUNTPOINT),wp.FS.mount(wp.FS.filesystems.IDBFS,{},Ti.SOUNDFONT_MOUNTPOINT),e.name="MIDI Player",e.fileExtensions=Np,e.activeChannels=[],e.buffer=wp._malloc(4*e.bufferSize*2),e.filepathMeta={},e.midiFilePlayer=new np({programChangeCb:zm()((function(){return e.emit("playerStateUpdate",{voiceNames:ap()(e.getNumVoices()).map(e.getVoiceName)})}),200),output:Ep,skipSilence:!0,sampleRate:e.sampleRate,synth:{noteOn:wp._tp_note_on,noteOff:wp._tp_note_off,pitchBend:wp._tp_pitch_bend,controlChange:wp._tp_control_change,programChange:wp._tp_program_change,panic:wp._tp_panic,panicChannel:wp._tp_panic_channel,render:wp._tp_render,reset:wp._tp_reset,getValue:wp.getValue}});for(var o=wp._adl_getBanksCount(),u=wp._adl_getBankNames(),l=[],c=0;c<o;c++)l.push({label:wp.UTF8ToString(wp.getValue(u+4*c,"*")),value:c});return e.paramDefs.find((function(e){return"opl3bank"===e.id})).options=[{label:"OPL3 Bank",items:l}],e.webMidiIsInitialized=!1,e.params={},e.transientParams={},e.paramDefs.filter((function(e){return"soundfont"!==e.id})).forEach((function(t){return e.setParameter(t.id,t.defaultValue)})),e}return t=a,(n=[{key:"handleFileSystemReady",value:function(){var e=this.paramDefs.find((function(e){return"soundfont"===e.id}));this.setParameter(e.id,e.defaultValue),this.updateSoundfontParamDefs()}},{key:"processAudioInner",value:function(e){if(2===this.params.synthengine)this.midiFilePlayer.processPlay();else if(this.midiFilePlayer.processPlaySynth(this.buffer,this.bufferSize))for(var t=0;t<e.length;t++)for(var n=0;n<this.bufferSize;n++)e[t][n]=wp.getValue(this.buffer+4*n*2+4*t,"float");else this.stop()}},{key:"metadataFromFilepath",value:function(e){var t=(e=decodeURIComponent(e)).split("/"),n=t.length,r={};return t.length>=3?r.formatted={title:"".concat(t[1]," - ").concat(t[n-1]),subtitle:t[0]}:2===t.length?r.formatted={title:t[1],subtitle:t[0]}:r.formatted={title:t[0],subtitle:"MIDI"},r}},{key:"ensureWebMidiInitialized",value:function(){var e=this;!0!==this.webMidiIsInitialized&&(this.webMidiIsInitialized=!0,console.debug("Requesting MIDI output devices."),"function"==typeof navigator.requestMIDIAccess?navigator.requestMIDIAccess({sysex:!0}).then((function(t){0===t.outputs.length?console.warn("No MIDI output devices found."):(fp(t.outputs.values()).forEach((function(t){console.debug("MIDI Output:",t),Sp.push(t),e.paramDefs.find((function(e){return"mididevice"===e.id})).options[0].items.push({label:t.name,value:Sp.length-1})})),e.setParameter("mididevice",1))})):console.warn("Web MIDI API not supported. Try Chrome if you want to use external MIDI output devices."))}},{key:"loadData",value:(o=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){dp(s,r,o,a,i,"next",e)}function i(e){dp(s,r,o,a,i,"throw",e)}a(void 0)}))}}(up().mark((function e(t,n){var r,o,s,a,i,u,l,c,d,f,m=this;return up().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureWebMidiInitialized(),this.filepathMeta=this.metadataFromFilepath(n),r={},this.getParameter("autoengine")&&(r.synthengine=this.getSynthengineBasedOnFilename(n),r.opl3bank=this.getOpl3bankBasedOnFilename(n)),0!==this.getParameter("synthengine")){e.next=22;break}return o=eu(n),s=!1,e.next=9,Si.fetchCached(o);case 9:if(a=e.sent,!(i=a.soundfont)){e.next=21;break}if(u=Ks.a.basename(Zi(i)),l="user/".concat(u),r.soundfont=l,this.getParameter("soundfont")===l){e.next=19;break}return e.next=18,tu(wp,"".concat(Ti.SOUNDFONT_MOUNTPOINT,"/").concat(l),i);case 18:this.updateSoundfontParamDefs();case 19:["Centre Court Tennis","Goemon","Bomberman","GoldenEye","Perfect Dark","Banjo Kazooie","Diddy Kong","Zelda"].some((function(e){return i.includes(e)}))&&(console.debug("MIDI channel 10 melodic mode enabled for %s.",u),s=!0);case 21:wp._tp_set_ch10_melodic(s);case 22:for(Object.keys(this.params).forEach((function(e){r[e]!==m.transientParams[e]&&m.setTransientParameter(e,r[e])})),c=new Wm.a(t),d=n.includes("SoundFont MIDI"),this.midiFilePlayer.load(c,d),this.midiFilePlayer.play((function(){return m.emit("playerStateUpdate",{isStopped:!0})})),this.activeChannels=[],f=0;f<16;f++)this.midiFilePlayer.getChannelInUse(f)&&this.activeChannels.push(f);this.resume(),this.emit("playerStateUpdate",cp(cp({},this.getBasePlayerState()),{},{isStopped:!1}));case 31:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getSynthengineBasedOnFilename",value:function(e){return e.toLowerCase().replace("_"," ").match(/(\bfm|fm\b)/i)?1:null}},{key:"getOpl3bankBasedOnFilename",value:function(e){var t=e.toLowerCase().replace("_"," "),n=this.paramDefs.find((function(e){return"opl3bank"===e.id}));if(n){var r=n.options[0].items,o=function(e){return r.findIndex((function(t){return t.label.indexOf(e)>-1}))},s=n.defaultValue;if(t.indexOf("[rick]")>-1?s=o("Descent:: Rick"):t.indexOf("[ham]")>-1?s=o("Descent:: Ham"):t.indexOf("[int]")>-1?s=o("Descent:: Int"):t.indexOf("descent 2")>-1?s=o("Descent 2"):t.indexOf("magic carpet")>-1?s=o("Magic Carpet"):t.indexOf("duke nukem")>-1?s=o("Duke Nukem"):t.indexOf("wacky wheels")>-1?s=o("Apogee IMF"):t.indexOf("warcraft 2")>-1?s=o("Warcraft 2"):t.indexOf("warcraft")>-1?s=o("Warcraft"):t.indexOf("system shock")>-1?s=o("System Shock"):t.indexOf("/hexen")>-1||t.indexOf("/heretic")>-1?s=o("Hexen"):t.indexOf("/raptor")>-1?s=o("Raptor"):t.indexOf("/doom 2")>-1?s=o("Doom 2"):t.indexOf("/doom")>-1&&(s=o("DOOM")),s>-1)return s}return null}},{key:"isPlaying",value:function(){return!this.midiFilePlayer.paused}},{key:"suspend",value:function(){gp(Ip(a.prototype),"suspend",this).call(this),this.midiFilePlayer.stop()}},{key:"stop",value:function(){this.suspend(),console.debug("MIDIPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}},{key:"togglePause",value:function(){return this.midiFilePlayer.togglePause()}},{key:"getDurationMs",value:function(){return this.midiFilePlayer.getDuration()}},{key:"getPositionMs",value:function(){return this.midiFilePlayer.getPosition()}},{key:"seekMs",value:function(e){return this.midiFilePlayer.setPosition(e)}},{key:"getTempo",value:function(){return this.midiFilePlayer.getSpeed()}},{key:"setTempo",value:function(e){this.midiFilePlayer.setSpeed(e)}},{key:"getNumVoices",value:function(){return this.activeChannels.length}},{key:"getVoiceName",value:function(e){var t=this.activeChannels[e],n=this.midiFilePlayer.channelProgramNums[t];return 9===t?op[n]||op[0]:rp[n]}},{key:"getVoiceMask",value:function(){var e=this;return this.activeChannels.map((function(t){return e.midiFilePlayer.channelMask[t]}))}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,n){var r=t.activeChannels[n];t.midiFilePlayer.setChannelMute(r,!e)}))}},{key:"getMetadata",value:function(){return cp(cp({},this.filepathMeta),{},{infoTexts:[this.midiFilePlayer.textInfo.join("\n")].filter((function(e){return""!==e}))})}},{key:"getParameter",value:function(e){return"fluidpoly"===e?wp._tp_get_polyphony():null!=this.transientParams[e]?this.transientParams[e]:this.params[e]}},{key:"updateSoundfontParamDefs",value:function(){this.paramDefs=this.paramDefs.map((function(e){if("soundfont"===e.id){var t=e.options[0],n="".concat(Ti.SOUNDFONT_MOUNTPOINT,"/user/");wp.FS.analyzePath(n).exists&&(t.items=wp.FS.readdir(n).filter((function(e){return e.match(/\.sf2$/i)})).map((function(e){return{label:e,value:"user/".concat(e)}})))}return e}))}},{key:"setTransientParameter",value:function(e,t){null==t?this.setParameter(e,this.params[e]):this.setParameter(e,t,!0)}},{key:"setFluidChorus",value:function(e){var t=wp._tp_get_fluid_synth();if(0===e)wp._fluid_synth_set_chorus_on(t,!1);else{wp._fluid_synth_set_chorus_on(t,!0);var n=Math.round(ru(e,0,4)),r=Math.round(ru(e,2,14));wp._fluid_synth_set_chorus(t,3,n,.3,r,0)}}},{key:"setParameter",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case"synthengine":t=parseInt(t,10),this.midiFilePlayer.panic(),2===t?this.midiFilePlayer.setUseWebMIDI(!0):(this.midiFilePlayer.setUseWebMIDI(!1),wp._tp_set_synth_engine(t));break;case"soundfont":var o="".concat(Ti.SOUNDFONT_URL_PATH,"/").concat(t);tu(wp,"".concat(Ti.SOUNDFONT_MOUNTPOINT,"/").concat(t),o).then((function(e){return n._loadSoundfont(e)}));break;case"reverb":t=parseFloat(t),wp._tp_set_reverb(t);break;case"chorus":t=parseFloat(t),this.setFluidChorus(t);break;case"fluidpoly":t=parseInt(t,10),wp._tp_set_polyphony(t);break;case"opl3bank":t=parseInt(t,10),wp._tp_set_bank(t);break;case"autoengine":t=!!t;break;case"mididevice":this.midiFilePlayer.setOutput(Sp[t]);break;case"gmreset":this.midiFilePlayer.reset();break;default:console.warn('MIDIPlayer has no parameter with id "%s".',e)}r?this.transientParams[e]=t:(delete this.transientParams[e],this.params[e]=t)}},{key:"_loadSoundfont",value:function(e){console.log("Loading soundfont %s...",e),this.muteAudioDuringCall(this.audioNode,(function(){-1!==wp.ccall("tp_load_soundfont","number",["string"],[e])&&console.log("Loaded soundfont.")}))}}])&&hp(t.prototype,n),r&&hp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(lm);function Tp(e){return(Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Op(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(n),!0).forEach((function(t){xp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xp(e,t,n){return(t=Lp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ap(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s,a,i=[],u=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||Dp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cp(e){return function(e){if(Array.isArray(e))return jp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(e,t){if(e){if("string"==typeof e)return jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jp(e,t):void 0}}function jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lp(r.key),r)}}function Lp(e){var t=function(e,t){if("object"!==Tp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tp(t)?t:String(t)}function Up(e,t){return(Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wp(e);if(t){var o=Wp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zp(this,n)}}function zp(e,t){if(t&&("object"===Tp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hp(e)}function Hp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wp(e){return(Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gp=["miniusf"],$p=Math.pow(2,16)-1,Xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Up(e,t)}(s,e);var t,n,r,o=qp(s);function s(){var e;Fp(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),Object(i.a)(Hp(e)),e.core.FS.mkdirTree("/n64"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/n64"),e.name="N64 Player",e.fileExtensions=Gp,e.buffer=e.core._malloc(4*e.bufferSize),e}return t=s,(n=[{key:"loadData",value:function(e,t){var n,r=this;this.filepathMeta=lm.metadataFromFilepath(t);var o=String.fromCharCode.apply(null,e).match(/_lib=([^\n]+)/).slice(1);if(0===o.length)throw new Error("No .usflib references found");var s=Ks.a.dirname(t),a=Ks.a.join("/n64",t),i=[nu(this.core,a,e)].concat(Cp(o.map((function(e){var t=Ks.a.join("/n64",s,e),n=Ti.CATALOG_PREFIX+Ks.a.join(s,e);return tu(r.core,t,n)}))));return Promise.all(i).then((function(e){var o=Ap(e,1)[0];r.muteAudioDuringCall(r.audioNode,(function(){if(0!==(n=r.core.ccall("n64_load_file","number",["string","number","number","number"],[o,r.buffer,r.bufferSize,r.sampleRate])))throw console.error("n64_load_file failed. error code: %d",n),Error("n64_load_file failed");r.metadata={title:t},r.resume(),r.emit("playerStateUpdate",Op(Op({},r.getBasePlayerState()),{},{isStopped:!1}))}))}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(this.core._n64_render_audio(this.buffer,this.bufferSize)<=0&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/$p}},{key:"getPositionMs",value:function(){return this.core._n64_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._n64_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.core._n64_seek_ms(e)}},{key:"stop",value:function(){this.suspend(),this.core._n64_shutdown(),console.debug("N64Player.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Bp(t.prototype,n),r&&Bp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(lm);function Kp(e){return(Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(n),!0).forEach((function(t){Jp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jp(e,t,n){return(t=th(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,th(r.key),r)}}function th(e){var t=function(e,t){if("object"!==Kp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Kp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kp(t)?t:String(t)}function nh(e,t){return(nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ah(e);if(t){var o=ah(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oh(this,n)}}function oh(e,t){if(t&&("object"===Kp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sh(e)}function sh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ah(e){return(ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ih=["v2m"],uh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nh(e,t)}(s,e);var t,n,r,o=rh(s);function s(){var e;Zp(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),Object(i.a)(sh(e)),e.name="Farbrausch V2M Player",e.speed=1,e.fileExtensions=ih,e.buffer=e.core._malloc(8*e.bufferSize),e}return t=s,(n=[{key:"loadData",value:function(e,t){var n=this.core.ccall("v2m_open","number",["array","number","number"],[e,e.byteLength,this.sampleRate]);if(0!==n)throw console.error("v2m_open failed. error code: %d",n),Error("Unable to load this file!");this.metadata={title:t},this.resume(),this.emit("playerStateUpdate",Qp(Qp({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._v2m_write_audio(this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+4*t*2+4*n,"float")}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._v2m_set_speed(e)}},{key:"getPositionMs",value:function(){return this.core._v2m_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._v2m_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.core._v2m_seek_ms(e)}},{key:"stop",value:function(){this.suspend(),this.core._v2m_close(),console.debug("V2MPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&eh(t.prototype,n),r&&eh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(lm);function lh(e){return(lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ch(Object(n),!0).forEach((function(t){fh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ch(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fh(e,t,n){return(t=hh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hh(r.key),r)}}function hh(e){var t=function(e,t){if("object"!==lh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===lh(t)?t:String(t)}function gh(e,t){return(gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mh(e);if(t){var o=Mh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vh(this,n)}}function vh(e,t){if(t&&("object"===lh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yh(e)}function yh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mh(e){return(Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _h=Math.pow(2,16)-1,Ih=["it","mod","s3m","xm"],Ph=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gh(e,t)}(s,e);var t,n,r,o=bh(s);function s(){var e;mh(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),Object(i.a)(yh(e)),e.name="XMP Player",e.xmpCtx=e.core._xmp_create_context(),e.infoPtr=e.core._malloc(2048),e.fileExtensions=Ih,e.initialBPM=125,e.tempoScale=1,e._positionMs=0,e._durationMs=1e3,e.buffer=e.core._malloc(16*e.bufferSize),e}return t=s,(n=[{key:"processAudioInner",value:function(e){var t,n,r,o=this.infoPtr;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else{if(-1===(r=this.core._xmp_play_buffer(this.xmpCtx,this.buffer,4*this.bufferSize,1)))this.stop();else if(0!==r)throw this.suspend(),console.error("xmp_play_buffer failed. error code: %d",r),Error("xmp_play_buffer failed");this.core._xmp_get_frame_info(this.xmpCtx,o);var s=this.core.getValue(o+24,"i32");for(this._positionMs=this.core.getValue(o+28,"i32"),this._maybeInjectTempo(s),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/_h}}},{key:"_parseMetadata",value:function(){var e={},t=this.core,n=this.infoPtr;t._xmp_get_module_info(this.xmpCtx,n);var r=t.getValue(n+20,"*");return e.title=t.UTF8ToString(r,256),e.system=t.UTF8ToString(r+64,256),e.comment=t.UTF8ToString(t.getValue(n+24,"*"),512),t._xmp_get_frame_info(this.xmpCtx,n),this._durationMs=t.getValue(n+32,"i32"),e.patterns=t.getValue(r+128+0,"i32"),e.tracks=t.getValue(r+128+4,"i32"),e.numChannels=t.getValue(r+128+8,"i32"),e.numInstruments=t.getValue(r+128+12,"i32"),e.numSamples=t.getValue(r+128+16,"i32"),e.initialSpeed=t.getValue(r+128+20,"i32"),e.initialBPM=t.getValue(r+128+24,"i32"),e.moduleLength=t.getValue(r+128+28,"i32"),e.restartPosition=t.getValue(r+128+32,"i32"),e.title||(e.title=this.filepathMeta.title),this.initialBPM=e.initialBPM,e}},{key:"loadData",value:function(e,t){var n;if(this.filepathMeta=lm.metadataFromFilepath(t),0!==(n=this.core.ccall("xmp_load_module_from_memory","number",["number","array","number"],[this.xmpCtx,e,e.length])))throw console.error("xmp_load_module_from_memory failed. error code: %d",n),Error("xmp_load_module_from_memory failed");if(0!==(n=this.core._xmp_start_player(this.xmpCtx,this.sampleRate,0)))throw console.error("xmp_start_player failed. error code: %d",n),Error("xmp_start_player failed");this.metadata=this._parseMetadata(t),this.resume(),this.emit("playerStateUpdate",dh(dh({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"getVoiceMask",value:function(){for(var e=[],t=0;t<this.metadata.numChannels;t++)e.push(!this.core._xmp_channel_mute(this.xmpCtx,t,-1));return e}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,n){t.core._xmp_channel_mute(t.xmpCtx,n,e?0:1)}))}},{key:"getTempo",value:function(){return this.tempoScale}},{key:"setTempo",value:function(e){!this.metadata||this.metadata.initialSpeed?this.tempoScale=e:console.log("Unable to set speed for %s.",this.filepathMeta.title)}},{key:"_maybeInjectTempo",value:function(e){var t=this.core,n=Math.floor(Math.max(Math.min(this.metadata.initialBPM*this.tempoScale,255),20));if(n!==e){console.log("Injecting %d BPM into libxmp. (Initial: %d)",n,this.metadata.initialBPM);for(var r=t._malloc(8),o=0;o<8;o++)t.setValue(r+o,0,"i8");t.setValue(r+3,135,"i8"),t.setValue(r+4,n,"i32"),t._xmp_inject_event(this.xmpCtx,0,r)}}},{key:"getVoiceName",value:function(e){return"Ch ".concat(e+1)}},{key:"getNumVoices",value:function(){return this.metadata.numChannels}},{key:"getNumSubtunes",value:function(){return 0}},{key:"getPositionMs",value:function(){return this._positionMs}},{key:"getDurationMs",value:function(){return this._durationMs}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){var e=this.core._xmp_get_player(this.xmpCtx,8);return!this.isPaused()&&2===e}},{key:"seekMs",value:function(e){this.core._xmp_seek_time(this.xmpCtx,e)}},{key:"stop",value:function(){this.suspend(),this.core._xmp_stop_module(this.xmpCtx),console.debug("XMPPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&ph(t.prototype,n),r&&ph(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(lm),kh=n(41);function wh(e){return(wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eh(Object(n),!0).forEach((function(t){Nh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nh(e,t,n){return(t=Rh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Th(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rh(r.key),r)}}function Rh(e){var t=function(e,t){if("object"!==wh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wh(t)?t:String(t)}function Oh(e,t){return(Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dh(e);if(t){var o=Dh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ah(this,n)}}function Ah(e,t){if(t&&("object"===wh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ch(e)}function Ch(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dh(e){return(Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jh=["vgm","vgz","gym","s98","dro"],Fh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oh(e,t)}(s,e);var t,n,r,o=xh(s);function s(){var e;Vh(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),Object(i.a)(Ch(e)),e.name="LibVGM Player",e.speed=1,e.fileExtensions=jh,e.buffer=e.core._malloc(4*e.bufferSize*2),e.vgmCtx=e.core._lvgm_init(e.sampleRate),console.log("VPDBG: VGMPlayer start"),e}return t=s,(n=[{key:"loadData",value:function(e,t){var n=this.core.ccall("lvgm_load_data","number",["number","array","number"],[this.vgmCtx,e,e.byteLength]);if(0!==n)throw console.error("lvgm_load_data failed. error code: %d",n),Error("Unable to load this file!");this.core._lvgm_start(this.vgmCtx);var r=this.core._lvgm_get_metadata(this.vgmCtx),o={title:this.core.UTF8ToString(this.core.getValue(r+0,"i32")),artist:this.core.UTF8ToString(this.core.getValue(r+4,"i32")),game:this.core.UTF8ToString(this.core.getValue(r+8,"i32")),system:this.core.UTF8ToString(this.core.getValue(r+12,"i32")),date:this.core.UTF8ToString(this.core.getValue(r+16,"i32")),comment:this.core.UTF8ToString(this.core.getValue(r+20,"i32"))};o.formatted={title:o.game===o.title?o.title:Ji(o.game," - ")+o.title,subtitle:[o.artist,o.system].filter((function(e){return e})).join(" - ")+Ji(" (",o.date,")")},this.metadata=o,this.resume(),this.emit("playerStateUpdate",Sh(Sh({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._lvgm_render(this.vgmCtx,this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+4*t*2+4*n,"i32")/134217728}},{key:"getTempo",value:function(){if(this.vgmCtx)return this.core._lvgm_get_playback_speed(this.vgmCtx)}},{key:"setTempo",value:function(e){if(this.vgmCtx)return this.core._lvgm_set_playback_speed(this.vgmCtx,e)}},{key:"getPositionMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_position_ms(this.vgmCtx)}},{key:"getDurationMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_duration_ms(this.vgmCtx)}},{key:"getNumVoices",value:function(){if(this.vgmCtx)return this.core._lvgm_get_voice_count(this.vgmCtx)}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.vgmCtx&&this.core._lvgm_seek_ms(this.vgmCtx,e)}},{key:"getVoiceName",value:function(e){if(this.vgmCtx)return this.core.UTF8ToString(this.core._lvgm_get_voice_name(this.vgmCtx,e))}},{key:"getVoiceMask",value:function(){if(this.vgmCtx){for(var e=this.core._lvgm_get_voice_mask(this.vgmCtx),t=[],n=0n;n<64n;n++)t.push(0n===(e&1n<<n));return t}return[]}},{key:"setVoiceMask",value:function(e){var t=this;if(this.vgmCtx){setInterval((function(){console.log("_lvgm_get_chip_state: ",t.core.UTF8ToString(t.core._lvgm_get_chip_state(t.vgmCtx)))}),1e3);var n=0n;e.forEach((function(e,t){e||(n+=1n<<BigInt(t))})),this.core._lvgm_set_voice_mask(this.vgmCtx,n)}}},{key:"stop",value:function(){this.suspend(),this.vgmCtx&&this.core._lvgm_stop(this.vgmCtx),console.debug("VGMPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Th(t.prototype,n),r&&Th(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(lm);var Bh=function(e){var t=e.handlePlayerError,n=e.playerError,r=e.showPlayerError;return o.a.createElement("div",{hidden:!r,className:"error-box-outer"},o.a.createElement("div",{className:"error-box"},o.a.createElement("div",{className:"message"},"Error: ",n),o.a.createElement("button",{className:"box-button message-box-button",onClick:function(){return t(null)}},"Close")))},Lh=n(65),Uh=n.n(Lh),qh=n(66),zh=n.n(qh);function Hh(e){return(Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wh(e){return function(e){if(Array.isArray(e))return Gh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==Hh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Hh(s)?s:String(s)),r)}var o,s}function Xh(e,t){return(Xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Kh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jh(e);if(t){var o=Jh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yh(this,n)}}function Yh(e,t){if(t&&("object"===Hh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qh(e)}function Qh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jh(e){return(Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xh(e,t)}(a,e);var t,n,r,s=Kh(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),l(Qh(t=s.call(this,e))),t}return t=a,(n=[{key:"handleVoiceToggle",value:function(e,t){var n=this.props.voiceMask;(e=e.nativeEvent||{}).altKey||e.shiftKey||e.metaKey?n.every((function(e,n){return n===t===e}))?n.fill(!0):(n.fill(!1),n[t]=!0):n[t]=!n[t],this.props.handleSetVoiceMask(n)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"PlayerParams"},this.props.numVoices>1&&o.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},o.a.createElement("label",{className:"PlayerParams-label"},"Voices (alt+click to solo):"," "),o.a.createElement("div",{className:"PlayerParams-voiceList"},Wh(Array(this.props.numVoices)).map((function(t,n){return o.a.createElement("label",{className:"App-voice-label inline",key:n},o.a.createElement("input",{title:"Alt+click to solo. Alt+click again to unmute all.",type:"checkbox",onChange:function(t){return e.handleVoiceToggle(t,n)},checked:e.props.voiceMask[n]}),e.props.voiceNames[n])})))),o.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},o.a.createElement("label",{htmlFor:"tempo",className:"PlayerParams-label"},"Speed:"," "),o.a.createElement("input",{id:"tempo",disabled:this.props.ejected,type:"range",value:this.props.tempo,min:"0.3",max:"2.0",step:"0.05",onInput:this.props.handleTempoChange,onChange:this.props.handleTempoChange})," ",this.props.tempo.toFixed(2)),this.props.paramDefs.map((function(t){var n=e.props.getParameter(t.id),r=t.dependsOn;if(r&&e.props.getParameter(r.param)!==r.value)return null;switch(t.type){case"enum":return o.a.createElement("span",{key:t.id,className:"PlayerParams-param"},o.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label"},t.label,":"," "),o.a.createElement("select",{id:t.id,onChange:function(n){e.props.setParameter(t.id,n.target.value),e.forceUpdate()},value:n},t.options.map((function(e){return o.a.createElement("optgroup",{key:e.label,label:e.label},e.items.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.label)})))}))));case"number":return o.a.createElement("span",{key:t.id,className:"PlayerParams-param"},o.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label"},t.label,":"," "),o.a.createElement("input",{id:t.id,type:"range",title:t.hint,min:t.min,max:t.max,step:t.step,onChange:function(n){e.props.setParameter(t.id,n.target.value),e.forceUpdate()},value:n})," ",void 0!==n&&t.step>=1?n:n.toFixed(2));case"toggle":return o.a.createElement("span",{key:t.id,className:"PlayerParams-param"},o.a.createElement("input",{type:"checkbox",id:t.id,onChange:function(n){e.props.setParameter(t.id,n.target.checked),e.forceUpdate()},checked:n}),o.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label inline"},t.label));case"button":return o.a.createElement("button",{key:t.id,title:t.hint,className:"box-button",onClick:function(){e.props.setParameter(t.id,!0)}},t.label);default:return null}})))}}])&&$h(t.prototype,n),r&&$h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==eg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===eg(s)?s:String(s)),r)}var o,s}function ng(e,t){return(ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ag(e);if(t){var o=ag(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return og(this,n)}}function og(e,t){if(t&&("object"===eg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sg(e)}function sg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ag(e){return(ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ig=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}(a,e);var t,n,r,s=rg(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),l(sg(t=s.call(this,e))),t.node=o.a.createRef(),t.state={dragging:!1,draggedPos:null},t}return t=a,(n=[{key:"onMouseMove",value:function(e){if(this.state.dragging){var t=this.node.current,n=Math.max(Math.min((e.clientX-t.offsetLeft)/t.offsetWidth,1),0);this.setState({draggedPos:n}),this.props.onDrag(n)}}},{key:"onMouseDown",value:function(e){var t=this;e.preventDefault(),e.persist(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),this.setState({dragging:!0},(function(){return t.onMouseMove(e)}))}},{key:"onMouseUp",value:function(e){var t=this;document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),setTimeout((function(){t.setState({dragging:!1})}),150),this.props.onChange(this.state.draggedPos)}},{key:"render",value:function(){var e=100*Math.max(Math.min(this.state.dragging?this.state.draggedPos:this.props.pos,1),0)+"%";return o.a.createElement("div",{ref:this.node,className:"Slider",onMouseDown:this.onMouseDown},o.a.createElement("div",{className:"Slider-rail"}),o.a.createElement("div",{className:"Slider-knob",style:{left:e}}))}}])&&tg(t.prototype,n),r&&tg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function ug(e){return(ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==ug(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ug(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ug(s)?s:String(s)),r)}var o,s}function cg(e,t){return(cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pg(e);if(t){var o=pg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fg(this,n)}}function fg(e,t){if(t&&("object"===ug(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mg(e)}function mg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pg(e){return(pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}(a,e);var t,n,r,s=dg(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),l(mg(t=s.call(this,e))),t.state={draggedSongPositionMs:-1,currentSongPositionMs:0},t.timer=null,t}return t=a,(n=[{key:"componentDidUpdate",value:function(e){var t=this;!0===e.paused&&!1===this.props.paused?this.timer=setInterval((function(){var e=t.props,n=e.getCurrentPositionMs,r=e.currentSongDurationMs;t.setState({currentSongPositionMs:Math.min(n(),r)})}),100):!1===e.paused&&!0===this.props.paused&&clearInterval(this.timer)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"getSongPos",value:function(){return this.state.currentSongPositionMs/this.props.currentSongDurationMs}},{key:"getTimeLabel",value:function(){var e=this.state.draggedSongPositionMs>=0?this.state.draggedSongPositionMs:this.state.currentSongPositionMs;return this.getTime(e)}},{key:"getTime",value:function(e){var t=e<0?"-":"";e=Math.abs(e);var n,r=Math.floor(e/6e4),o=(Math.floor(e%6e4/100)/10).toFixed(1);return"".concat(t).concat(r,":").concat((n=o)<10?"0"+n:n)}},{key:"handlePositionDrag",value:function(e){var t=e.target?e.target.value:e;this.setState({draggedSongPositionMs:t*this.props.currentSongDurationMs})}},{key:"handlePositionDrop",value:function(e){this.setState({draggedSongPositionMs:-1,currentSongPositionMs:this.state.draggedSongPositionMs}),this.props.onChange(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"TimeSlider"},o.a.createElement(ig,{pos:this.getSongPos(),onDrag:this.handlePositionDrag,onChange:this.handlePositionDrop}),o.a.createElement("div",{className:"TimeSlider-labels"},o.a.createElement("div",null,this.getTimeLabel()),o.a.createElement("div",null,this.getTime(this.props.currentSongDurationMs))))}}])&&lg(t.prototype,n),r&&lg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.a.Component),gg=Object(r.memo)(bg);function bg(e){return o.a.createElement("div",{className:"VolumeSlider"},o.a.createElement("input",{type:"range",title:"Volume",min:0,max:150,step:1,onChange:e.onChange,onDoubleClick:e.handleReset,onContextMenu:e.handleReset,value:e.value}),o.a.createElement("div",{className:"VolumeSlider-labels"},o.a.createElement("div",null,"Volume"),o.a.createElement("div",null,e.value,"%")))}var vg=Object(r.memo)(yg);function yg(e){var t=e.currentSongDurationMs,n=e.currentSongNumSubtunes,s=e.currentSongNumVoices,a=e.currentSongSubtune,i=e.ejected,u=e.imageUrl,l=e.infoTexts,c=e.paused,d=e.showPlayerSettings,f=e.songUrl,m=e.subtitle,p=e.tempo,h=e.title,g=e.voiceNames,b=e.voiceMask,v=e.volume,y=e.handleSetVoiceMask,M=e.handleTempoChange,_=e.handleTimeSliderChange,I=e.handleVolumeChange,P=e.nextSubtune,k=e.prevSubtune,w=e.sequencer,E=e.toggleInfo,S=e.togglePause,N=Object(r.useCallback)((function(e){e.preventDefault(),E()}),[E]);return o.a.createElement("div",{className:"AppFooter"},o.a.createElement("div",{className:"AppFooter-main"},o.a.createElement("div",{className:"AppFooter-main-inner"},o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("span",{style:{whiteSpace:"nowrap"}},o.a.createElement("button",{onClick:S,title:c?"Resume":"Pause",className:"box-button",disabled:i},c?"  ":"  ")," ","Tune ",a+1," of ",n," ",o.a.createElement("button",{className:"box-button",disabled:i,onClick:k},"<")," ",o.a.createElement("button",{className:"box-button",disabled:i,onClick:P},">")),o.a.createElement(hg,{paused:c,currentSongDurationMs:t,getCurrentPositionMs:function(){return w&&w.getPlayer()?w.getPlayer().getPositionMs():0},onChange:_}),o.a.createElement(gg,{onChange:function(e){I(e.target.value)},handleReset:function(e){I(100),e.preventDefault(),e.stopPropagation()},title:"Double-click or right-click to reset to 100%.",value:v})),!i&&o.a.createElement("div",{className:"SongDetails"},o.a.createElement("div",{className:"SongDetails-title"},h," ",o.a.createElement("img",{alt:"Copy link",src:zh.a,style:{verticalAlign:"bottom"}})," ",o.a.createElement("a",{style:{color:"var(--neutral4)"},href:f},o.a.createElement("img",{alt:"Download",src:Uh.a,style:{verticalAlign:"bottom"}}))," ",l.length>0&&o.a.createElement("a",{onClick:N,href:"#"},""),o.a.createElement("span",{style:{marginLeft:"20px"}},m))))),d&&o.a.createElement("div",{className:"AppFooter-settings"},w.getPlayer()?o.a.createElement(Zh,{ejected:i,tempo:p,numVoices:s,voiceMask:b,voiceNames:g,handleTempoChange:M,handleSetVoiceMask:y,getParameter:w.getPlayer().getParameter,setParameter:w.getPlayer().setParameter,paramDefs:w.getPlayer().getParamDefs()}):o.a.createElement("div",null,"(No active player)")),u&&o.a.createElement("img",{alt:"Cover art",className:"AppFooter-art",src:u}))}function Mg(e){return(Mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ig(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==Mg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Mg(s)?s:String(s)),r)}var o,s}function Pg(e,t){return(Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function kg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Eg(e);if(t){var o=Eg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wg(this,n)}}function wg(e,t){if(t&&("object"===Mg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Eg(e){return(Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sg,Ng=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}(a,e);var t,n,r,s=kg(a);function a(){return _g(this,a),s.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("header",{className:"AppHeader"},o.a.createElement(Ta,{className:"AppHeader-title",to:{pathname:"/"}},"Chiptheory"),this.props.user?o.a.createElement(o.a.Fragment,null,"  ","Logged in as ",this.props.user.displayName,"."," ",o.a.createElement("a",{href:"#",onClick:this.props.handleLogout},"Logout")):o.a.createElement(o.a.Fragment,null,"  ",o.a.createElement("a",{href:"#",onClick:this.props.handleLogin},"Login/Sign Up")," ","to Save Analyses (broken)"),"  ","Built on top of"," ",o.a.createElement("a",{href:"https://chiptune.app/",target:"_blank",rel:"noopener noreferrer"},"Chip Player JS"),"  ",o.a.createElement("a",{href:"https://github.com/vpavlenko/",target:"_blank",rel:"noopener noreferrer"},"Send feedback"))}}])&&Ig(t.prototype,n),r&&Ig(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.a.PureComponent),Vg=n(42),Tg=n.n(Vg),Rg=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Og=df.a.span(Sg||(Sg=Rg(["\n  border-radius: 0px;\n  background-color: ",";\n  color: black;\n  font-family: Helvetica, sans-serif;\n  font-size: 12pt;\n  padding: 0px 5px;\n  max-width: 400px;\n"],["\n  border-radius: 0px;\n  background-color: ",";\n  color: black;\n  font-family: Helvetica, sans-serif;\n  font-size: 12pt;\n  padding: 0px 5px;\n  max-width: 400px;\n"])),(function(e){return e.color||"#ccc"})),xg=function(e){var t,n=e.analysis,o=e.index,s=(Object.entries(n.modulations||{}),[]);return n.comment&&s.push(r.createElement(Og,{key:"comment",color:"#cc4"},n.comment)),4!==(null!==(t=n.beatsPerMeasure)&&void 0!==t?t:4)&&s.push(r.createElement(Og,{key:"beats",color:"#99f"},"".concat(n.beatsPerMeasure,"/4"))),n.tags&&n.tags.length>0&&n.tags.map((function(e){return s.push(r.createElement(Og,{key:"tag_".concat(e)},e.split(":").join(": ").replace(/_/g," ")))})),n.romanNumerals&&s.push(r.createElement(li,{key:"formAndHarmony",analysis:n})),n.basedOn&&s.push(r.createElement(Og,{key:"basedOn",color:"#cfc"},n.basedOn)),0===s.length&&s.push(r.createElement(Og,{key:"index",color:"white"},o)),r.createElement("div",{style:{display:"inline-block",backgroundColor:"transparent",margin:"5px 20px 20px 0px",padding:"0px",fontFamily:"Helvetica, sans-serif",fontSize:"12pt",color:"white",cursor:"pointer"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},s))},Ag=function(){return(Ag=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Cg=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Dg=function(e,t){var n=t.slice(0,t.indexOf("/")),r=t.slice(t.indexOf("/")+1);return"chords"===n?(" "+(e.romanNumerals||"").replace(/-/g," ")+" ").includes(" "+r.replace(/-/g," ")+" "):"cover"===n?Boolean(e.basedOn):(e.tags||[]).some((function(e){return e===t.replace("/",":")}))},jg=["VI VII I","I III","III IV V","i VI i","i I","IV iv","I VII","VII VI V","VII VI v","V IV I","V vi","V/ii","V7/IV","V/V","V/vi","viio/V","viio7","V+","bII","bvii","io7","I7","I^"],Fg={dorian:[0,2,3,5,7,9,10],pentatonic:[0,3,5,7,10],chromatic:[0,1,2,3,4,5,6],blues:[0,3,5,6,7,10],"whole-tone":[0,2,4,6,8,10],phrygian:[0,1,3,5,7,8,10],nikriz:[0,2,3,6,7],melodic_minor:[0,2,3,5,7,9,11],mixed_minor:[8,9,10,11],natural_minor:[0,2,3,5,7,8,10],mixolydian:[0,2,4,5,7,9,10],lydian:[0,2,4,6,7,9,11],hexatonic_minor_no6:[0,2,3,5,7,10],major:[0,2,4,5,7,9,11],major_pentatonic:[0,2,4,7,9],harmonic_major:[0,2,4,5,7,8,11]},Bg=Object(r.memo)((function(e){var t=e.analyses,n=e.searchPath;n=n||"";var o=Object(va.g)(),s=Object(r.useState)({}),a=s[0],i=s[1],u=Object(r.useState)(0),l=u[0],c=u[1],d=n.slice(0,n.indexOf("/")),f=n.slice(n.indexOf("/")+1);return Object(r.useEffect)((function(){var e={scale:{phrygian:[],natural_minor:[],dorian:[],melodic_minor:[],nikriz:[],mixed_minor:[],hexatonic_minor_no6:[],pentatonic:[],blues:[],mixolydian:[],major:[],lydian:[],harmonic_major:[],major_pentatonic:[]},bass:{},middle_voice:{}},n=0;t&&Object.keys(t).map((function(r){return Object.keys(t[r]).map((function(o){Object.entries(t[r][o]).map((function(t){var s=t[0],a=t[1];(a.tags||[]).map((function(t){var n=t.split(":"),i=n[0],u=n[1];e[i]||(e[i]={}),e[i][u]=Cg(Cg([],e[i][u]||[],!0),[{game:r,file:o,subtune:s,analysis:a}],!1)})),a.basedOn&&n++}))}))})),i(e),c(n)}),[t]),r.createElement("div",{key:"rn"},r.createElement("div",{key:"rn",style:{margin:"0px 0px 30px 0px"}},r.createElement("h6",{style:{marginBottom:"5px"}},"roman numerals"),jg.map((function(e){return r.createElement("div",{key:e,style:Ag({cursor:"pointer",margin:"0px 10px 10px 1px",display:"inline-block"},"chords"===d&&f.replace(/-/g," ")===e?{boxShadow:"0px 0px 0px 1px white"}:{}),onClick:function(){return o.push("/search/chords/".concat(e.replace(/ /g,"-")))}},r.createElement(ti,{rnArray:e.split(" "),isSearch:!0}))}))),r.createElement("div",{key:"covers"},r.createElement("div",{style:{margin:"0px 0px 30px 0px"}},r.createElement("h6",{style:Ag({marginBottom:"5px",cursor:"pointer"},"cover"===d?{color:"yellow"}:{}),onClick:function(){return o.push("/search/covers/")}},"covers ",r.createElement("span",{style:{fontSize:"16px"}},l)))),Object.entries(a).map((function(e){var t=e[0],n=e[1];return r.createElement("div",{key:t},r.createElement("h6",{style:{marginBottom:"2px"}},t.replace(/_/g," ")),r.createElement("div",{style:{margin:"0px 0px 30px 0px"}},Object.entries(n).map((function(e){var n=e[0],s=e[1];return r.createElement("div",{key:n,style:Ag({cursor:"pointer"},t===d&&n===f?{color:"yellow"}:{}),onClick:function(){return o.push("/search/".concat(t,"/").concat(n))}},"scale"===t&&n in Fg&&r.createElement(hi,{d:Fg[n]})," ",n.replace(/_/g," ")," ",r.createElement("span",{style:{fontSize:"16px"}},s.length))}))))})))})),Lg=["items"];function Ug(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s,a,i=[],u=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zg(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Hg=Object(r.memo)(Wg);function Wg(e){var t,n=e.items,o=zg(e,Lg),s=o.currContext,a=o.currIdx,i=o.handleSongClick,u=o.browsePath,l=o.playContext,c=o.analyses,d=o.searchPath,f=o.bookPath,m=o.isSearch,p=Object(va.h)();Object(r.useEffect)((function(){var e=n.find((function(e){return"directory"!==e.type}));if(e){var t=".."===e.path?u.substr(0,u.lastIndexOf("/")):e.path.replace("%","%25").replace("#","%23").replace(/^\//,""),r=new URLSearchParams(p.search).get("subtune")||(f?_i(f).subtune:1);r=parseInt(r,10)-1;var o=Ti.CATALOG_PREFIX+t;i(o,l,e.idx,r)({preventDefault:function(){}})}}),[n.length,p]);var h=Qs.a.parse(window.location.search.substring(1));delete h.q;var g=Qs.a.stringify(h),b=Object(va.g)(),v=Tg()(null===(t=b.location.state)||void 0===t?void 0:t.prevPathname,"/"),y=Tg()(window.location.pathname,"/"),M=v===y.substring(0,y.lastIndexOf("/"));return r.createElement("div",null,r.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignContent:"flex-start"}},n.slice(1).map((function(e){var t=".."===e.path?u.substr(0,u.lastIndexOf("/")):e.path.replace("%","%25").replace("#","%23").replace("&","%26").replace(/^\//,""),o=e.path.split("/").pop(),f=s===l&&a===e.idx,p=".."===e.path&&M,h=c&&c[t]&&Object.values(c[t]);if(h&&h[0]&&(h=h[0]),"directory"===e.type)return r.createElement("div",{key:o,className:"BrowseList-row"+(n.length>4?" BrowseList-row-mainPage":"")},r.createElement("div",{className:"BrowseList-colName"},r.createElement(Yi,{dim:!h,to:"/browse/"+t,search:g,isBackLink:p,history:b},o)),h&&r.createElement("div",null,Object.entries(h).map((function(e){var n=Ug(e,2),o=n[0],s=n[1],a=parseInt(o,10)+1;return!d||Dg(s,d)?r.createElement(Yi,{key:a,dim:new Boolean(h),to:"/browse/"+t,search:"?subtune=".concat(a)},m&&r.createElement(xg,{analysis:s,index:a})):null}))));var v=Ti.CATALOG_PREFIX+t;return r.createElement("div",{key:o,className:f?"Song-now-playing BrowseList-row":"BrowseList-row"},r.createElement("div",{className:"BrowseList-colName"},r.createElement("a",{onClick:function(t){return i(v,l,e.idx)(t)},href:v},o)))}))))}function Gg(e){return(Gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $g(){return($g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xg(e){return function(e){if(Array.isArray(e))return Kg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Kg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==Gg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Gg(s)?s:String(s)),r)}var o,s}function Qg(e,t){return(Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tb(e);if(t){var o=tb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zg(this,n)}}function Zg(e,t){if(t&&("object"===Gg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eb(e)}function eb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tb(e){return(tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}(a,e);var t,n,r,s=Jg(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),l(eb(t=s.call(this,e))),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.navigate()}},{key:"componentWillUnmount",value:function(){this.saveScrollPosition(this.props.locationKey)}},{key:"saveScrollPosition",value:function(e){var t=Math.round(this.props.scrollContainerRef.current.scrollTop);sessionStorage.setItem(e,t.toString())}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return e.browsePath!==this.props.browsePath&&this.saveScrollPosition(e.locationKey),null}},{key:"componentDidUpdate",value:function(e,t){if(this.navigate(),"POP"===this.props.historyAction){var n=this.props,r=n.browsePath,o=n.locationKey;if(sessionStorage.getItem(o)){var s=sessionStorage.getItem(o);this.props.scrollContainerRef.current.scrollTo(0,s),sessionStorage.removeItem(o),console.debug("%s (%s) scroll position restored to %s",r,o,s)}}else e.locationKey!==this.props.locationKey&&this.props.scrollContainerRef.current.scrollTo(0,0)}},{key:"handleShufflePlay",value:function(){this.props.handleShufflePlay(this.props.browsePath)}},{key:"navigate",value:function(){var e=this.props,t=e.browsePath,n=e.listing,r=e.fetchDirectory;n||r(t)}},{key:"render",value:function(){var e=this.props,t=e.listing,n=e.browsePath,r=e.searchPath,s=e.playContext,a=e.analyses,i="Nintendo"===n,u=function(e,t,n){return n&&t?e.filter((function(e){var r=e.path;return".."===r||t[r.slice(1)]&&Object.values(t[r.slice(1)]).some((function(e){return Object.values(e).some((function(e){return Dg(e,n)}))}))})):e}([{path:"..",type:"directory"}].concat(Xg(t||[])),a,r);return o.a.createElement(o.a.Fragment,null,i||r?o.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"300px 1fr",gap:"50px",height:"100%"}},o.a.createElement("div",{style:{overflowY:"auto",height:"100%"}},o.a.createElement(Bg,{analyses:a,searchPath:r})),o.a.createElement("div",{style:{overflowY:"auto",height:"100%"}},!r&&o.a.createElement(Ii,null),o.a.createElement(Hg,$g({key:n},this.props,{playContext:s,items:u,isSearch:!!r})))):o.a.createElement("div",null,o.a.createElement(Hg,$g({key:n},this.props,{playContext:s,items:u}))))}}])&&Yg(t.prototype,n),r&&Yg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.a.PureComponent);function rb(e){return(rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==rb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===rb(s)?s:String(s)),r)}var o,s}function ab(e,t){return(ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ib(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lb(e);if(t){var o=lb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ub(this,n)}}function ub(e,t){if(t&&("object"===rb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lb(e){return(lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cb=n(3).FORMATS.filter((function(e){return"miniusf"!==e})).map((function(e){return".".concat(e)})),db=Math.floor(cb.length/2)-1,fb="Formats: ".concat(cb.slice(0,db).join(" ")),mb=cb.slice(db).join(" "),pb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ab(e,t)}(a,e);var t,n,r,s=ib(a);function a(){return ob(this,a),s.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box-outer"},o.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box drop-message"},o.a.createElement("div",{className:"message-box-inner"},"Drop files to play!",o.a.createElement("br",null),fb,o.a.createElement("br",null),mb,o.a.createElement("br",null),o.a.createElement("br",null),"Drop a SoundFont (.sf2) to customize MIDI playback.")))}}])&&sb(t.prototype,n),r&&sb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.a.PureComponent);function hb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s,a,i=[],u=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bb=Object(r.memo)(vb);function vb(e){var t=e.infoTexts,n=void 0===t?[]:t,s=e.showInfo,a=e.toggleInfo,i=hb(Object(r.useState)(0),2),u=i[0],l=i[1],c=(n[u]||"").trim(),d=Math.min(40,c.split("\n").length+6);Object(r.useEffect)((function(){l(0)}),[n]);var f=Object(r.useCallback)((function(){l(Math.max(0,u-1))}),[u]),m=Object(r.useCallback)((function(){l(Math.min(n.length-1,u+1))}),[n,u]);return o.a.createElement("div",{hidden:!s,className:"message-box-outer"},o.a.createElement("div",{hidden:!s,className:"message-box",style:{height:s?"calc(".concat(d," * var(--charH))"):0}},o.a.createElement("div",{className:"message-box-inner"},o.a.createElement("pre",{style:{maxHeight:"100%",margin:0}},c)),o.a.createElement("div",{className:"message-box-footer"},o.a.createElement("button",{className:"box-button message-box-button",onClick:a},"Close"),n.length>1&&o.a.createElement("span",null,o.a.createElement("button",{disabled:0===u,className:"box-button message-box-button",onClick:f},"<")," ",o.a.createElement("button",{disabled:u===n.length-1,className:"box-button message-box-button",onClick:m},">")))))}var yb=Object(r.memo)(Mb);function Mb(e){var t,n=e.ejected,r=e.tempo,s=e.currentSongNumVoices,a=e.voiceMask,i=e.voiceNames,u=e.handleSetVoiceMask,l=e.handleTempoChange,c=e.sequencer;return o.a.createElement("div",{className:"Settings"},o.a.createElement("h3",null,(null==c||null===(t=c.getPlayer())||void 0===t?void 0:t.name)||"Player"," Settings"),null!=c&&c.getPlayer()?o.a.createElement(Zh,{ejected:n,tempo:r,numVoices:s,voiceMask:a,voiceNames:i,handleTempoChange:l,handleSetVoiceMask:u,getParameter:c.getPlayer().getParameter,setParameter:c.getPlayer().setParameter,paramDefs:c.getPlayer().getParamDefs()}):o.a.createElement("div",null,"(No active player)"))}var _b=n(67),Ib=n(69),Pb=n.n(Ib);function kb(e){return(kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ob(r.key),r)}}function Eb(e,t){return(Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tb(e);if(t){var o=Tb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nb(this,n)}}function Nb(e,t){if(t&&("object"===kb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vb(e)}function Vb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tb(e){return(Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rb(e,t,n){return(t=Ob(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ob(e){var t=function(e,t){if("object"!==kb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kb(t)?t:String(t)}var xb=["Linear FFT","Log FFT","Constant Q"],Ab=[{label:"None",description:"No attenuation"},{label:"A-Weighting",description:"Darkens low and high frequencies to approximate sensitivity of human hearing."}],Cb=[512,1024,2048,4096,8192],Db=["512","1K","2K","4K","8K","16K"],jb=[1,2,4],Fb=["Lo","Med","Hi"],Bb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}(a,e);var t,n,r,s=Sb(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Rb(Vb(t=s.call(this,e)),"handleModeClick",(function(e){var n=parseInt(e.target.value,10);t.setState({vizMode:n}),t.spectrogram.setMode(n)})),Rb(Vb(t),"handleWeightingModeClick",(function(e){var n=parseInt(e.target.value,10);t.setState({weightingMode:n}),t.spectrogram.setWeighting(n)})),Rb(Vb(t),"handleFFTSizeClick",(function(e){var n=parseInt(e.target.value,10);t.setState({fftSize:n}),t.spectrogram.setFFTSize(n)})),Rb(Vb(t),"handleSpeedClick",(function(e){var n=parseInt(e.target.value,10);t.setState({speed:n}),t.spectrogram.setSpeed(n)})),Rb(Vb(t),"handleToggleVisualizer",(function(e){t.setState({enabled:!t.state.enabled})})),t.state={vizMode:2,weightingMode:1,fftSize:2048,speed:2,enabled:!1},t.freqCanvasRef=o.a.createRef(),t.specCanvasRef=o.a.createRef(),t.pianoKeysRef=o.a.createRef(),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.spectrogram=new _b.a(this.props.chipCore,this.props.audioCtx,this.props.sourceNode,this.freqCanvasRef.current,this.specCanvasRef.current,this.pianoKeysRef.current),this.spectrogram.setMode(this.state.vizMode),this.spectrogram.setWeighting(this.state.weightingMode),this.spectrogram.setSpeed(this.state.speed)}},{key:"componentDidUpdate",value:function(e){this.spectrogram.setPaused(!this.state.enabled||this.props.paused)}},{key:"render",value:function(){var e=this,t={display:this.state.enabled?"block":"none",width:448,boxSizing:"border-box"};return o.a.createElement("div",{className:"Visualizer"},o.a.createElement("h3",{className:"Visualizer-toggle"},o.a.createElement("label",{className:"inline"},o.a.createElement("input",{onChange:this.props.handleToggleAnalysis,type:"checkbox",checked:this.props.analysisEnabled,name:"analysis-enabled"}),"Analysis"),o.a.createElement("label",{className:"inline",style:{marginLeft:"20px"}},o.a.createElement("input",{onChange:this.handleToggleVisualizer,type:"checkbox",checked:this.state.enabled,name:"visualizer-enabled"}),"Visualizer"),o.a.createElement("label",{className:"inline",style:{marginLeft:"20px"}},o.a.createElement("input",{onChange:this.props.handleToggleSettings,type:"checkbox",checked:this.props.settingsEnabled,name:"settings-enabled"}),"Settings")),o.a.createElement("div",{className:"Visualizer-options",style:t},o.a.createElement("div",null,"Mode:"," ",xb.map((function(t,n){return o.a.createElement("label",{key:"m_"+n,className:"inline"},o.a.createElement("input",{onClick:e.handleModeClick,type:"radio",name:"spectrogram-mode",defaultChecked:e.state.vizMode===n,value:n}),t)}))),2===this.state.vizMode?o.a.createElement("div",null,"Weighting:"," ",Ab.map((function(t,n){return o.a.createElement("label",{title:t.description,key:"w_"+n,className:"inline"},o.a.createElement("input",{onClick:e.handleWeightingModeClick,type:"radio",name:"weighting-mode",defaultChecked:e.state.weightingMode===n,value:n}),t.label)}))):o.a.createElement("div",null,"FFT Size:"," ",Cb.map((function(t,n){return o.a.createElement("label",{key:"f_"+n,className:"inline"},o.a.createElement("input",{onClick:e.handleFFTSizeClick,type:"radio",name:"fft-size",defaultChecked:e.state.fftSize===t,value:t}),Db[n])}))),o.a.createElement("div",{title:"Vertical scrolling speed (pixels per frame)"},"Speed:"," ",jb.map((function(t,n){return o.a.createElement("label",{key:"s_"+n,className:"inline"},o.a.createElement("input",{onClick:e.handleSpeedClick,type:"radio",name:"speed",defaultChecked:e.state.speed===t,value:t}),Fb[n])})))),o.a.createElement("canvas",{style:t,className:"Visualizer-analyzer",width:448,height:60,ref:this.freqCanvasRef}),o.a.createElement("canvas",{style:t,className:"Visualizer-spectrogram",width:448,height:800,ref:this.specCanvasRef}),o.a.createElement("img",{src:Pb.a,className:"Visualizer-overlay",ref:this.pianoKeysRef,alt:"Piano keys",style:{display:this.state.enabled&&2===this.state.vizMode?"block":"none",width:448}}))}}])&&wb(t.prototype,n),r&&wb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function Lb(e){return(Lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ub(e){return function(e){if(Array.isArray(e))return Hb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qb(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zb(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function zb(e,t){if(e){if("string"==typeof e)return Hb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hb(e,t):void 0}}function Hb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wb=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var s=t&&t.prototype instanceof f?t:f,a=Object.create(s.prototype),i=new w(o||[]);return r(a,"_invoke",{value:_(e,n,i)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};u(h,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==t&&n.call(b,s)&&(h=b);var v=p.prototype=f.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){var o;r(this,"_invoke",{value:function(r,s){function a(){return new t((function(o,a){!function r(o,s,a,i){var u=c(e[o],e,s);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==Lb(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,i)}),(function(e){r("throw",e,a,i)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,i)}))}i(u.arg)}(r,s,o,a)}))}return o=o?o.then(a,a):a()}})}function _(e,t,n){var r="suspendedStart";return function(o,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw s;return S()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var i=I(a,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=c(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var s=o.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function E(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=u(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(M.prototype),u(M.prototype,a,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,o,s){void 0===s&&(s=Promise);var a=new M(l(t,n,r,o),s);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,i,"Generator"),u(v,s,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var i=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(i&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Gb(e,t,n,r,o,s,a){try{var i=e[s](a),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function $b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){Gb(s,r,o,a,i,"next",e)}function i(e){Gb(s,r,o,a,i,"throw",e)}a(void 0)}))}}function Xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rv(r.key),r)}}function Kb(e,t){return(Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Yb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zb(e);if(t){var o=Zb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qb(this,n)}}function Qb(e,t){if(t&&("object"===Lb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jb(e)}function Jb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zb(e){return(Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach((function(t){nv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nv(e,t,n){return(t=rv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rv(e){var t=function(e,t){if("object"!==Lb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lb(t)?t:String(t)}var ov=function(e,t){var n=tv({},e);for(var r in t)for(var o in n[r]||(n[r]={}),t[r])for(var s in n[r][o]||(n[r][o]={}),t[r][o])n[r][o][s]=t[r][o][s];return n},sv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kb(e,t)}(u,e);var t,n,r,s,a,i=Yb(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),nv(Jb(t=i.call(this,e)),"onDrop",(function(e){var n=new FileReader,r=e[0],o=Ks.a.extname(r.name).toLowerCase();".sf2"!==o||t.midiPlayer?(n.onload=$b(Wb().mark((function e(){var s,a,i;return Wb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(".sf2"!==o||!t.midiPlayer){e.next=11;break}return s="user/".concat(r.name),!0,a=!1,e.next=6,nu(t.chipCore,"".concat(Ti.SOUNDFONT_MOUNTPOINT,"/").concat(s),new Uint8Array(n.result),!0);case 6:t.midiPlayer.updateSoundfontParamDefs(),t.midiPlayer.setParameter("soundfont",s,a),t.forceUpdate(),e.next=13;break;case 11:i=n.result,t.sequencer.playSongFile(r.name,i);case 13:case"end":return e.stop()}}),e)}))),n.readAsArrayBuffer(r)):t.handlePlayerError("MIDIPlayer has not been created - unable to load SoundFont.")})),l(Jb(t)),t.attachMediaKeyHandlers(),t.contentAreaRef=o.a.createRef(),t.playContexts={},t.errorTimer=null,t.midiPlayer=null,window.ChipPlayer=Jb(t);var n=Y(Ki),r=Zn(n);t.db=as(n),Ls(cs(t.db,"users","hqAWkYyzu2hIzNgE3ui89f41vFA2")).then((function(e){e.exists()&&e.data().analyses&&t.setState({analyses:ov(kh,e.data().analyses)})})),function(e,t,n,r){Object(le.i)(e).onAuthStateChanged(t,n,r)}(r,(function(e){if(t.setState({user:e,loadingUser:!!e}),e){var n=cs(t.db,"users",e.uid);Ls(n).then((function(r){if(r.exists()){var o=r.data();t.setState({faves:o.faves||[],showPlayerSettings:!!o.settings&&o.settings.showPlayerSettings})}else console.debug("Creating user document",e.uid),Us(n,{faves:[],settings:{},user:{email:e.email}})})).finally((function(){t.setState({loadingUser:!1})}))}}));var s=t.audioCtx=window.audioCtx=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"playback"}),a=Math.max(Math.pow(2,Math.ceil(Math.log2((s.baseLatency||.001)*s.sampleRate))),2048),c=t.gainNode=s.createGain();c.gain.value=1,c.connect(s.destination);var d=t.playerNode=s.createScriptProcessor(a,0,2);return d.connect(c),function(e){if(console.log("AudioContext initial state is %s.",e.state),"suspended"===e.state){var t=["touchstart","touchend","mousedown","mouseup"],n=function n(){return e.resume().then((function(){return t.forEach((function(e){return document.body.removeEventListener(e,n)}))}))};t.forEach((function(e){return document.body.addEventListener(e,n,!1)}))}}(s),console.log("Sample rate: %d hz. Base latency: %d. Buffer size: %d.",s.sampleRate,s.baseLatency*s.sampleRate,a),t.state={loading:!0,loadingUser:!0,paused:!0,ejected:!0,playerError:null,currentSongMetadata:{},currentSongNumVoices:0,currentSongNumSubtunes:0,currentSongSubtune:0,currentSongDurationMs:1,currentSongPositionMs:0,tempo:1,voiceMask:Array(Ti.MAX_VOICES).fill(!0),voiceNames:Array(Ti.MAX_VOICES).fill(""),imageUrl:null,infoTexts:[],showInfo:!1,showPlayerError:!1,showPlayerSettings:!1,user:null,faves:[],songUrl:null,volume:100,repeat:0,shuffle:0,directories:{},hasPlayer:!1,paramDefs:[],chipStateDump:{},analysisEnabled:!0,analyses:kh},t.initChipCore(s,d,a),t}return t=u,n=[{key:"initChipCore",value:(a=$b(Wb().mark((function e(t,n,r){var o,s,a,i,u,l,c,d,f=this;return Wb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Xi({locateFile:function(e,t){return e.endsWith(".wasm")||e.endsWith(".wast")?"".concat("/chiptheory","/").concat(e):t+e},print:function(e){return console.debug("[stdout] "+e)},printErr:function(e){return console.debug("[stderr] "+e)}});case 3:this.chipCore=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),Object.assign(this.state,{playerError:"Error loading player engine. Old browser?",loading:!1}),e.abrupt("return");case 10:o=Qs.a.parse(window.location.search.substring(1)).debug,s=this,a=[Vp,wm,Ph,uh,Xp,Um,Fh].map((function(e){return new e(f.chipCore,t.sampleRate,r,o,(function(e){return s.setState({chipStateDump:e})}))})),this.midiPlayer=a[0],n.onaudioprocess=function(e){for(var t=[],n=0;n<e.outputBuffer.numberOfChannels;n++)t.push(e.outputBuffer.getChannelData(n));var r,o=qb(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.stopped||s.processAudio(t)}}catch(e){o.e(e)}finally{o.f()}},this.chipCore.FS.syncfs(!0,(function(e){e&&console.log("Error populating FS from indexeddb.",e),a.forEach((function(e){return e.handleFileSystemReady()}))})),this.sequencer=new Wi(a,this.props.history),this.sequencer.on("sequencerStateUpdate",this.handleSequencerStateUpdate),this.sequencer.on("playerError",this.handlePlayerError),(i=Qs.a.parse(window.location.search.substring(1))).play&&(u=i.play,l=Ks.a.dirname(i.play),delete i.play,c=Qs.a.stringify(i),d=c?"?".concat(c):"",this.fetchDirectory(l).then((function(){f.props.history.replace("/browse/".concat(l).concat(d));var e=f.playContexts[l].indexOf(u);f.playContext(f.playContexts[l],e),i.t&&setTimeout((function(){f.sequencer.getPlayer()&&f.sequencer.getPlayer().seekMs(parseInt(i.t,10))}),100)}))),this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,n){return a.apply(this,arguments)})},{key:"handleLogin",value:function(){(async function(e,t,n){const r=_t(e);ye(e,t,Dt);const o=hn(r,n);return new In(r,"signInViaPopup",t,o).executeNotNull()})(Zn(),new Bt).then((function(e){console.log("Firebase auth result:",e)})).catch((function(e){console.log("Firebase auth error:",e)}))}},{key:"handleLogout",value:function(){var e=this;(function(e){return Object(le.i)(e).signOut()})(Zn()).then((function(){e.setState({user:null,faves:[]})}))}},{key:"handleToggleFavorite",value:function(){}},{key:"saveAnalysis",value:(s=$b(Wb().mark((function e(t){var n,r,o,s,a,i,u,l,c,d,f,m,p;return Wb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=null===(n=this.sequencer)||void 0===n?void 0:n.getCurrIdx())){e.next=3;break}return e.abrupt("return");case 3:if(o=this.playContexts[this.browsePath]&&this.playContexts[this.browsePath][r],s=this.state.currentSongSubtune,o){e.next=7;break}return e.abrupt("return");case 7:if(a=o.lastIndexOf("/"),i=o.substring(0,a),u=o.substring(a+1),!(l=this.state.user)){e.next=22;break}return d=cs(this.db,"users",l.uid),e.next=15,Ls(d);case 15:return f=e.sent,m=f.exists?f.data():{},p=nv({},i,nv({},u,nv({},s,t))),m.analyses=ov(null!==(c=m.analyses)&&void 0!==c?c:{},p),e.next=21,Us(d,m).catch((function(e){console.log("Couldn't save analysis.",e)}));case 21:this.setState((function(e){return{analyses:ov(e.analyses,p)}}));case 22:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"attachMediaKeyHandlers",value:function(){var e=this;"mediaSession"in navigator&&(console.log("Attaching Media Key event handlers."),this.mediaSessionAudio=document.createElement("audio"),this.mediaSessionAudio.src="/chiptheory/5-seconds-of-silence.mp3",this.mediaSessionAudio.loop=!0,this.mediaSessionAudio.volume=0,navigator.mediaSession.setActionHandler("play",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("pause",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return e.prevSong()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return e.nextSong()})),navigator.mediaSession.setActionHandler("seekbackward",(function(){return e.seekRelative(-5e3)})),navigator.mediaSession.setActionHandler("seekforward",(function(){return e.seekRelative(5e3)}))),document.addEventListener("keydown",(function(t){if(!t.ctrlKey&&!t.metaKey){switch(t.key){case"Escape":e.setState({showInfo:!1}),t.target.blur()}if("INPUT"!==t.target.tagName||"text"!==t.target.type){switch(t.key){case" ":e.togglePause(),t.preventDefault();break;case"-":e.setSpeedRelative(-.1);break;case"_":e.setSpeedRelative(-.01);break;case"=":e.setSpeedRelative(.1);break;case"+":e.setSpeedRelative(.01)}if("INPUT"!==t.target.tagName||"range"!==t.target.type)switch(t.key){case"ArrowLeft":e.seekRelative(-5e3),t.preventDefault();break;case"ArrowRight":e.seekRelative(5e3),t.preventDefault()}}}}))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.sequencer.playContext(e,t,n)}},{key:"prevSong",value:function(){this.sequencer.prevSong()}},{key:"nextSong",value:function(){this.sequencer.nextSong()}},{key:"prevSubtune",value:function(){this.sequencer.prevSubtune()}},{key:"nextSubtune",value:function(){this.sequencer.nextSubtune()}},{key:"handleSequencerStateUpdate",value:function(e){var t=this,n=e.isEjected;if(console.log("App.handleSequencerStateUpdate(isEjected=%s)",n),n)this.setState({ejected:!0,currentSongSubtune:0,currentSongMetadata:{},currentSongNumVoices:0,currentSongPositionMs:0,currentSongDurationMs:1,currentSongNumSubtunes:0,imageUrl:null,songUrl:null}),"mediaSession"in navigator&&(this.mediaSessionAudio.pause(),navigator.mediaSession.playbackState="none","MediaMetadata"in window&&(navigator.mediaSession.metadata=new window.MediaMetadata({})));else{var r=this.sequencer.getPlayer(),o=this.sequencer.getCurrUrl();if(o){var s=function(e){return eu(Zi(e))}(o);Si.fetchCached(s).then((function(e){var n=e.imageUrl,r=e.infoTexts,o=[].concat(Ub(r),Ub(t.state.infoTexts));t.setState({imageUrl:n,infoTexts:o}),"mediaSession"in navigator&&(navigator.mediaSession.metadata.artwork=null==n?[]:[{src:n,sizes:"512x512"}])})).catch((function(e){t.setState({imageUrl:null})}))}var a,i,l=r.getMetadata();"mediaSession"in navigator&&(this.mediaSessionAudio.play(),"MediaMetadata"in window&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:l.title||(null===(a=l.formatted)||void 0===a?void 0:a.title),artist:l.artist||(null===(i=l.formatted)||void 0===i?void 0:i.subtitle),album:l.game,artwork:[]}))),this.setState(tv(tv({},u.mapSequencerStateToAppState(e)),{},{showInfo:!1}))}}},{key:"handlePlayerError",value:function(e){var t=this;e&&this.setState({playerError:e}),this.setState({showPlayerError:!!e}),clearTimeout(this.errorTimer),this.errorTimer=setTimeout((function(){return t.setState({showPlayerError:!1})}),Ti.ERROR_FLASH_DURATION_MS)}},{key:"togglePause",value:function(){if(!this.state.ejected&&this.sequencer.getPlayer()){var e=this.sequencer.getPlayer().togglePause();"mediaSession"in navigator&&(e?this.mediaSessionAudio.pause():this.mediaSessionAudio.play()),this.setState({paused:e})}}},{key:"toggleSettings",value:function(){var e=!this.state.showPlayerSettings;this.setState({showPlayerSettings:e});var t=this.state.user;t&&function(e,t,n,...r){const o=_s((e=zr(e,is)).firestore);let s;return s="string"==typeof(t=Object(tr.e)(t))||t instanceof fs?ws(o,"updateDoc",e._key,t,n,r):ks(o,"updateDoc",e._key,t),es(rs(e.firestore),[s.toMutation(e._key,Ao.exists(!0))])}(cs(this.db,"users",t.uid),{settings:{showPlayerSettings:e}}).catch((function(e){console.log("Couldn't update settings in Firebase.",e)}))}},{key:"handleTimeSliderChange",value:function(e){if(this.sequencer.getPlayer()){var t=e.target?e.target.value:e,n=Math.floor(t*this.state.currentSongDurationMs);if(this.seekRelativeInner(n),Ti.REPLACE_STATE_ON_SEEK){var r=tv(tv({},Qs.a.parse(window.location.search.substr(1))),{},{t:n}),o="?"+Qs.a.stringify(r).replace(/%20/g,"+").replace(/%2F/g,"/");window.history.replaceState(null,"",o)}}}},{key:"seekRelative",value:function(e){if(this.sequencer.getPlayer()){var t=this.state.currentSongDurationMs,n=Ws()(this.sequencer.getPlayer().getPositionMs()+e,0,t);this.seekRelativeInner(n)}}},{key:"seekRelativeInner",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!n&&this.state.seekCallback&&this.state.seekCallback(e),this.sequencer.getPlayer().seekMs(e),this.setState({currentSongPositionMs:e}),setTimeout((function(){t.sequencer.getPlayer().isPlaying()&&t.setState({currentSongPositionMs:t.sequencer.getPlayer().getPositionMs()})}),100)}},{key:"handleSetVoiceMask",value:function(e){this.sequencer.getPlayer()&&(this.sequencer.getPlayer().setVoiceMask(e),this.setState({voiceMask:Ub(e)}))}},{key:"handleTempoChange",value:function(e){if(this.sequencer.getPlayer()){var t=parseFloat(e.target?e.target.value:e)||1;this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t})}}},{key:"setSpeedRelative",value:function(e){if(this.sequencer.getPlayer()){var t=Ws()(this.state.tempo+e,.1,2);this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t})}}},{key:"handleShufflePlay",value:function(e){var t=this;"favorites"===e?this.sequencer.playContext($s()(this.state.faves)):fetch("".concat(Ti.API_BASE,"/shuffle?path=").concat(encodeURI(e),"&limit=100")).then((function(e){return e.json()})).then((function(e){return e.items.map((function(e){return e.replace("%","%25").replace("#","%23").replace(/^\//,"")}))})).then((function(e){return t.sequencer.playContext(e)}))}},{key:"handleCycleShuffle",value:function(){var e=(this.state.shuffle+1)%2;this.setState({shuffle:e}),this.sequencer.setShuffle(e)}},{key:"handleSongClick",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(s){s.preventDefault(),t?r.playContext(t,n,o):r.sequencer.playSonglist([e])}}},{key:"handleVolumeChange",value:function(e){this.setState({volume:e}),this.gainNode.gain.value=Math.max(0,Math.min(2,.01*e))}},{key:"handleCycleRepeat",value:function(){var e=(this.state.repeat+1)%3;this.setState({repeat:e}),this.sequencer.setRepeat(e)}},{key:"toggleInfo",value:function(){this.setState({showInfo:!this.state.showInfo})}},{key:"fetchDirectory",value:function(e){var t=this;return fetch("".concat(Ti.API_BASE,"/browse?path=%2F").concat(encodeURIComponent(e))).then((function(e){return e.json()})).then((function(n){t.playContexts[e]=n.filter((function(e){return"file"===e.type})).map((function(e){return e.path.replace("%","%25").replace("#","%23").replace(/^\//,"")}));var r=tv(tv({},t.state.directories),{},nv({},e,n));t.setState({directories:r})}))}},{key:"getCurrentSongLink",value:function(){var e=this.sequencer.getCurrUrl();return e?"/chiptheory/?play="+encodeURIComponent(e.replace(Ti.CATALOG_PREFIX,"")):"#"}},{key:"render",value:function(){var e,t,n,r=this,s=(n=this.state.currentSongMetadata).formatted?n.formatted:{title:Ji(n.artist," - ")+n.title,subtitle:[n.game,n.system].filter((function(e){return e})).join(" - ")+Ji(" (",n.copyright,")")},a=s.title,i=s.subtitle,u=null===(e=this.sequencer)||void 0===e?void 0:e.getCurrContext(),l=null===(t=this.sequencer)||void 0===t?void 0:t.getCurrIdx(),c={search:window.location.search};return o.a.createElement(ba,{disableClick:!0,style:{},onDrop:this.onDrop},(function(e){return o.a.createElement("div",{className:"App"},o.a.createElement(pb,{dropzoneProps:e}),o.a.createElement(bb,{showInfo:r.state.showInfo,infoTexts:r.state.infoTexts,toggleInfo:r.toggleInfo}),o.a.createElement(Bh,{handlePlayerError:r.handlePlayerError,playerError:r.state.playerError,showPlayerError:r.state.showPlayerError}),o.a.createElement(Ng,{user:r.state.user,handleLogout:r.handleLogout,handleLogin:r.handleLogin,isPhone:zs.a.phone}),o.a.createElement("div",{className:"App-main"},o.a.createElement("div",{className:"App-main-inner"},o.a.createElement("div",{className:"tab-container"},o.a.createElement(xa,{className:"tab",activeClassName:"tab-selected",to:tv({pathname:"/"},c),exact:!0},"Search"),o.a.createElement(xa,{className:"tab",activeClassName:"tab-selected",to:tv({pathname:"/browse"},c)},"Browse"),o.a.createElement("button",{className:r.state.showPlayerSettings?"tab tab-selected":"tab",style:{marginLeft:"auto",marginRight:0},onClick:r.toggleSettings},"Settings"))&&!1,o.a.createElement("div",{className:"App-main-content-and-settings"},o.a.createElement("div",{className:"App-main-content-area",ref:r.contentAreaRef},o.a.createElement(va.d,null,o.a.createElement(va.b,{path:"/",exact:!0,render:function(){return o.a.createElement(va.a,{to:"/browse/Nintendo"})}}),o.a.createElement(va.b,{path:"/search",exact:!0,render:function(){return o.a.createElement(Bg,{analyses:r.state.analyses})}}),o.a.createElement(va.b,{path:["/browse/:browsePath*","/search/:searchPath*","/book/:bookPath*"],render:function(e){var t,n,s,a,i=e.history,c=e.match,d=e.location,f=null===(t=c.params)||void 0===t?void 0:t.searchPath,m=null===(n=c.params)||void 0===n?void 0:n.bookPath,p=f?"Nintendo":(null===(s=c.params)||void 0===s||null===(a=s.browsePath)||void 0===a?void 0:a.replace("%25","%"))||(m?_i(m).path:"");console.log("BROWSE_PATH",p),r.browsePath=p;var h=r.playContexts[p]&&r.playContexts[p][l],g=r.state.currentSongSubtune,b=h&&h.lastIndexOf("/"),v=b&&h.substring(b+1),y=r.state.analyses&&r.state.analyses[p]&&r.state.analyses[p][v]&&r.state.analyses[p][v][g];return r.contentAreaRef.current&&o.a.createElement(o.a.Fragment,null,o.a.createElement(nb,{currContext:u,currIdx:l,historyAction:i.action,locationKey:d.key,browsePath:p,searchPath:f,bookPath:m,listing:r.state.directories[p],playContext:r.playContexts[p],fetchDirectory:r.fetchDirectory,handleSongClick:r.handleSongClick,handleShufflePlay:r.handleShufflePlay,scrollContainerRef:r.contentAreaRef,favorites:r.state.faves,toggleFavorite:r.handleToggleFavorite,analyses:r.state.analyses,sequencer:r.sequencer}),o.a.createElement(Sf,{chipStateDump:r.state.chipStateDump,getCurrentPositionMs:function(){return r.sequencer&&r.sequencer.getPlayer()?r.sequencer.getPlayer().getPositionMs():0},savedAnalysis:y,saveAnalysis:r.saveAnalysis,voiceMask:r.state.voiceMask,handleSetVoiceMask:r.handleSetVoiceMask,analysisEnabled:r.state.analysisEnabled,seek:function(e){return r.seekRelativeInner(e,!0)},registerSeekCallback:function(e){return r.setState({seekCallback:e})},bookPath:m,pause:r.togglePause,paused:r.state.paused}))}}),o.a.createElement(va.b,{path:"/settings",render:function(){return o.a.createElement(yb,{ejected:r.state.ejected,tempo:r.state.tempo,currentSongNumVoices:r.state.currentSongNumVoices,voiceMask:r.state.voiceMask,voiceNames:r.state.voiceNames,handleSetVoiceMask:r.handleSetVoiceMask,handleTempoChange:r.handleTempoChange,sequencer:r.sequencer})}}))),r.state.showPlayerSettings&&!1)),!zs.a.phone&&!r.state.loading&&o.a.createElement(Bb,{audioCtx:r.audioCtx,sourceNode:r.playerNode,chipCore:r.chipCore,settingsEnabled:r.state.showPlayerSettings,handleToggleSettings:r.toggleSettings,analysisEnabled:r.state.analysisEnabled,handleToggleAnalysis:function(){return r.setState((function(e){return{analysisEnabled:!e.analysisEnabled}}))},paused:r.state.ejected||r.state.paused})),o.a.createElement(vg,{currentSongDurationMs:r.state.currentSongDurationMs,currentSongNumSubtunes:r.state.currentSongNumSubtunes,currentSongNumVoices:r.state.currentSongNumVoices,currentSongSubtune:r.state.currentSongSubtune,ejected:r.state.ejected,faves:r.state.faves,getCurrentSongLink:r.getCurrentSongLink,handleCycleRepeat:r.handleCycleRepeat,handleCycleShuffle:r.handleCycleShuffle,handleSetVoiceMask:r.handleSetVoiceMask,handleTempoChange:r.handleTempoChange,handleTimeSliderChange:r.handleTimeSliderChange,handleToggleFavorite:r.handleToggleFavorite,handleVolumeChange:r.handleVolumeChange,imageUrl:r.state.imageUrl,infoTexts:r.state.infoTexts,nextSong:r.nextSong,nextSubtune:r.nextSubtune,paused:r.state.paused,prevSong:r.prevSong,prevSubtune:r.prevSubtune,repeat:r.state.repeat,shuffle:r.state.shuffle,sequencer:r.sequencer,showPlayerSettings:r.state.showPlayerSettings,songUrl:r.state.songUrl,subtitle:i,tempo:r.state.tempo,title:a,toggleInfo:r.toggleInfo,togglePause:r.togglePause,toggleSettings:r.toggleSettings,voiceNames:r.state.voiceNames,voiceMask:r.state.voiceMask,volume:r.state.volume}))}))}}],r=[{key:"mapSequencerStateToAppState",value:function(e){var t={ejected:"isEjected",paused:"isPaused",currentSongSubtune:"subtune",currentSongMetadata:"metadata",currentSongNumVoices:"numVoices",currentSongPositionMs:"positionMs",currentSongDurationMs:"durationMs",currentSongNumSubtunes:"numSubtunes",tempo:"tempo",voiceNames:"voiceNames",voiceMask:"voiceMask",songUrl:"url",hasPlayer:"hasPlayer",paramDefs:"paramDefs",infoTexts:"infoTexts"},n={};for(var r in t){var o=t[r];o in e&&(n[r]=e[o])}return n}}],n&&Xb(t.prototype,n),r&&Xb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.a.Component),av=Object(va.i)(sv);a.a.render(o.a.createElement(ka,{basename:"/chiptheory"},o.a.createElement(av,null)),document.getElementById("root"))}]);
//# sourceMappingURL=main.3ddca41a.js.map