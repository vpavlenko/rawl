!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/chiptheory/",n(n.s=70)}([function(e,t,n){"use strict";e.exports=n(76)},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return P})),n.d(t,"q",(function(){return k}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const s=e[t],o=t+1<e.length,a=o?e[t+1]:0,i=t+2<e.length,l=i?e[t+2]:0,u=s>>2,c=(3&s)<<4|a>>4;let d=(15&a)<<2|l>>6,f=63&l;i||(f=64,o||(d=64)),r.push(n[u],n[c],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&o)}else if(s>239&&s<365){const o=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const s=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const i=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==o||null==i||null==l)throw new a;const u=s<<2|o>>4;if(r.push(u),64!==i){const e=o<<4&240|i>>2;if(r.push(e),64!==l){const e=i<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){try{return o.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return l()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&i(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},c=e=>{var t,n;return null===(n=null===(t=u())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_"+e]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){const e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function(e,t){return e.replace(M,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new b(r,a,n)}}const M=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],o=t[s];if(I(n)&&I(o)){if(!_(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function I(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function k(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function E(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(e,t){const n=new N(e,t);return n.subscribe.bind(n)}class N{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function S(e){return e&&e._delegate?e._delegate:e}}).call(this,n(15),n(19))},function(e,t,n){e.exports=n(109)()},function(e,t){e.exports={API_BASE:"https://corsproxy.io/?https://gifx.co/chip",CATALOG_PREFIX:"https://corsproxy.io/?https://gifx.co/music/",ERROR_FLASH_DURATION_MS:6e3,FORMATS:["ay","gbs","it","mdx","mid","miniusf","mod","nsf","nsfe","sgc","spc","s3m","smf","v2m","vgm","vgz","xm"],MAX_VOICES:64,REPLACE_STATE_ON_SEEK:!1,SOUNDFONT_MOUNTPOINT:"/soundfonts",SOUNDFONT_URL_PATH:"https://corsproxy.io/?https://gifx.co/soundfonts/",SOUNDFONTS:[{label:"User SoundFonts (Drop .sf2 to add)",items:[]},{label:"Small Soundfonts",items:[{label:"GMGSx Plus (6.2 MB)",value:"gmgsx-plus.sf2"},{label:"Roland SC-55/SCC1 (3.3 MB)",value:"Scc1t2.sf2"},{label:"Yamaha DB50XG (3.9 MB)",value:"Yamaha DB50XG.sf2"},{label:"Gravis Ultrasound (5.9 MB)",value:"Gravis_Ultrasound_Classic_PachSet_v1.6.sf2"},{label:"Tim GM (6 MB)",value:"TimGM6mb.sf2"},{label:"Alan Chan 5MBGMGS (4.9 MB)",value:"5MBGMGS.SF2"},{label:"E-mu 2MBGMGS (2.1 MB)",value:"2MBGMGS.SF2"},{label:"E-mu 8MBGMGS (8.2 MB)",value:"8MBGMGS.SF2"}]},{label:"Large Soundfonts",items:[{label:"Masquerade 55 v006 (18.4 MB)",value:"masquerade55v006.sf2"},{label:"GeneralUser GS v1.471 (31.3 MB)",value:"generaluser.sf2"},{label:"Chorium Revision A (28.9 MB)",value:"choriumreva.sf2"},{label:"Unison (29.3 MB)",value:"Unison.SF2"},{label:"Creative 28MBGM (29.7 MB)",value:"28MBGM.sf2"},{label:"Musica Theoria 2 (30.5 MB)",value:"mustheory2.sf2"},{label:"Personal Copy Lite (31.4 MB)",value:"PCLite.sf2"},{label:"AnotherXG (31.4 MB)",value:"bennetng_AnotherXG_v2-1.sf2"},{label:"NTONYX 32Mb GM Stereo (32.5 MB)",value:"32MbGMStereo.sf2"},{label:"Weeds GM 3 (54.9 MB)",value:"weedsgm3.sf2"}]},{label:"Novelty Soundfonts",items:[{label:"PC Beep (31 KB)",value:"pcbeep.sf2"},{label:"Nokia 6230i (227 KB)",value:"Nokia_6230i_RM-72_.sf2"},{label:"Kirby's Dream Land (271 KB)",value:"Kirby's_Dream_Land_3.sf2"},{label:"Vintage Waves v2 (315 KB)",value:"Vintage Dreams Waves v2.sf2"},{label:"Setzer's SPC Soundfont (1.2 MB)",value:"Setzer's_SPC_Soundfont.sf2"},{label:"SNES GM (1.9 MB)",value:"Super_Nintendo_Unofficial_update.sf2"},{label:"Nokia 30 (2.2 MB)",value:"Nokia_30.sf2"},{label:"LG Wink/Motorola ROKR (3.3 MB)",value:"LG_Wink_Style_T310_Soundfont.sf2"},{label:"Diddy Kong Racing DS (13.7 MB)",value:"Diddy_Kong_Racing_DS_Soundfont.sf2"},{label:"Regression FM v1.99g (14.4 MB)",value:"R_FM_v1.99g-beta.sf2"},{label:"Ultimate Megadrive (63.2 MB)",value:"The Ultimate Megadrive Soundfont.sf2"}]},{label:"Piano Soundfonts",items:[{label:"Yamaha Grand Lite v1.1 (21.8 MB)",value:"Yamaha-Grand-Lite-v1.1.sf2"},{label:"Abbey Steinway D v1.9 (40.2 MB)",value:"Abbey-Steinway-D-v1.9.sf2"},{label:"Chateau Grand Lite v1.0 (49.1 MB)",value:"Chateau Grand Lite-v1.0.sf2"},{label:"Steinway Grand v1.0 (145 MB)",value:"Steinway Grand-SF4U-v1.sf2"}]}]}},function(e,t,n){"use strict";function r(){throw new Error("MIDIEvents function not intended to be run.")}r.EVENT_META=255,r.EVENT_SYSEX=240,r.EVENT_DIVSYSEX=247,r.EVENT_MIDI=8,r.EVENT_META_SEQUENCE_NUMBER=0,r.EVENT_META_TEXT=1,r.EVENT_META_COPYRIGHT_NOTICE=2,r.EVENT_META_TRACK_NAME=3,r.EVENT_META_INSTRUMENT_NAME=4,r.EVENT_META_LYRICS=5,r.EVENT_META_MARKER=6,r.EVENT_META_CUE_POINT=7,r.EVENT_META_MIDI_CHANNEL_PREFIX=32,r.EVENT_META_END_OF_TRACK=47,r.EVENT_META_SET_TEMPO=81,r.EVENT_META_SMTPE_OFFSET=84,r.EVENT_META_TIME_SIGNATURE=88,r.EVENT_META_KEY_SIGNATURE=89,r.EVENT_META_SEQUENCER_SPECIFIC=127,r.EVENT_MIDI_NOTE_OFF=8,r.EVENT_MIDI_NOTE_ON=9,r.EVENT_MIDI_NOTE_AFTERTOUCH=10,r.EVENT_MIDI_CONTROLLER=11,r.EVENT_MIDI_PROGRAM_CHANGE=12,r.EVENT_MIDI_CHANNEL_AFTERTOUCH=13,r.EVENT_MIDI_PITCH_BEND=14,r.MIDI_1PARAM_EVENTS=[r.EVENT_MIDI_PROGRAM_CHANGE,r.EVENT_MIDI_CHANNEL_AFTERTOUCH],r.MIDI_2PARAMS_EVENTS=[r.EVENT_MIDI_NOTE_OFF,r.EVENT_MIDI_NOTE_ON,r.EVENT_MIDI_NOTE_AFTERTOUCH,r.EVENT_MIDI_CONTROLLER,r.EVENT_MIDI_PITCH_BEND],r.createParser=function(e,t,n){var s,o,a,i,l;if(e instanceof DataView&&(e={position:t||0,buffer:e,readUint8:function(){return this.buffer.getUint8(this.position++)},readUint16:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readUint32:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readVarInt:function(){for(var e,t=0,n=0;4>n++;){if(!(128&(e=this.readUint8())))return t+e;t+=127&e,t<<=7}throw new Error("0x"+this.position.toString(16)+": Variable integer length cannot exceed 4 bytes")},readBytes:function(e){for(var t=[];0<e;e--)t.push(this.readUint8());return t},pos:function(){return"0x"+(this.buffer.byteOffset+this.position).toString(16)},end:function(){return this.position===this.buffer.byteLength}},t=0),0<t)for(;t--;)e.readUint8();return{next:function(){if(e.end())return null;if(o={index:e.pos(),delta:e.readVarInt()},240==(240&(s=e.readUint8()))){if(s!==r.EVENT_META){if(s===r.EVENT_SYSEX||s===r.EVENT_DIVSYSEX)return o.type=s,o.length=e.readVarInt(),o.data=e.readBytes(o.length),o;if(n)throw new Error(e.pos()+" Unknown event type "+s.toString(16)+", Delta: "+o.delta+".");return o.type=s,o.badsubtype=e.readVarInt(),o.length=e.readUint8(),o.data=e.readBytes(o.length),o}switch(o.type=r.EVENT_META,o.subtype=e.readUint8(),o.length=e.readVarInt(),o.subtype){case r.EVENT_META_SEQUENCE_NUMBER:if(n&&2!==o.length)throw new Error(e.pos()+" Bad metaevent length.");return o.msb=e.readUint8(),o.lsb=e.readUint8(),o;case r.EVENT_META_TEXT:case r.EVENT_META_COPYRIGHT_NOTICE:case r.EVENT_META_TRACK_NAME:case r.EVENT_META_INSTRUMENT_NAME:case r.EVENT_META_LYRICS:case r.EVENT_META_MARKER:case r.EVENT_META_CUE_POINT:return o.data=e.readBytes(o.length),o;case r.EVENT_META_MIDI_CHANNEL_PREFIX:if(n&&1!==o.length)throw new Error(e.pos()+" Bad metaevent length.");return o.prefix=e.readUint8(),o;case r.EVENT_META_END_OF_TRACK:if(n&&0!==o.length)throw new Error(e.pos()+" Bad metaevent length.");return o;case r.EVENT_META_SET_TEMPO:if(n&&3!==o.length)throw new Error(e.pos()+" Tempo meta event length must be 3.");return o.tempo=(e.readUint8()<<16)+(e.readUint8()<<8)+e.readUint8(),o.tempoBPM=6e7/o.tempo,o;case r.EVENT_META_SMTPE_OFFSET:if(n&&5!==o.length)throw new Error(e.pos()+" Bad metaevent length.");if(o.hour=e.readUint8(),n&&23<o.hour)throw new Error(e.pos()+" SMTPE offset hour value must be part of 0-23.");if(o.minutes=e.readUint8(),n&&59<o.minutes)throw new Error(e.pos()+" SMTPE offset minutes value must be part of 0-59.");if(o.seconds=e.readUint8(),n&&59<o.seconds)throw new Error(e.pos()+" SMTPE offset seconds value must be part of 0-59.");if(o.frames=e.readUint8(),n&&30<o.frames)throw new Error(e.pos()+" SMTPE offset frames value must be part of 0-30.");if(o.subframes=e.readUint8(),n&&99<o.subframes)throw new Error(e.pos()+" SMTPE offset subframes value must be part of 0-99.");return o;case r.EVENT_META_KEY_SIGNATURE:if(n&&2!==o.length)throw new Error(e.pos()+" Bad metaevent length.");if(o.key=e.readUint8(),n&&(-7>o.key||7<o.key))throw new Error(e.pos()+" Bad metaevent length.");if(o.scale=e.readUint8(),n&&0!==o.scale&&1!==o.scale)throw new Error(e.pos()+" Key signature scale value must be 0 or 1.");return o;case r.EVENT_META_TIME_SIGNATURE:if(n&&4!==o.length)throw new Error(e.pos()+" Bad metaevent length.");return o.data=e.readBytes(o.length),o.param1=o.data[0],o.param2=o.data[1],o.param3=o.data[2],o.param4=o.data[3],o;case r.EVENT_META_SEQUENCER_SPECIFIC:return o.data=e.readBytes(o.length),o;default:if(n)throw new Error(e.pos()+" Unknown meta event type ("+o.subtype.toString(16)+").");return o.data=e.readBytes(o.length),o}}else{if(0==(128&s)){if(!a)throw new Error(e.pos()+" Running status without previous event");l=s}else a=s>>4,i=15&s,l=e.readUint8();switch(o.type=r.EVENT_MIDI,o.subtype=a,o.channel=i,o.param1=l,a){case r.EVENT_MIDI_NOTE_OFF:return o.param2=e.readUint8(),o;case r.EVENT_MIDI_NOTE_ON:return o.param2=e.readUint8(),o.param2||(o.subtype=r.EVENT_MIDI_NOTE_OFF,o.param2=127),o;case r.EVENT_MIDI_NOTE_AFTERTOUCH:case r.EVENT_MIDI_CONTROLLER:return o.param2=e.readUint8(),o;case r.EVENT_MIDI_PROGRAM_CHANGE:case r.EVENT_MIDI_CHANNEL_AFTERTOUCH:return o;case r.EVENT_MIDI_PITCH_BEND:return o.param2=e.readUint8(),o;default:if(n)throw new Error(e.pos()+" Unknown MIDI event type ("+a.toString(16)+").");return o}}}}},r.writeToTrack=function(e,t,n){var s,o,a,i,l=0;for(s=0,o=e.length;s<o;s++){if(e[s].delta>>>28)throw Error("Event #"+s+": Maximum delta time value reached ("+e[s].delta+"/134217728 max)");if(e[s].delta>>>21&&(t[l++]=e[s].delta>>>21&127|128),e[s].delta>>>14&&(t[l++]=e[s].delta>>>14&127|128),e[s].delta>>>7&&(t[l++]=e[s].delta>>>7&127|128),t[l++]=127&e[s].delta,e[s].type===r.EVENT_MIDI)t[l++]=(e[s].subtype<<4)+e[s].channel,t[l++]=e[s].param1,-1!==r.MIDI_2PARAMS_EVENTS.indexOf(e[s].subtype)&&(t[l++]=e[s].param2);else{if(t[l++]=e[s].type,e[s].type===r.EVENT_META&&(t[l++]=e[s].subtype),e[s].length>>>28)throw Error("Event #"+s+": Maximum length reached ("+e[s].length+"/134217728 max)");if(e[s].length>>>21&&(t[l++]=e[s].length>>>21&127|128),e[s].length>>>14&&(t[l++]=e[s].length>>>14&127|128),e[s].length>>>7&&(t[l++]=e[s].length>>>7&127|128),t[l++]=127&e[s].length,e[s].type===r.EVENT_META)switch(e[s].subtype){case r.EVENT_META_SEQUENCE_NUMBER:t[l++]=e[s].msb,t[l++]=e[s].lsb;break;case r.EVENT_META_TEXT:case r.EVENT_META_COPYRIGHT_NOTICE:case r.EVENT_META_TRACK_NAME:case r.EVENT_META_INSTRUMENT_NAME:case r.EVENT_META_LYRICS:case r.EVENT_META_MARKER:case r.EVENT_META_CUE_POINT:for(a=0,i=e[s].length;a<i;a++)t[l++]=e[s].data[a];break;case r.EVENT_META_MIDI_CHANNEL_PREFIX:t[l++]=e[s].prefix;break;case r.EVENT_META_END_OF_TRACK:break;case r.EVENT_META_SET_TEMPO:t[l++]=e[s].tempo>>16,t[l++]=e[s].tempo>>8&255,t[l++]=255&e[s].tempo;break;case r.EVENT_META_SMTPE_OFFSET:if(n&&23<e[s].hour)throw new Error("Event #"+s+": SMTPE offset hour value must be part of 0-23.");if(t[l++]=e[s].hour,n&&59<e[s].minutes)throw new Error("Event #"+s+": SMTPE offset minutes value must be part of 0-59.");if(t[l++]=e[s].minutes,n&&59<e[s].seconds)throw new Error("Event #"+s+": SMTPE offset seconds value must be part of 0-59.");if(t[l++]=e[s].seconds,n&&30<e[s].frames)throw new Error("Event #"+s+": SMTPE offset frames amount must be part of 0-30.");if(t[l++]=e[s].frames,n&&99<e[s].subframes)throw new Error("Event #"+s+": SMTPE offset subframes amount must be part of 0-99.");t[l++]=e[s].subframes;break;case r.EVENT_META_KEY_SIGNATURE:if("number"!=typeof e[s].key||-7>e[s].key||7<e[s].scale)throw new Error("Event #"+s+":The key signature key must be between -7 and 7");if("number"!=typeof e[s].scale||0>e[s].scale||1<e[s].scale)throw new Error("Event #"+s+":The key signature scale must be 0 or 1");t[l++]=e[s].key,t[l++]=e[s].scale;break;case r.EVENT_META_TIME_SIGNATURE:case r.EVENT_META_SEQUENCER_SPECIFIC:default:for(a=0,i=e[s].length;a<i;a++)t[l++]=e[s].data[a]}else for(a=0,i=e[s].length;a<i;a++)t[l++]=e[s].data[a]}}},r.getRequiredBufferLength=function(e){var t,n=0,s=0;for(s=0,t=e.length;s<t;s++)n+=e[s].delta>>>21?4:e[s].delta>>>14?3:e[s].delta>>>7?2:1,e[s].type===r.EVENT_MIDI?(n++,n++,-1!==r.MIDI_2PARAMS_EVENTS.indexOf(e[s].subtype)&&n++):(n++,e[s].type===r.EVENT_META&&n++,n+=e[s].length>>>21?4:e[s].length>>>14?3:e[s].length>>>7?2:1,n+=e[s].length);return n},e.exports=r},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return v}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const s=e[t],o=t+1<e.length,a=o?e[t+1]:0,i=t+2<e.length,l=i?e[t+2]:0,u=s>>2,c=(3&s)<<4|a>>4;let d=(15&a)<<2|l>>6,f=63&l;i||(f=64,o||(d=64)),r.push(n[u],n[c],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&o)}else if(s>239&&s<365){const o=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const s=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const i=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==o||null==i||null==l)throw new a;const u=s<<2|o>>4;if(r.push(u),64!==i){const e=o<<4&240|i>>2;if(r.push(e),64!==l){const e=i<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=s(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return o.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return u()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},d=e=>{const t=(e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(o)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p.prototype.create)}}class p{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function(e,t){return e.replace(h,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new m(r,a,n)}}const h=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],o=t[s];if(b(n)&&b(o)){if(!g(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function b(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function v(e){return e&&e._delegate?e._delegate:e}}).call(this,n(15),n(19))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,{include:t,exclude:n}={}){const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t?t.some(r):!n||!n.some(r)};for(const[t,n]of(e=>{const t=new Set;do{for(const n of Reflect.ownKeys(e))t.add([e,n])}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t})(e.constructor.prototype)){if("constructor"===n||!r(n))continue;const s=Reflect.getOwnPropertyDescriptor(t,n);s&&"function"==typeof s.value&&(e[n]=e[n].bind(e))}return e}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return U})),n.d(t,"i",(function(){return F}));var r=n(14),s=n(0),o=n.n(s),a=n(2),i=n.n(a),l=n(12),u=n(13),c=n(9),d=n(39),f=n.n(d),m=(n(21),n(17)),p=n(16),h=n.n(p),g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function b(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var v=o.a.createContext||function(e,t){var n,s,a="__create-react-context-"+function(){var e="__global_unique_id__";return g[e]=(g[e]||0)+1}()+"__",l=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).emitter=b(t.props.value),t}Object(r.a)(n,e);var s=n.prototype;return s.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},s.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,s=e.value;((o=r)===(a=s)?0!==o||1/o==1/a:o!=o&&a!=a)?n=0:(n="function"==typeof t?t(r,s):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},s.render=function(){return this.props.children},n}(o.a.Component);l.childContextTypes=((n={})[a]=i.a.object.isRequired,n);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var s=n.prototype;return s.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},s.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},s.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},s.getValue=function(){return this.context[a]?this.context[a].get():e},s.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(o.a.Component);return u.contextTypes=((s={})[a]=i.a.object,s),{Provider:l,Consumer:u}},M=function(e){var t=v();return t.displayName=e,t},y=M("Router-History"),_=M("Router"),I=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(_.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(y.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;var P=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);var k={},E=0;function w(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(k[e])return k[e];var t=f.a.compile(e);return E<1e4&&(k[e]=t,E++),t}(e)(t,{pretty:!0})}function N(e){var t=e.computedMatch,n=e.to,r=e.push,s=void 0!==r&&r;return o.a.createElement(_.Consumer,null,(function(e){e||Object(u.a)(!1);var r=e.history,a=e.staticContext,i=s?r.push:r.replace,d=Object(l.c)(t?"string"==typeof n?w(n,t.params):Object(c.a)({},n,{pathname:w(n.pathname,t.params)}):n);return a?(i(d),null):o.a.createElement(P,{onMount:function(){i(d)},onUpdate:function(e,t){var n=Object(l.c)(t.to);Object(l.f)(n,Object(c.a)({},d,{key:n.key}))||i(d)},to:n})}))}var V={},S=0;function T(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,s=n.exact,o=void 0!==s&&s,a=n.strict,i=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=V[n]||(V[n]={});if(r[e])return r[e];var s=[],o={regexp:f()(e,s,t),keys:s};return S<1e4&&(r[e]=o,S++),o}(n,{end:o,strict:i,sensitive:u}),s=r.regexp,a=r.keys,l=s.exec(e);if(!l)return null;var c=l[0],d=l.slice(1),m=e===c;return o&&!m?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:m,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var R=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(_.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?T(n.pathname,e.props):t.match,s=Object(c.a)({},t,{location:n,match:r}),a=e.props,i=a.children,l=a.component,d=a.render;return Array.isArray(i)&&function(e){return 0===o.a.Children.count(e)}(i)&&(i=null),o.a.createElement(_.Provider,{value:s},s.match?i?"function"==typeof i?i(s):i:l?o.a.createElement(l,s):d?d(s):null:"function"==typeof i?i(s):null)}))},t}(o.a.Component);function O(e){return"/"===e.charAt(0)?e:"/"+e}function x(e,t){if(!e)return t;var n=O(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function A(e){return"string"==typeof e?e:Object(l.e)(e)}function C(e){return function(){Object(u.a)(!1)}}function D(){}o.a.Component;var j=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(_.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,s=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?T(s.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:s,computedMatch:r}):null}))},t}(o.a.Component);function F(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(m.a)(t,["wrappedComponentRef"]);return o.a.createElement(_.Consumer,null,(function(t){return t||Object(u.a)(!1),o.a.createElement(e,Object(c.a)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,h()(n,e)}var B=o.a.useContext;function L(){return B(y)}function U(){return B(_).location}}).call(this,n(15))},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var s=e[r];"."===s?e.splice(r,1):".."===s?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",s=!1,o=arguments.length-1;o>=-1&&!s;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,s="/"===a.charAt(0))}return(s?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!s).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===s(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var s=r(e.split("/")),o=r(n.split("/")),a=Math.min(s.length,o.length),i=a,l=0;l<a;l++)if(s[l]!==o[l]){i=l;break}var u=[];for(l=i;l<s.length;l++)u.push("..");return(u=u.concat(o.slice(i))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,s=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!s){r=o;break}}else s=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,s=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!s){n=t+1;break}}else-1===r&&(s=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var i=e.charCodeAt(a);if(47!==i)-1===r&&(s=!1,r=a+1),46===i?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!s){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(19))},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.decode=t.parse=n(107),t.encode=t.stringify=n(108)},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return m}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const s=e[t],o=t+1<e.length,a=o?e[t+1]:0,i=t+2<e.length,l=i?e[t+2]:0,u=s>>2,c=(3&s)<<4|a>>4;let d=(15&a)<<2|l>>6,f=63&l;i||(f=64,o||(d=64)),r.push(n[u],n[c],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&o)}else if(s>239&&s<365){const o=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const s=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const i=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==o||null==i||null==l)throw new a;const u=s<<2|o>>4;if(r.push(u),64!==i){const e=o<<4&240|i>>2;if(r.push(e),64!==l){const e=i<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=s(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return o.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return u()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},d=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config};function f(){try{return"object"==typeof indexedDB}catch(e){return!1}}function m(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class p extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h.prototype.create)}}class h{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function(e,t){return e.replace(g,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new p(r,a,n)}}const g=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],o=t[s];if(v(n)&&v(o)){if(!b(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function v(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,n(15),n(19))},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return V})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return p}));var r=n(9);function s(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,s=e.length;r<s;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],i=e&&s(e),l=t&&s(t),u=i||l;if(e&&s(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var d=0,f=a.length;f>=0;f--){var m=a[f];"."===m?o(a,f):".."===m?(o(a,f),d++):d&&(o(a,f),d--)}if(!u)for(;d--;d)a.unshift("..");!u||""===a[0]||a[0]&&s(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function i(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=i(t),s=i(n);return r!==t||s!==n?e(r,s):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},u=n(13);function c(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,s=t||"/";return n&&"?"!==n&&(s+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(s+="#"===r.charAt(0)?r:"#"+r),s}function h(e,t,n,s){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",s=t.indexOf("#");-1!==s&&(r=t.substr(s),t=t.substr(0,s));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),s?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,s.pathname)):o.pathname=s.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,s){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,s):s(!0):s(!1!==o)}else s(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!("undefined"==typeof window||!window.document||!window.document.createElement);function M(e,t){t(window.confirm(e))}function y(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),v||Object(u.a)(!1);var t,n=window.history,s=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,i=a.forceRefresh,l=void 0!==i&&i,d=a.getUserConfirmation,g=void 0===d?M:d,_=a.keyLength,I=void 0===_?6:_,P=e.basename?m(c(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,s=window.location,o=s.pathname+s.search+s.hash;return P&&(o=f(o,P)),h(o,r,n)}function E(){return Math.random().toString(36).substr(2,I)}var w=b();function N(e){Object(r.a)(B,e),B.length=n.length,w.notifyListeners(B.location,B.action)}function V(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(k(e.state))}function S(){R(k(y()))}var T=!1;function R(e){if(T)T=!1,N();else{w.confirmTransitionTo(e,"POP",g,(function(t){t?N({action:"POP",location:e}):function(e){var t=B.location,n=x.indexOf(t.key);-1===n&&(n=0);var r=x.indexOf(e.key);-1===r&&(r=0);var s=n-r;s&&(T=!0,C(s))}(e)}))}}var O=k(y()),x=[O.key];function A(e){return P+p(e)}function C(e){n.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?(window.addEventListener("popstate",V),o&&window.addEventListener("hashchange",S)):0===D&&(window.removeEventListener("popstate",V),o&&window.removeEventListener("hashchange",S))}var F=!1;var B={length:n.length,action:"POP",location:O,createHref:A,push:function(e,t){var r=h(e,t,E(),B.location);w.confirmTransitionTo(r,"PUSH",g,(function(e){if(e){var t=A(r),o=r.key,a=r.state;if(s)if(n.pushState({key:o,state:a},null,t),l)window.location.href=t;else{var i=x.indexOf(B.location.key),u=x.slice(0,i+1);u.push(r.key),x=u,N({action:"PUSH",location:r})}else window.location.href=t}}))},replace:function(e,t){var r=h(e,t,E(),B.location);w.confirmTransitionTo(r,"REPLACE",g,(function(e){if(e){var t=A(r),o=r.key,a=r.state;if(s)if(n.replaceState({key:o,state:a},null,t),l)window.location.replace(t);else{var i=x.indexOf(B.location.key);-1!==i&&(x[i]=r.key),N({action:"REPLACE",location:r})}else window.location.replace(t)}}))},go:C,goBack:function(){C(-1)},goForward:function(){C(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),t()}},listen:function(e){var t=w.appendListener(e);return j(1),function(){j(-1),t()}}};return B}var I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:c},slash:{encodePath:c,decodePath:c}};function P(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function E(e){window.location.replace(P(window.location.href)+"#"+e)}function w(e){void 0===e&&(e={}),v||Object(u.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),s=n.getUserConfirmation,o=void 0===s?M:s,a=n.hashType,i=void 0===a?"slash":a,l=e.basename?m(c(e.basename)):"",d=I[i],g=d.encodePath,y=d.decodePath;function _(){var e=y(k());return l&&(e=f(e,l)),h(e)}var w=b();function N(e){Object(r.a)(B,e),B.length=t.length,w.notifyListeners(B.location,B.action)}var V=!1,S=null;function T(){var e,t,n=k(),r=g(n);if(n!==r)E(r);else{var s=_(),a=B.location;if(!V&&(t=s,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(S===p(s))return;S=null,function(e){if(V)V=!1,N();else{w.confirmTransitionTo(e,"POP",o,(function(t){t?N({action:"POP",location:e}):function(e){var t=B.location,n=A.lastIndexOf(p(t));-1===n&&(n=0);var r=A.lastIndexOf(p(e));-1===r&&(r=0);var s=n-r;s&&(V=!0,C(s))}(e)}))}}(s)}}var R=k(),O=g(R);R!==O&&E(O);var x=_(),A=[p(x)];function C(e){t.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?window.addEventListener("hashchange",T):0===D&&window.removeEventListener("hashchange",T)}var F=!1;var B={length:t.length,action:"POP",location:x,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=P(window.location.href)),n+"#"+g(l+p(e))},push:function(e,t){var n=h(e,void 0,void 0,B.location);w.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=p(n),r=g(l+t);if(k()!==r){S=t,function(e){window.location.hash=e}(r);var s=A.lastIndexOf(p(B.location)),o=A.slice(0,s+1);o.push(t),A=o,N({action:"PUSH",location:n})}else N()}}))},replace:function(e,t){var n=h(e,void 0,void 0,B.location);w.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=p(n),r=g(l+t);k()!==r&&(S=t,E(r));var s=A.indexOf(p(B.location));-1!==s&&(A[s]=t),N({action:"REPLACE",location:n})}}))},go:C,goBack:function(){C(-1)},goForward:function(){C(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),t()}},listen:function(e){var t=w.appendListener(e);return j(1),function(){j(-1),t()}}};return B}function N(e,t,n){return Math.min(Math.max(e,t),n)}function V(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,s=t.initialEntries,o=void 0===s?["/"]:s,a=t.initialIndex,i=void 0===a?0:a,l=t.keyLength,u=void 0===l?6:l,c=b();function d(e){Object(r.a)(y,e),y.length=y.entries.length,c.notifyListeners(y.location,y.action)}function f(){return Math.random().toString(36).substr(2,u)}var m=N(i,0,o.length-1),g=o.map((function(e){return h(e,void 0,"string"==typeof e?f():e.key||f())})),v=p;function M(e){var t=N(y.index+e,0,y.entries.length-1),r=y.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var y={length:g.length,action:"POP",location:g[m],index:m,entries:g,createHref:v,push:function(e,t){var r=h(e,t,f(),y.location);c.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=h(e,t,f(),y.location);c.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(y.entries[y.index]=r,d({action:"REPLACE",location:r}))}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return y}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r="Invariant failed";function s(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return s}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(21),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function l(e){return r.isMemo(e)?a:i[e.$$typeof]||s}i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var s=m(n);s&&s!==p&&e(t,s,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var i=l(t),h=l(n),g=0;g<a.length;++g){var b=a[g];if(!(o[b]||r&&r[b]||h&&h[b]||i&&i[b])){var v=f(n,b);try{u(t,b,v)}catch(e){}}}}return t}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r=n(21),s=n(0),o=n.n(s),a=n(60),i=n.n(a),l=n(61),u=n(62),c=n(40),d=n(16),f=n.n(d);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,s=t.length;r<s;r+=1)n.push(t[r],e[r+1]);return n},h=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},g=Object.freeze([]),b=Object.freeze({});function v(e){return"function"==typeof e}function M(e){return e.displayName||e.name||"Component"}function y(e){return e&&"string"==typeof e.styledComponentId}var _=void 0!==e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"})&&(Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_ATTR)||"data-styled",I="undefined"!=typeof window&&"HTMLElement"in window,P=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"})&&(void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY:void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/chiptheory",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY)));function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,s=r;e>=s;)(s<<=1)<0&&k(16,""+e);this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=r;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),i=0,l=t.length;i<l;i++)this.tag.insertRule(a,t[i])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var s=n;s<r;s++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n,o=r;o<s;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),w=new Map,N=new Map,V=1,S=function(e){if(w.has(e))return w.get(e);for(;N.has(V);)V++;var t=V++;return w.set(e,t),N.set(t,e),t},T=function(e){return N.get(e)},R=function(e,t){t>=V&&(V=t+1),w.set(e,t),N.set(t,e)},O="style["+_+'][data-styled-version="5.3.11"]',x=new RegExp("^"+_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),A=function(e,t,n){for(var r,s=n.split(","),o=0,a=s.length;o<a;o++)(r=s[o])&&e.registerName(t,r)},C=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var i=a.match(x);if(i){var l=0|parseInt(i[1],10),u=i[2];0!==l&&(R(u,l),A(e,u,i[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},D=function(){return n.nc},j=function(e){var t=document.head,n=e||t,r=document.createElement("style"),s=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(_))return r}}(n),o=void 0!==s?s.nextSibling:null;r.setAttribute(_,"active"),r.setAttribute("data-styled-version","5.3.11");var a=D();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},F=function(){function e(e){var t=this.element=j(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var s=t[n];if(s.ownerNode===e)return s}k(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),B=function(){function e(e){var t=this.element=j(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),L=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),U=I,q={isServer:!I,useCSSOMInjection:!P},z=function(){function e(e,t,n){void 0===e&&(e=b),void 0===t&&(t={}),this.options=m({},q,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&I&&U&&(U=!1,function(e){for(var t=document.querySelectorAll(O),n=0,r=t.length;n<r;n++){var s=t[n];s&&"active"!==s.getAttribute(_)&&(C(e,s),s.parentNode&&s.parentNode.removeChild(s))}}(this))}e.registerId=function(e){return S(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(m({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,s=t.target,e=n?new L(s):r?new F(s):new B(s),new E(e)));var e,t,n,r,s},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(S(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(S(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(S(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",s=0;s<n;s++){var o=T(s);if(void 0!==o){var a=e.names.get(o),i=t.getGroup(s);if(a&&i&&a.size){var l=_+".g"+s+'[id="'+o+'"]',u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+i+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),H=/(a)(d)/gi,W=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=W(t%52)+n;return(W(t%52)+n).replace(H,"$1-$2")}var $=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},K=function(e){return $(5381,e)};function X(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(v(n)&&!y(n))return!1}return!0}var Y=K("5.3.11"),Q=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&X(e),this.componentId=t,this.baseHash=$(Y,t),this.baseStyle=n,z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))s.push(this.staticRulesId);else{var o=he(this.rules,e,t,n).join(""),a=G($(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var i=n(o,"."+a,void 0,r);t.insertRules(r,a,i)}s.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,u=$(this.baseHash,n.hash),c="",d=0;d<l;d++){var f=this.rules[d];if("string"==typeof f)c+=f;else if(f){var m=he(f,e,t,n),p=Array.isArray(m)?m.join(""):m;u=$(u,p+d),c+=p}}if(c){var h=G(u>>>0);if(!t.hasNameForId(r,h)){var g=n(c,"."+h,void 0,r);t.insertRules(r,h,g)}s.push(h)}}return s.join(" ")},e}(),J=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,n,r,s,o=void 0===e?b:e,a=o.options,i=void 0===a?b:a,u=o.plugins,c=void 0===u?g:u,d=new l.a(i),f=[],m=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,s,o,a,i,l,u,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(s[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,o){return 0===r&&-1!==Z.indexOf(o[n.length])||o.match(s)?e:"."+t};function h(e,o,a,i){void 0===i&&(i="&");var l=e.replace(J,""),u=o&&a?a+" "+o+" { "+l+" }":l;return t=i,n=o,r=new RegExp("\\"+n+"\\b","g"),s=new RegExp("(\\"+n+"\\b){2,}"),d(a||!o?"":o,u)}return d.use([].concat(c,[function(e,t,s){2===e&&s.length&&s[0].lastIndexOf(n)>0&&(s[0]=s[0].replace(r,p))},m,function(e){if(-2===e){var t=f;return f=[],t}}])),h.hash=c.length?c.reduce((function(e,t){return t.name||k(15),$(e,t.name)}),5381).toString():"",h}var te=o.a.createContext(),ne=(te.Consumer,o.a.createContext()),re=(ne.Consumer,new z),se=ee();function oe(){return Object(s.useContext)(te)||re}function ae(){return Object(s.useContext)(ne)||se}function ie(e){var t=Object(s.useState)(e.stylisPlugins),n=t[0],r=t[1],a=oe(),l=Object(s.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=Object(s.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(s.useEffect)((function(){i()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(te.Provider,{value:l},o.a.createElement(ne.Provider,{value:u},e.children))}var le=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=se);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return k(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=se),this.name+e.hash},e}(),ue=/([A-Z])/,ce=/([A-Z])/g,de=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function me(e){return ue.test(e)?e.replace(ce,fe).replace(de,"-ms-"):e}var pe=function(e){return null==e||!1===e||""===e};function he(e,t,n,r){if(Array.isArray(e)){for(var s,o=[],a=0,i=e.length;a<i;a+=1)""!==(s=he(e[a],t,n,r))&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));return o}return pe(e)?"":y(e)?"."+e.styledComponentId:v(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:he(e(t),t,n,r):e instanceof le?n?(e.inject(n,r),e.getName(r)):e:h(e)?function e(t,n){var r,s,o=[];for(var a in t)t.hasOwnProperty(a)&&!pe(t[a])&&(Array.isArray(t[a])&&t[a].isCss||v(t[a])?o.push(me(a)+":",t[a],";"):h(t[a])?o.push.apply(o,e(t[a],a)):o.push(me(a)+": "+(r=a,(null==(s=t[a])||"boolean"==typeof s||""===s?"":"number"!=typeof s||0===s||r in u.a||r.startsWith("--")?String(s).trim():s+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var l}var ge=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v(e)||h(e)?ge(he(p(g,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(he(p(e,n)))}new Set;var ve=function(e,t,n){return void 0===n&&(n=b),e.theme!==n.theme&&e.theme||t||n.theme},Me=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ye=/(^-|-$)/g;function _e(e){return e.replace(Me,"-").replace(ye,"")}var Ie=function(e){return G(K(e)>>>0)};function Pe(e){return"string"==typeof e&&!0}var ke=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ee=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function we(e,t,n){var r=e[n];ke(t)&&ke(r)?Ne(r,t):e[n]=t}function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var s=0,o=n;s<o.length;s++){var a=o[s];if(ke(a))for(var i in a)Ee(i)&&we(e,a[i],i)}return e}var Ve=o.a.createContext();Ve.Consumer;var Se={};function Te(e,t,n){var r=y(e),a=!Pe(e),i=t.attrs,l=void 0===i?g:i,u=t.componentId,d=void 0===u?function(e,t){var n="string"!=typeof e?"sc":_e(e);Se[n]=(Se[n]||0)+1;var r=n+"-"+Ie("5.3.11"+n+Se[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,p=t.displayName,h=void 0===p?function(e){return Pe(e)?"styled."+e:"Styled("+M(e)+")"}(e):p,_=t.displayName&&t.componentId?_e(t.displayName)+"-"+t.componentId:t.componentId||d,I=r&&e.attrs?Array.prototype.concat(e.attrs,l).filter(Boolean):l,P=t.shouldForwardProp;r&&e.shouldForwardProp&&(P=t.shouldForwardProp?function(n,r,s){return e.shouldForwardProp(n,r,s)&&t.shouldForwardProp(n,r,s)}:e.shouldForwardProp);var k,E=new Q(n,_,r?e.componentStyle:void 0),w=E.isStatic&&0===l.length,N=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,i=e.defaultProps,l=e.foldedComponentIds,u=e.shouldForwardProp,d=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=b);var r=m({},t,{theme:e}),s={};return n.forEach((function(e){var t,n,o,a=e;for(t in v(a)&&(a=a(r)),a)r[t]=s[t]="className"===t?(n=s[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,s]}(ve(t,Object(s.useContext)(Ve),i)||b,t,o),h=p[0],g=p[1],M=function(e,t,n,r){var s=oe(),o=ae();return t?e.generateAndInjectStyles(b,s,o):e.generateAndInjectStyles(n,s,o)}(a,r,h),y=n,_=g.$as||t.$as||g.as||t.as||f,I=Pe(_),P=g!==t?m({},t,{},g):t,k={};for(var E in P)"$"!==E[0]&&"as"!==E&&("forwardedAs"===E?k.as=P[E]:(u?u(E,c.a,_):!I||Object(c.a)(E))&&(k[E]=P[E]));return t.style&&g.style!==t.style&&(k.style=m({},t.style,{},g.style)),k.className=Array.prototype.concat(l,d,M!==d?M:null,t.className,g.className).filter(Boolean).join(" "),k.ref=y,Object(s.createElement)(_,k)}(k,e,t,w)};return N.displayName=h,(k=o.a.forwardRef(N)).attrs=I,k.componentStyle=E,k.displayName=h,k.shouldForwardProp=P,k.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,k.styledComponentId=_,k.target=r?e.target:e,k.withComponent=function(e){var r=t.componentId,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(t,["componentId"]),o=r&&r+"-"+(Pe(e)?e:_e(M(e)));return Te(e,m({},s,{attrs:I,componentId:o}),n)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ne({},e.defaultProps,t):t}}),Object.defineProperty(k,"toString",{value:function(){return"."+k.styledComponentId}}),a&&f()(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}var Re=function(e){return function e(t,n,s){if(void 0===s&&(s=b),!Object(r.isValidElementType)(n))return k(1,String(n));var o=function(){return t(n,s,be.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,m({},s,{},r))},o.attrs=function(r){return e(t,n,m({},s,{attrs:Array.prototype.concat(s.attrs,r).filter(Boolean)}))},o}(Te,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Re[e]=Re(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=X(e),z.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var s=r(he(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,s)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&z.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=D();return"<style "+[n&&'nonce="'+n+'"',_+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?k(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return k(2);var n=((t={})[_]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=D();return r&&(n.nonce=r),[o.a.createElement("style",m({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new z({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?k(2):o.a.createElement(ie,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return k(3)}}();t.a=Re}).call(this,n(19))},function(e,t){var n,r,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&m())}function m(){if(!c){var e=i(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=h,s.addListener=h,s.once=h,s.off=h,s.removeListener=h,s.removeAllListeners=h,s.emit=h,s.prependListener=h,s.prependOnceListener=h,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(77)},function(e,t,n){"use strict";e.exports=n(112)},function(e,t,n){"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(137),s=n(138),o=n(4),a=n(139);function i(e,t){var n,o,a,i;if(e){if(25>(e=function(e){if(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return new Uint8Array(e).buffer}throw new Error("Unsupported buffer type, need ArrayBuffer or Uint8Array")}(e)).byteLength)throw new Error("A buffer of a valid MIDI file must have, at least, a size of 25bytes.");for(this.header=new r(e,t),this.tracks=[],o=r.HEADER_LENGTH,a=0,i=this.header.getTracksCount();a<i;a++){if(t&&o>=e.byteLength-1)throw new Error("Couldn't find datas corresponding to the track #"+a+".");n=new s(e,o,t),this.tracks.push(n),o+=n.getTrackLength()+8}if(t&&o!==e.byteLength)throw new Error("It seems that the buffer contains too much datas.")}else this.header=new r,this.tracks=[new s]}i.prototype.getEvents=function(e,t){var n,r,s,a,i,l,u=0,c=[],d=this.header.getFormat(),f=this.header.getTickResolution();if(1!==d||1===this.tracks.length)for(s=0,a=this.tracks.length;s<a;s++)for(u=2===d&&u?u:0,r=(n=o.createParser(this.tracks[s].getTrackContent(),0,!1)).next();r;)u+=r.delta?r.delta*f/1e3:0,r.type===o.EVENT_META&&r.subtype===o.EVENT_META_SET_TEMPO&&(f=this.header.getTickResolution(r.tempo)),e&&r.type!==e||t&&(!r.subtype||r.subtype!==t)||(r.playTime=u,c.push(r)),r=n.next();else{for(i=[],l=-1,s=0,a=this.tracks.length;s<a;s++)i[s]={},i[s].parser=o.createParser(this.tracks[s].getTrackContent(),0,!1),i[s].curEvent=i[s].parser.next();do{for(l=-1,s=0,a=i.length;s<a;s++)i[s].curEvent&&(-1===l||i[s].curEvent.delta<i[l].curEvent.delta)&&(l=s);if(-1!==l){for(s=0,a=i.length;s<a;s++)s!==l&&i[s].curEvent&&(i[s].curEvent.delta-=i[l].curEvent.delta);u+=(r=i[l].curEvent).delta?r.delta*f/1e3:0,r.type===o.EVENT_META&&r.subtype===o.EVENT_META_SET_TEMPO&&(f=this.header.getTickResolution(r.tempo)),e&&r.type!==e||t&&(!r.subtype||r.subtype!==t)||(r.playTime=u,r.track=l,c.push(r)),i[l].curEvent=i[l].parser.next()}}while(-1!==l)}return c},i.prototype.getMidiEvents=function(){return this.getEvents(o.EVENT_MIDI)},i.prototype.getLyrics=function(){var e,t,n,r=this.getEvents(o.EVENT_META),s=[],i=[];for(t=0,n=r.length;t<n;t++)(e=r[t]).subtype===o.EVENT_META_LYRICS?i.push(e):e.subtype===o.EVENT_META_TEXT&&("@"===String.fromCharCode(e.data[0])?"T"===String.fromCharCode(e.data[1])||"I"===String.fromCharCode(e.data[1])||String.fromCharCode(e.data[1]):0===String.fromCharCode.apply(String,e.data).indexOf("words")?s.length=0:0!==e.playTime&&s.push(e));2<i.length?s=i:s.length||(s=[]);try{s.forEach((function(e){e.text=a.getStringFromBytes(e.data,0,e.length,!0)}))}catch(e){s.forEach((function(e){e.text=e.data.map((function(e){return String.fromCharCode(e)})).join("")}))}return s},i.prototype.getTrackEvents=function(e){var t,n,r=[];if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=(n=o.createParser(this.tracks[e].getTrackContent(),0,!1)).next();do{r.push(t),t=n.next()}while(t);return r},i.prototype.setTrackEvents=function(e,t){var n,r;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");if(!t||!t.length)throw Error("A track must contain at least one event, none given.");n=o.getRequiredBufferLength(t),r=new Uint8Array(n),o.writeToTrack(t,r),this.tracks[e].setTrackContent(r)},i.prototype.deleteTrack=function(e){if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");this.tracks.splice(e,1),this.header.setTracksCount(this.tracks.length)},i.prototype.addTrack=function(e){var t;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=new s,e===this.tracks.length?this.tracks.push(t):this.tracks.splice(e,0,t),this.header.setTracksCount(this.tracks.length)},i.prototype.getContent=function(){var e,t,n,s,o,a,i,l,u;for(e=r.HEADER_LENGTH,s=0,o=this.tracks.length;s<o;s++)e+=this.tracks[s].getTrackLength()+8;for(t=new Uint8Array(e),n=new Uint8Array(this.header.datas.buffer,this.header.datas.byteOffset,r.HEADER_LENGTH),s=0,o=r.HEADER_LENGTH;s<o;s++)t[s]=n[s];for(a=0,i=this.tracks.length;a<i;a++)for(n=new Uint8Array(this.tracks[a].datas.buffer,this.tracks[a].datas.byteOffset,this.tracks[a].datas.byteLength),l=0,u=this.tracks[a].datas.byteLength;l<u;l++)t[s++]=n[l];return t.buffer},i.Header=r,i.Track=s,e.exports=i},function(e,t,n){e.exports=function e(t,n,r){function s(a,i){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return s(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(e,t,n){"use strict";t.exports={CalcCascades:e("./src/calcCascades"),Fft:e("./src/fft"),FirCoeffs:e("./src/firCoeffs"),FirFilter:e("./src/firFilter"),IirCoeffs:e("./src/iirCoeffs"),IirFilter:e("./src/iirFilter"),TestFilter:e("./src/testFilter")}},{"./src/calcCascades":2,"./src/fft":3,"./src/firCoeffs":4,"./src/firFilter":5,"./src/iirCoeffs":6,"./src/iirFilter":7,"./src/testFilter":8}],2:[function(e,t,n){"use strict";var r=new(e("./iirCoeffs")),s={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749],[1.22566942541,.710852074442,.559609164796,.505991069397],[1.41530886916,.809790964842,.620470155556,.537552151325,.503912727276],[1.59465693507,.905947107025,.684008068137,.579367238641,.525936202016,.502755558204],[1.76552743493,.998998442993,.747625068271,.624777082395,.556680772868,.519027293158,.502045428643],[1.9292718407,1.08906376917,.810410302962,.671382379377,.591144659703,.542678365981,.514570953471,.501578400482],[2.08691792612,1.17637337045,.872034231424,.718163551101,.627261751983,.569890924765,.533371782078,.511523796759,.50125489338],[2.23926560629,1.26117120993,.932397288146,.764647810579,.664052481472,.598921924986,.555480327396,.526848630061,.509345928377,.501021580965],[2.38695091667,1.34368488961,.991497755204,.81060830488,.701011199665,.628878390935,.57943181849,.545207253735,.52208637596,.507736060535,.500847111042],[2.53048919562,1.42411783481,1.04937620183,.85593899901,.737862159044,.659265671705,.604435823473,.565352679646,.537608804383,.51849505465,.506508536474,.500715908905]],f3dB:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877],[2.18872623053,1.95319575902,1.8320926012,1.77846591177],[2.45062684305,2.20375262593,2.06220731793,1.98055310881,1.94270419166],[2.69298925084,2.43912611431,2.28431825401,2.18496722634,2.12472538477,2.09613322542],[2.91905714471,2.66069088948,2.49663434571,2.38497976939,2.30961462222,2.26265746534,2.24005716132],[3.13149167404,2.87016099416,2.69935018044,2.57862945683,2.49225505119,2.43227707449,2.39427710712,2.37582307687],[3.33237300564,3.06908580184,2.89318259511,2.76551588399,2.67073340527,2.60094950474,2.55161764546,2.52001358804,2.50457164552],[3.52333123464,3.25877569704,3.07894353744,2.94580435024,2.84438325189,2.76691082498,2.70881411245,2.66724655259,2.64040228249,2.62723439989],[3.70566068548,3.44032173223,3.2574059854,3.11986367838,3.01307175388,2.92939234605,2.86428726094,2.81483068055,2.77915465405,2.75596888377,2.74456638588],[3.88040469682,3.61463243697,3.4292654707,3.28812274966,3.17689762788,3.08812364257,3.01720732972,2.96140104561,2.91862858495,2.88729479473,2.8674198668,2.8570800015]],f1dB:[[2.16477559371],[2.70320928596,2.41122332505],[3.25676581436,2.88822569572,2.74246238837],[3.76153580353,3.35675411406,3.14862673032,3.05646412475],[4.22174260104,3.79644757806,3.55260471864,3.41193742197,3.34673435508],[4.64584812552,4.20789257981,3.94082363122,3.76942681446,3.66549975744,3.61617359345],[5.04060395196,4.5944592201,4.3111677248,4.11836351827,3.98822359814,3.90713836715,3.86811234525],[5.41107948467,4.95951159709,4.66435804468,4.45575796102,4.30650679478,4.20286750045,4.13720522991,4.10531748119],[5.76110791853,5.30592898465,5.00182215701,4.7811081045,4.61724509926,4.49660100894,4.41131378918,4.35667671372,4.32997951075],[6.09364309488,5.63609116014,5.32506930789,5.09480346139,4.91939504255,4.78540258409,4.68493280536,4.61302286993,4.56661931366,4.54382759952],[6.41100731543,5.95195558182,5.63550073656,5.39754464742,5.21278891332,5.06801430334,4.95539684456,4.8697869429,4.80814951843,4.76793469612,4.74828032403],[6.71506056052,6.25514029778,5.9343616072,5.69011422355,5.49763642361,5.34401973764,5.22125973611,5.12485045619,5.05037962112,4.99699982231,4.96155789635,4.94441828777]]}},o={bessel:{as:[[1.3617],[1.3397,.7743],[1.2217,.9686,.5131],[1.1112,.9754,.7202,.3728],[1.0215,.9393,.7815,.5604,.2883]],bs:[[.618],[.4889,.389],[.3887,.3505,.2756],[.3162,.2979,.2621,.2087],[.265,.2549,.2351,.2059,.1665]]},butterworth:{as:[[1.4142],[1.8478,.7654],[1.9319,1.4142,.5176],[1.9616,1.6629,1.1111,.3902],[1.9754,1.782,1.4142,.908,.3129]],bs:[[1],[1,1],[1,1,1],[1,1,1,1],[1,1,1,1,1]]},tschebyscheff05:{as:[[1.3614],[2.6282,.3648],[3.8645,.7528,.1589],[5.1117,1.0639,.3439,.0885],[6.3648,1.3582,.4822,.1994,.0563]],bs:[[1.3827],[3.4341,1.1509],[6.9797,1.8573,1.0711],[11.9607,2.9365,1.4206,1.0407],[18.3695,4.3453,1.944,1.252,1.0263]]},tschebyscheff1:{as:[[1.3022],[2.5904,.3039],[3.8437,.6292,.1296],[5.1019,.8916,.2806,.0717],[6.3634,1.1399,.3939,.1616,.0455]],bs:[[1.5515],[4.1301,1.1697],[8.5529,1.9124,1.0766],[14.7608,3.0426,1.4334,1.0432],[22.7468,4.5167,1.9665,1.2569,1.0277]]},tschebyscheff2:{as:[[1.1813],[2.4025,.2374],[3.588,.4925,.0995],[4.7743,.6991,.2153,.0547],[5.9618,.8947,.3023,.1233,.0347]],bs:[[1.7775],[4.9862,1.1896],[10.4648,1.9622,1.0826],[18.151,3.1353,1.4449,1.0461],[28.0376,4.6644,1.9858,1.2614,1.0294]]},tschebyscheff3:{as:[[1.065],[2.1853,.1964],[3.2721,.4077,.0815],[4.3583,.5791,.1765,.0448],[5.4449,.7414,.2479,.1008,.0283]],bs:[[1.9305],[5.5339,1.2009],[11.6773,1.9873,1.0861],[20.2948,3.1808,1.4507,1.0478],[31.3788,4.7363,1.9952,1.2638,1.0304]]},allpass:{as:[[1.6278],[2.337,1.3506],[2.6117,2.0706,1.0967],[2.7541,2.4174,1.785,.9239],[2.8406,2.612,2.1733,1.5583,.8018]],bs:[[.8832],[1.4878,1.1837],[1.7763,1.6015,1.2596],[1.942,1.83,1.6101,1.2822],[2.049,1.9714,1.8184,1.5923,1.2877]]}},a=function(e){return function(t){return function(e,t){var n=[],a=0;if("fromPZ"!==t)for(e.order>12&&(e.order=12),a=0;a<e.order;a++){var i,l,u;"matchedZ"===e.transform?n.push(r.lowpassMZ({Fs:e.Fs,Fc:e.Fc,preGain:e.preGain,as:o[e.characteristic].as[e.order-1][a],bs:o[e.characteristic].bs[e.order-1][a]})):("butterworth"===e.characteristic?(i=.5/Math.sin(Math.PI/(2*e.order)*(a+.5)),l=1):(i=s[e.characteristic].q[e.order-1][a],l=e.oneDb?s[e.characteristic].f1dB[e.order-1][a]:s[e.characteristic].f3dB[e.order-1][a]),u="highpass"===t?e.Fc/l:e.Fc*l,"bandpass"!==t&&"bandstop"!==t||"bessel"===e.characteristic&&(u=Math.sqrt(e.order)*u/e.order),n.push(r[t]({Fs:e.Fs,Fc:u,Q:i,BW:e.BW||0,gain:e.gain||0,preGain:e.preGain||!1})))}else for(a=0;a<e.length;a++)n.push(r[t](e[a]));return n}(t,e)}},i={};t.exports=function(){var e=[];for(var t in r)i[t]=a(t),e.push(t);return i.available=function(){return e},i}},{"./iirCoeffs":6}],3:[function(e,t,n){"use strict";t.exports=function(e){if(!function(e){return!(e&e-1)}(e))return!1;var t={};t.length=e,t.buffer=new Float64Array(e),t.re=new Float64Array(e),t.im=new Float64Array(e),t.reI=new Float64Array(e),t.imI=new Float64Array(e),t.twiddle=new Int32Array(e),t.sinTable=new Float64Array(e-1),t.cosTable=new Float64Array(e-1);var n=2*Math.PI,r=Math.floor(Math.log(e)/Math.LN2);for(o=t.sinTable.length;o--;)t.sinTable[o]=Math.sin(n*(o/e)),t.cosTable[o]=Math.cos(n*(o/e));for(var s=e>>1,o=0,a=0;t.twiddle[o]=a,!(++o>=e);){for(r=s;r<=a;)a-=r,r>>=1;a+=r}var i=Math.PI,l=2*Math.PI,u=Math.abs,c=Math.pow,d=Math.cos,f=Math.sin,m=Math.E,p={rectangular:{calc:function(){return 1},values:[],correction:1},none:{calc:function(){return 1},values:[],correction:1},hanning:{calc:function(e,t){return.5*(1-d(l*e/(t-1)))},values:[],correction:2},hamming:{calc:function(e,t){return.54-.46*d(l*e/(t-1))},values:[],correction:1.8518999946875638},tukery:{calc:function(e,t,n){return e<n*(t-1)/2?.5*(1+d(i*(2*e/(n*(t-1))-1))):(t-1)*(1-n/2)<e?.5*(1+d(i*(2*e/(n*(t-1))-2/n+1))):1},values:[],correction:4/3},cosine:{calc:function(e,t){return f(i*e/(t-1))},values:[],correction:1.570844266360796},lanczos:{calc:function(e,t){return function(e){return f(i*e)/(i*e)}(2*e/(t-1)-1)},values:[],correction:1.6964337576195783},triangular:{calc:function(e,t){return 2/(t+1)*((t+1)/2-u(e-(t-1)/2))},values:[],correction:2},bartlett:{calc:function(e,t){return 2/(t-1)*((t-1)/2-u(e-(t-1)/2))},values:[],correction:2},gaussian:{calc:function(e,t,n){return c(m,-.5*c((e-(t-1)/2)/(n*(t-1)/2),2))},values:[],correction:5/3},bartlettHanning:{calc:function(e,t){var n=l*e/(t-1);return.62-.48*u(e/(t-1)-.5)-.38*d(n)},values:[],correction:2},blackman:{calc:function(e,t,n){var r=n/2,s=l*e/(t-1);return(1-n)/2-.5*d(s)+r*d(2*s)},values:[],correction:4/3},blackmanHarris:{calc:function(e,t){var n=l*e/(t-1);return.35875-.48829*d(n)+.14128*d(2*n)-.01168*d(3*n)},values:[],correction:1.5594508635},nuttall3:{calc:function(e,t){var n=l*e/(t-1);return.375-.5*d(n)+.125*d(2*n)},values:[],correction:1.56},nuttall3a:{calc:function(e,t){var n=l*e/(t-1);return.40897-.5*d(n)+.09103*d(2*n)},values:[],correction:1.692},nuttall3b:{calc:function(e,t){var n=l*e/(t-1);return.4243801-.4973406*d(n)+.078793*d(2*n)},values:[],correction:1.7372527},nuttall4:{calc:function(e,t){var n=l*e/(t-1);return.3125-.46875*d(n)+.1875*d(2*n)-.03125*d(3*n)},values:[],correction:1.454543},nuttall4a:{calc:function(e,t){var n=l*e/(t-1);return.338946-.481973*d(n)+.161054*d(2*n)-.018027*d(3*n)},values:[],correction:1.512732763},nuttall4b:{calc:function(e,t){var n=l*e/(t-1);return.355768-.481973*d(n)+.144232*d(2*n)-.012604*d(3*n)},values:[],correction:1.55223262},nuttall4c:{calc:function(e,t){var n=l*e/(t-1);return.3635819-.4891775*d(n)+.1365995*d(2*n)-.0106411*d(3*n)},values:[],correction:1.57129067},sft3f:{calc:function(e,t){var n=l*e/(t-1);return.26526-.5*d(n)+.23474*d(2*n)},values:[],correction:1.3610238},sft4f:{calc:function(e,t){var n=l*e/(t-1);return.21706-.42103*d(n)+.28294*d(2*n)-.07897*d(3*n)},values:[],correction:1.2773573},sft5f:{calc:function(e,t){var n=l*e/(t-1);return.1881-.36923*d(n)+.28702*d(2*n)-.13077*d(3*n)+.02488*d(4*n)},values:[],correction:1.23167769},sft3m:{calc:function(e,t){var n=l*e/(t-1);return.28235-.52105*d(n)+.19659*d(2*n)},values:[],correction:1.39343451},sft4m:{calc:function(e,t){var n=l*e/(t-1);return.241906-.460841*d(n)+.2552381*d(2*n)-.041872*d(3*n)},values:[],correction:1.3190596},sft5m:{calc:function(e,t){var n=l*e/(t-1);return.209671-.407331*d(n)+.281225*d(2*n)-.092669*d(3*n)+.0091036*d(4*n)},values:[],correction:1.26529456464},nift:{calc:function(e,t){var n=l*e/(t-1);return.2810639-.5208972*d(n)+.1980399*d(2*n)},values:[],correction:1.39094182},hpft:{calc:function(e,t){var n=l*e/(t-1);return(1-1.912510941*d(n)+1.079173272*d(2*n)-.1832630879*d(3*n))/t},values:[],correction:1},srft:{calc:function(e,t){var n=l*e/(t-1);return(1-1.93*d(n)+1.29*d(2*n)-.388*d(3*n)+.028*d(4*n))/t},values:[],correction:1},hft70:{calc:function(e,t){var n=l*e/(t-1);return(1-1.90796*d(n)+1.07349*d(2*n)-.18199*d(3*n))/t},values:[],correction:1},hft95:{calc:function(e,t){var n=l*e/(t-1);return(1-1.9383379*d(n)+1.3045202*d(2*n)-.402827*d(3*n)+.0350665*d(4*n))/t},values:[],correction:1},hft90d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.942604*d(n)+1.340318*d(2*n)-.440811*d(3*n)+.043097*d(4*n))/t},values:[],correction:1},hft116d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.9575375*d(n)+1.4780705*d(2*n)-.6367431*d(3*n)+.1228389*d(4*n)-.0066288*d(5*n))/t},values:[],correction:1},hft144d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.96760033*d(n)+1.57983607*d(2*n)-.81123644*d(3*n)+.22583558*d(4*n)-.02773848*d(5*n)+9036e-7*d(6*n))/t},values:[],correction:1},hft196d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.97441842*d(n)+1.65409888*d(2*n)-.95788186*d(3*n)+.3367342*d(4*n)-.06364621*d(5*n)+.00521942*d(6*n)-10599e-8*d(7*n))/t},values:[],correction:1},hft223d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.98298997309*d(n)+1.75556083063*d(2*n)-1.19037717712*d(3*n)+.56155440797*d(4*n)-.17296769663*d(5*n)+.03233247087*d(6*n)-.00324954578*d(7*n)+.0001380104*d(8*n)-132725e-11*d(9*n))/t},values:[],correction:1},hft248d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.985844164102*d(n)+1.791176438506*d(2*n)-1.282075284005*d(3*n)+.667777530266*d(4*n)-.240160796576*d(5*n)+.056656381764*d(6*n)-.008134974479*d(7*n)+.00062454465*d(8*n)-19808998e-12*d(9*n)+1.32974e-7*d(10*n))/t},values:[],correction:1}},h=function(e){return p[e.name].values.length!==e.N?(0===e.n&&(p[e.name].values.length=0),p[e.name].values[e.n]=p[e.name].correction*p[e.name].calc(e.n,e.N,e.a),p[e.name].values[e.n]):p[e.name].values};return{forward:function(e,n){var r,s,o,a,i,l,u,c,d,f,m,p,g={name:n,N:o=t.buffer.length,a:.5,n:0},b=h(g);if("number"==typeof b)for(r=0;r<o;++r)g.n=r,t.buffer[r]=e[r]*h(g);else for(r=0;r<o;++r)t.buffer[r]=e[r]*b[r];for(r=o;r--;)t.re[r]=t.buffer[t.twiddle[r]],t.im[r]=0;for(a=1;a<o;a=i)for(l=0,u=o/(i=a+a),s=0;s<a;s++){for(c=t.cosTable[l],d=t.sinTable[l],r=s;r<o;r+=i)f=r+a,m=d*t.im[f]+c*t.re[f],p=c*t.im[f]-d*t.re[f],t.re[f]=t.re[r]-m,t.re[r]+=m,t.im[f]=t.im[r]-p,t.im[r]+=p;l+=u}return{re:t.re,im:t.im}},inverse:function(e,n){var r,s,o,a,i,l,u,c,d,f,m,p;for(r=o=e.length;r--;)s=t.twiddle[r],t.reI[r]=e[s],t.imI[r]=-n[s];for(a=1;a<o;a=i)for(l=0,u=o/(i=a+a),s=0;s<a;s++){for(c=t.cosTable[l],d=t.sinTable[l],r=s;r<o;r+=i)f=r+a,m=d*t.imI[f]+c*t.reI[f],p=c*t.imI[f]-d*t.reI[f],t.reI[f]=t.reI[r]-m,t.reI[r]+=m,t.imI[f]=t.imI[r]-p,t.imI[r]+=p;l+=u}for(r=o;r--;)t.buffer[r]=t.reI[r]/o;return t.buffer},magnitude:function(e){for(var t=[],n=0;n<e.re.length;n++)t.push(Math.sqrt(e.re[n]*e.re[n]+e.im[n]*e.im[n]));return t},magToDb:function(e){for(var t=[],n=0;n<e.length;n++)t.push(20*Math.log(e[n])*Math.LOG10E);return t},phase:function(e){for(var t=[],n=0;n<e.re.length;n++)t.push(Math.atan2(e.im[n],e.re[n]));return t},windows:function(){var e=[];for(var t in p)e.push(t);return e}}}},{}],4:[function(e,t,n){"use strict";t.exports=function(){var e=function(e){var t=e.Fs,n=e.Fc,r=e.order,s=2*Math.PI*n/t,o=0,a=0,i=[];for(o=0;o<=r;o++)o-r/2==0?i[o]=s:(i[o]=Math.sin(s*(o-r/2))/(o-r/2),i[o]*=.54-.46*Math.cos(2*Math.PI*o/r)),a+=i[o];for(o=0;o<=r;o++)i[o]/=a;return i},t=function(e){var t;for(t=0;t<e.length;t++)e[t]=-e[t];return e[(e.length-1)/2]++,e},n=function(n){for(var r=e({order:n.order,Fs:n.Fs,Fc:n.F2}),s=t(e({order:n.order,Fs:n.Fs,Fc:n.F1})),o=[],a=0;a<r.length;a++)o.push(r[a]+s[a]);return o};return{lowpass:function(t){return e(t)},highpass:function(n){return t(e(n))},bandstop:function(e){return n(e)},bandpass:function(e){return t(n(e))},kbFilter:function(e){return function(e){var t=e.Fs,n=e.Fa,r=e.Fb,s=e.order||51,o=e.Att||100,a=function(e){for(var t=0,n=1,r=1;n>1e-6*r;)r+=n*=e*e/((t+=2)*t);return r};s/2-Math.floor(s/2)==0&&s++;var i,l,u=(s-1)/2,c=[],d=0,f=[];for(c[0]=2*(r-n)/t,d=1;d<=u;d++)c[d]=(Math.sin(2*d*Math.PI*r/t)-Math.sin(2*d*Math.PI*n/t))/(d*Math.PI);for(i=a(l=o<21?0:o>50?.1102*(o-8.7):.5842*Math.pow(o-21,.4)+.07886*(o-21)),d=0;d<=u;d++)f[u+d]=c[d]*a(l*Math.sqrt(1-d*d/(u*u)))/i;for(d=0;d<u;d++)f[d]=f[s-1-d];return f}(e)},available:function(){return["lowpass","highpass","bandstop","bandpass","kbFilter"]}}}},{}],5:[function(e,t,n){"use strict";var r=e("./utils"),s=r.runMultiFilter,o=r.runMultiFilterReverse,a=r.complex,i=r.evaluatePhase;t.exports=function(e){var t=e,n=[],r=0;for(r=0;r<t.length;r++)n[r]={re:t[r],im:0};var l=function(e){var t,n=[];for(t=0;t<e;t++)n.push(0);return{buf:n,pointer:0}},u=l(t.length-1),c=function(e,n){n.buf[n.pointer]=e;var s=0;for(r=0;r<n.buf.length;r++)s+=t[r]*n.buf[(n.pointer+r)%n.buf.length];return n.pointer=(n.pointer+1)%n.buf.length,s},d=function(e){for(var r=e.Fs,s=e.Fr,o=-Math.PI*(s/r)*2,i={re:0,im:0},l=0;l<t.length-1;l++)i=a.add(i,a.mul(n[l],{re:Math.cos(o*l),im:Math.sin(o*l)}));var u=a.magnitude(i);return{magnitude:u,phase:a.phase(i),dBmagnitude:20*Math.log(u)*Math.LOG10E}};return{responsePoint:function(e){return d(e)},response:function(e){var t=[],n=0,r=2*(e=e||100);for(n=0;n<e;n++)t[n]=d({Fs:r,Fr:n});return i(t),t},simulate:function(e){return function(e){var n=l(t.length-1);return s(e,n,c)}(e)},singleStep:function(e){return c(e,u)},multiStep:function(e,t){return s(e,u,c,t)},filtfilt:function(e,t){return o(s(e,u,c,t),u,c,!0)},reinit:function(){u=l(t.length-1)}}}},{"./utils":9}],6:[function(e,t,n){"use strict";t.exports=function(){var e=function(e,t){var n=e.Q,r=e.Fc,s=e.Fs,o={},a=2*Math.PI*r/s;return e.BW?o.alpha=Math.sin(a)*Math.sinh(Math.log(2)/2*e.BW*a/Math.sin(a)):o.alpha=Math.sin(a)/(2*n),o.cw=Math.cos(a),o.a0=1+o.alpha,t.a0=o.a0,t.a.push(-2*o.cw/o.a0),t.k=1,t.a.push((1-o.alpha)/o.a0),o},t=function(e){var t=e.Q,n=e.Fc,r=e.Fs,s={},o=2*Math.PI*n/r;return s.alpha=Math.sin(o)/(2*t),s.cw=Math.cos(o),s.A=Math.pow(10,e.gain/40),s},n=function(){var e={z:[0,0],a:[],b:[]};return e};return{fromPZ:function(e){var t=n();return t.a0=1,t.b.push(1),t.b.push(-e.z0.re-e.z1.re),t.b.push(e.z0.re*e.z1.re-e.z0.im*e.z1.im),t.a.push(-e.p0.re-e.p1.re),t.a.push(e.p0.re*e.p1.re-e.p0.im*e.p1.im),"lowpass"===e.type?t.k=(1+t.a[0]+t.a[1])/(1+t.b[1]+t.b[2]):t.k=(1-t.a[0]+t.a[1])/(1-t.b[1]+t.b[2]),t},lowpassMZ:function(e){var t=n();t.a0=1;var r=e.as,s=e.bs,o=2*Math.PI*e.Fc/e.Fs,a=-r/(2*s);return t.a.push(2*-Math.pow(Math.E,a*o)*Math.cos(-o*Math.sqrt(Math.abs(Math.pow(r,2)/(4*Math.pow(s,2))-1/s)))),t.a.push(Math.pow(Math.E,2*a*o)),e.preGain?(t.b.push(1),t.k=t.a0+t.a[0]+t.a[1]):(t.b.push(t.a0+t.a[0]+t.a[1]),t.k=1),t.b.push(0),t.b.push(0),t},lowpassBT:function(e){var t=n();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=3*t.wp+3*t.wp2+1,t.b.push(3*t.wp2*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((6*t.wp2-2)/t.a0),t.a.push((3*t.wp2-3*t.wp+1)/t.a0),t},highpassBT:function(e){var t=n();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=t.wp+t.wp2+3,t.b.push(3*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((2*t.wp2-6)/t.a0),t.a.push((t.wp2-t.wp+3)/t.a0),t},lowpass:function(t){var r=n();t.BW&&delete t.BW;var s=e(t,r);return t.preGain?(r.k=.5*(1-s.cw),r.b.push(1/s.a0)):(r.k=1,r.b.push((1-s.cw)/(2*s.a0))),r.b.push(2*r.b[0]),r.b.push(r.b[0]),r},highpass:function(t){var r=n();t.BW&&delete t.BW;var s=e(t,r);return t.preGain?(r.k=.5*(1+s.cw),r.b.push(1/s.a0)):(r.k=1,r.b.push((1+s.cw)/(2*s.a0))),r.b.push(-2*r.b[0]),r.b.push(r.b[0]),r},allpass:function(t){var r=n();t.BW&&delete t.BW;var s=e(t,r);return r.k=1,r.b.push((1-s.alpha)/s.a0),r.b.push(-2*s.cw/s.a0),r.b.push((1+s.alpha)/s.a0),r},bandpassQ:function(t){var r=n(),s=e(t,r);return r.k=1,r.b.push(s.alpha*t.Q/s.a0),r.b.push(0),r.b.push(-r.b[0]),r},bandpass:function(t){var r=n(),s=e(t,r);return r.k=1,r.b.push(s.alpha/s.a0),r.b.push(0),r.b.push(-r.b[0]),r},bandstop:function(t){var r=n(),s=e(t,r);return r.k=1,r.b.push(1/s.a0),r.b.push(-2*s.cw/s.a0),r.b.push(r.b[0]),r},peak:function(e){var r=n(),s=t(e);return r.k=1,r.a0=1+s.alpha/s.A,r.a.push(-2*s.cw/r.a0),r.a.push((1-s.alpha/s.A)/r.a0),r.b.push((1+s.alpha*s.A)/r.a0),r.b.push(-2*s.cw/r.a0),r.b.push((1-s.alpha*s.A)/r.a0),r},lowshelf:function(e){var r=n();e.BW&&delete e.BW;var s=t(e);r.k=1;var o=2*Math.sqrt(s.A)*s.alpha;return r.a0=s.A+1+(s.A-1)*s.cw+o,r.a.push(-2*(s.A-1+(s.A+1)*s.cw)/r.a0),r.a.push((s.A+1+(s.A-1)*s.cw-o)/r.a0),r.b.push(s.A*(s.A+1-(s.A-1)*s.cw+o)/r.a0),r.b.push(2*s.A*(s.A-1-(s.A+1)*s.cw)/r.a0),r.b.push(s.A*(s.A+1-(s.A-1)*s.cw-o)/r.a0),r},highshelf:function(e){var r=n();e.BW&&delete e.BW;var s=t(e);r.k=1;var o=2*Math.sqrt(s.A)*s.alpha;return r.a0=s.A+1-(s.A-1)*s.cw+o,r.a.push(2*(s.A-1-(s.A+1)*s.cw)/r.a0),r.a.push((s.A+1-(s.A-1)*s.cw-o)/r.a0),r.b.push(s.A*(s.A+1+(s.A-1)*s.cw+o)/r.a0),r.b.push(-2*s.A*(s.A-1+(s.A+1)*s.cw)/r.a0),r.b.push(s.A*(s.A+1+(s.A-1)*s.cw-o)/r.a0),r},aweighting:function(e){var t=n();t.k=1;var r=2*Math.PI*e.Fc/e.Fs,s=2*Math.tan(r/2),o=e.Q,a=Math.pow(s,2);return t.a0=4*o+a*o+2*s,t.a.push(2*a*o-8*o),t.a.push(4*o+a*o-2*s),t.b.push(a*o),t.b.push(2*a*o),t.b.push(a*o),t}}}},{}],7:[function(e,t,n){"use strict";var r=e("./utils"),s=r.complex,o=r.runMultiFilter,a=r.runMultiFilterReverse,i=r.evaluatePhase;t.exports=function(e){for(var t=e,n={re:1,im:0},r=[],l=[],u=0;u<t.length;u++){r[u]={};var c=t[u];r[u].b0={re:c.b[0],im:0},r[u].b1={re:c.b[1],im:0},r[u].b2={re:c.b[2],im:0},r[u].a1={re:c.a[0],im:0},r[u].a2={re:c.a[1],im:0},r[u].k={re:c.k,im:0},r[u].z=[0,0],l[u]={},l[u].b1=c.b[1]/c.b[0],l[u].b2=c.b[2]/c.b[0],l[u].a1=c.a[0],l[u].a2=c.a[1]}var d=function(e,t){var n=t*e.k.re-e.a1.re*e.z[0]-e.a2.re*e.z[1],r=e.b0.re*n+e.b1.re*e.z[0]+e.b2.re*e.z[1];return e.z[1]=e.z[0],e.z[0]=n,r},f=function(e,t){var n=e,r=0;for(r=0;r<t.length;r++)n=d(t[r],n);return n},m=function(e,t){var r=e.Fs,o=e.Fr,a=-Math.PI*(o/r)*2,i={re:Math.cos(a),im:Math.sin(a)},l=s.mul(t.k,s.add(t.b0,s.mul(i,s.add(t.b1,s.mul(t.b2,i))))),u=s.add(n,s.mul(i,s.add(t.a1,s.mul(t.a2,i)))),c=s.div(l,u);return{magnitude:s.magnitude(c),phase:s.phase(c)}},p=function(e){var t=0,n={magnitude:1,phase:0};for(t=0;t<r.length;t++){var s=m(e,r[t]);n.magnitude*=s.magnitude,n.phase+=s.phase}return n.dBmagnitude=20*Math.log(n.magnitude)*Math.LOG10E,n},h=function(){for(var e=[],n=0;n<t.length;n++)e[n]={b0:{re:c.b[0],im:0},b1:{re:c.b[1],im:0},b2:{re:c.b[2],im:0},a1:{re:c.a[0],im:0},a2:{re:c.a[1],im:0},k:{re:c.k,im:0},z:[0,0]};return e},g=function(e){var t=h();return o(e,t,f)},b=function(e,t){var n={},r=[],s=0;for(s=0;s<t;s++)r.push(e(s));n.out=g(r);var o=!1,a=!1;for(s=0;s<t-1;s++)if(n.out[s]>n.out[s+1]&&!o&&(o=!0,n.max={sample:s,value:n.out[s]}),o&&!a&&n.out[s]<n.out[s+1]){a=!0,n.min={sample:s,value:n.out[s]};break}return n},v=function(e,t){var n=Math.pow(e/2,2)-t;return n<0?[{re:-e/2,im:Math.sqrt(Math.abs(n))},{re:-e/2,im:-Math.sqrt(Math.abs(n))}]:[{re:-e/2+Math.sqrt(n),im:0},{re:-e/2-Math.sqrt(n),im:0}]};return{singleStep:function(e){return f(e,r)},multiStep:function(e,t){return o(e,r,f,t)},filtfilt:function(e,t){return a(o(e,r,f,t),r,f,!0)},simulate:function(e){return g(e)},stepResponse:function(e){return b((function(){return 1}),e)},impulseResponse:function(e){return b((function(e){return 0===e?1:0}),e)},responsePoint:function(e){return p(e)},response:function(e){var t=[],n=0,r=2*(e=e||100);for(n=0;n<e;n++)t[n]=p({Fs:r,Fr:n});return i(t),t},polesZeros:function(){return function(){for(var e=[],t=0;t<l.length;t++)e[t]={},e[t].z=v(l[t].b1,l[t].b2),e[t].p=v(l[t].a1,l[t].a2);return e}()},reinit:function(){for(u=0;u<r.length;u++)r[u].z=[0,0]}}}},{"./utils":9}],8:[function(e,t,n){"use strict";t.exports=function(e){var t,n=e,r=[],s=function(e){for(t=0;t<e.steps;t++)r.push(n.singleStep((Math.random()-.5)*e.pp+e.offset))},o=function(e){var s=e.offset+e.pp,o=e.offset-e.pp;for(t=0;t<e.steps;t++)t%200<100?r.push(n.singleStep(s)):r.push(n.singleStep(o))},a=function(e){var s=e.offset+e.pp,o=e.offset-e.pp;for(t=0;t<e.steps;t++)t%100==0?r.push(n.singleStep(s)):r.push(n.singleStep(o))},i=function(e){var s=e.offset+e.pp,o=e.offset-e.pp,a=o,i=(s-o)/100;for(t=0;t<e.steps;t++)t%200<100?a+=i:a-=i,r.push(n.singleStep(a))};return{randomStability:function(e){for(n.reinit(),r.length=0,s(e),t=e.setup;t<r.length;t++)if(r[t]>e.maxStable||r[t]<e.minStable)return r[t];return!0},directedRandomStability:function(e){var l;for(n.reinit(),r.length=0,l=0;l<e.tests;l++){var u=Math.random();u<.25?s(e):u<.5?o(e):u<.75?a(e):i(e)}for(s(e),t=e.setup;t<r.length;t++)if(r[t]>e.maxStable||r[t]<e.minStable)return r[t];return!0},evaluateBehavior:function(){}}}},{}],9:[function(e,t,n){"use strict";n.evaluatePhase=function(e){var t=0,n=0,r=Math.PI,s=2*r,o=[];for(n=0;n<e.length;n++)o.push(e[n].phase);for(e[0].unwrappedPhase=e[0].phase,e[0].groupDelay=0,n=1;n<o.length;n++){var a=o[n]-o[n-1];if(a>r)for(t=n;t<o.length;t++)o[t]-=s;else if(a<-r)for(t=n;t<o.length;t++)o[t]+=s;o[n]<0?e[n].unwrappedPhase=-o[n]:e[n].unwrappedPhase=o[n],e[n].phaseDelay=e[n].unwrappedPhase/(n/e.length),e[n].groupDelay=(e[n].unwrappedPhase-e[n-1].unwrappedPhase)/(r/e.length),e[n].groupDelay<0&&(e[n].groupDelay=-e[n].groupDelay)}0!==e[0].magnitude?(e[0].phaseDelay=e[1].phaseDelay,e[0].groupDelay=e[1].groupDelay):(e[0].phaseDelay=e[2].phaseDelay,e[0].groupDelay=e[2].groupDelay,e[1].phaseDelay=e[2].phaseDelay,e[1].groupDelay=e[2].groupDelay)},n.runMultiFilter=function(e,t,n,r){var s,o=[];for(r&&(o=e),s=0;s<e.length;s++)o[s]=n(e[s],t);return o},n.runMultiFilterReverse=function(e,t,n,r){var s,o=[];for(r&&(o=e),s=e.length-1;s>=0;s--)o[s]=n(e[s],t);return o};var r=function(e,t){for(var n=!0;n;){var r=e,s=t;if(n=!1,s||(s=1),r!==Math.floor(r)||s!==Math.floor(s))return 1;if(0===r||1===r)return s;e=r-1,t=s*r,n=!0}};n.besselFactors=function(e){for(var t=[],n=0;n<e+1;n++){var s=r(2*e-n),o=Math.pow(2,e-n)*r(n)*r(e-n);t.unshift(Math.floor(s/o))}return t};var s=function(e,t){for(var n=0,r=0;r<t;r++){var s=1/Math.pow(2,r+1);e>s&&(e-=s,n+=s)}return n},o=function(e,t){return e&Math.pow(2,t)};n.fixedPoint={convert:function(e,t,n){return function(e,t,n){var r=Math.abs(e),a=e-r;return{number:o(r,t).toString(),fraction:s(a,n).toString(),numberBits:t,fractionBits:n}}(e,t,n)},add:function(e,t){},sub:function(e,t){},mul:function(e,t){},div:function(e,t){}},n.complex={div:function(e,t){var n=e.re,r=e.im,s=t.re,o=t.im,a=s*s+o*o;return{re:(n*s+r*o)/a,im:(r*s-n*o)/a}},mul:function(e,t){var n=e.re,r=e.im,s=t.re,o=t.im;return{re:n*s-r*o,im:(n+r)*(s+o)-n*s-r*o}},add:function(e,t){return{re:e.re+t.re,im:e.im+t.im}},sub:function(e,t){return{re:e.re-t.re,im:e.im-t.im}},phase:function(e){return Math.atan2(e.im,e.re)},magnitude:function(e){return Math.sqrt(e.re*e.re+e.im*e.im)}}},{}]},{},[1])(1)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(33),s=n(83),o=n(84),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?s(e):o(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(85),s=n(88),o=n(35);e.exports=function(e){return(o(e)?r:s)(e)}},function(e,t,n){"use strict";var r,s="object"==typeof Reflect?Reflect:null,o=s&&"function"==typeof s.apply?s.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function s(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",s),n([].slice.call(arguments))}b(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&b(e,"error",t,n)}(e,s,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var s,o,a,i;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(s=c(e))>0&&a.length>s&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,i=l,console&&console.warn&&console.warn(i)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=f.bind(r);return s.listener=n,r.wrapFn=s,s}function p(e,t,n){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):g(s,s.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(o){r.once&&e.removeEventListener(t,s),n(o)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var i=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw i.context=a,i}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=g(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},i.prototype.addListener=function(e,t){return d(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return d(this,e,t,!0)},i.prototype.once=function(e,t){return u(t),this.on(e,m(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,m(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,s,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,s=o;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(s=o[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))s.call(n,c)&&(l[c]=n[c]);if(r){i=r(n);for(var d=0;d<i.length;d++)o.call(n,i[d])&&(l[i[d]]=n[i[d]])}}return l}},function(e,t,n){var r=n(82),s=n(25),o=n(46),a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=i.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(34).Symbol;e.exports=r},function(e,t,n){var r=n(47),s="object"==typeof self&&self&&self.Object===Object&&self,o=r||s||Function("return this")();e.exports=o},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r,s,o,a,i,l,u,c,d,f,m,p,h,g,b,v,M,y,_,I,P,k;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */a=this,i=/iPhone/i,l=/iPod/i,u=/iPad/i,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,d=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,m=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,g=/BlackBerry/i,b=/BB10/i,v=/Opera Mini/i,M=/(CriOS|Chrome)(?=.*\bMobile\b)/i,y=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,_=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),I=function(e,t){return e.test(t)},P=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),void 0!==(n=t.split("Twitter"))[1]&&(t=n[0]),this.apple={phone:I(i,t),ipod:I(l,t),tablet:!I(i,t)&&I(u,t),device:I(i,t)||I(l,t)||I(u,t)},this.amazon={phone:I(f,t),tablet:!I(f,t)&&I(m,t),device:I(f,t)||I(m,t)},this.android={phone:I(f,t)||I(c,t),tablet:!I(f,t)&&!I(c,t)&&(I(m,t)||I(d,t)),device:I(f,t)||I(m,t)||I(c,t)||I(d,t)},this.windows={phone:I(p,t),tablet:I(h,t),device:I(p,t)||I(h,t)},this.other={blackberry:I(g,t),blackberry10:I(b,t),opera:I(v,t),firefox:I(y,t),chrome:I(M,t),device:I(g,t)||I(b,t)||I(v,t)||I(y,t)||I(M,t)},this.seven_inch=I(_,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},k=function(){var e=new P;return e.Class=P,e},e.exports&&"undefined"==typeof window?e.exports=P:e.exports&&"undefined"!=typeof window?e.exports=k():(s=[],r=a.isMobile=k(),void 0===(o="function"==typeof r?r.apply(t,s):r)||(e.exports=o))},function(e,t,n){var r=n(81),s=n(32);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=s(n))==n?n:0),void 0!==t&&(t=(t=s(t))==t?t:0),r(s(e),t,n)}},function(e,t,n){var r=n(111);e.exports=m,e.exports.parse=o,e.exports.compile=function(e,t){return i(o(e,t),t)},e.exports.tokensToFunction=i,e.exports.tokensToRegExp=f;var s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,i="",c=t&&t.delimiter||"/";null!=(n=s.exec(e));){var d=n[0],f=n[1],m=n.index;if(i+=e.slice(a,m),a=m+d.length,f)i+=f[1];else{var p=e[a],h=n[2],g=n[3],b=n[4],v=n[5],M=n[6],y=n[7];i&&(r.push(i),i="");var _=null!=h&&null!=p&&p!==h,I="+"===M||"*"===M,P="?"===M||"*"===M,k=n[2]||c,E=b||v;r.push({name:g||o++,prefix:h||"",delimiter:k,optional:P,repeat:I,partial:_,asterisk:!!y,pattern:E?u(E):y?".*":"[^"+l(k)+"]+?"})}}return a<e.length&&(i+=e.substr(a)),i&&r.push(i),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function i(e,t){for(var n=new Array(e.length),s=0;s<e.length;s++)"object"==typeof e[s]&&(n[s]=new RegExp("^(?:"+e[s].pattern+")$",d(t)));return function(t,s){for(var o="",i=t||{},l=(s||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var d,f=i[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var m=0;m<f.length;m++){if(d=l(f[m]),!n[u].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===m?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(f),!n[u].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');o+=c.prefix+d}}else o+=c}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var s=(n=n||{}).strict,o=!1!==n.end,a="",i=0;i<e.length;i++){var u=e[i];if("string"==typeof u)a+=l(u);else{var f=l(u.prefix),m="(?:"+u.pattern+")";t.push(u),u.repeat&&(m+="(?:"+f+m+")*"),a+=m=u.optional?u.partial?f+"("+m+")?":"(?:"+f+"("+m+"))?":f+"("+m+")"}}var p=l(n.delimiter||"/"),h=a.slice(-p.length)===p;return s||(a=(h?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":s&&h?"":"(?="+p+"|$)",c(new RegExp("^"+a,d(n)),t)}function m(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],s=0;s<e.length;s++)r.push(m(e[s],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(22),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Object(r.a)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},function(e){e.exports=JSON.parse('{"Nintendo/Arkanoid":{"Arkanoid (1986-12-26)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I","clickResolutionMs":0.01,"modulations":[],"tags":["location:menu","non-chord_tones:neighbor","bass:root_fifth","timbre:one-channel delay"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V7/IV ii7 I5","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_start"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9000000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"extra life","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i7","clickResolutionMs":0.01,"modulations":[],"tags":["location:after_credits"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ viio7 I^","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diminished_seventh_chords","scale:atonal","location:final_boss","bass:root_octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:root_octaves","span":[1,16]},{"tag":"form:period","span":[1,8]},{"voices":[0],"tag":"melody:basic_idea_x4","span":[1,8]},{"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[1,8]}],"romanNumerals":"i VII VI v i VII VI VII i VII VI v i VII VI v","clickResolutionMs":0.01,"tags":["location:game_won","form:progression"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"antecedent","5":"consequent","9":"B","13":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"Nintendo/Batman":{"Batman (Prototype) (1989)(Sunsoft).nsf":{"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"Ending 1","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["analyzed_in:hopkins","timbre:layered"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":3.189999999999976,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"Batman (1989-12-22)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ i i i i i i i i bII bII bII bII v7 v7 v7 v7 i i i i i i i i bII bII bII bII v7 v7 v7 v7 i i VII VII VI VI v V i i VI VI VII VII V5 V5 i i VI VI VII VII III V","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","chip:toms_DMC","timbre:melody_echo","bass:riff","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","9":"A","25":"A","41":"B","49":"C","57":"C\'","65":"intro"},"secondMeasure":0.7900000000000005,"loop":69,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.9285714285714286,"21":18.630000000000113,"22":19.564285714285713,"41":37.260000000001156,"42":38.21000000000097,"43":39.121428571428574,"44":40.0600000000006},"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ VI-VII i _ _ _ _ _ _ _ _ _ _ _ _ _ I5 bII5 I5 bII I5 bII5 I5 bII5 III V5-VII I5","clickResolutionMs":0.01,"modulations":{"19":11,"28":4},"tags":["location:level"],"fourMeasurePhrasingReferences":[11,11],"secondMeasure":1.340000000000001,"form":{"1":"A","5":"A","11":"B","15":"B\'","19":"C","23":"C\'","29":"D","33":"D\'"},"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":13.229999999999762,"20":25.32857142857143,"22":27.914285714285715,"24":30.65714285714286},"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i _ _ _ i _ _ _ _ _ _ i-i-iv-V _ _ _ i-i-i-VII _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I #IV I #IV","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","harmony:neo-riemannian","form:period","bass:pedal_point","rhythm:swing","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"form":{"1":"A","5":"A\'","9":"B:antecedent","13":"B:consequent","17":"A\'\'","21":"A\'\'\'","25":"B:antecedent","29":"B:consequent","33":"A\'\'\'\'"},"loop":40,"firstMeasure":0,"step":"end","comment":"Underground Conduit - Stage 3","correctedMeasures":{"2":1.6,"33":51.0999999999984,"34":52.714285714285715,"40":62.289999999996176,"41":63.94285714285714,"42":65.4899999999966,"43":67.08571428571429},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV5 _ _ _ V5 _ _ v","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","middle_voice:doubles_bass","rhythm:3 against 2"],"fourMeasurePhrasingReferences":[5,13,23,27,31],"form":{"1":"A","9":"B","17":"B\'","23":"","27":"C"},"secondMeasure":1.7900000000000014,"loop":35,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":{"22":33.74285714285714,"24":36.910000000001226,"25":38.51000000000091},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ i-i-i-bII7 i-i-i-bII i-i-i-bII7","clickResolutionMs":0.01,"modulations":{"5":2,"9":9,"13":2,"17":9},"tags":["location:boss","scale:blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"form":{"1":"A","5":"A","9":"A","13":"A","17":"B"},"loop":22,"firstMeasure":3.189999999999976,"step":"end","comment":"I-IV","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i I i i","clickResolutionMs":0.01,"modulations":{"2":1,"3":5,"4":6},"tags":["location:intro","harmony:neo-riemannian","rhythm:4 against 3","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.6899999999999653,"loop":5,"firstMeasure":0,"step":"end","comment":"second intro (car)","correctedMeasures":[],"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","bass:riff","scale:hexatonic_minor_no6"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":17.57999999999995,"11":19.985714285714284},"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:unexpected_detune","location:launch_screen"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.259999999999954,"loop":null,"firstMeasure":0,"step":"tonic","comment":"","correctedMeasures":{"1":0.17142857142857143,"2":1.9428571428571428,"10":17.049999999999866,"11":19.140000000000192,"13":22.89000000000078,"14":25.040000000001115},"tonic":6,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ VI VII i i VI VII V5 V I5 VI IV5 VI5 I5 VI IV5","clickResolutionMs":0.01,"modulations":[],"tags":["location:intro","bass:riff","harmony:stasis","scale:dorian","middle_voice:drone","middle_voice:parallel_thirds","form:reversed_period","location:credits"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"intro","5":"A","9":"A\'","13":"B:consequent","17":"B:antecedent","21":"C","25":"C"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"22":33.5100000000019},"tonic":11,"basedOn":null}}},"Nintendo/Aussie Rules Footy":{"Aussie Rules Footy (1992)(Beam)(Laser Beam).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"ii-I IV-V-I-I IV-I VII-V ii-I IV-V-I-I IV-I VII-V I I I I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.5899999999999888,"loop":null,"firstMeasure":0.6900000000000004,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8900000000000015},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8900000000000015,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"2":2,"3":4},"fourMeasurePhrasingReferences":[],"secondMeasure":1.8900000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/10000000-in-1":{"10000000-in-1 (menu) (19xx)(Unknown).nsf":{"0":{"mode":"major","secondMeasure":2.389999999999993,"loop":33,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":0}}},"Nintendo/Adventures of Lolo 2":{"Adventures of Lolo 2.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:layered","upper_voices:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.3299999999999095},"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9900000000000007,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V I IV I IV I V/V V I IV V7/vi vi IV I V I","clickResolutionMs":0.01,"modulations":[],"tags":["form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V-I ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bII-III","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bII I bII I bII I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1399999999999983,"loop":null,"firstMeasure":0,"step":"end","comment":"phrygian shuttle - maybe better visualize through modulations?","correctedMeasures":{"7":13.057142857142857},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz","style:arabic","timbre:layered","timbre:melody_echo","middle_voice:parallel_octaves","harmony:unison"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.53999999999999,"loop":9,"firstMeasure":1.490000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando","scale:whole-tone"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V vi I IV V V vi7 IV V iii7 vi ii7 ii7 IV IV-V7 I V vi I IV V iii7 vi7 IV V7 iii vi7 ii7 V7 I I4 I _ _ _ IV IV ii/ii V/ii ii V I I IV IV ii/ii V/ii ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando","location:game_won","voice_leading:descending_diatonic_bass","middle_voice:arpeggio","form:period","beats:division_change","voice_leading:Isus4","melody:reharmonization","harmony:Vsus4"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A:antecedent","17":"A:consequent","37":"B:antecedent","45":"B:consequent"},"loop":53,"firstMeasure":0.2900000000000001,"step":"end","comment":"feels like based on smth, maybe bc too common-practice. part B is based on mm. 25-32 reharmonized via applied chords. m. 15: IV over 5 (Vsus4?)","correctedMeasures":{"35":40.94285714285714,"36":41.885714285714286,"37":42.91000000000003,"38":43.65999999999988},"tonic":5,"basedOn":null}}},"Nintendo/Adventures of Lolo 3":{"Adventures of Lolo 3.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"same as Lolo 2, subtune 1","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I V/vi vi ii I V I","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","bass:melody","melody:riff","middle_voice:mixed_parallel"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"form":{"1":"A:antecedent","9":"A:consequent","17":"B"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V7/V V7 I I V7/V V7 I V I IV-V vi ii-V I IV-V V","clickResolutionMs":0.01,"tags":[],"modulations":{"13":8,"16":5},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A","5":"A"},"loop":17,"firstMeasure":0,"step":"end","comment":"jazz-like far ii-V-I","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII i VII","clickResolutionMs":0.01,"modulations":[],"tags":["bass:melody","upper_voices:arpeggio","timbre:unexpected_detune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V7 I I ii V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_sixths","bass:root_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7600000000000013,"loop":5,"firstMeasure":0,"step":"end","comment":"which voice is the melody?","correctedMeasures":{"3":3.699999999999965,"5":7.419999999999886,"7":11.149999999999807},"tonic":4,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"same as Lolo 2 subtune 7, but timbres are crispier","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I5 III5 IV5 V5 I5 III5 IV5 V5 I5 III5 IV5 V5 I5 III5 IV5 V5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:static_chord_tones","harmony:power_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":17,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I5 VII vi VI-VII I5 VII VI V","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9400000000000006,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"same as Lolo 2 subtune 9","correctedMeasures":[],"tonic":null,"basedOn":null},"18":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I V/vi vi vi7 IV V/V V5 V7 I V/vi vi I IV V7 I I V7 V7 V7 V7 I I I I V7 V7 V7 V7 biii ii7 ii7 V7 I V/vi vi vi7 IV V/V V5 V I V/vi vi vi7 ii7 V7 VI VII I","clickResolutionMs":0.01,"modulations":{"25":6,"29":4},"tags":["form:period","location:game_won","middle_voice:arpeggio","tempo:ritardando","form:not_looped"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"A:antecedent","9":"A:consequent","17":"bridge","33":"A:antecedent","41":"A:consequent"},"loop":null,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","harmony:stasis"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Almana no Kiseki":{"Almana no Kiseki (FDS)(1987-08-11)(Konami).nsf":{"1":{"mode":"minor","secondMeasure":1.8400000000000014,"loop":21,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":1},"2":{"mode":"minor","secondMeasure":1.6900000000000013,"loop":29,"firstMeasure":0.09,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":3},"3":{"mode":"minor","secondMeasure":1.8200000000000014,"loop":null,"firstMeasure":0.47000000000000025,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":6},"5":{"mode":"minor","secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Atlantis no Nazo":{"Atlantis no Nazo (1986-04-17)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i _ _ i","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":null,"firstMeasure":0.34000000000000014,"step":"end","comment":"","correctedMeasures":{"1":0.2},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV I I I V/V V I V vi iii ii V5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"loop":15,"firstMeasure":3.189999999999976,"step":"end","comment":"","correctedMeasures":{"15":25.570000000001198},"tonic":0,"basedOn":null}}},"Nintendo/Barbie":{"Barbie (REV0) (1991-12)(Imagineering)(Hi Tech Expressions).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi I I vi vi IV V I I IV V I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.440000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":23.520000000000877,"24":33.81000000000184},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V IV I I I I I I IV IV I I V IV I I ","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+2","form:12-bar_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"chorus","13":"chorus","25":"chorus"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"37":42.76000000000006},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","timbre:ultra_fast_notes","location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Aladdin":{"Aladdin (1994 Virgin).nsfe":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:root_fifth","span":[1,24]},{"tag":"middle_voice:static_chord_tones","span":[1,24]},{"tag":"form:period","span":[1,16]},{"tag":"form:reversed_period","span":[17,24]}],"disableSnapToNotes":false,"romanNumerals":"i i V7/IV iv V-i V7/VI-VI iv V i i V7/IV iv V-i V7/VI-VI iv-V i iv i iv i iv i VI V/V-V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:two_notes","form:sentence"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent, basic idea","3":"basic idea, repeated","5":"fragmentation 1m+1m","7":"0.5m+0.5m","8":"HC","9":"A:consequent","16":"PAC","17":"B:consequent","21":"B:antecedent"},"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"bass makes up two voices","correctedMeasures":{"1":2.5428571428571427,"17":25.620000000001205},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:weird_chord","span":[18,18]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ v","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5100000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"tag":"middle_voice:arpeggio","span":[1,32]},{"tag":"non-chord_tones:double_neighbor","span":[1,1]}],"disableSnapToNotes":false,"romanNumerals":"I I I IV-V ii vi IV V I I I IV-V ii vi IV V I I-ii I-IV vi IV-I IV-I ii V _ _ _ _ _ _ _ V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","scale:melodic_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"Nintendo/1999 Hore, Mitakotoka! Seikimatsu":{"1999 Hore, Mitakotoka! Seikimatsu (1992-09-18)(Coconuts Japan).nsf":{"0":{"mode":"minor","secondMeasure":1.9900000000000015,"loop":13,"romanNumerals":"i iv i V i iv i-V i VI-VII VI-VII VI-VII i-i-i-V","firstMeasure":0.3900000000000002,"clickResolutionMs":0.01,"step":"end","tonic":9},"1":{"mode":"phrygian","secondMeasure":0.9900000000000007,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":11}}},"Nintendo/Cabal":{"Cabal (1990-06)(TAD)(Zippo)(Milton Bradley).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","middle_voice:parallel_octaves","harmony:stasis","scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6300000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6300000000000012,"3":3.319999999999973},"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0700000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"Game Over (the very end)","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i ii ii VII VI V V i i ii ii VII VI V V","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","rhythm:latin","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9700000000000015,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.019999999999873,"11":20.060000000000336},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.2800000000000001,"loop":null,"firstMeasure":0.2800000000000001,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-I-I-V I-I-I-V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1699999999999977,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diminished_seventh_chords","timbre:melody_echo","voice_leading:descending_chromatic_melody","middle_voice:drone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.450000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.399999999999951,"8":10.239999999999826},"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","timbre:melody_echo","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.500000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ VI-VI-VI-VII i-i-i-VII VI-VI-VI-VII","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","voice_leading:W-arpeggio","scale:pentatonic","timbre:melody_echo","bass:riff","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9500000000000015,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":19.76000000000029},"tonic":2,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","middle_voice:doubles_bass","timbre:layered","scale:blues","harmony:stasis"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.300000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4285714285714286,"10":13.014285714285714,"12":15.928571428571429},"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","middle_voice:parallel_thirds_with_bass"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.099999999999978,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Adventures of Gilligan\'s Island, The":{"Adventures of Gilligan\'s Island, The (1990-07)(Human)(Bandai).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 VII I5 VII5 I5 VII5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_octaves","form:tag"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":11,"firstMeasure":1.5900000000000012,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"17":1},"tags":["scale:atonal","harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":5.289999999999932},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"17":0,"21":6},"tags":["voice_leading:ascending_chromatic","harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7600000000000005,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":2.3599999999999937,"5":3.189999999999976,"6":3.9499999999999598,"7":4.749999999999943,"8":5.549999999999926},"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":3,"tagSpans":[{"tag":"timbre:oscillator_as_percussion","span":[1,16]},{"tag":"scale:whole-tone","span":[17,32]},{"tag":"scale:chromatic","span":[33,51]},{"tag":"scale:natural_minor","span":[1,16]},{"tag":"timbre:silence","span":[33,33]},{"tag":"bass:root_fifth","span":[1,16]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["beats:incomplete_measure_on_transition","harmony:stasis"],"modulations":{"5":10,"9":4,"13":10,"33":0,"37":2,"41":0,"45":2},"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"form":{"1":"A","5":"A\'","9":"A","13":"A\'","17":"B","21":"B\'","25":"B","29":"B\'","33":"C","37":"C\'","41":"C","45":"C\'","49":"bridge"},"loop":52,"firstMeasure":0,"step":"end","comment":"","tonic":4,"correctedMeasures":{"34":79.67000000000385,"35":82.07000000000508},"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ vi IV V V I I V/ii V/ii vi IV V V V/ii VII viio-iii","clickResolutionMs":0.01,"modulations":{"17":5,"49":0,"57":5},"tags":["voice_leading:descending_chromatic_bass","scale:atonal"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":57,"firstMeasure":0,"step":"end","comment":"complex form","correctedMeasures":{"9":10.569999999999819,"10":11.979999999999789,"18":22.620000000000736,"30":38.57142857142857,"33":42.61000000000009,"34":43.90999999999983,"41":53.17999999999799,"42":54.599999999997706,"49":63.92857142857143,"71":92.98000000001066,"73":95.86000000001214},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":3.139999999999977,"5":4.389999999999951,"7":6.639999999999903,"8":7.989999999999874},"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I ii I I IV ii I I I ii I I IV ii I I IV IV5 I I IV5 #IV5 V _ V7 _ _ _ _ _","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6600000000000013,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"jazz bass from m.63: todo accurate form parts","correctedMeasures":{"26":33.590000000001886},"tonic":5,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_melody","motive:cadential"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/8 Eyes":{"8 Eyes.nsfe":{"0":{"mode":"minor","secondMeasure":2.389999999999993,"form":{"1":"A:antecedent","9":"A:consequent","17":"B:consequent","21":"B:antecedent"},"loop":25,"romanNumerals":"i V7 i V7 i V7/III III V7 i V i V i VII i i V I V I V I V/V V","firstMeasure":0.7900000000000005,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7,"modulations":{"17":10,"23":7},"tags":["form:period","form:reversed_period"]},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i-V i","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i viio i V7 i V V i","clickResolutionMs":0.01,"modulations":[],"tags":["form:period"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","5":"consequent"},"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ i-VII _ i-VII _ i-VII VI-VII i-VII VI-VII","clickResolutionMs":0.01,"modulations":[],"tags":["style:bagpipe","middle_voice:drone","form:solo","harmony:stasis","bass:pedal_point","scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"Celtic","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"i-IV i VII i i IV-i VII i","clickResolutionMs":0.01,"tags":["scale:dorian","middle_voice:counterpoint"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"form":{"1":"A","2":"","5":"A\'"},"loop":9,"firstMeasure":0,"step":"end","comment":"backward period?","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i io i io i io i io7 i io ii-v i i io i io7 i io ii-v i V I V I V I V/V V i VII VI V V/V V V/V V","clickResolutionMs":0.01,"modulations":{"21":10,"27":7},"tags":["scale:nikriz","form:period","melody:basic_idea_x3"],"fourMeasurePhrasingReferences":[],"form":{"5":"A:antecedent","9":"A:consequent","13":"A:antecedent","17":"A:consequent","21":"B","29":"C"},"secondMeasure":1.290000000000001,"loop":37,"firstMeasure":0,"step":"end","comment":"mm.21-28 resembles subtune 1","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ IV iii _ I _ _ VI-viio V i V i i _ _ _ _ V/V iv V i V/V _ V _ _ _ _ _ _ _ V _ io7 io7 i i _ _ V V","clickResolutionMs":0.01,"modulations":{"9":5,"15":2},"tags":["scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I5-iv I5 I5-iv I5 VII i VII-viio7 V I5-v I5 I5-v I5 iv i iv-v I5 viio i","clickResolutionMs":0.01,"tags":["harmony:diminished_chord_modulation","middle_voice:absent","scale:natural_minor","form:sentence","bass:root_fifth","bass:transposed_riff"],"modulations":{"9":0,"18":9},"fourMeasurePhrasingReferences":[2],"form":{"2":"A:sentence. basic idea","4":"basic idea again","6":"1 m. fragmentation","10":"B:sentence","18":"bridge"},"secondMeasure":2.0899999999999994,"loop":20,"firstMeasure":0,"step":"end","comment":"very diverse track just on two voices","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i iio6 i64-V7 i i V i i i bII V i i v i i IV-IV-i V-V-bII V i IV-IV-i V-bII i i VI bII V i VI bII V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:counterpoint","voice_leading:Cad64","form:period","scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent","17":"C:antecedent","21":"C:consequent","25":"D","29":"D\'"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":9,"13":7,"17":0},"tags":["form:period","form:not_looped","middle_voice:parallel_thirds_and_sixths","form:ABA"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent"},"secondMeasure":1.0400000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V V7 i i bII i-i-v-V7 i i iv i IV i-V7 i iv i VII i","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","form:extra_measure","voice_leading:rich_ornamentation","middle_voice:lower_chord_tones"],"fourMeasurePhrasingReferences":[14,19],"secondMeasure":2.6399999999999877,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","14":"B:consequent"},"loop":19,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"15":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diminished_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"io7-viio7 io7-viio7 io7 viio7 io7-viio7 io7-viio7 io7-viio7 io7-viio7","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","harmony:diminished_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"20":{"beatsPerMeasure":5,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i IV i-VII i-VII i IV i-VII i _ _ _ _ _ _ _ i-IV _ _ _ _ _ _ _ _ i-VII","clickResolutionMs":0.01,"modulations":[],"tags":["form:extra_measure","bass:riff","scale:dorian","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"form":{"5":"A:antecedent","9":"A:consequent","13":"B:antecedent","17":"B:consequent","21":"C:antecedent","25":"C:consequent","29":"C:antecedent","33":"C:consequent","37":"extra measure"},"loop":38,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ i i VII I5 i i VII i i V VII i i V VII i _ _-_-_-viio/V V V V V V V V V io7 io7 V7 V7","clickResolutionMs":0.01,"modulations":{"22":10,"24":11,"26":0,"30":9},"tags":["harmony:diminished_seventh_chords","scale:mixed_minor","middle_voice:parallel_thirds_and_sixths"],"fourMeasurePhrasingReferences":[2,18,20,24,28],"form":{"2":"A","6":"A","10":"B","14":"B","18":"bridge"},"secondMeasure":1.5900000000000012,"loop":32,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"23":35.110000000001584},"tonic":9,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"subtune 1 but twice as slow","correctedMeasures":[],"tonic":7,"basedOn":null},"24":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":28,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"25":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i V+-V+-bII7 V7 i i bII-V i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz","form:period","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"antecedent","5":"consequent"},"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Alternate Party 2007":{"Alternate Party 2007.nsf":{"0":{"mode":"minor","secondMeasure":0.9200000000000006,"loop":5,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":2},"1":{"mode":"minor","secondMeasure":0.9700000000000006,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Batman - Return of The Joker":{"Batman - Return of The Joker [Dynamite Batman] (1991-12-20)(Sunsoft).nsf":{"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"10":{"beatsPerMeasure":13,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","analyzed_in:hopkins","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1899999999999973,"loop":null,"firstMeasure":0,"step":"end","comment":"Ending. modal mixture? weird major","correctedMeasures":{"8":15.529999999999713,"11":23.320000000000846},"tonic":7,"basedOn":null}}},"Nintendo/America Daitouryou Senkyo":{"America Daitouryou Senkyo (1998-10-28)(Hect Development Division 1)(Hect).nsf":{"0":{"beatsPerMeasure":9,"tagSpans":[{"tag":"middle_voice:absent","span":[1,18]},{"voices":[1],"tag":"bass:inversions","span":[2,2]},{"voices":[1],"tag":"bass:transposed_riff","span":[1,8]},{"tag":"form:period","span":[1,8]},{"voices":[0],"tag":"melody:basic_idea_x2_and_fragmentation","span":[1,8]},{"tag":"form:extra_measure","span":[16,18]}],"romanNumerals":"I ii6 V7 I I ii6 V I V7 I V/V V I ii V7 I-viio/vi-vi ii7 I","clickResolutionMs":0.01,"tags":["form:AABA"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.5399999999999685,"form":{"1":"A:antecedent","5":"A:consequent","9":"B","13":"A"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":"Stephen Foster - Beautiful Dreamer"},"1":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1],"tag":"bass:two_notes","span":[1,4]},{"tag":"middle_voice:absent","span":[1,4]},{"voices":[0],"tag":"melody:transposed_riff","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I vi IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":25.33000000000116},"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"timbre:silence","span":[32,32]},{"tag":"tempo:ritardando","span":[28,32]},{"voices":[2,0],"tag":"middle_voice:parallel_octaves","span":[1,16]},{"voices":[1],"tag":"bass:counterpoint","span":[1,32]},{"voices":[2],"tag":"middle_voice:static_chord_tones","span":[25,32]},{"voices":[2,0],"tag":"middle_voice:parallel_octaves","span":[23,24]},{"voices":[2],"tag":"middle_voice:static_chord_tones","span":[17,22]}],"disableSnapToNotes":false,"romanNumerals":"I _ _ _ _ V I5 I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.339999999999994,"loop":33,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":{"29":51.49999999999832,"30":53.299999999997965},"tonic":10,"basedOn":"Star Spangled Banner"},"4":{"beatsPerMeasure":4,"tagSpans":[{"tag":"middle_voice:absent","span":[1,24]},{"voices":[1],"tag":"bass:root_third_fifth","span":[1,24]},{"tag":"form:period","span":[1,24]}],"disableSnapToNotes":false,"romanNumerals":"I I IV I I I IV V I I IV I IV I V I I I IV I IV I V I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:I-IV-V"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9400000000000015,"form":{"1":"A:antecedent","9":"A:consequent","17":"extension"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":5,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":5.989999999999917,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2},"tonic":0,"basedOn":"drum rhythm from Gustav Holst - Mars, the Bringer of War"},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I _ _ ii I5-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.9399999999999813,"loop":9,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:demo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Gremlins 2 - The New Batch":{"Gremlins 2.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"11":9,"13":5},"tags":["harmony:neo-riemannian","timbre:oscillator_as_percussion","middle_voice:absent","middle_voice:parallel_thirds","middle_voice:parallel_sixths","harmony:parallel_keys","tempo:ritardando","location:menu"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6900000000000013,"form":{"1":"A","5":"A\'","9":"B","13":"B\'"},"loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":1,"correctedMeasures":{"18":29.770000000001854},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","harmony:stasis","timbre:melody_echo","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":25,"firstMeasure":0,"step":"first measure","comment":"minor seconds, whole-tone scales and tritones can be traced to Gremlin (1984) film soundtrack","correctedMeasures":{"10":16.779999999999824,"11":18.630000000000113,"12":20.507142857142856,"17":29.820000000001862,"22":39.107142857142854,"23":41.107142857142854,"24":42.892857142857146,"26":46.5999999999993},"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i V V V V V V i i V V i i V V V V i i i-i-i-VI _ _ _ i i #IV #IV i i #IV #IV","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","timbre:wide_vibrato","harmony:neo-riemannian","middle_voice:parallel_octaves","timbre:melody_echo","middle_voice:arpeggio","scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A:antecedent","13":"A:consequent (false start)","17":"A:consequent (again)","25":"bridge","29":"B","33":"B\'"},"secondMeasure":1.5400000000000011,"loop":37,"firstMeasure":0,"step":"end","comment":"Gizmo on his Way to Billy\'s Office  Stage 1. DMC voice not visible","tonic":0,"correctedMeasures":{"2":1.5571428571428572,"5":6.389999999999908,"6":7.989999999999874,"17":25.570000000001198},"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i #IV i #IV i-#IV i-#IV V-#IV/V V i-#IV i-#IV V-#IV/V V i VI VII V i VI VII V i-#IV i-#IV V-#IV/V V i-#IV i-#IV V-#IV/V V","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","timbre:melody_echo","harmony:neo-riemannian","middle_voice:arpeggio","middle_voice:parallel_octaves","middle_voice:parallel_sixths"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A","9":"A\'","13":"B (development of intro)","17":"B\'","21":"A (noise is different)","25":"A\'"},"secondMeasure":1.8400000000000014,"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.439999999999886,"9":14.879999999999727,"10":16.779999999999824,"11":18.630000000000113,"13":22.370000000000697,"14":24.220000000000987},"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ i V/V V i-V i V/V V i i V/V V i-V i V/V V i _ _ _ _ i VI i VI","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","form:period"],"fourMeasurePhrasingReferences":[7],"form":{"1":"intro","7":"A:antecedent","11":"A:consequent","15":"A\':antecedent","19":"A\':consequent"},"secondMeasure":1.5900000000000012,"loop":31,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","scale:whole-tone","harmony:constant_structures","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.53999999999999,"loop":25,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"2":1.8571428571428572,"9":14.879999999999727,"10":16.74999999999982},"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.460000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.0599999999999787,"10":14.379999999999738,"11":15.979999999999704},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","scale:pentatonic","tempo:ritardando","voice_leading:W-arpeggio","location:shop","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":null,"firstMeasure":0,"step":"end","comment":"Mr. Wing\'s Shop - Chinese shop","tonic":4,"correctedMeasures":{"4":7.989999999999874,"5":10.639999999999818,"9":23.642857142857142},"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","scale:chromatic","timbre:wide_vibrato","location:boss","rhythm:syncopation","harmony:stasis","harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","17":"B","25":"C"},"secondMeasure":3.189999999999976,"loop":29,"firstMeasure":1.5900000000000012,"step":"end","comment":"","correctedMeasures":{"9":14.379999999999738},"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"is it used?","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","timbre:wide_vibrato","harmony:parallel_keys","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ V/V","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.5900000000000012,"9":12.779999999999772,"10":14.679999999999731,"11":17.179999999999886,"12":18.780000000000136},"tonic":2,"basedOn":null}}},"Nintendo/Antarctic Adventure":{"Antarctic Adventure [Kekkyoku Nankyoku Daibouken] (1985-04-22)(Konami).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"I I5 IV IV IV IV V V _ I _ _ I V5 I _ I I V V V5 V5 I5 I5 I V7/IV IV iv I V I I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:absent","style:waltz"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":33,"firstMeasure":0,"step":"end","comment":"original seventh chords lost in this arrangement","correctedMeasures":{"26":19.980000000000324,"27":20.78000000000045,"33":25.614285714285714},"tonic":4,"basedOn":"mile Waldteufel - Les Patineurs (Op. 183)"},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Alfred Chicken":{"Alfred Chicken (1993)(Twilight)(Mindscape).nsf":{"0":{"disableSnapToNotes":false,"romanNumerals":"I V V V I V V V I V V V I V V I _ _ I V V V I V V V I V V V I V V I","clickResolutionMs":0.01,"modulations":{"19":7,"35":6,"53":7},"tags":["form:period","melody:fills_at_rests","timbre:melody_echo","bass:root_fifth","timbre:wide_vibrato","timbre:minor_seconds","harmony:pure_I-V","middle_voice:mixed_parallel","timbre:chorus"],"mode":"major","fourMeasurePhrasingReferences":[5,13,23,31],"secondMeasure":2.8399999999999834,"form":{"1":"antecedent","9":"consequent","17":"bridge","19":"antecedent","27":"consequent"},"loop":35,"firstMeasure":1.1900000000000008,"step":"end","tonic":6,"correctedMeasures":{"1":1.2400000000000009,"5":7.739999999999879,"6":9.389999999999844,"9":14.27999999999974,"13":20.830000000000457,"14":22.470000000000713,"20":32.27000000000215,"23":37.160000000001176,"27":43.70999999999987,"28":45.34999999999955,"33":53.549999999997915,"45":73.18000000000053}},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:melody_echo","style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"pure chord","correctedMeasures":[],"tonic":6,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:single_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"I V V I I V V I","clickResolutionMs":0.01,"tags":["timbre:chorus"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.239999999999996,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.289999999999953,"4":6.439999999999907,"10":19.32857142857143},"tonic":6,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ I6","clickResolutionMs":0.01,"modulations":{"25":10},"tags":["bass:inversions","upper_voices:same_range","bass:root"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian","bass:riff","harmony:stasis","timbre:chorus","form:EDM"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1899999999999973,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":22.080000000000652,"13":26.520000000001346,"15":30.920000000002034,"16":33.12000000000198,"22":46.39999999999934,"29":61.889999999996256,"33":70.72999999999928,"34":72.9300000000004},"tonic":3,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I iii7 IV V I iii7 IV V I iii7 IV V I iii7 IV V","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:chorus","form:progression","bass:root_fifth","bass:transposed_riff","middle_voice:parallel_thirds","harmony:Vsus4"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"B\'"},"secondMeasure":2.0899999999999994,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.289999999999953,"10":19.38000000000023,"11":21.480000000000558,"12":23.6700000000009,"13":25.820000000001237},"tonic":4,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I i v V I i v V I i v V I i v V","clickResolutionMs":0.01,"modulations":[],"tags":["form:progression","upper_voices:same_range"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"form":{"1":"A","5":"A","9":"B","13":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877,"6":6.639999999999903,"9":10.639999999999818,"12":14.629999999999733},"tonic":8,"basedOn":null}}},"Nintendo/3-D Battles of WorldRunner":{"3-D Battles of WorldRunner (1987-09)(Square)(Acclaim).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.6100000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"tough beats - late attack?","correctedMeasures":{"5":2.4499999999999917,"16":8.214285714285714},"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":3,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.5600000000000003,"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"I I VI VI I I VI VI I I I I I I ii7 ii7","clickResolutionMs":0.01,"modulations":{"9":5,"11":3,"13":1},"tags":["harmony:constant_structures"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0100000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.099999999999999},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":9,"17":7},"tags":["harmony:stasis"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.310000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"romanNumerals":"- - - - I I V V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":7.949999999999875,"loop":null,"firstMeasure":6.259999999999911,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Adventures of Rad Gravity, The":{"Adventures of Rad Gravity, The (1990-12)(Interplay)(Activision).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"secondMeasure":4.88999999999994,"loop":15,"firstMeasure":3.3399999999999728,"step":"end","comment":"","correctedMeasures":{"2":4.739999999999943},"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"_ I ii IV V I IV V I I ii V V I IV V I ii-V I IV vi ii-V vi IV V I ii I V I ii V I i VII VI V i VII VI V i VII VI V i VII VI V","clickResolutionMs":0.01,"modulations":[],"tags":["bass:walking","middle_voice:melody_below_arpeggio","middle_voice:counterpoint","harmony:parallel_keys","form:ABAC","rhythm:swing","rhythm:3+3+2","timbre:portamento"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.290000000000001,"form":{"2":"A","10":"A","18":"B","26":"A","34":"C"},"loop":50,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"49":62.53999999999613},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"23":10,"27":1,"31":5,"35":0},"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":45,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"5":5.639999999999924,"18":23.970000000000947,"22":29.87142857142857,"23":31.02000000000205,"24":32.42000000000212},"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"_ _ i i iv V i i iv V _ _ _ _ _ _ i i iv V","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.490000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"triple pulsation","correctedMeasures":{"3":2.6899999999999866,"4":4.039999999999958},"tonic":9,"basedOn":null}}},"Nintendo/Asterix":{"Asterix (1993)(Bit Managers)(Infogrames).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7400000000000013,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:rich"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4142857142857144},"tonic":10,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i v v i i v v iv iv i i iv iv V V","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","analyzed_in:hopkins","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"Nintendo/Airball":{"Airball (Prototype) (1990)(Michtron)(Atari).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i VI VII v VI v IV5 IV i VI VII v VI v IV5 IV _ _ _ _ _ _ _ _ i VI VII v","clickResolutionMs":0.01,"modulations":[],"tags":["form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I V5 vi V5/vi IV I5 IV V I V vi iii IV I IV V I V vi iii IV I IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":61,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"33":34.06000000000179},"tonic":5,"basedOn":"Pachelbel\'s Canon"}}},"Nintendo/Higemaru Makaijima - Nanatsu no Shima Daibouken":{"Higemaru Makaijima - Nanatsu no Shima Daibouken (1987-04-14)(Capcom).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I IV _ _ I V I _ _ _ _ ii V I5-bII5 I^","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","voice_leading:W-arpeggio","timbre:wide_vibrato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":26.35000000000132},"tonic":3,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":23.40000000000086},"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:silence","form:accumulative","harmony:unison","scale:hexatonic_minor_no6","timbre:layered","bass:root_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.470000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":12.759999999999772,"10":14.359999999999738,"13":19.17142857142857,"14":20.87142857142857,"15":22.4,"16":23.950000000000944},"tonic":0,"basedOn":null}}},"Nintendo/AGCI Test Cart":{"AGCI Test Cart (19xx)(American Game Cartridges).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":5.519999999999927,"loop":null,"firstMeasure":3.609999999999967,"step":"end","comment":"Very hard to track beats here","correctedMeasures":{"4":9.239999999999847,"5":11.179999999999806,"6":12.929999999999769,"7":14.879999999999727,"8":16.659999999999805},"tonic":7,"basedOn":null}}},"Nintendo/Ai Sensei no Oshiete - Watashi no Hoshi":{"Ai Sensei no Oshiete - Watashi no Hoshi (1993-03-26)(Irem).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.289999999999995,"loop":null,"firstMeasure":0.49000000000000027,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/BurgerTime":{"Burger Time.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tonic:ambiguous"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Akuma-kun - Makai no Wana":{"Akuma-kun - Makai no Wana (1990-02-24)(Tose)(Bandai).nsf":{"0":{"mode":"minor","secondMeasure":1.8400000000000014,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":9},"1":{"mode":"minor","secondMeasure":2.6399999999999877,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":7},"3":{"mode":"major","secondMeasure":2.1399999999999983,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":7}}},"Nintendo/Venice Beach Volleyball":{"Venice Beach Volleyball (1991)(Idea-Tek, American Video Entertainment).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:extra_measure","beats:extra_beat","location:level"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.339999999999994,"form":{"1":"A","5":"A","8":"4/4+2/4","9":"B","13":"B","17":"4/4+2/4 - anacrusis is in the loop"},"loop":18,"firstMeasure":0.7900000000000005,"step":"end","comment":"","tonic":0,"correctedMeasures":{"9":14.329999999999739,"10":15.929999999999705,"18":29.520000000001815},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII _ _ _ _ _ _ _ _ _ III","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Apple Town Monogatari - Little Computer People":{"Apple Town Monogatari - Little Computer People (FDS)(1987-04-03)(Activision)(Square)(DOG).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.6900000000000013,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":13.82999999999975},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":null,"basedOn":"Mozart K.331 III"},"2":{"beatsPerMeasure":4,"romanNumerals":"I I I I IV IV I I IV IV I I V V IV IV I I I-V/V V i-iv i-iv i-iv i-i-i-V/v i-V i-V i-V i-V/VI I I I I IV IV I I IV IV I I V V IV IV I I I IV5-V5-I-I","clickResolutionMs":0.01,"tags":["style:ragtime","form:ABA"],"modulations":{"21":9,"22":9,"25":4,"29":0},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":7.189999999999891,"loop":null,"firstMeasure":5.899999999999919,"step":"end","comment":"","correctedMeasures":{"22":31.170000000002073},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["chip:extensions"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":2.389999999999993,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":"BWV Anh. 115"},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":"BWV Anh"}}},"Nintendo/Bugs Bunny Crazy Castle, The":{"Bugs Bunny Crazy Castle, The (1989-08-03)(Kemco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"5":5},"tags":["harmony:plagal_shuttle","scale:chromatic","timbre:melody_echo","location:launch_screen","scale:blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":{"3":2.8399999999999834},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","style:functional_blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":7.289999999999889,"12":13.37999999999976,"15":17.029999999999863,"29":34.06000000000179},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["location:game_won"],"modulations":{"13":9,"17":5},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8900000000000015,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":11.4799999999998},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7400000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.5400000000000011},"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I I IV7 IV7 ii V I _ I I IV7 IV7 ii V I _ IV IV viio/V viio/V V5 _ vi V+ I _ IV7 _ ii V I bII7-_","clickResolutionMs":0.01,"modulations":[],"tags":["bass:walking","form:period","style:functional_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.2400000000000009,"form":{"1":"intro","5":"A:antecedent","13":"A:consequent","21":"B"},"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"15":17.879999999999995,"17":20.430000000000394,"20":24.270000000000994},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i7 #VII^ bII-bii","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV^ iii7 ii7 I^","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diatonic_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Aspic - Mahebiou no Noroi":{"Aspic - Mahebiou no Noroi (FDS)(1988-03-31)(Xtalsoft)(Bothtec).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I I VII I VI VII VI I I I VII I","clickResolutionMs":0.01,"modulations":{"5":9,"9":2},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":12.629999999999775,"10":19.15714285714286},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i i i i VI i VI V","clickResolutionMs":0.01,"tags":["bass:inversions"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":9.289999999999846,"7":11.179999999999806,"8":13.1,"9":14.879999999999727},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":null,"firstMeasure":0,"step":"tonic","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Faxanadu":{"Faxanadu (1987-11-16)(Falcom, Hudson)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I ii I VI-V I ii I VI-V I I III-IV I I I III-IV I VI-VII I VI-VII i VI-VII I VI-VII VI-VII5 I VII VI VI","clickResolutionMs":0.01,"modulations":[],"tags":["bass:pedal_point","harmony:constant_structures","middle_voice:melody_below_arpeggio","location:menu"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.5700000000000012,"form":{"2":"A","6":"A","10":"B","14":"B","18":"C","22":"C","26":"tag"},"loop":null,"firstMeasure":0,"step":"end","comment":"Title Theme. see https://mtosmt.org/issues/mto.23.29.3/mto.23.29.3.cook.html","correctedMeasures":{"26":39.94285714285714},"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i IV5 III VI5 ii V i i i iv III VI5 ii V i i i iv III VI ii V i i i iv III VI ii V V/iv V/iv iv iv V/III V/III bII/III III VI VI iv iv ii ii V V","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root_third_fifth","middle_voice:parallel_sixths","middle_voice:parallel_thirds","lower_voices:same_range"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0700000000000007,"form":{"1":"A","9":"A\'","17":"A\'\'","25":"A\'\'\'","33":"B"},"loop":49,"firstMeasure":0,"step":"end","comment":"Password Screen, Mantra, accumulative form","correctedMeasures":{"32":32.97142857142857,"40":41.47142857142857,"48":49.98571428571429},"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i i i i iv-VII III-VI I I-V/bII i i i i iv-VII III-VI I I-V/bII i-VII i V-i V-i V-i i V-i V-i V-i","clickResolutionMs":0.01,"modulations":{"7":7,"11":8,"13":9,"15":7,"19":8,"21":9},"tags":["form:extra_measure","rhythm:latin","middle_voice:mixed_parallel"],"fourMeasurePhrasingReferences":[9,17,22,26,30,34],"form":{"1":"intro","5":"A","13":"A","21":"extra","22":"B","26":"B","30":"C","34":"C","38":"intro"},"secondMeasure":1.5700000000000012,"loop":42,"firstMeasure":0,"step":"end","comment":"Eolis","correctedMeasures":{"2":1.5700000000000012,"22":33.46000000000191,"23":35.14000000000158,"33":51,"34":52.628571428571426,"37":57.48571428571429},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V7 I IV-viio/V V I V7 I vi-ii V I-V","clickResolutionMs":0.01,"modulations":[],"tags":["style:common_practice","harmony:Vsus4"],"fourMeasurePhrasingReferences":[6,12],"form":[],"secondMeasure":2.9199999999999817,"loop":12,"firstMeasure":0,"step":"end","comment":"virtual root (V43 in m.2). Gurus Houses (Cathedral theme). organ choral-like? ","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I I V7/IV IV iv I V/V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"King Throne","correctedMeasures":{"2":1.5700000000000012},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:power_chords","harmony:stasis","timbre:layered"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B","21":"B"},"secondMeasure":0.9200000000000006,"loop":25,"firstMeasure":0,"step":"end","comment":"Shop","correctedMeasures":{"2":0.9285714285714286},"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i bII V I i bII V I iv III ii I iv III ii I i bII V I i bII V I iv III ii I iv III ii I I III V IV I III V IV","clickResolutionMs":0.01,"modulations":{"11":2,"19":9,"21":9,"27":2},"tags":["harmony:parallel_keys","harmony:constant_structures"],"fourMeasurePhrasingReferences":[3],"form":{"3":"A","7":"A","11":"B","15":"B","19":"A","23":"A","27":"B","31":"B","35":"C","39":"C"},"secondMeasure":1.5400000000000011,"loop":43,"firstMeasure":0,"step":"end","comment":"Trunk","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":5,"5":7,"7":5,"9":7,"11":5,"13":7,"15":5},"tags":["harmony:stasis","middle_voice:parallel_thirds","melody:riff","scale:mixolydian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":5.319999999999931,"loop":17,"firstMeasure":0,"step":"end","comment":"Town. mixolydian shuttle. accumulative form","tonic":7,"correctedMeasures":{"2":2.642857142857143,"3":5.319999999999931,"4":8.014285714285714,"5":10.609999999999818,"6":13.271428571428572},"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","rhythm:latin","scale:hijaz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1700000000000008,"loop":41,"firstMeasure":0,"step":"end","comment":"Tower","correctedMeasures":{"2":1.0571428571428572,"14":0},"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":5,"5":3,"6":5},"tags":["scale:chromatic","location:boss","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":8,"firstMeasure":0,"step":"end","comment":"Boss","correctedMeasures":[],"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ io io io io io io io io io io io io io io io io ","clickResolutionMs":0.01,"modulations":{"21":2,"37":2,"41":7,"45":2,"49":7},"tags":["bass:riff","timbre:layered","scale:atonal","harmony:stasis","harmony:diminished_seventh_chords","bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A","13":"A","21":"B","29":"B","37":"C","45":"C"},"secondMeasure":1.0200000000000007,"loop":53,"firstMeasure":0,"step":"end","comment":"Mist","correctedMeasures":{"3":2.1199999999999988},"tonic":7,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","timbre:ultra_fast_notes","harmony:quartal"],"fourMeasurePhrasingReferences":[4,7,10,13],"form":[],"secondMeasure":0.9100000000000006,"loop":16,"firstMeasure":0,"step":"tonic","comment":"Hourglass: time stops","correctedMeasures":{"12":11.689999999999795},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i I I","clickResolutionMs":0.01,"tags":["timbre:melody_echo","middle_voice:arpeggio","harmony:neo-riemannian","middle_voice:mixed_parallel"],"modulations":{"3":5,"5":7,"9":4,"11":5,"13":7,"17":9,"19":5,"21":10,"23":3},"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B"},"secondMeasure":2.3699999999999934,"loop":25,"firstMeasure":0.7700000000000005,"step":"end","comment":"Branch","correctedMeasures":{"8":11.928571428571429,"16":24.742857142857144,"32":50.292857142857144},"tonic":4,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i ii V5 i i ii V5 _ _ I5","clickResolutionMs":0.01,"tags":["timbre:layered"],"modulations":{"38":1,"39":1,"41":9,"43":1,"45":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"form":{"1":"A","9":"B","17":"A","25":"B"},"loop":45,"firstMeasure":0,"step":"end","comment":"Dartmoor","correctedMeasures":{"38":59.09999999999681,"39":60.51999999999653,"40":62.18571428571428},"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:pedal_point","harmony:quartal","beats:unclear_measure_onsets"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1700000000000008,"loop":null,"firstMeasure":0.11999999999999998,"step":"end","comment":"Zenis, similar to 9","correctedMeasures":{"2":1.1700000000000008,"13":12.509999999999778,"14":13.559999999999755},"tonic":0,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I ii I VI-V I ii I VI-V I I III-IV I I I III-IV I VI-VII I VI-VII i VI-VII I VI-VII VI-VII5 I VI-VII VI-VII I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:constant_structures","location:game_won","motive:natural_horn_call"],"fourMeasurePhrasingReferences":[2],"form":{"2":"A","6":"A","10":"B","14":"B","18":"C","22":"C","26":"tag"},"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"copy of tune 1, except the ending (horn call or fanfare?)","correctedMeasures":{"26":39.885714285714286},"tonic":11,"basedOn":null}}},"Nintendo/Journey to Silius":{"Journey to Silius.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:wide_vibrato","bass:riff","harmony:stasis","middle_voice:riff","form:accumulative","chip:tonal_DMC","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.8899999999999824,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"14":38.060000000001,"17":46.89999999999924},"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i v-iv i III-iv i v-iv i III-iv i7 i7 i7 i7 i7 i7 i7 v i VII v-VII i i VII v-VII i iv v i i iv v i i i i VII VII VI VI VII VII i VII VI VII i VII VI i i VII #VI VI i VII #VI VI i i ","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:launch_screen","rhythm:syncopation","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B\'","17":"C","21":"C\'","25":"D","29":"D\'","33":"E","41":"F:antecedent","45":"F:consequent","49":"G","53":"G\'","57":"tag"},"secondMeasure":1.9900000000000015,"loop":59,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"10":12.6,"11":13.907142857142857,"14":17.914285714285715,"15":19.47142857142857,"16":20.785714285714285,"17":21.9,"18":23.3,"25":32.67000000000207,"26":34.142857142857146,"27":35.460000000001514,"28":36.460000000001315,"29":37.92857142857143,"32":42.1,"33":43.25999999999996,"41":53.899999999997846,"44":57.92857142857143,"45":59.24285714285714,"46":60.56428571428572,"49":64.58999999999614,"50":65.8899999999968},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i i i i VII VI VII i VII VI VII iv iv v v iv iv v v i VII VI VII i VII VI VII i VII VI VII i VII VI VII i i","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","rhythm:syncopation","timbre:oscillator_as_percussion","timbre:melody_echo","form:basso_ostinato","bass:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A (intro)","5":"A","9":"B","13":"B\'","17":"C","21":"C\'","25":"D","29":"D\'","33":"D","37":"D\'","41":"tag"},"secondMeasure":1.340000000000001,"loop":43,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":3.9857142857142858,"7":7.985714285714286,"15":18.630000000000113,"16":19.97142857142857,"21":26.65714285714286,"22":27.957142857142856,"29":37.260000000001156,"37":47.89999999999904,"39":50.57142857142857,"40":51.97142857142857,"41":53.299999999997965,"43":55.88999999999745,"44":57.214285714285715,"45":58.38999999999695},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI i i VI VI i i VII VII VI VI v v i i VII VII VI VI v v i i VI VI iv iv v v  i i VI VI i i VI VI i i VII VII VI VI v v i i VII VII VI VI v V","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","17":"B\'","25":"C","33":"A","37":"A\'","41":"B","49":"B\'","57":"C"},"secondMeasure":2.6399999999999877,"loop":65,"firstMeasure":0,"step":"end","comment":"[C] has Piano Phase vibes","correctedMeasures":{"2":2.1142857142857143,"9":17.029999999999863,"11":21.280000000000527,"18":36.27142857142857,"25":51.0999999999984,"26":53.285714285714285,"31":64.18999999999593,"59":123.53000000002629},"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i i i i i i i i i VI VII iv i VI VII i VI VII i i VI VII i i i VI VII iv i VI VII i","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","bass:riff","form:period","timbre:melody_echo","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B:antecedent","13":"B:consequent","17":"C","21":"C\'","25":"B\':antecedent","29":"B\':consequent"},"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":17.379999999999917,"13":19.1800000000002,"14":20.771428571428572,"25":38.31000000000095,"26":39.91000000000063},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i i VII v i i VII v i VII VI V i VII VI VII I-I-I-#IV I-I-I-#IV I-I-I-#IV I-I-I-#IV i VII VI VII i VII VI-v i","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:level","timbre:melody_echo","form:period","scale:phrygian","rhythm:3+3+2"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"B","9":"B","13":"C","17":"C\'","21":"D","25":"E:antecedent","29":"E:consequent"},"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"Inside the Terrorist\'s Spaceship  Stage 4","correctedMeasures":{"23":35.110000000001584,"24":36.710000000001266,"26":39.91000000000063},"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":4,"5":3,"7":4,"9":3,"15":4,"19":8},"tags":["chip:tonal_DMC","harmony:diminished_seventh_chords","location:boss","scale:chromatic","timbre:melody_echo","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[3,19,21],"form":{"1":"intro","3":"A","7":"A","11":"B","15":"B\'","19":"bridge","21":"C"},"secondMeasure":1.5900000000000012,"loop":27,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"19":28.770000000001698,"23":35.110000000001584,"24":36.710000000001266},"tonic":8,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I i i","clickResolutionMs":0.01,"modulations":{"3":6},"tags":["chip:tonal_DMC","location:level_completed","timbre:oscillator_as_percussion","harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I V IV V I V IV-V vi VI VII VI VII VI VII VI-VII i I vi IV V I vi IV V vi V #IV V vi V #IV V I","clickResolutionMs":0.01,"modulations":{"9":9,"17":0},"tags":["chip:tonal_DMC","tempo:ritardando","location:game_won","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent with deceptive cadence","9":"B:antecedent","13":"B:consequent","17":"C","21":"C\'","25":"D","29":"D\'"},"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2.4,"15":33.5100000000019,"16":35.910000000001425,"33":77.2300000000026},"tonic":0,"basedOn":null}}},"Nintendo/1943 - The Battle of Midway":{"1943.nsfe":{"0":{"mode":"major","tagSpans":[{"tag":"bass:root_fifth","span":[1,3]},{"tag":"bass:counterpoint","span":[4,8]},{"tag":"lower_voices:same_range","span":[1,8]},{"tag":"middle_voice:counterpoint","span":[1,8]}],"secondMeasure":1.5700000000000012,"loop":null,"romanNumerals":"I I IV IV IV-V viio/vi-vi-vi ii-V I5","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0,"tags":["form:not_looped"]},"1":{"mode":null,"tagSpans":[{"tag":"scale:mixed_minor","span":[1,8]},{"tag":"harmony:stasis","span":[1,8]},{"tag":"melody:basic_idea_x2_and_fragmentation","span":[1,8]},{"tag":"middle_voice:any_chord_tones","span":[1,8]},{"tag":"bass:drone","span":[1,8]},{"tag":"form:modulation","span":[1,8]}],"secondMeasure":1.7700000000000014,"disableSnapToNotes":true,"loop":9,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"2":1.6},"tonic":9,"modulations":{"5":0,"9":9},"tags":["harmony:neo-riemannian"]},"2":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:smooth_chord_tones","span":[1,14]},{"tag":"bass:root","span":[15,17]},{"tag":"bass:scale","span":[18,18]},{"tag":"bass:smooth_chord_tones","span":[19,22]},{"tag":"bass:root","span":[23,26]},{"tag":"middle_voice:lower_chord_tones","span":[1,10]},{"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[11,26]},{"tag":"form:uniform_period","span":[1,10]},{"tag":"harmony:picardy_third","span":[9,10]},{"tag":"harmony:parallel_keys","span":[1,26]},{"tag":"melody:arc","span":[11,18]},{"voices":[0],"tag":"melody:basic_idea_x2_and_fragmentation","span":[1,10]},{"tag":"form:uniform_period","span":[11,26]},{"tag":"melody:stepwise","span":[19,22]},{"tag":"non-chord_tones:chromatic_passing","span":[19,19]}],"disableSnapToNotes":false,"romanNumerals":"i v VI IV-V i v VI IV-V I I I iii IV I ii viio V7 I5 I iii IV I ii viio V7 I5","clickResolutionMs":0.01,"modulations":[],"tags":["melody:chord_tones"],"fourMeasurePhrasingReferences":[11,15,19,23,5,9],"secondMeasure":3.9699999999999593,"form":{"1":"A","5":"A","9":"bridge","11":"B","19":"B\'","27":"bridge"},"loop":28,"firstMeasure":2.619999999999988,"step":"end","comment":"mm.15-17 can be treated as a single chord","correctedMeasures":{"10":14.6,"11":15.959999999999704,"12":17.309999999999906},"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII III-viio i VI VI VII VII VI VII v i VI VI VII VII5 i i viio viio VII VII VI-VII I5 I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":26,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I5 VII5 viio i VI v V i I V V7/IV IV ii iv I I","clickResolutionMs":0.01,"tags":["voice_leading:W-arpeggio"],"modulations":{"5":4,"17":7},"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"loop":28,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.7199999999999647,"13":22.350000000000694},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V _ _ _ v V _ i V","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["scale:chromatic","tempo:accelerando"],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":1.0700000000000007,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"14":13.159999999999764,"17":15.959999999999704,"18":16.75999999999982},"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"whole-half vibes","correctedMeasures":[],"tonic":4,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I V vi V IV viio/V V _ I _ _ _ IV V5 _ I _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV V5 I I IV V I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1700000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.1700000000000008,"3":2.3699999999999934,"16":17.942857142857143,"17":19.160000000000196,"20":22.750000000000757,"21":23.950000000000944,"30":34.910000000001624,"31":35.99000000000141,"32":37.34000000000114,"35":42.040000000000205,"36":43.52999999999991},"tonic":7,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ V5 I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"Nintendo/Backgammon":{"Backgammon (FDS)(1990-09-07)(Nintendo R&D1)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"bII5^ bII5 I^ I5^ bII5 bII5 I5 I5 ii ii iii iii ii ii iii iii IV IV iii iii ii ii I I ii V5 iio/ii V/ii ii V i-bII5 i","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:latin","harmony:diatonic_seventh_chords","chip:extensions"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.3899999999999717,"loop":33,"firstMeasure":1.6000000000000012,"step":"end","comment":"","correctedMeasures":{"26":44.371428571428574,"28":47.785714285714285,"30":51.2,"31":52.799999999998064,"34":57.93999999999704},"tonic":10,"basedOn":null}}},"Nintendo/Teenage Mutant Ninja Turtles":{"Teenage Mutant Ninja Turtles [Gekikame Ninja Den] (1989-05-12)(Konami).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I5 III IV5 VI5-VII5 I5 III IV5 VI5-VII5","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:constant_structures","scale:pentatonic","timbre:melody_echo","voice_leading:W-arpeggio","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.6399999999999455,"loop":37,"firstMeasure":3.6899999999999653,"step":"end","comment":"","correctedMeasures":{"8":10.257142857142858,"9":11.179999999999806,"10":12.142857142857142,"12":13.957142857142857,"13":14.879999999999727,"21":22.370000000000697,"23":24.220000000000987,"25":26.070000000001276,"26":27.020000000001424,"29":29.820000000001862,"31":31.67000000000215,"35":35.410000000001524},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"Nintendo/Tsuppari Oozumou":{"Tsuppari Oozumou (1987-09-18)(-)(Tecmo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.4199999999999924,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"2":2.4199999999999924},"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9800000000000015,"loop":7,"firstMeasure":0.3000000000000001,"step":"end","comment":"","correctedMeasures":{"1":0.3000000000000001},"tonic":3,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Nintendo/AV Mei Shao Nv Zhan Shi":{"AV Mei Shao Nv Zhan Shi (1994)(Unknown).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ i V V i i ii viio i","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.619999999999988,"loop":null,"firstMeasure":0.7700000000000005,"step":"end","comment":"","correctedMeasures":{"6":10.109999999999829,"7":11.95999999999979},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.9699999999999807,"loop":3,"firstMeasure":0.3200000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"I I I ii _ _ V V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Bad Dudes  [Bad Dudes vs. Dragon Ninja]":{"Bad Dudes [Dragon Ninja] [Bad Dudes vs. Dragon Ninja] (1989-07-14)(Data East)(Namco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":7,"13":9,"21":0,"25":9},"tags":["bass:riff","scale:tetratonic","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.239999999999996,"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2.0714285714285716,"9":16.079999999999714,"10":18.130000000000035,"28":54.249999999997776,"29":56.23999999999738,"30":58.38999999999695,"33":64.43999999999606,"34":66.42999999999708},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 io i io I I i I5 I5 io","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","scale:lydian","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 _ _ _ _ _ VI5 VII5 I5 _ _ _ _ _ VI5 VII5 i i VII VII i i VI VII i i VII VII i i VI VII i _ _ _ _ _ _ I5 VI VI VII VII i VII VI VII VI VI VII VII i i VII VII VI VI VII VII i VII VI VII VI VI VII VII i i VII VII","clickResolutionMs":0.01,"modulations":[],"tags":["form:stasis_vs_progression","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":73,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":5.239999999999933,"18":14.829999999999728,"20":16.579999999999792,"22":18.330000000000066,"24":20.08000000000034,"26":21.8,"28":23.52857142857143,"30":25.32857142857143,"37":31.420000000002112,"44":37.51000000000111,"46":39.26000000000076,"48":41.01000000000041,"50":42.76000000000006,"54":46.24285714285714,"66":56.68999999999729,"67":57.58999999999711,"69":59.33999999999676,"70":60.2,"73":62.83999999999607},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","harmony:stasis","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V-I5 I I V V I I I V-I I IV I-V5 I I I V V I I V V","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","form:period","style:common_practice","middle_voice:parallel_sixths","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9400000000000006,"form":{"1":"antecedent","8":"HC","9":"consequent","16":"PAC","17":"bridge"},"loop":25,"firstMeasure":0,"step":"end","comment":"president of the USA is rescued","correctedMeasures":{"7":5.639999999999924,"18":16.042857142857144},"tonic":0,"basedOn":null}}},"Nintendo/Bad Street Brawler":{"Bad Street Brawler (1989-09)(Beam)(Mattel).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:12-bar_blues","span":[1,48]},{"tag":"harmony:blues_seventh_chords","span":[1,12]},{"voices":[0],"tag":"bass:transposed_riff","span":[1,48]},{"voices":[1],"tag":"middle_voice:drone","span":[1,48]},{"voices":[2],"tag":"melody:chord_tones","span":[1,12]},{"tag":"rhythm:1+2+2+2","span":[41,44]}],"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I7 V7 i i i i iv iv i i v iv i v i i i i iv iv i i v iv i v i i i i iv iv i i v iv i v","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","timbre:unexpected_detune"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"chorus","13":"chorus","25":"chorus","37":"chorus"},"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V IV I I","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V-I V7/V-V ii vi iii-V/iii iii5-V/vi ii I I-V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"13":12.785714285714286},"tonic":7,"basedOn":"Bizet - Carmen - C\'est l\'Espada, la fine lame"},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","scale:octatonic","harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":6.339999999999909},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Nintendo/Auto-Upturn":{"Auto-Upturn (1991)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I I IV V I I IV I","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":3.1099999999999777,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I I IV IV V V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Contra":{"Contra [Probotector] (1988-02-09)(Konami).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bugs Bunny Birthday Blowout, The":{"Bugs Bunny Birthday Blowout, The [Happy Birthday Bugs] (1990)(Kemco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V/V V7 I I V/V V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:alberti","form:uniform_period","timbre:melody_echo","melody:chromatic_embellishments"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","5":"consequent"},"secondMeasure":1.9400000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":15.729999999999709},"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I ii V I I ii V IV-I V/V-IV V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:static_chord_tones"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A","5":"A"},"loop":12,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":11.979999999999789,"10":13.529999999999756},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V7/ii ii biiio I IV I-io7 ii-V7","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+3+3+2+2","melody:basic_idea_x3","voice_leading:ascending_bass","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":9,"firstMeasure":0,"step":"end","comment":"harmonic analysis fails, although it\'s clearly functional. voice-leading?","correctedMeasures":{"9":17.029999999999863},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I I I _ V/vi-vi V I _ _ _ V","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass","timbre:melody_echo","bass:riff"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.0900000000000007,"form":{"1":"intro"},"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:swing"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":17.77999999999998},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"16":13.679999999999753,"20":17.32999999999991},"tonic":9,"basedOn":null}}},"Nintendo/Adventure Island":{"Adventure Island.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"I^ ii7-V I^ V+/ii _ V/ii ii-V I-V5 I^ _-V I _ _ _ _ I-bII","clickResolutionMs":0.01,"modulations":[],"tags":["bass:walking","melody:fills_at_rests","harmony:diatonic_seventh_chords","form:not_looped","location:launch_screen"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"referenced in 14","correctedMeasures":{"11":14.829999999999728},"tonic":5,"basedOn":null},"1":{"disableSnapToNotes":false,"romanNumerals":"_ _ I I V7 V7 V7 V7 I I I I V7 V7 V7 V7 I I V7/IV V7/IV IV IV V7 V7 I","clickResolutionMs":0.01,"tags":["rhythm:3 against 2","rhythm:3+3+2","rhythm:latin","middle_voice:lower_chord_tones","harmony:tonic_added-sixth_chord","harmony:pure_I-V","non-chord_tones:chromatic_passing","bass:inversions","location:level","bass:root_third_fifth"],"mode":"major","fourMeasurePhrasingReferences":[3],"secondMeasure":0.9700000000000006,"form":{"1":"intro","3":"A","11":"A\'","19":"B"},"loop":27,"firstMeasure":0,"step":"end","tonic":5,"correctedMeasures":{"4":3.189999999999976,"9":8.489999999999863,"10":9.6,"11":10.629999999999818,"13":12.757142857142858,"15":14.879999999999727,"16":15.979999999999704}},"2":{"mode":"major","fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro (not looped)","3":"A"},"loop":11,"romanNumerals":"I ii7-V-bII I #VII I^ V+ I bII I","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":5,"tags":["non-chord_tones:neighbor","rhythm:3+3+2","lower_voices:double_parallel","middle_voice:lower_chord_tones","non-chord_tones:double_neighbor","location:level","harmony:constant_structures","bass:root_third_fifth"]},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ V/vi I _ _ #VII-#VII-I bii-_","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal","tempo:uneven","voice_leading:three_parallel_voices"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.500000000000001,"loop":10,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4285714285714286,"8":9.949999999999832,"9":11.329999999999803,"10":12.999999999999767},"tonic":8,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ i-V i-V V _ V viio7 viio7","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:latin","non-chord_tones:mordent","harmony:diminished_seventh_chords","timbre:layered","middle_voice:lower_chord_tones","lower_voices:double_parallel","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.7400000000000013,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.7399999999999642,"4":5.871428571428571,"5":7.779999999999879},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_-V7 i-vii V47-i #IV #IV i","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.9900000000000015,"loop":6,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V13 I V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","harmony:pure_I-V","middle_voice:parallel_thirds_and_sixths","bass:root_third_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":5,"firstMeasure":0,"step":"end","comment":"a side quest rather than a boss","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","harmony:mixolydian_shuttle","middle_voice:lower_chord_tones","melody:chord_tones","bass:creative_chord_tones"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"io7 _ io7","clickResolutionMs":0.01,"modulations":{"3":5,"5":7},"tags":["harmony:diminished_seventh_chords","timbre:many_instruments_same_oscillator"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.4399999999999706,"5":6.8899999999998975},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","harmony:constant_structures","location:jingle","timbre:ultra_fast_notes","bass:root_octaves","bass:inversions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I^ ii7-V I^ V+/ii _ V/ii ii-V I-V5 I^ _-V I _ _ _ _ I-bII","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune","form:extra_measure"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"green note as a pedal tone","correctedMeasures":{"10":13.179999999999763},"tonic":7,"basedOn":null}}},"Nintendo/Adventure Island 2":{"Adventure Island 2.nsfe":{"0":{"mode":"major","secondMeasure":1.1900000000000008,"loop":null,"romanNumerals":"I I V7 I I I V vi IV - - V/ii IV V I bII","firstMeasure":0.3900000000000002,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":4,"tags":["form:not_looped","location:launch_screen"]}}},"Nintendo/Arkista\'s Ring":{"Arkista\'s Ring (1990-06)(-)(American Sammy).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.1399999999999983,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/75 Bingo":{"75 Bingo (1990)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"1":{"mode":"major","secondMeasure":1.0400000000000007,"loop":9,"romanNumerals":"I ii iii IV","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"major scale","correctedMeasures":{"5":4.239999999999954},"tonic":0},"4":{"mode":"major","secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7},"5":{"mode":"major","secondMeasure":2.389999999999993,"loop":9,"romanNumerals":"I IV I V I IV I-V I","firstMeasure":0.7900000000000005,"clickResolutionMs":0.01,"step":"end","comment":"country, timbre: banjo","correctedMeasures":[],"tonic":0,"tags":["form:period","middle_voice:melody_below_arpeggio"]}}},"Nintendo/Bakushou! Star Monomane Shitennou":{"Bakushou! Star Monomane Shitennou (1990-09-14)(Pack-In-Video).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["melody:riff","voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V i V i v IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":9,"firstMeasure":0,"step":"end","comment":"rapid BWV 565-style arpeggio","correctedMeasures":{"6":13.079999999999766},"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I^ II5 I IV-V vi viio ii V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diatonic_seventh_chords","timbre:unexpected_detune"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":9,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"9":11.279999999999804},"tonic":5,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I-ii V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":5,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I7-V7 I I I I7-V7 IV5 VII5 IV5 VII5 V7/V V IV-#III-III-III ii-bII","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":17,"firstMeasure":0,"step":"end","comment":"spicy cadences","correctedMeasures":[],"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I V5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6300000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3,"4":3.9571428571428573},"tonic":1,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I ii #VI5 V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I5 I5 I I I I IV IV I #VII V IV I V I I I i IV IV I i v IV I V i i I5 I5 IV5 IV5 I5 I5 V IV I5 V","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","timbre:ultra_fast_notes","motive:natural_horn_call","form:solo","melody:transposed_riff","style:boogie-woogie"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9900000000000007,"form":{"1":"intro","5":"chorus","17":"chorus","29":"chorus"},"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":15.979999999999704,"18":16.979999999999855,"41":39.91000000000063},"tonic":2,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9899999999999802,"loop":5,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"2":3.3399999999999728},"tonic":2,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ i _ VII5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","scale:dorian"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1899999999999973,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6},"tonic":7,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"23":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I _ _ _ _ IV5","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:ascending_chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1400000000000008,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4,"9":10.639999999999818},"tonic":5,"basedOn":null},"24":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"I5 _ I5 _ IV viio/V ii V5 I5 _ I5 _ ii V I5 I5","clickResolutionMs":0.01,"modulations":[],"tags":["form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":12.8},"tonic":5,"basedOn":null},"25":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"26":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I vi V ii V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"27":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Adventure Island 3":{"Adventure Island 3 [Takahashi Meijin no Boukenjima III] (1992-07-31)(Hudson).nsf":{"0":{"mode":"major","secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0.7900000000000005,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":11},"2":{"mode":"major","secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0.4400000000000002,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7},"3":{"mode":"major","secondMeasure":1.0400000000000007,"loop":33,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"16":16.079999999999714,"17":17.029999999999863,"18":18.080000000000027,"33":34.06000000000179},"tonic":7},"4":{"mode":"major","secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Artelius":{"Artelius (1987-11-13)(Nichibutsu).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ _ _-V VI-VII I _ _ _ _ _ _ _ _ _ _ _ _ I _ _ _ _ _ I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":3.5899999999999674,"loop":null,"firstMeasure":1.6500000000000012,"step":"end","comment":"ambiguous tonal center, mixolydian","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/A Boy and His Blob - Trouble on Blobolonia":{"A Boy and His Blob.nsfe":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:extra_measure","span":[5,5]},{"tag":"middle_voice:absent","span":[1,32]},{"tag":"bass:root_third","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I vi I IV V I I I I vi vi vi vi V5 V","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","timbre:ultra_fast_notes","form:not_looped"],"fourMeasurePhrasingReferences":[10,14,17,21,25,27,29,6],"secondMeasure":1.5900000000000012,"form":{"1":"intro","6":"A","10":"B","17":"A","21":"A","25":"fragmentation"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I _ _ _ vi _ _ _ _ _ _ _ _ _ I III","clickResolutionMs":0.01,"tags":["reference:previous_subtune","timbre:unexpected_detune","bass:riff","rhythm:3+3+3+3+2+2","middle_voice:absent","form:extra_measure"],"modulations":{"5":0,"7":9,"29":0,"40":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"24":36.91428571428571,"41":64.13999999999591,"42":65.73999999999673,"54":85.02857142857142,"63":99.45,"64":101.05000000001479},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","reference:previous_subtune","form:extra_measure","scale:chromatic","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":35,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":14.414285714285715,"14":20.82857142857143},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Akai Yousai - Final Commando":{"Akai Yousai - Final Commando (FDS)(1988-05-02)(Konami).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VI/V-VII/V V5 V I5 I5 III5 III5 IV5 V5 VI5 VII I5 i","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:Vsus4"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0.05,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I I5 I5-VII V-V-V-IV5 V i iv-v i VI-VII-i-ii VI VI VII VII I5 _ I I VII VII I I VII _ _ VI5-III5 IV5 VI5-VII5 I5","clickResolutionMs":0.01,"tags":[],"modulations":{"6":8,"10":1,"16":6,"23":9},"fourMeasurePhrasingReferences":[10,16,20,23,6],"secondMeasure":6.0499999999999154,"loop":33,"firstMeasure":4.849999999999941,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"Nintendo/Asmik-kun Land":{"Asmik-kun Land (1991-12-20)(Graphic Research)(Asmik).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":4.189999999999955,"loop":35,"firstMeasure":2.7899999999999845,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/1991 Du Ma Racing":{"1991 Du Ma Racing (1991)(Super Mega Idea Tek).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I _ V V V I I I I V V V I I I I _ _ IV IV I V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[12,15,20,8],"secondMeasure":0.7900000000000005,"loop":27,"firstMeasure":0,"step":"end","comment":"probably detune isn\'t intentional","correctedMeasures":{"19":14.357142857142858,"21":15.979999999999704,"25":19.280000000000214,"26":19.980000000000324,"27":20.78000000000045},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI v i VII5 I5 _ i VII VI v i VII I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"antecedent","5":"consequent","9":"antecedent","13":"consequent\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"accent shift?","correctedMeasures":{"9":9.5,"13":14.371428571428572},"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["location:menu"],"modulations":{"5":1,"9":10},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I I IV _ _ ","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.389999999999993,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V IV V V5/vi vi II57 V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"m.5 root is probably Ti for consistency","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV VII I I I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bucky O\'Hare":{"Bucky O\' Hare.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i2","clickResolutionMs":0.01,"modulations":[],"tags":["location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":4,"5":5,"7":4,"9":9},"tags":["middle_voice:parallel_fourths","scale:mixolydian","scale:pentatonic","form:abrupt_ending","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.039999999999979,"loop":15,"firstMeasure":1.0400000000000007,"step":"end","comment":"","correctedMeasures":{"2":3.2,"6":11.7,"13":26.47000000000134},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.6400000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle","location:menu","timbre:melody_echo","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"B\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"Stage Select","correctedMeasures":{"5":6.389999999999908,"6":7.989999999999874},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I I VII VII I I VII VII I I VII VII I I IV V I I VII VII vi vi IV V I I VII VII vi vi VI VII I","clickResolutionMs":0.01,"modulations":{"19":0,"35":9},"tags":["harmony:mixolydian_shuttle","rhythm:syncopation","timbre:melody_echo","melody:fills_at_rests","location:level"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"form":{"5":"A","13":"A\'","21":"B","29":"B\'","35":"=IV-V, Mario pivot"},"loop":45,"firstMeasure":0,"step":"end","comment":"Green Planet","correctedMeasures":{"2":1.0714285714285714,"5":4.239999999999954,"6":5.3,"9":8.489999999999863,"21":21.280000000000527,"22":22.34285714285714},"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"tagSpans":[{"tag":"melody:ascending_chromatic","span":[1,5]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","form:development_through_timbre","tempo:uneven","harmony:phrygian_shuttle","voice_leading:descending_chromatic_bass","voice_leading:ascending_chromatic","bass:riff","melody:riff","timbre:melody_echo","location:boss"],"fourMeasurePhrasingReferences":[6],"form":[],"secondMeasure":0.9400000000000006,"loop":14,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.9900000000000015,"6":5.289999999999932,"7":6.8899999999998975},"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_bass","voice_leading:descending_chromatic_melody","harmony:diminished_seventh_chords","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I _ _ _ _ IV5 v I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed","scale:mixolydian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8714285714285714,"4":5.6,"6":9.357142857142858},"tonic":8,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","tempo:twice_as_fast","middle_voice:parallel_fourths","bass:riff","timbre:melody_echo","middle_voice:parallel_octaves","harmony:blues_shuttle"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A","9":"B","13":"A","17":"C"},"secondMeasure":1.9900000000000015,"loop":21,"firstMeasure":0,"step":"end","comment":"Blue Planet","correctedMeasures":{"5":7.939999999999875,"6":9.971428571428572,"7":12,"9":15.929999999999705},"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ viio7 viio7","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","bass:melody","scale:pentatonic","harmony:stasis","voice_leading:descending_chromatic_melody","timbre:melody_echo","bass:riff","harmony:unison"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.0400000000000007,"loop":34,"firstMeasure":0,"step":"end","comment":"Red Planet","correctedMeasures":{"3":2.1},"tonic":9,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VII","clickResolutionMs":0.01,"modulations":[],"tags":["melody:fills_at_rests","scale:phrygian","scale:blues","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1400000000000008,"form":{"1":"A","5":"A\'","9":"B","13":"","17":"C","25":"D"},"loop":33,"firstMeasure":0,"step":"end","comment":"Yellow Planet","correctedMeasures":{"6":5.83999999999992,"11":11.714285714285714,"18":19.885714285714286,"22":24.585714285714285,"27":30.428571428571427,"31":35.128571428571426,"33":37.48571428571429},"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","bass:riff","scale:pentatonic","scale:phrygian","harmony:stasis"],"fourMeasurePhrasingReferences":[2],"secondMeasure":2.1199999999999988,"form":{"2":"A","6":"B","10":"B\'","14":"C","18":"C\'"},"loop":22,"firstMeasure":0,"step":"end","comment":"Cell","correctedMeasures":[],"tonic":0,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VI VI I I VI VI","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6899999999999866,"loop":null,"firstMeasure":1.0900000000000007,"step":"end","comment":"Rescued Crew Member","correctedMeasures":[],"tonic":9,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ VI-VII i VI-VII IV5-v","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","voice_leading:descending_chromatic_bass","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":2.1399999999999983,"loop":19,"firstMeasure":0,"step":"end","comment":"Salvage Chute","correctedMeasures":{"3":4.039999999999958,"4":6.089999999999915,"13":24.37000000000101},"tonic":3,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i IV5 i VI VI-VII VI VI-VII i VI-VII i VI-VII i VI-VII i VI-VII","clickResolutionMs":0.01,"modulations":[],"tags":["melody:riff","scale:blues","timbre:melody_echo","middle_voice:parallel_sixths","melody:fills_at_rests","location:level"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"C","17":"C\'"},"secondMeasure":3.239999999999975,"loop":21,"firstMeasure":1.440000000000001,"step":"end","comment":"Center of Magma Tanker","correctedMeasures":{"2":3.3285714285714287,"3":5.228571428571429,"4":7.1571428571428575,"10":18.68000000000012,"14":26.32857142857143,"16":30.228571428571428,"17":32.12000000000218,"18":34,"20":37.82857142857143},"tonic":4,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ IV IV i i IV IV i i VI VI VII VII VI VI VII VII i i VI VII i i VI IV5","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:melody_echo","middle_voice:parallel_fourths","harmony:dorian_shuttle","form:verse-chorus","rhythm:1+2+2+2","location:level"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"intro\'","9":"verse","17":"bridge","25":"chorus"},"secondMeasure":1.490000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"Escape!","correctedMeasures":{"3":3.039999999999979,"4":4.539999999999948,"6":7.589999999999883,"8":10.639999999999818,"9":12.129999999999786,"10":13.679999999999753,"13":18.23000000000005,"17":24.320000000001002,"23":33.46000000000191,"26":38.114285714285714,"27":39.5600000000007,"28":41.0600000000004,"30":44.114285714285714,"33":48.64999999999889},"tonic":6,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"io7 io7 io7 io7 ","clickResolutionMs":0.01,"modulations":{"5":9,"9":8,"17":10},"tags":["harmony:diminished_seventh_chords","scale:chromatic","location:final_boss","harmony:phrygian_shuttle","scale:dorian","harmony:stasis","melody:riff","timbre:melody_echo","middle_voice:parallel_fourths","voice_leading:W-arpeggio","scale:octatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9900000000000007,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":5.289999999999932,"14":16.779999999999824},"tonic":8,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i4 i4 i4 I I I I VII I VII I VI^ V I VII IV VI-VII I VII IV VI-VII","clickResolutionMs":0.01,"modulations":{"4":0},"tags":["tempo:ritardando","harmony:mixolydian_shuttle","timbre:melody_echo","voice_leading:descending_diatonic_bass","location:game_won","middle_voice:parallel_thirds_and_sixths"],"fourMeasurePhrasingReferences":[4,14,18],"secondMeasure":3.189999999999976,"form":{"4":"A (period?)","6":"A\'","8":"B","10":"B","12":"bridge","14":"C","18":"C"},"loop":22,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":11.079999999999808,"5":14.27999999999974},"tonic":7,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I VII5-v I I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando","harmony:mixolydian_shuttle","middle_voice:parallel_sixths","location:after_credits"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.539999999999905,"6":8.439999999999864},"tonic":0,"basedOn":null}}},"Nintendo/Adventures of Dr. Franken, The":{"Adventures of Dr. Franken, The (Prototype) (1993)(-)(Motivetime).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":"J S Bach - BWV 847 fugue in C minor"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":"Beethoven - Piano Sonata No. 14 (Moonlight)"}}},"Nintendo/Aki to Tsukasa no Fushigi no Kabe":{"Aki to Tsukasa no Fushigi no Kabe (19xx)(Super Pig, Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:extensions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"FM","correctedMeasures":[],"tonic":null,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"FM","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Aigiina no Yogen - From the Legend of Balubalouk":{"Aigiina no Yogen - From the Legend of Balubalouk (1986-11-21)(VIC Tokai).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"melody:basic_idea_x3","span":[1,4]},{"tag":"middle_voice:root_octaves","span":[1,8]},{"tag":"bass:root","span":[1,8]},{"tag":"voice_leading:ascending_bass","span":[1,4]},{"tag":"voice_leading:descending_diatonic_bass","span":[5,8]},{"tag":"harmony:constant_structures","span":[1,8]}],"romanNumerals":"I II #III IV-V I VII VI V","clickResolutionMs":0.01,"tags":[],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I I I I ii ii V I I I I I ii ii V I V/IV IV iv I V/IV IV iv ii V _ V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":30,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.5899999999999888,"loop":37,"firstMeasure":1.390000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.989999999999959,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"7":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:uniform_period","span":[1,8]},{"tag":"bass:root","span":[1,8]},{"tag":"middle_voice:root","span":[1,8]},{"tag":"timbre:siren","span":[17,24]},{"tag":"timbre:ultra_fast_notes","span":[21,24]},{"tag":"bass:root","span":[17,24]},{"tag":"upper_voices:same_range","span":[17,24]},{"tag":"middle_voice:root_octaves","span":[17,24]},{"tag":"form:period","span":[17,24]},{"tag":"melody:inversion","span":[17,24]}],"disableSnapToNotes":false,"romanNumerals":"I I III I I I III I _ _ _ _ _ _ _ _ I-IV I V I I-IV I V I","clickResolutionMs":0.01,"tags":[],"modulations":{"9":5,"13":2,"17":5},"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"form":{"1":"A","5":"A","9":"B","17":"C:antecedent","21":"C:consequent"},"loop":25,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"Nintendo/Teenage Mutant Ninja Turtles III - The Manhattan Project":{"Teenage Mutant Ninja Turtles III - The Manhattan Project [Teenage Mutant Ninja Turtles II - The Manhattan Project] (1991-12-13)(Konami).nsf":{"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I5 III III IV5 IV5 I5 I5 I5 I5 III III IV5 IV5 I5 I5 I5 I5 III III IV5 IV5 I5 I5 III5 II5-bII5 I5 I5 III5 II5-bII5 I5 I5 iv v iv v i i i i","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","chip:vocal_DMC","scale:pentatonic","middle_voice:parallel_fourths","middle_voice:doubles_bass","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A\'","17":"A\'\'","25":"B","29":"B\'","33":"C"},"secondMeasure":1.0400000000000007,"loop":41,"firstMeasure":0,"step":"end","comment":"Spaceship","correctedMeasures":{"3":2.1399999999999983,"12":11.714285714285714,"18":18.180000000000042,"19":19.1800000000002,"20":20.228571428571428,"25":25.570000000001198,"28":28.757142857142856,"32":33.02857142857143,"37":38.36000000000094},"tonic":2,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:launch_screen"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":8.239999999999869,"loop":null,"firstMeasure":7.189999999999891,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":"theme song by Chuck Lorre"}}},"Nintendo/Air Fortress":{"Air Fortress.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I II IV-IV-VI-VII I I II IV-IV-VI-VII I I II IV-iv I I II IV-iv I I II IV-iv I I II IV-iv I IV/III III iv I IV/III III V/V V I II IV-iv I I II IV-IV-VI-VII I","clickResolutionMs":0.01,"tags":[],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"A","5":"A","9":"B","13":"B","17":"B","21":"B","25":"C","33":"B","37":"B"},"loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":2,"correctedMeasures":{},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.8},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":9.58999999999984,"loop":3,"firstMeasure":6.379999999999908,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/AV Poker":{"AV Poker (1990)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"i iv VII V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6399999999999664,"25":44.649999999999686},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"I V vi V I V vi V I V vi V I V vi V IV IV I _ IV IV V V I V vi V IV V ii V I V vi V IV V I V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6399999999999664,"25":44.649999999999686,"31":55.83999999999746,"33":59.589999999996714,"34":61.439999999996346},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["scale:blues"],"mode":null,"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.2142857142857144,"12":17.57999999999995,"14":20.78000000000045,"16":23.970000000000947,"17":25.52000000000119,"18":27.170000000001448,"19":28.72000000000169},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"romanNumerals":"I ii iii ii","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6399999999999664,"5":7.389999999999887,"6":9.239999999999847},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"romanNumerals":"i IV VI VII","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/U-four-ia - The Saga":{"U-four-ia - The Saga [Hebereke] (1991-09-20)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bvii _ _ _ _ _ _ _ _ _ _ _ _ _ V/ii IV IV ii7 V7 I _ _ _ _ _ _ _ ii ii ii/ii V7/ii ii V I VII","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","middle_voice:melody_below_arpeggio","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"23":35.110000000001584,"24":36.710000000001266},"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:melody_echo","scale:hijaz","location:level","analyzed_in:hopkins","timbre:oscillator_as_percussion","chip:tonal_DMC","form:solo","bass:drone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":41,"firstMeasure":0,"step":"end","comment":"Mines and Ruins","correctedMeasures":{"5":5.339999999999931,"6":6.664285714285715,"13":15.979999999999704,"14":17.32999999999991,"15":18.630000000000113,"16":19.980000000000324,"20":25.314285714285713,"21":26.62000000000136,"22":27.957142857142856,"29":37.260000000001156,"30":38.61000000000089,"33":42.61000000000009,"34":43.93571428571428},"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"VI V VI V VI V VI V VI V VI V VI V VI V V I V I V I V i i I _ _ _ _ _ _ _ V","clickResolutionMs":0.01,"modulations":{"9":9,"17":1,"26":0},"tags":["location:level","chip:tonal_DMC","timbre:melody_echo","form:extra_measure","scale:lydian","harmony:parallel_keys","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[21,26,30],"form":{"1":"A","5":"A\'","9":"A","13":"A","17":"A\'\'","21":"A\'\'\'","25":"extra measure","26":"B","34":"B\'"},"secondMeasure":1.390000000000001,"loop":42,"firstMeasure":0,"step":"end","comment":"","tonic":4,"correctedMeasures":{},"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"unused?","correctedMeasures":[],"tonic":null,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V iv-V/V V _ _ _ V _ _ _ _ _ _ ii-V I _ _ _ _ _ V/ii ii-V I","clickResolutionMs":0.01,"modulations":{"17":10},"tags":["location:password","timbre:melody_echo","form:period","tempo:ritardando","style:common_practice","location:credits","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"form":{"1":"A:antecedent","9":"A:consequent"},"loop":25,"firstMeasure":0,"step":"end","comment":"Staff Roll and Password","correctedMeasures":{"25":36.610000000001286},"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I-_ I","clickResolutionMs":0.01,"modulations":{"1":2,"3":2,"4":3},"tags":["chip:tonal_DMC","location:level_completed","percussion:layered"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ V III/V-bII/V V viio","clickResolutionMs":0.01,"modulations":{"5":8,"7":9,"9":8,"11":9},"tags":["location:boss","timbre:melody_echo","scale:blues","middle_voice:parallel_fourths","tempo:uneven","chip:tonal_DMC"],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.6399999999999877,"form":{"1":"intro","3":"A","7":"A","11":"bridge"},"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":6.8899999999998975},"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":27,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.239999999999954,"5":8.489999999999863,"6":10.639999999999818,"14":27.670000000001526,"15":29.820000000001862,"19":38.31000000000095,"20":40.46000000000052},"tonic":0,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I VII VI V _ _ VII VI-V _ _ _ V/ii ii iio iii vi ii V I ii VII5 iv I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"23":"pedal point onwards"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i _ i #IV i _ i #IV","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven","beats:division_change","location:boss","middle_voice:parallel_fifths","percussion:layered"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9899999999999802,"form":{"1":"A","3":"A\'","5":"B","9":"B"},"loop":13,"firstMeasure":0,"step":"end","comment":"13/8","correctedMeasures":{"6":13.979999999999746,"9":19.58000000000026,"10":21.43000000000055},"tonic":9,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","scale:blues","harmony:stasis","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"A","3":"A","5":"A","7":"A","9":"B"},"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.340000000000001},"tonic":2,"basedOn":null}}},"Nintendo/Akagawa Jirou no Yuurei Ressha":{"Akagawa Jirou no Yuurei Ressha (1991-02-08)(Mighty Craft)(King Records).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"bvi bII i-biii ii-bii i-bvi i i-biii ii-bii i-bvi i","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[3],"secondMeasure":2.53999999999999,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Baby Boomer":{"Baby Boomer (1989)(Color Dreams).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I-IV ii-viio I5 I5 I I5 I5 I I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":12,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.739999999999858,"6":9.839999999999835,"7":11.93999999999979,"8":13.289999999999761,"9":14.339999999999739,"10":16.489999999999778,"11":17.83999999999999,"12":19.2,"13":19.142857142857142},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal","location:scary"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":3,"firstMeasure":0,"step":"end","comment":"graveyard","correctedMeasures":{"2":3.149999999999977},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tonic:ambiguous","tempo:uneven"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0500000000000007,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":5.949999999999918,"7":7.149999999999892,"8":8.739999999999858,"9":9.989999999999831},"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:scary","tempo:uneven"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":5,"firstMeasure":0,"step":"end","comment":"hell","correctedMeasures":{"5":9.019999999999852},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal","location:scary"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Gimmick!":{"Gimmick!.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:launch_screen","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:stasis","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i-bII","clickResolutionMs":0.01,"modulations":[],"tags":["scale:phrygian","middle_voice:parallel_fifths"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":6.389999999999908,"loop":2,"firstMeasure":1.8900000000000015,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Addams Family":{"Addams Family (1992-01)(Enigma Variations)(Ocean).nsf":{"0":{"mode":"major","secondMeasure":2.3699999999999934,"loop":15,"romanNumerals":"- - - - - - - - I-ii V-I I-ii V-I i i","firstMeasure":0.47000000000000025,"clickResolutionMs":0.01,"step":"end","tonic":11,"correctedMeasures":{"9":15.809999999999707,"10":17.70999999999997,"14":25.40000000000117,"15":27.300000000001468},"tags":["harmony:unison","timbre:layered","bass:root","harmony:parallel_keys"]},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["harmony:unison","scale:lydian"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.8199999999999625,"loop":null,"firstMeasure":1.8700000000000014,"step":"end","comment":"","correctedMeasures":{"3":5.7199999999999225},"tonic":1,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.020000000000001,"loop":null,"firstMeasure":0.11999999999999998,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"I ii V I I ii V I","clickResolutionMs":0.01,"tags":["reference:previous_subtune","harmony:unison"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.420000000000001,"loop":9,"firstMeasure":0.11999999999999998,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"i _ _ _ i _ _ _ i _ _ _ i _ _ _ i _ _ _ i","clickResolutionMs":0.01,"modulations":{"5":1,"9":5,"13":2,"17":5,"21":7},"tags":["harmony:stasis","bass:riff","scale:hemitonic_pentatonic","middle_voice:mixed_parallel","scale:hexatonic_minor_no6"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.370000000000001,"form":{"1":"A","5":"B","9":"A\'","13":"C","17":"D","21":"D\'"},"loop":25,"firstMeasure":0,"step":"end","comment":"\\"Outside\\", modulates every 4 measures","correctedMeasures":{"2":1.5571428571428572,"18":27.150000000001445,"22":33.540000000001896},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":12,"romanNumerals":"I V7 V7 I I6 ii65 ii-V-I-I ii64-V6-I5-I5","clickResolutionMs":0.01,"tags":["melody:fills_at_rests","style:common_practice","middle_voice:lower_chord_tones"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":4.769999999999943,"loop":null,"firstMeasure":0.9200000000000006,"step":"end","comment":"","correctedMeasures":{"8":27.800000000001546},"tonic":6,"basedOn":"Johann Strauss - An der schonen blauen Donau"}}},"Nintendo/Burai Fighter":{"Burai Fighter (1990-03)(KID)(Naxat).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i4 i47 I-III IV-V-VII-I I VII I VII I VII VI V VI VI VI VI VI VI i4 i4","clickResolutionMs":0.01,"modulations":{"5":7,"9":0,"17":0},"tags":["harmony:quartal","harmony:mixolydian_shuttle","middle_voice:melody_below_arpeggio","harmony:parallel_keys","middle_voice:parallel_fourths","location:level","rhythm:3 against 2","bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":21,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ i bII i bII _ _-v7","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_fourths","scale:pentatonic","middle_voice:parallel_octaves","timbre:melody_echo","location:level","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ i-VII VI-v i-VII VI-v","clickResolutionMs":0.01,"modulations":{"3":2,"4":0,"5":2,"6":0,"7":7,"11":2,"12":0,"13":2,"14":0,"15":7},"tags":["location:level","form:ABAC","harmony:mixolydian_shuttle","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.9900000000000015,"form":{"1":"intro","3":"A","7":"B","11":"A","15":"C"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":14.057142857142857,"9":15.979999999999704,"10":17.97142857142857},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I^ _ i7","clickResolutionMs":0.01,"modulations":{"5":10,"7":9,"9":10,"11":9},"tags":["scale:pentatonic","harmony:shuttle","harmony:neo-riemannian","middle_voice:parallel_octaves","middle_voice:parallel_fifths","location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":16,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.5285714285714285,"3":3.157142857142857,"4":4.671428571428572,"5":6.1399999999999135,"7":9.189999999999849,"9":12.279999999999783,"11":15.329999999999718},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":5,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:neo-riemannian","harmony:quartal","scale:atonal","location:level"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"form":{"1":"A","5":"A","9":"B","13":"B"},"loop":17,"firstMeasure":0.6900000000000004,"step":"end","comment":"","correctedMeasures":{"4":6.489999999999906,"7":12.279999999999783,"10":18.080000000000027,"13":23.870000000000932,"16":29.67000000000184},"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i4 bII5","clickResolutionMs":0.01,"modulations":{"5":9},"tags":["location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8900000000000015,"loop":9,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ VI-VII I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","location:launch_screen","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"v VI VII5 V6 v VI VII5 V6 VI5-VII v-i VI-VII i VI5-VII v-i VI-VII I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","voice_leading:ascending_bass","middle_voice:static_chord_tones","middle_voice:parallel_thirds","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7400000000000013,"form":{"1":"A","5":"A\'","9":"B:antecedent","13":"B:consequent"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/AV Jiu Ji Mahjong 2":{"AV Jiu Ji Mahjong 2 (19xx)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I5 I _  _ _ _ _ V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8200000000000005,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I i iv v","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0700000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":3.1699999999999764,"5":4.2199999999999545,"8":7.419999999999886,"11":10.609999999999818,"12":11.709999999999795,"16":15.959999999999704,"17":17.00999999999986},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I5 _ _ _ _ _ V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I5 vi vi5 ii ii5 v V I I vi vi5 ii ii V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.470000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3285714285714285},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I II5 II5 I I II5 II5 I I V V I I V V I I IV IV V/V V/V V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0200000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.1199999999999988,"21":21.30000000000053,"22":22.350000000000694},"tonic":0,"basedOn":null}}},"Nintendo/Alien Syndrome":{"Alien Syndrome (1988-12-02)(Sega)(Sanritsu)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["harmony:stasis","scale:natural_minor"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.139999999999977},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"i i VII i III IV V i","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.9399999999999813,"loop":null,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Armadillo":{"Armadillo (1991-08-09)(AIM)(IGS).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1],"tag":"middle_voice:arpeggio","span":[9,13]},{"voices":[1,0],"tag":"middle_voice:parallel_sixths","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:lower_chord_tones","span":[14,14]},{"voices":[1],"tag":"middle_voice:mixed_parallel","span":[15,16]},{"voices":[2],"tag":"bass:root_fifth","span":[1,13]},{"tag":"voice_leading:descending_diatonic_bass","span":[14,14]},{"voices":[2],"tag":"bass:root_fifth","span":[15,17]},{"tag":"timbre:silence","span":[4,4]},{"tag":"form:extra_measure","span":[17,18]},{"tag":"form:period","span":[1,8]},{"tag":"form:reversed_period","span":[9,18]}],"romanNumerals":"I IV-I vi-iii ii-V-_-_ I iv-I vi-iii V-I IV iii ii-V I-V7/IV IV-iv I-V-vi-vi IV-V-IV-V IV-iii-III-bII V","clickResolutionMs":0.01,"tags":["form:binary","rhythm:latin"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:consequent","13":"B:antecedent"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.471428571428572,"6":10.639999999999818},"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["melody:fills_at_rests"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hexatonic_minor_no6","bass:riff","middle_voice:riff","rhythm:swing"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I I I IV5 ii-V I-vi IV-V I IV I V I II5-V I5-vi ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.8400000000000014,"form":{"1":"intro (not looped)","3":"A","11":"B"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":5.589999999999925,"5":7.439999999999886},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["harmony:i-bvii shuttle","bass:riff","middle_voice:parallel_thirds","scale:atonal","scale:nikriz","scale:demo","harmony:shuttle"],"modulations":{"5":7,"7":9,"9":7,"11":9,"12":7,"13":5},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":2.0899999999999994,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I^ V vi7-V/V V7 iii V/ii i V/V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diatonic_seventh_chords","harmony:rich"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diminished_seventh_chords","voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":11.2},"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i VII vi VI^ v7 i VI^ V7 _ _ _ _ iv13 ii7 V47 V7","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:W-arpeggio","rhythm:3+3+3+3+2+2","bass:root_fifth","middle_voice:arpeggio","harmony:Vsus4"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.8400000000000014,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-v IV-_ _ _ _ _ IV5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":13,"firstMeasure":0,"step":"end","comment":"deceptive or modulation?","correctedMeasures":{"4":5.589999999999925,"13":22.32857142857143},"tonic":1,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv V5 iv-iv-V-i I V vi-ii I64-V iv-V5","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","voice_leading:Cad64"],"fourMeasurePhrasingReferences":[6],"form":[],"secondMeasure":2.1199999999999988,"loop":11,"firstMeasure":0,"step":"end","comment":"mm.6-9 - based on Mozart","correctedMeasures":[],"tonic":9,"basedOn":"Mozart - K.331 (beginning)"},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Arctic":{"Arctic (1990-02-23)(Artdink)(Pony Canyon).nsf":{"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.569999999999947,"5":6.369999999999909,"6":7.9699999999998745},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"I vi IV V I vi","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.669999999999987,"loop":9,"firstMeasure":0.5200000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Balda (BBG)":{"Balda (BBG).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["origin:russia"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":18,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877},"tonic":11,"basedOn":"  "}}},"Nintendo/Adventures of Lolo":{"Adventures of Lolo.nsfe":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:inversions","span":[10,10]}],"disableSnapToNotes":false,"romanNumerals":"I I I VII-VII-I-V I I I VII-V-I-I IV I IV-V I ii-V7 I-IV V/V V","clickResolutionMs":0.01,"modulations":{"3":5,"4":7,"7":5,"8":7,"13":10,"15":7},"tags":["form:period","middle_voice:counterpoint","rhythm:swing"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","5":"A:consequent","9":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V7 V7 I I V V I I V V I I V V I I V7 V7 I I V V I I V V I I V V I I I V/ii ii V I V/ii ii-V I _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I I I I V7 V7 I V7 I I I I V7 V7 I V7","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:latin","rhythm:3+3+2","middle_voice:arpeggio","melody:riff","rhythm:syncopation","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1399999999999983,"form":{"1":"A:antecedent","9":"A:consequent","17":"A:antecedent","25":"A:consequent","33":"B:antecedent","37":"B:consequent","41":"C:antecedent","49":"C:consequent","57":"B:antecedent","61":"B:consequent","65":"C:antecedent","73":"C:consequent","81":"D:antecedent","89":"D:consequent"},"loop":97,"firstMeasure":1.0400000000000007,"step":"end","comment":"","tonic":5,"correctedMeasures":{"1":1.3285714285714285,"9":9.58999999999984,"16":17.02857142857143,"24":25.52857142857143,"32":34.07142857142857,"36":38.32857142857143,"40":42.6,"64":68.15714285714286,"80":85.2,"88":93.71428571428571,"100":106.5},"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 VII5 VI5 V","clickResolutionMs":0.01,"modulations":[],"tags":["upper_voices:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5800000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I-iii IV I-iii IV","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","bass:root","middle_voice:static_chord_tones","harmony:weird_chord","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.440000000000001,"form":{"1":"intro (not looped)","2":"A"},"loop":6,"firstMeasure":0,"step":"end","comment":"unusual harmony","tonic":0,"correctedMeasures":{},"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:mixolydian"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:ritardando"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.6900000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.5900000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"24":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Ai Senshi Nicol":{"Ai Senshi Nicol.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ I I _ _-_-VI-VII _ _ IV _ _ I VI/V-VII/V V _ _ _ V","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.370000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"FM","correctedMeasures":{"6":6.985714285714286},"tonic":5,"basedOn":null}}},"Nintendo/Adventures of Dino-Riki":{"Adventures of Dino Riki.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"I I IV V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.5900000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I I ii V I I ii V I I ii V I I IV V","clickResolutionMs":0.01,"modulations":{"3":7,"7":5,"11":3,"15":9},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5800000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"O Barquinho vibes","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i i V V _ _ _ _ io7 io7 i7 i7 io7 io7 i7 i7","clickResolutionMs":0.01,"modulations":{"11":8,"13":0,"15":8},"tags":["location:scary","scale:nikriz"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"loop":17,"firstMeasure":0,"step":"end","comment":"minor, non-functional, semitone/diminished spooky","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":3,"5":6,"7":9},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"modulating 3 st every 2 measures","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"romanNumerals":"III IV VI-VII","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Airwolf":{"Airwolf (1988-12-24)(-)(Kyugo Boueki).nsf":{"0":{"beatsPerMeasure":6,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":0,"15":9,"21":0,"28":9},"tags":["scale:pentatonic","harmony:stasis"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":32,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"25":38.31000000000095},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1400000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3428571428571427,"3":2.657142857142857,"6":6.671428571428572,"7":8.057142857142857,"10":11.942857142857143,"12":14.614285714285714,"14":17.485714285714284,"16":20.057142857142857,"18":22.571428571428573},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i i i i i i i i i i iv iv v v i i i v","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"I I VII VII _ _ _ _ _ _ _ _ _ _ _ _ _ _ V V _ _ V V","clickResolutionMs":0.01,"modulations":{"17":2,"25":5,"33":2},"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Abadox - The Deadly Inner War":{"Abadox.nsfe":{"0":{"mode":"minor","secondMeasure":1.8400000000000014,"loop":21,"romanNumerals":"i i i i VI VI i i i i i i bII bII V V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"4":5.589999999999925,"5":7.439999999999886,"11":18.630000000000113,"12":20.480000000000402,"17":29.820000000001862},"tonic":4,"tags":["timbre:ultra_fast_notes"]},"2":{"mode":"minor","secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":4}}},"Nintendo/AD&D Dragons of Flame":{"AD&D Dragons of Flame (1992-02-21)(U.S. Gold)(Atelier Double)(Pony Canyon).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Al Unser Jr. Turbo Racing":{"Al Unser Jr. Turbo Racing [World Grand-Prix - Pole to Finish] (1989-01-31)(Data East).nsf":{"27":{"beatsPerMeasure":4,"tagSpans":[],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle","voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.489999999999991,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"28":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:blues_seventh_chords","span":[1,12]},{"tag":"timbre:melody_echo","span":[1,12]},{"tag":"bass:doubles_melody","span":[1,12]},{"tag":"melody:transposed_riff","span":[1,8]}],"romanNumerals":"I I I I IV IV I I V V IV IV","clickResolutionMs":0.01,"tags":["form:16-bar_blues"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"16":22.214285714285715},"tonic":4,"basedOn":null},"29":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:doubles_melody","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:16-bar_blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"16":30.216666666666665},"tonic":10,"basedOn":null},"30":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:12-bar_blues","span":[3,14]},{"voices":[2],"tag":"bass:transposed_riff","span":[3,14]},{"tag":"harmony:blues_seventh_chords","span":[3,14]},{"voices":[0,1],"tag":"middle_voice:parallel_fourths","span":[12,12]},{"tag":"voice_leading:W-arpeggio","span":[7,10]},{"voices":[0,1],"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[5,11]},{"tag":"scale:pentatonic","span":[7,8]}],"disableSnapToNotes":false,"romanNumerals":"_ _ I I I I IV IV I I V IV I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"last two chorus measures","3":"chorus"},"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":3.189999999999976},"tonic":3,"basedOn":null},"31":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6},"tonic":11,"basedOn":null}}},"Nintendo/Architect for PC Jr":{"Architect for PC Jr. (19xx)(Gamesoft).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I IV I V I IV I-V I","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":3.6399999999999664,"loop":9,"firstMeasure":0.9900000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Akumajou Special - Boku Dracula-kun":{"akumajou densetsu.nsfe":{"0":{"beatsPerMeasure":7,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:extensions"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9399999999999813,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":5.089999999999936,"3":9.489999999999842},"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"vrc6_apu","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Alpha Mission":{"Alpha Mission [ASO - Armored Scrum Object] (1986-09-03)(SNK).nsf":{"1":{"mode":"mixolydian","secondMeasure":4.389999999999951,"firstMeasure":2.9399999999999813,"clickResolutionMs":0.01,"step":"end","tonic":2}}},"Nintendo/19 Neunzehn":{"19 Neunzehn (FDS)(1988-03-04)(Soft Pro).nsf":{"0":{"mode":"major","secondMeasure":2.6599999999999873,"firstMeasure":0.5100000000000002,"clickResolutionMs":0.01,"step":"end","tonic":0}}},"Nintendo/Adventures of Bayou Billy, The":{"Adventures of Bayou Billy.nsfe":{"0":{"mode":null,"fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":null,"loop":null,"firstMeasure":null,"clickResolutionMs":0.01,"step":"first measure","correctedMeasures":[],"tonic":null,"basedOn":""}}},"Nintendo/Tecmo Cup - Soccer Game":{"Tecmo Cup - Soccer Game [Captain Tsubasa] (1988-04-28)(Tecmo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ i v _ _ _ _ _ _ V VI VII III","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":25,"firstMeasure":0.7900000000000005,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass","melody:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V IV vi-V I vi IV V I V IV vi-V","clickResolutionMs":0.01,"tags":[],"modulations":{"5":4,"9":1},"fourMeasurePhrasingReferences":[],"secondMeasure":3.6899999999999653,"loop":13,"firstMeasure":1.8400000000000014,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Buzz and Waldog":{"Buzz and Waldog [Koko Adventure] (1993-05)(Innovation Tech).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ bII I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hijaz","middle_voice:creative_chord_tones","location:level","timbre:minor_seconds","harmony:phrygian_shuttle","scale:tetratonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV I III VII I I I I","clickResolutionMs":0.01,"modulations":{"17":10},"tags":["location:level","harmony:neo-riemannian","form:stasis_vs_progression","voice_leading:Isus4","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B","17":"C"},"secondMeasure":1.390000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6142857142857143},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv iv V/III V/III III V i i iv iv III v i i iv III ii V7 iv III ii ii V7 V7","clickResolutionMs":0.01,"modulations":[],"tags":["form:extra_measure","form:period","middle_voice:melody_below_arpeggio","location:level","timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[5,13],"secondMeasure":1.340000000000001,"form":{"1":"A:antecedent","9":"A:consequent","17":"B","21":"B (expanded)"},"loop":27,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I iii iii IV IV I I I I iii iii IV IV I I","clickResolutionMs":0.01,"modulations":{"5":10,"9":0,"13":10,"15":10},"tags":["location:level","harmony:neo-riemannian","harmony:mixolydian_shuttle","middle_voice:lower_chord_tones","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"A","9":"A\'"},"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"18":22.642857142857142,"20":25.314285714285713},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I-vi V/V-V I IV I-vi V-I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level","form:period","middle_voice:creative_chord_tones","style:common_practice"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"A:antecedent","5":"A:consequent"},"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"unused?","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:4 against 3","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"beginning of a level","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.6400000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I i VII VI-VI-VI-VII I i VII IV5","clickResolutionMs":0.01,"modulations":{"5":7},"tags":["location:launch_screen","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"can I-i be reinterpreted as IV-iv?","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-V IV-V IV-I IV5-V I-V IV-V IV-I IV5-V5-I5-I5 I-V IV-V IV-I IV-V I-V IV-I IV-V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","form:period","style:common_practice","harmony:Vsus4","middle_voice:melody_below_arpeggio","voice_leading:Isus4","voice_leading:Cad64"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent","17":"repeat with percussion"},"loop":33,"firstMeasure":0,"step":"end","comment":"Pachelbel\'s Canon vibes","correctedMeasures":{"9":12.779999999999772},"tonic":0,"basedOn":null}}},"Nintendo/Arkanoid II":{"Arkanoid II (1988-03-08)(Taito).nsf":{"1":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":2.8399999999999834,"step":"second measure","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/3-in-1 - Lion King 5":{"3-in-1 - Lion King 5 (19xx)(Dragon).nsf":{"0":{"mode":"mixolydian","secondMeasure":1.0400000000000007,"disableSnapToNotes":false,"loop":97,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"Chinese publisher Dragon Co., that\'s why the Chinese OST in the Africa-themed game","tonic":6,"correctedMeasures":{"24":24.470000000001026,"25":25.620000000001205,"26":26.62000000000136,"42":43.65999999999988,"43":44.749999999999666,"98":103.30000000001594}},"1":{"mode":"minor","secondMeasure":3.889999999999961,"loop":null,"firstMeasure":1.490000000000001,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"16":37.410000000001126,"55":130.88000000002594},"tonic":9},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian","harmony:stasis","style:chinese","bass:riff","form:solo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.489999999999863,"9":17.029999999999863,"11":21.280000000000527,"14":27.670000000001526,"17":34.06000000000179,"19":38.31000000000095,"22":44.699999999999676,"25":51.0999999999984,"28":57.48999999999713,"31":63.88999999999586,"33":68.12999999999795},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["beats:incomplete_measure_on_transition","scale:lydian","style:chinese","melody:riff","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":45,"firstMeasure":0,"step":"end","comment":"loop shifts melody over percussion by 1 beat","correctedMeasures":{"6":10.639999999999818,"10":19.1800000000002,"14":27.670000000001526,"17":34.06000000000179,"19":38.31000000000095,"23":46.84999999999925,"25":51.0999999999984,"28":57.48999999999713,"31":63.88999999999586,"33":68.12999999999795,"36":74.53000000000122,"39":80.92000000000449,"42":87.32000000000777,"43":89.46000000000886,"44":91.61000000000996,"45":93.71000000001104,"46":95.86000000001214},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","timbre:oscillator_as_percussion","style:chinese","timbre:wide_vibrato","form:solo","form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.8899999999999824,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":14.629999999999733,"15":41.01000000000041,"17":46.84999999999925},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","timbre:wide_vibrato","style:chinese","form:solo","bass:riff","timbre:silence","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":28,"firstMeasure":0,"step":"first measure","comment":"guzheng/koto as a solo","correctedMeasures":{"16":23.970000000000947,"22":33.5100000000019,"23":35.110000000001584},"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:wide_vibrato","scale:dorian","harmony:stasis","timbre:oscillator_as_percussion","form:basso_ostinato","style:chinese","form:solo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":29,"firstMeasure":0,"step":"end","comment":"guzheng/koto as a solo","correctedMeasures":{"5":10.639999999999818,"6":13.279999999999761,"8":18.642857142857142,"9":21.280000000000527,"12":29.270000000001776,"13":31.970000000002198,"15":37.260000000001156,"18":45.24999999999957,"21":53.249999999997975,"24":61.239999999996385,"28":71.87999999999987,"31":79.87000000000396,"34":87.87000000000805},"tonic":6,"basedOn":null}}},"Nintendo/Alien 3":{"Alien 3.nsfe":{"0":{"mode":"phrygian","secondMeasure":2.3699999999999934,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI-VII i _ _ _ _ _ _ _ _ _ _ _ _ VI VII i i VI VII V5","firstMeasure":0.02,"clickResolutionMs":0.01,"step":"end","comment":"","tonic":6,"modulations":{"11":9,"21":6,"45":9},"tags":["harmony:stasis","scale:phrygian","bass:riff","timbre:ultra_fast_notes","scale:blues"]},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"loop":null,"firstMeasure":0.6200000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.7699999999999636,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"4":{"mode":"phrygian","secondMeasure":2.4199999999999924,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":3},"5":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.9200000000000015,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"2":1.8700000000000014},"tonic":2,"basedOn":null},"12":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Archon":{"Archon (1989-12)(Free Fall Associates)(Bullet-Proof Software)(Activision).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.769999999999985,"loop":null,"firstMeasure":1.8200000000000014,"step":"end","comment":"","correctedMeasures":{"23":22.350000000000694,"29":27.95000000000157},"tonic":5,"basedOn":null}}},"Nintendo/AV Pachinko - AV Super Real Pachinko (SFX)":{"AV Pachinko - AV Super Real Pachinko (SFX).nsf":{"7":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["scale:blues","rhythm:interesting"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/\'89 Dennou Kyuusei Uranai":{"\'89 Dennou Kyuusei Uranai (1988-12-10)(Micronics)(Jingukan).nsf":{"0":{"mode":"minor","secondMeasure":1.490000000000001,"loop":12,"romanNumerals":"i^ _ _ _ i^","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":3,"modulations":{"5":1,"9":6},"tags":["harmony:neo-riemannian"]},"1":{"mode":"minor","secondMeasure":1.490000000000001,"loop":12,"romanNumerals":"i^ ","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":3,"tags":["melody:riff"],"modulations":{"5":1,"9":6}},"2":{"mode":"minor","secondMeasure":1.8400000000000014,"romanNumerals":"","loop":17,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"modulation from m.9","tonic":6,"correctedMeasures":{"10":16.771428571428572,"12":20.585714285714285,"14":24.285714285714285,"15":26.070000000001276,"17":29.82857142857143},"modulations":{"9":11},"tags":["scale:pentatonic","melody:riff","middle_voice:riff","middle_voice:counterpoint"]},"3":{"mode":"major","secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7},"4":{"mode":"minor","secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":3},"5":{"mode":"major","secondMeasure":1.5900000000000012,"loop":null,"romanNumerals":"I I ii","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":11},"6":{"mode":"major","secondMeasure":1.5900000000000012,"loop":null,"romanNumerals":"I^ I^","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":2},"7":{"mode":"minor","secondMeasure":1.9900000000000015,"loop":null,"romanNumerals":"i bvi i","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"tags":["harmony:neo-riemannian"]},"8":{"tagSpans":[{"tag":"harmony:weird_chord","span":[15,16]},{"tag":"bass:root_octaves","span":[1,8]},{"tag":"bass:root_octaves","span":[15,16]},{"tag":"middle_voice:melody_below_arpeggio","span":[1,8]},{"tag":"melody:chord_tones_as_motive","span":[1,8]},{"tag":"middle_voice:parallel_thirds","span":[9,14]},{"tag":"harmony:diatonic_seventh_chords","span":[1,8]},{"tag":"melody:basic_idea_x3","span":[9,14]}],"romanNumerals":"iv v i i iv v i i I I I I I I i4 i4","clickResolutionMs":0.01,"modulations":{"9":11,"11":9,"13":7,"15":8},"tags":["form:binary"],"mode":"minor","secondMeasure":1.5900000000000012,"form":{"1":"A","5":"A","9":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"1":11.257142857142858,"10":14.428571428571429,"12":17.642857142857142,"14":20.82857142857143,"15":22.370000000000697},"tonic":10},"9":{"mode":"major","tagSpans":[{"voices":[1],"tag":"middle_voice:arpeggio","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:parallel_thirds","span":[9,12]},{"voices":[2],"tag":"bass:pedal_point","span":[1,8]},{"voices":[2],"tag":"bass:root","span":[9,12]}],"secondMeasure":1.9900000000000015,"loop":13,"romanNumerals":"I II ii I I II ii I IV IV V V ","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":6,"tags":[]},"10":{"mode":"major","tagSpans":[{"tag":"middle_voice:arpeggio","span":[1,8]},{"tag":"bass:counterpoint","span":[1,8]}],"secondMeasure":1.8400000000000014,"loop":9,"romanNumerals":"ii7 viio I^ IV^ iii7 ii7 VII^ vi7","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"or ignore bass for chord determination","correctedMeasures":[],"tonic":2,"tags":["harmony:diatonic_seventh_chords","harmony:neo-riemannian"]},"11":{"mode":"minor","tagSpans":[{"tag":"middle_voice:parallel_thirds","span":[1,4]},{"tag":"bass:root_octaves","span":[1,4]},{"tag":"harmony:stasis","span":[1,4]},{"tag":"scale:chromatic","span":[1,4]}],"secondMeasure":1.5900000000000012,"loop":5,"romanNumerals":"i i i I i","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":11,"tags":["bass:pedal_point"]},"12":{"mode":null,"secondMeasure":1.370000000000001,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":6,"basedOn":"Beethoven Symphony 5"},"13":{"mode":"major","tagSpans":[{"tag":"form:12-bar_blues","span":[1,12]},{"voices":[1,0],"tag":"middle_voice:parallel_thirds","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:lower_chord_tones","span":[9,11]},{"voices":[0],"tag":"melody:transposed_riff","span":[1,11]},{"tag":"voice_leading:descending_chromatic_melody","span":[12,12]},{"voices":[2],"tag":"bass:root","span":[1,11]}],"secondMeasure":1.58857142857,"loop":13,"romanNumerals":"I I I I III5 ii I I VI VII I","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"","correctedMeasures":{"2":1.542857142857143,"3":3.1857142857142855,"4":4.757142857142857,"6":7.9714285714285715,"8":11.17142857142857},"tonic":11,"tags":["melody:riff","middle_voice:parallel_fourths"]},"14":{"beatsPerMeasure":3,"tagSpans":[{"tag":"form:reversed_period","span":[1,8]},{"tag":"harmony:stasis","span":[1,8]},{"tag":"bass:root_fifth","span":[1,8]},{"tag":"middle_voice:static_chord_tones","span":[1,8]},{"tag":"scale:harmonic_minor","span":[5,8]}],"romanNumerals":"i _ _ i _ _ _ V","clickResolutionMs":0.01,"tags":["scale:demo"],"mode":"minor","secondMeasure":1.7900000000000014,"form":{"1":"consequent","5":"antecedent"},"loop":9,"firstMeasure":0,"step":"end","comment":"harmonic minor scale","correctedMeasures":[],"tonic":1},"15":{"mode":"minor","beatsPerMeasure":3,"tagSpans":[{"tag":"voice_leading:descending_chromatic_bass","span":[1,6]},{"tag":"harmony:weird_chord","span":[5,5]},{"voices":[2],"tag":"bass:root_fifth","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:parallel_thirds","span":[1,8]},{"tag":"voice_leading:Isus4","span":[7,7]}],"secondMeasure":1.9900000000000015,"loop":9,"romanNumerals":"i V7 i i VI V7 i4 i","firstMeasure":0.49000000000000027,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":1,"tags":[]}}},"Nintendo/Bakushou! Ai no Gekijou":{"Bakushou! Ai no Gekijou (1990-12-29)(Coconuts Japan).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V V IV IV I I I I IV IV I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["form:16-bar_blues","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.2200000000000009,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.0857142857142856,"7":6.628571428571429},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I iii ii V I iii ii V IV IV I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.6700000000000013,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VII VII I I ii V IV IV I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["melody:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V I I IV V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.420000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V IV iii ii I I I I V IV #III5 II5 I I I I-IV","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":4.9714285714285715},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I I I I I V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9700000000000006,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV I I V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":12.459999999999779},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I42 vi V I VII IV V","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1199999999999988,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I iii IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9700000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Aoki Ookami to Shiroki Mejika - Genchou Hishi":{"Aoki Ookami to Shiroki Mejika - Genchou Hishi (1993-03-25)(Koei).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"i i i i","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.629999999999988,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Baseball Stars":{"Baseball Stars [Baseball Star - Mezase Sankanou] (1989-05-19)(SNK).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-viio/ii ii-V I vi IV V I ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:launch_screen","form:period","middle_voice:parallel_thirds_and_sixths","bass:root_octaves"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.290000000000001,"form":{"1":"intro","3":"antecedent","7":"consequent"},"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":6.639999999999903},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V5 I IV V I VII I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root_octaves","middle_voice:parallel_thirds_and_sixths"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV-V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds_and_sixths","bass:root_octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I IV II5 I V I I V I II5 _ _ V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:static_chord_tones","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1899999999999973,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["beats:division_change"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V i _ i iv V I5","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:layered","scale:melodic_minor","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V V V V I I IV iii IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3428571428571427,"4":3.9714285714285715,"9":10.639999999999818,"17":21.23000000000052},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","timbre:chirp"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":14.314285714285715,"11":15.914285714285715,"12":17.62857142857143,"13":19.242857142857144,"14":20.757142857142856,"17":25.3},"tonic":0,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.789999999999942,"12":17.57999999999995,"19":28.680000000001684,"20":30.370000000001948},"tonic":10,"basedOn":null}}},"Nintendo/Anticipation":{"Anticipation (1988-11)(Rare)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"tags":["style:ragtime"],"mode":"minor","fourMeasurePhrasingReferences":[],"secondMeasure":1.5500000000000012,"loop":null,"firstMeasure":0.35000000000000014,"step":"tonic","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Ankoku Shinwa - Yamato Takeru Densetsu":{"Ankoku Shinwa - Yamato Takeru Densetsu (1989-03-24)(Another, Zap)(Tokyo Shoseki).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI VII I","clickResolutionMs":0.01,"tags":["harmony:phrygian_shuttle"],"modulations":{"24":7},"mode":null,"fourMeasurePhrasingReferences":[4],"secondMeasure":6.389999999999908,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":14.469999999999736,"4":14.929999999999726,"5":17.429999999999925,"6":20.08000000000034,"27":77.4200000000027},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":6,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":6.719999999999901,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":13.639999999999754,"27":0},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"29":90.5100000000094},"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":6,"tagSpans":[{"tag":"form:period","span":[1,24]},{"tag":"middle_voice:absent","span":[1,24]},{"voices":[2],"tag":"bass:root_third_fifth","span":[1,24]},{"voices":[0],"tag":"melody:arc","span":[1,8]},{"tag":"scale:natural_minor","span":[1,24]}],"romanNumerals":"i VII VI VI iv v i i i VII VI VI iv v i i VII VII i i VII VII i i","clickResolutionMs":0.01,"tags":[],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A:antecedent","9":"A:consequent","17":"extension"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":3,"tagSpans":[{"tag":"beats:division_change","span":[13,22]},{"voices":[1],"tag":"middle_voice:riffy_complex","span":[1,16]},{"voices":[1,0],"tag":"middle_voice:melody_below_arpeggio","span":[17,22]},{"voices":[2],"tag":"bass:root","span":[1,16]},{"voices":[2],"tag":"bass:root_fifth","span":[17,22]},{"voices":[0],"tag":"melody:x2_vs_new_x2","span":[1,8]},{"tag":"scale:mixed_minor","span":[1,22]},{"tag":"harmony:diatonic_seventh_chords","span":[5,22]},{"tag":"form:stasis_vs_progression","span":[1,22]},{"voices":[2],"tag":"bass:diatonic_approach","span":[7,9]}],"disableSnapToNotes":false,"romanNumerals":"i i i i VI VI VI VI  i i i i bII bII bII bII VI v I VI v i i","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[5,13,17,20],"secondMeasure":1.7900000000000014,"form":{"1":"A","9":"A\'","17":"B. 5+5+8"},"loop":23,"firstMeasure":0,"step":"end","comment":"awesome","tonic":2,"correctedMeasures":{"18":30.270000000001932,"20":34.11000000000178,"21":35.610000000001484,"23":39.51000000000071},"basedOn":null}}},"Nintendo/Adventures of Rocky and Bullwinkle and Friends, The":{"Adventures of Rocky and Bullwinkle and Friends, The (1992-12)(Radical)(THQ).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.020000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["upper_voices:absent","timbre:layered"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I ii V7 I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.5899999999999888,"loop":5,"firstMeasure":0.34000000000000014,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7700000000000014,"loop":17,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"4":5.371428571428571,"5":7.2199999999998905,"6":9.019999999999852},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bII I bII I bII I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":"Thelonious Monk - Well, You Needn\'t"},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone","scale:atonal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Super Pinball":{"Super Pinball (1988-08-23)(Soft Machine)(Coconuts Japan).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.430000000000001,"loop":null,"firstMeasure":0.09999999999999999,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ i","clickResolutionMs":0.01,"modulations":{"19":11,"28":9},"tags":["rhythm:syncopation","harmony:stasis","form:extra_measure","scale:dorian"],"fourMeasurePhrasingReferences":[10,14,19,23,28,5],"secondMeasure":1.320000000000001,"loop":28,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"2":1.320000000000001,"17":21.30000000000053,"18":22.600000000000733,"26":33.290000000001946,"27":34.59000000000169},"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I I7 I IV7 V I7 I7 I7 I I7 I IV7 III7 I7 I7","clickResolutionMs":0.01,"modulations":[],"tags":["form:16-bar_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.320000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I I vi vi II5 ii V V5","clickResolutionMs":0.01,"modulations":[],"tags":["melody:riff","middle_voice:parallel_thirds","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.3399999999999728,"loop":9,"firstMeasure":1.0900000000000007,"step":"end","comment":"","correctedMeasures":{"2":3.2142857142857144},"tonic":2,"basedOn":null}}},"Nintendo/AV Hanafuda Club":{"AV Hanafuda Club (1991)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:12-bar_blues","span":[1,12]},{"voices":[2],"tag":"bass:transposed_riff","span":[1,12]},{"voices":[1,0],"tag":"middle_voice:static_chord_tones","span":[1,12]},{"voices":[0],"tag":"melody:riff","span":[1,8]},{"tag":"rhythm:syncopation","span":[1,12]},{"tag":"harmony:blues_seventh_chords","span":[1,12]}],"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I7 V7","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.1285714285714286,"5":6.314285714285714,"7":9.542857142857143,"9":12.7,"10":14.314285714285715,"11":15.914285714285715},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.339999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":5.189999999999934},"tonic":8,"basedOn":null}}},"Nintendo/16 Mahjong":{"16 Mahjong (1989)(Sachen, Thin Chen).nsf":{"0":{"mode":"minor","fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"romanNumerals":"i VII VI VII i VII VI VII-I i VII-III VII-VI VII-v i VII-III VII-VI v-i i VII VI VII i VII VI VII-I _ _ _ V5 i VII VI VII-I _ _ _ i VII VI VII i VII VI VII","loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"","tonic":6,"correctedMeasures":{"6":7.989999999999874,"9":12.771428571428572},"tags":["form:period","form:ABACA"]},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV V I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"mode":"major","secondMeasure":3.1699999999999764,"loop":null,"romanNumerals":"I iii I IV IV I I-IV I","firstMeasure":1.5700000000000012,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Babel no Tou":{"Babel no Tou (1986-07-18)(Namco).nsf":{"0":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ VII I VII I _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ #VII","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":49,"firstMeasure":0,"step":"end","comment":"weird final","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ VI-VII5 VII5-I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.6900000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"13":8,"21":0,"29":5},"tags":["bass:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1500000000000008,"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I5 V VII5 vi VI bII I I _ _ _ _ _ _ _ VI-V5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":25,"firstMeasure":0,"step":"end","comment":"weird mm.17-24 - modulation?","correctedMeasures":{"22":18.885714285714286},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/AV Dragon Mahjong":{"AV Dragon Mahjong (1991)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I iii IV V I vi ii V I5 iii IV V I5 vi II5 V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0400000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.189999999999955},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 V vi vi IV5 iii ii V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"bass:transposed_riff","span":[1,12]},{"tag":"form:12-bar_blues","span":[1,12]},{"voices":[1],"tag":"middle_voice:transposed_riff","span":[1,12]},{"voices":[0],"tag":"melody:transposed_riff","span":[1,12]},{"tag":"harmony:diatonic_seventh_chords","span":[1,12]}],"disableSnapToNotes":false,"romanNumerals":"i7 i7 i7 i7 iv7 iv7 i7 i7 v7 iv7 i7 i7","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8571428571428572,"3":3.6399999999999664,"4":5.489999999999927},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.53999999999999,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/A Ressha de Ikou":{"A Ressha de Ikou (1991-08-21)(Artdink)(Pony Canyon).nsf":{"0":{"mode":"major","fourMeasurePhrasingReferences":[3],"secondMeasure":1.5800000000000012,"loop":31,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV I IV V _ _ _ _ _ _ IV IV-V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"15":22.360000000000696,"31":47.93999999999903,"32":49.53999999999871},"tonic":5,"tags":["bass:riff"]},"1":{"mode":"major","fourMeasurePhrasingReferences":[],"secondMeasure":1.6000000000000012,"loop":13,"romanNumerals":"","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0},"2":{"tagSpans":[{"tag":"scale:whole-tone","span":[3,4]}],"romanNumerals":"I _ _ _ _ _ _ _ I","clickResolutionMs":0.01,"tags":["scale:atonal"],"mode":"major","fourMeasurePhrasingReferences":[],"secondMeasure":1.0000000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"jazzy","correctedMeasures":{"2":1.300000000000001},"tonic":0},"3":{"mode":"minor","fourMeasurePhrasingReferences":[3],"secondMeasure":1.5800000000000012,"loop":15,"romanNumerals":"_ _ i","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"extensions","correctedMeasures":[],"tonic":2}}},"Nintendo/4 Nin Uchi Mahjong":{"4 Nin Uchi Mahjong (1984-11-02)(Hudson)(Nintendo).nsf":{"0":{"mode":"major","secondMeasure":1.340000000000001,"form":{"1":"antecedent","5":"consequent"},"loop":null,"romanNumerals":"I ii V V-I I IV V I","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":9,"tags":["middle_voice:counterpoint","form:period"]},"1":{"mode":"major","secondMeasure":null,"loop":null,"romanNumerals":"","firstMeasure":null,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0,"tags":["style:major_chord_jingle"]},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/All-Pro Basketball":{"All-Pro Basketball [Zenbei!! Pro Basketball] (1989-07-21)(Aicom)(VIC Tokai).nsf":{"0":{"mode":"dorian","secondMeasure":1.0400000000000007,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":6},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I I I I IV IV I I V _ V","clickResolutionMs":0.01,"modulations":[],"tags":["form:16-bar_blues"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.8100000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"1":2.2714285714285714,"2":2.085714285714286},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"tag":"rhythm:3+3+2","span":[1,35]},{"tag":"form:progression","span":[1,32]},{"voices":[1],"tag":"bass:root_third_fifth","span":[1,32]},{"tag":"middle_voice:absent","span":[1,32]},{"voices":[1],"tag":"bass:doubles_melody","span":[17,24]},{"voices":[0],"tag":"melody:arpeggio","span":[17,24]},{"tag":"timbre:layered","span":[17,32]}],"disableSnapToNotes":false,"romanNumerals":"I V IV V I V IV V I V IV V I V IV V I V IV V I V IV V I V IV V I V IV V VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","location:game_won"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"A","5":"A","9":"B","13":"B","17":"A","21":"A","25":"B","29":"B","33":"cadence"},"loop":null,"firstMeasure":0,"step":"end","comment":"mario cadence","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"mario cadence","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Addams Family - Pugsley\'s Scavenger Hunt":{"Addams Family Pugsley\'s Scavenger Hunt.nsfe":{"0":{"mode":"major","secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.3900000000000002,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"14":21.18000000000051},"tonic":4},"1":{"mode":"major","secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0.13999999999999999,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"3":1.6900000000000013},"tonic":6},"2":{"mode":"major","secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":6}}},"Nintendo/Hero Quest":{"Hero Quest.nsfe":{"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i7 i7 VI VI _ _ _ _ _ _ _ _ _ _ _ _ _ iv v _ VI _ VII","clickResolutionMs":0.01,"modulations":{"78":0},"tags":["location:game_won","analyzed_in:hopkins","form:extra_measure","harmony:i-VI shuttle","timbre:oscillator_as_percussion","middle_voice:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.470000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"\\"Aquatic Ambience\\" vibes","correctedMeasures":{"2":1.6200000000000012,"26":39.91428571428571,"28":43.114285714285714,"29":44.72857142857143,"65":102.33000000001545,"74":116.72000000002281},"tonic":1,"basedOn":null}}},"Nintendo/Adventures in the Magic Kingdom":{"Adventures In The Magic Kingdom.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"I","clickResolutionMs":0.01,"tags":["middle_voice:mixed_parallel"],"mode":"major","fourMeasurePhrasingReferences":[],"secondMeasure":1.9200000000000015,"loop":17,"firstMeasure":0.37000000000000016,"step":"end","correctedMeasures":{"11":15.70999999999971,"13":18.760000000000133,"17":24.900000000001093},"tonic":11,"basedOn":null},"1":{"mode":"major","fourMeasurePhrasingReferences":[3],"beatsPerMeasure":4,"secondMeasure":1.7200000000000013,"loop":19,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":8,"basedOn":null},"2":{"mode":"major","fourMeasurePhrasingReferences":[3],"beatsPerMeasure":4,"secondMeasure":1.8700000000000014,"loop":15,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"8":13.059999999999766,"9":14.909999999999727},"tonic":2,"basedOn":null},"3":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Mario Bros":{"Mario Bros. (1983-09-09)(Nintendo R&D1)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I V I V I IV IV-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Bad News Baseball":{"Bad News Baseball [Gekitou Stadium!!] (1989-12-15)(Tecmo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I I I I I V I I I V I ii I V V I I V I","clickResolutionMs":0.01,"modulations":[],"tags":["form:AABA","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V-I5 I vi IV V-I5 I vi IV V-I5 I vi IV V-I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_below_arpeggio","form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV ii V IV I ii-V I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","form:sentence","style:common_practice","timbre:chirp"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A, basic idea","3":"basic idea repeated","5":"fragmentation","7":"PAC","9":"A","17":"bridge"},"loop":22,"firstMeasure":0,"step":"end","comment":"same form here onwards: two repetitions, then a 4-bar whistle","correctedMeasures":{"9":12.771428571428572},"tonic":1,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V I5 V I5 I-V I-V I-V vi-II5 V I5 V I5 I-V I-V I-V vi-II5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I-V I I IV I-V I I IV I-V I I IV I-V I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:walking","rhythm:3 against 2","timbre:chirp","form:period","harmony:Vsus4","middle_voice:lower_chord_tones"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","5":"A:consequent","9":"A:antecedent","13":"A:consequent"},"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V V V IV-V5 I ","clickResolutionMs":0.01,"modulations":[],"tags":["beats:unclear_measure_onsets"],"fourMeasurePhrasingReferences":[],"secondMeasure":5.189999999999934,"loop":21,"firstMeasure":0,"step":"end","comment":"La Cucaracha vibes","correctedMeasures":{"1":0,"2":1.5900000000000012},"tonic":1,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I ii ii I I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[13,7],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV5 V I I IV5 V I ","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":1.5900000000000012,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV5 v I I VII II5-#III5 IV5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.442857142857143,"6":7.989999999999874,"9":12.459999999999779},"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V V V-I V IV V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I _ ii V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV V IV-I V I5","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV V5 IV I IV-V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I ii IV-V5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V V V V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV viio I I IV viio I I V/V V ii/IV-V7/IV IV V I I IV V I5 V/ii ii V I I I V/V V ii/IV-V7/IV IV V I I IV V I5 V/ii ii V I I IV viio V vi ii iii IV V V VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:pedal_point"],"fourMeasurePhrasingReferences":[5,9,12,15,19,23,27],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"49":89.44285714285714},"tonic":9,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV I I IV IV ii-V I-IV iio/vi-V/vi I ii-V I-IV iio/vi-V/vi I IV iii ii I IV iii ii-iii I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V V/vi ii I ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"23":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V I vi-V5 I I-vi V-IV V5-I I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":28.642857142857142},"tonic":1,"basedOn":null}}},"Nintendo/Blaster Master":{"Blaster Master [Chou Wakusei Senki - Metafight] (1988-06-17)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VII VII i i VII VII","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"form":{"1":"without noise","5":"with noise"},"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I VII I VI-VII-VI-VII I VII I VI-VII-VI-VII I VII I VI-VII-VI-VII I VII I VI-VII-VI-VII I I I VII I VII VII VI V V VI-VII-VI-VII VI-VII-VI-VII VI-VII-VI-VII VI-VII-VI-VII I VII I VII","clickResolutionMs":0.01,"modulations":{"23":9,"27":11,"29":11,"31":7,"35":7},"tags":["harmony:stasis","bass:pedal_point","rhythm:syncopation","timbre:ultra_fast_notes","analyzed_in:hopkins","middle_voice:mixed_parallel"],"fourMeasurePhrasingReferences":[5,23],"secondMeasure":1.8400000000000014,"form":{"5":"A","9":"A","13":"A","17":"A","21":"tag","23":"B","27":"B","29":"mm. 23-28 reinterpreted as VII-VI","31":"bridge","35":"lead to A"},"loop":39,"firstMeasure":0,"step":"end","comment":"Area 1. quartal intro","correctedMeasures":{"4":5.542857142857143,"23":41,"24":42.91000000000003,"25":44.749999999999666,"29":52.199999999998184,"30":54.07142857142857,"31":55.93999999999744,"32":57.78999999999707,"35":63.38999999999596,"36":65.23999999999647},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI VII i","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:melody_echo","harmony:stasis","bass:riff","timbre:rich","middle_voice:parallel_fourths","scale:dorian","scale:hexatonic_minor_no6"],"fourMeasurePhrasingReferences":[3,5,11,19],"secondMeasure":1.8400000000000014,"form":{"7":"A","15":"A\'","24":"lead into A"},"loop":28,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":16.779999999999824,"19":33.56000000000189,"23":41.01000000000041,"24":42.86000000000004,"25":44.699999999999676,"26":46.5999999999993,"27":48.44999999999893},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal","timbre:layered","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":19,"firstMeasure":0,"step":"end","comment":"Area 8","correctedMeasures":[],"tonic":3,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"siren before boss","correctedMeasures":[],"tonic":null,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:boss","harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":3,"firstMeasure":0.7900000000000005,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i VII VI v i VII VI-VII I5 i VII VI v i VII VI-VII I5 i i-bvii i i-bII i i-bvii i i-bII V V-V-VII-VI V V-V-VII-bII i i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:phrygian","location:level","analyzed_in:hopkins","timbre:ultra_fast_notes","rhythm:3+3+2"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.9900000000000015,"form":{"3":"A:antecedent","7":"A:consequent","11":"A:antecedent","15":"A:consequent","19":"B","23":"B","27":"B\'","31":"B"},"loop":33,"firstMeasure":0.6900000000000004,"step":"end","comment":"Area 7 and Final Boss","tonic":9,"correctedMeasures":{"18":23.320000000000846},"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I v I VI-VII I v I VI-VII V7-i VI V I I I I VI V i i i i i i i i V5 V5 I I I I VI VI V V I I I I VI V i i ii V iii vi ii V I bII I","clickResolutionMs":0.01,"tags":["scale:mixolydian","tempo:uneven","timbre:layered","location:game_won","voice_leading:descending_chromatic_bass","middle_voice:parallel_thirds","middle_voice:arpeggio"],"modulations":{"16":9,"26":7,"32":9,"40":11,"44":9},"fourMeasurePhrasingReferences":[5,12,16,20,24,28,32,36,40,44,48,52],"secondMeasure":2.6399999999999877,"form":{"1":"A","5":"A","9":"tag","12":"B","20":"B","28":"bridge","36":"C","44":"D"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":7.989999999999874,"5":10.639999999999818,"9":21.280000000000527,"12":29.270000000001776,"13":30.885714285714286,"17":37.310000000001146,"22":45.24999999999957,"26":51.69999999999828,"28":54.89999999999765,"29":56.48999999999733,"38":70.82999999999933,"40":74.03000000000097,"41":75.63000000000179},"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I4 I4 VI5-VII I4","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0.04,"step":"end","comment":"","correctedMeasures":{"1":0,"2":1},"tonic":9,"basedOn":null}}},"Nintendo/720":{"720 (1989-11)(Atari Games)(Tengen)(Mindscape).nsf":{"2":{"mode":"phrygian","fourMeasurePhrasingReferences":[3],"secondMeasure":2.849999999999983,"loop":11,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"phrygian four notes","tonic":4,"correctedMeasures":{"2":3.0166666666666666,"4":9.55999999999984},"tags":["tempo:twice_as_fast","scale:phrygian"]},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"melody:riff","span":[9,16]},{"tag":"bass:doubles_melody","span":[9,16]},{"tag":"middle_voice:absent","span":[9,16]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"5":4,"9":9,"13":11},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.679999999999945,"4":7.169999999999892,"5":9.55999999999984,"9":19.183333333333334},"tonic":11,"basedOn":null},"4":{"tagSpans":[{"tag":"form:progression","span":[9,24]},{"voices":[0],"tag":"bass:transposed_riff","span":[1,8]},{"voices":[1],"tag":"bass:root_fifth","span":[9,24]},{"tag":"middle_voice:absent","span":[1,24]}],"romanNumerals":"I I vi vi ii ii  IV v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v ","clickResolutionMs":0.01,"tags":["harmony:parallel_keys","timbre:oscillator_as_percussion"],"mode":"minor","secondMeasure":0.7700000000000005,"form":{"1":"A","9":"B"},"loop":25,"firstMeasure":0,"step":"second measure","comment":"mixolydian with 4th in chords","correctedMeasures":{"2":1.5700000000000012},"tonic":7},"5":{"mode":"dorian","tagSpans":[{"tag":"beats:incomplete_measure_on_transition","span":[8,8]},{"tag":"timbre:oscillator_as_percussion","span":[1,4]},{"tag":"bass:doubles_melody","span":[1,8]}],"secondMeasure":1.5200000000000011,"loop":9,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":7,"correctedMeasures":{"3":3.1199999999999775,"6":7.9699999999998745,"7":9.55999999999984},"tags":[]}}},"Nintendo/Silver Surfer":{"Silver Surfer (SFX).nsf":{"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Nintendo/100-in-1-Contra Function 16":{"100-in-1-Contra Function 16 (19xx)(Unknown).nsf":{"0":{"mode":"major","secondMeasure":1.340000000000001,"loop":31,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":5}}},"Nintendo/Adventures of Tom Sawyer":{"Adventures of Tom Sawyer [Tom Sawyer no Bouken] (1989-02-06)(Winkysoft)(Seta).nsf":{"0":{"mode":"major","beatsPerMeasure":3,"secondMeasure":1.7900000000000014,"loop":17,"romanNumerals":"","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":8},"1":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":1.8400000000000014,"loop":3,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7},"2":{"mode":"major","fourMeasurePhrasingReferences":[1],"beatsPerMeasure":4,"secondMeasure":1.5900000000000012,"loop":null,"romanNumerals":"I V-I IV-I V-I IV I I I ii IV V V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0,"basedOn":"Mozart K.545"},"3":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":1.8400000000000014,"loop":17,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":6,"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":6,"secondMeasure":1.390000000000001,"loop":11,"firstMeasure":0,"clickResolutionMs":0.01,"step":"end","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/B-Wings":{"B-Wings (1986-06-03)(Data East).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi IV ii V V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV5 iv iv IV5 VI VII I I I I I I I I vi vi IV IV5 ii V I I vi vi IV IV V V IV V viio/vi vi IV5 I-V I5 I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":37,"firstMeasure":0,"step":"end","comment":"strange dorian intro mm.1-4","correctedMeasures":{"5":5.489999999999927,"6":6.8899999999998975,"9":11.114285714285714,"10":12.42999999999978,"11":13.879999999999749,"13":16.728571428571428,"15":19.530000000000253,"23":30.850000000002023},"tonic":8,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"mm.5-... - same as previous","correctedMeasures":{"3":2.9899999999999802,"4":4.339999999999952,"5":5.539999999999926,"7":8.18999999999987,"25":33.66000000000187,"29":39.31000000000075},"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ V/ii ii","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"added two-measure - uneven","correctedMeasures":{"6":6.8899999999998975,"9":10.971428571428572,"11":13.929999999999747,"12":15.429999999999715,"13":16.779999999999824,"14":18.23000000000005},"tonic":8,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.7399999999999856},"tonic":10,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.6900000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"beats can be tracked by four measures","correctedMeasures":{"4":2.9285714285714284,"5":3.889999999999961,"6":4.88999999999994,"9":7.839999999999877,"10":8.839999999999856,"13":11.769999999999794,"14":12.729999999999773,"15":13.729999999999752,"17":15.67999999999971,"21":19.63000000000027,"25":23.560000000000883},"tonic":10,"basedOn":null}}},"Nintendo/Amagon":{"Amagon [Totsuzen! Machoman] (1988-12-02)(Aicom)(VIC Tokai).nsf":{"0":{"mode":"major","secondMeasure":1.350000000000001,"loop":null,"firstMeasure":0.6000000000000003,"clickResolutionMs":0.01,"step":"end","correctedMeasures":{"18":14.139999999999743,"19":14.939999999999726,"25":19.730000000000285,"26":20.53000000000041},"tonic":9}}},"Nintendo/2in1 Cosmo Cop":{"2in1 Cosmo Cop (Light Gun) (1993)(Sachen).nsf":{"0":{"mode":"minor","secondMeasure":1.1900000000000008,"loop":17,"romanNumerals":"i i i i VI VI i i III bII III VI III v VI v","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","comment":"should m.9 be considered modulation into III?","tonic":9},"1":{"beatsPerMeasure":4,"romanNumerals":"i-IV IV VI i i iv i bII i-IV IV VI i i iv V V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i V i V i V i V i V i V i V i V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"3":{"mode":"minor","secondMeasure":1.1900000000000008,"loop":17,"romanNumerals":"i V V V i V V V iv iv i i i VI V V","firstMeasure":0,"clickResolutionMs":0.01,"step":"end","tonic":9},"4":{"beatsPerMeasure":4,"romanNumerals":"I V IV V","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Attack Animal Gakuen":{"Attack Animal Gakuen (1987-12-26)(Scitron & Art)(Pony Canyon).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I-V vi-I IV-I V/V-V I-V vi-I IV-I V-I iv-i iv-i iv-i VI-V","clickResolutionMs":0.01,"tags":["form:ABA"],"modulations":{"11":9,"15":0},"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5700000000000012,"loop":32,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"14":20.750000000000444,"15":22.350000000000694},"tonic":0,"basedOn":null}}},"Nintendo/Bakushou!! Jinsei Gekijou":{"Bakushou!! Jinsei Gekijou (1989-03-17)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V/vi vi V7/IV IV5 ii II5 V5 I I5 IV iv I IV _ I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"cadence via voice-leading","correctedMeasures":{"14":20.750000000000444,"15":22.350000000000694,"16":23.82857142857143},"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V V IV I ii V-I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.4},"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV-viio V ii-V I IV-viio V-vi IV I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:absent","bass:melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1699999999999977,"loop":9,"firstMeasure":0.5700000000000003,"step":"end","comment":"cadence via voice-leading","correctedMeasures":{"7":10.057142857142857,"8":11.742857142857142,"9":13.35999999999976},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i iv VII5 i i iv VII III-viio I iii IV V I iii IV V5","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","middle_voice:root"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.500000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.357142857142857},"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.300000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"interesting!","correctedMeasures":{"2":1.542857142857143},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii7 V7 I I ii7 ii7/ii-V+7/ii ii I ii7 V7 I I ii7 V-IV I5","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","rhythm:swing","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":7.928571428571429,"14":20.728571428571428,"16":23.771428571428572},"tonic":2,"basedOn":null}}},"Nintendo/Business Wars":{"Business Wars (1992-01-24)(Hect Development Division 1)(Hect).nsf":{"0":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:absent","location:intro"],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.9899999999999802,"form":{"3":"A","21":"A","39":"B"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"21":59.889999999996654},"tonic":0,"basedOn":"Maurice Ravel - Bolro"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ I II I II I II I II","clickResolutionMs":0.01,"tags":["harmony:lydian_shuttle","harmony:stasis","middle_voice:counterpoint","location:menu"],"modulations":{"7":10,"11":0,"15":3},"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro","3":"A","7":"B","11":"A","15":"C","19":"C\'"},"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i _ _ _ VI VI V V i","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","voice_leading:descending_chromatic_bass","upper_voices:legato_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"form":{"1":"antecedent","9":"consequent"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","middle_voice:riff","melody:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ _ _ _ _ V _ _ _ _ _ _ _ I5 IV V _ _ _ _ _ I-V5 I _ _ _ _ _ _ I5","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","form:AABA","style:common_practice"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"A:antecedent","9":"A:consequent","17":"B","25":"A\':consequent"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i i i III III III III VI VI V V7 V7/IV V7/IV iv iv ii65 VI7 V V I I I I IV ii I I IV/iii V/iii iii iii iio V5 I I VI VI I I V V I I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys","voice_leading:Ger+6","style:common_practice","location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":45,"firstMeasure":0,"step":"end","comment":"m.18 = Ger+6, m.33 unclear, m.37-38 unclear, m.27 typo?","correctedMeasures":[],"tonic":9,"basedOn":"what?"},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i I I i","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ vi vi V V","clickResolutionMs":0.01,"modulations":{"3":10,"5":0,"7":10,"9":0},"tags":["scale:mixolydian","timbre:wide_vibrato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":23.92000000000094},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i VII VII i i VII VII i i VII VII i VI VII V IV I6 vii V7 IV I6 vii V7","clickResolutionMs":0.01,"tags":[],"modulations":{"17":0},"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A","13":"B","17":"C","21":"C\'"},"secondMeasure":2.389999999999993,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-VII _ _ _ _ _ _ VI-VII I","clickResolutionMs":0.01,"tags":[],"modulations":{"5":0},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":9,"firstMeasure":0,"step":"end","comment":"modulation at m.5?","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Ball Story II - Jong Yuk Chuen Suet Fa Jong II":{"Ball Story II - Jong Yuk Chuen Suet Fa Jong II (19xx)(Sun Team).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ I I V V5 IV I V V5 I I vi vi IV I ii iii IV I V5 V","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[7],"form":{"1":"intro","7":"antecedent","15":"consequent"},"secondMeasure":1.0400000000000007,"loop":27,"firstMeasure":0,"step":"end","comment":"infinite period","correctedMeasures":{"1":4.957142857142857,"10":9.571428571428571,"14":13.842857142857143,"26":26.614285714285714},"tonic":0,"basedOn":null}}},"Nintendo/Astyanax":{"Astyanax [Lord of King, The] (1989-12-21)(Aicom)(Jaleco)(Jaleco).nsf":{"0":{"beatsPerMeasure":6,"romanNumerals":"i i i i VII VII VII VII","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"i iv i VII i iv iv-v i IV iii ii I IV iii ii-iii IV","clickResolutionMs":0.01,"tags":["form:fermata_between_sections","form:period"],"modulations":{"9":0},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":9.542857142857143},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i v VI V5 IV i _ V i v VI V IV i VII-VII-VI-VII i V/VI VI V i IV ii IV v i v VI v","clickResolutionMs":0.01,"tags":["form:period"],"modulations":{"17":4,"36":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","9":"A:consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"i VI iv v i VI v _ iv v i i VI V5 i _ VI v i i VI VII5 i _ i VII VI v iv v VI V i VII VI v iv v VI V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":44,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"25":38.31000000000095},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"21":2,"29":7,"37":2},"tags":["harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8400000000000005,"loop":65,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":6.489999999999906,"loop":37,"firstMeasure":4.88999999999994,"step":"first measure","comment":"","correctedMeasures":{"1":4.714285714285714,"2":6.389999999999908,"3":7.989999999999874},"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":3,"romanNumerals":"_ _ _ _ _ I5","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.1900000000000008},"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"romanNumerals":"i VII5 i VII5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"12":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"13":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"15":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":2.389999999999993,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"16":{"beatsPerMeasure":4,"romanNumerals":"i VI VII v","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"17":{"beatsPerMeasure":4,"romanNumerals":"VII VI5 VII I VII I5 VII I5 VII I5","clickResolutionMs":0.01,"tags":[],"modulations":{"5":3},"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i VI5 iv III i VI IV5-v I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"9":12.779999999999772,"10":14.379999999999738,"22":33.56000000000189},"basedOn":null}}},"Nintendo/Battle City":{"Battle City (1985-09-09)(Namco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i III IV VI-VII5 I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:constant_structures"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Back to the Future":{"Back to the Future (1989-09)(Beam)(LJN).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I-V7/IV-IV-IV I-V7/IV-IV-IV I-V7/IV-IV-IV VII-IV-V-V _ _ _ _ _ _ _ _ _ I-V7/IV-IV-IV I-V7/IV-IV-IV I-V7/IV-IV-IV VII-IV-V-V _ III V i IV VI III VI III VI V V5","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","bass:riff","form:fermata_between_sections","form:ABABC","harmony:parallel_keys","scale:dorian","middle_voice:riff"],"fourMeasurePhrasingReferences":[14,22,27,9],"secondMeasure":1.490000000000001,"loop":38,"firstMeasure":0,"step":"end","comment":"dorian riff, bug: snippet ignores custom phrasing","correctedMeasures":{"2":1.6,"6":8.014285714285714,"14":19.964285714285715,"15":21.57857142857143,"19":27.95,"27":39.82000000000065,"28":40.71000000000047,"29":41.51000000000031},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"voices":[0],"tag":"bass:transposed_riff","span":[5,28]},{"voices":[0],"tag":"bass:chromatic_approach","span":[13,16]},{"voices":[0],"tag":"bass:chromatic_approach","span":[25,28]},{"voices":[1],"tag":"middle_voice:transposed_riff","span":[5,28]},{"voices":[2],"tag":"melody:riff","span":[17,28]},{"voices":[2],"tag":"melody:riff","span":[5,16]},{"tag":"harmony:tonic_added-sixth_chord","span":[5,28]},{"tag":"form:12-bar_blues","span":[5,28]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I I I I IV IV I I V5 V I I I I I I IV IV I I V5 V I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0900000000000007,"form":{"1":"intro","5":"chorus","17":"chorus"},"loop":29,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Baken Hisshou Gaku - Gate In":{"Baken Hisshou Gaku - Gate In (1990-05-25)(Graphic Research)(KAC).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV I IV I V5 V I I IV I IV I V I V V I I V/V V5/V V V I I IV I IV I V V I I IV I IV I V I","clickResolutionMs":0.01,"tags":[],"modulations":{"21":7,"25":7,"41":0},"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Astro Fang - Super Machine":{"Astro Fang - Super Machine (1990-10-26)(A-Wave).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","location:boss"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI i4","clickResolutionMs":0.01,"tags":["harmony:quartal","timbre:ultra_fast_notes","rhythm:syncopation"],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":5.339999999999931},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VII VII VI VI V V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i ii IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V7/IV V7/IV IV IV iv iv V5 V5","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_diatonic_bass","harmony:Vsus4","form:extra_measure","middle_voice:melody_below_arpeggio","melody:basic_idea_x4"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI V III ii i VII-viio","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:doubles_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI iv iv V5 V5 i IV iv V V","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz","middle_voice:arpeggio","form:extra_measure"],"fourMeasurePhrasingReferences":[14,9],"secondMeasure":1.340000000000001,"loop":14,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"13":15.979999999999704,"14":17.32999999999991},"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I II II III #VI III V","clickResolutionMs":0.01,"tags":["harmony:neo-riemannian","harmony:constant_structures","middle_voice:melody_below_arpeggio"],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","scale:dorian","middle_voice:counterpoint","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.042857142857143},"tonic":9,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Aa Yakyuu Jinsei Icchokusen":{"Aa Yakyuu Jinsei Icchokusen (1992-12-25)(-)(Sammy).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ _ _ _ _ IV-iii ii-I","clickResolutionMs":0.01,"modulations":{"3":2,"5":0,"7":2,"9":0},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Attack of the Killer Tomatoes":{"Attack of the Killer Tomatoes (1992-01)(Imagineering)(THQ).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I5 _ _ _ _ _ _ _ iv iv IV5 iv V VI V I5 _ _ _ _ _ _ _ _ _ _","clickResolutionMs":0.01,"modulations":[],"tags":["form:extra_measure"],"fourMeasurePhrasingReferences":[11,15,18,22,26,3,30,33,7],"secondMeasure":1.490000000000001,"loop":37,"firstMeasure":0,"step":"end","comment":"","tonic":2,"correctedMeasures":{"31":45.74999999999947,"33":48.79999999999886,"34":50.34999999999855},"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 _ _ _ _ _ _ i iv iv _ _ _ _ _ _ V5 IV5 I5","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","melody:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":26,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv iv i i V7 V7 i i V7 i viio7 viio7 v viio i i","clickResolutionMs":0.01,"modulations":[],"tags":["style:common_practice"],"fourMeasurePhrasingReferences":[7],"secondMeasure":23.6700000000009,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.5900000000000012,"5":6.489999999999906},"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ V VI VII VII v VI VII VII","clickResolutionMs":0.01,"modulations":{"9":1,"13":10,"17":3},"tags":["scale:chromatic","middle_voice:parallel_fourths","bass:riff","form:stasis_vs_progression","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":12.979999999999768},"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ iv V5 _ i","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.28999999999991},"tonic":3,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["bass:riff","scale:chromatic"],"modulations":{"9":4,"15":3},"fourMeasurePhrasingReferences":[],"secondMeasure":1.6900000000000013,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":13.729999999999752,"11":17.179999999999886},"tonic":3,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i I I i i VI i VI i VI i I I I I","clickResolutionMs":0.01,"modulations":{"3":2,"7":8,"9":2,"17":8,"21":9},"tags":["scale:lydian"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/America Oudan Ultra Quiz - Shijou Saidai no Tatakai":{"America Oudan Ultra Quiz - Shijou Saidai no Tatakai (1991-11-29)(Pixel)(Tomy).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","clickResolutionMs":0.01,"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.4099999999999926,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Fester\'s Quest":{"Fester\'s Quest (1989-09)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V7 I I ii V5 I","clickResolutionMs":0.01,"modulations":[],"tags":["style:common_practice","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.4899999999999696,"form":{"1":"A:antecedent","5":"A:consequent"},"loop":9,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I I ii V I I ii V I I ii V I I7 I7 II7 II7 V V I5 I I ii V I I ii V V V V VI VI I","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[5,13,21,29,35],"secondMeasure":1.340000000000001,"form":{"1":"A","9":"A","17":"B","25":"A\'"},"loop":null,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":{"2":1.3857142857142857,"3":2.389999999999993,"4":3.4399999999999706,"5":4.539999999999948,"8":7.714285714285714,"11":10.889999999999812,"13":13.029999999999767,"16":16.242857142857144,"25":25.820000000001237,"26":26.92000000000141,"34":35.410000000001524,"37":38.61000000000089},"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","location:boss","middle_voice:parallel_thirds","timbre:melody_echo","scale:dorian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.739999999999943,"loop":41,"firstMeasure":3.139999999999977,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC","scale:chromatic","timbre:melody_echo","bass:riff"],"fourMeasurePhrasingReferences":[27,31],"secondMeasure":2.339999999999994,"form":{"5":"A","9":"A\'","13":"B","17":"A","21":"A\'","25":"B\'","27":"C","31":"C\'","35":"B\'\'","37":"D","41":"D","45":"bridge"},"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ I-_-_-V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_melody","tempo:ritardando"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":{"5":7.489999999999885},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Akira":{"Akira (1988-12-24)(Tose)(Taito).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"IV5 V5 #III5 vi5 I5","clickResolutionMs":0.01,"tags":["rhythm:syncopation"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"power chords syncopated","correctedMeasures":{"3":2.357142857142857,"4":3.5428571428571427,"5":4.742857142857143,"7":7.171428571428572,"11":11.985714285714286,"12":13.142857142857142,"13":14.414285714285715,"14":15.579999999999712,"15":16.757142857142856},"tonic":0,"basedOn":null}}},"Nintendo/Zhan Guo Qun Xiong Zhuan":{"Zhan Guo Qun Xiong Zhuan (1996)(Waixing).nsf":{"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Action 52":{"Action 52.nsfe":{"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i _ i _ i _ i","clickResolutionMs":0.01,"modulations":{"3":2,"5":8,"7":6,"9":0,"11":2,"13":8,"15":6,"17":0},"tags":["harmony:constant_structures","scale:pentatonic","form:accumulative","middle_voice:absent","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":7,"5":0,"9":5,"11":7,"13":0},"tags":["form:accumulative","timbre:layered","middle_voice:absent","scale:phrygian","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":17,"firstMeasure":0,"step":"end","comment":"","tonic":5,"correctedMeasures":{},"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:weird","bass:riff","harmony:stasis","scale:pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"13":18.93000000000016,"14":20.53000000000041,"17":25.52000000000119},"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi I I vi vi I I vi vi I I vi vi IV V I vi IV V5 I5 I5 I I #VI5 #VI5 I I #VI5 #VI5 I I vi vi I I vi vi IV V5 I #VI5 IV V5 I I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:I-vi shuttle","form:accumulative","melody:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A\'","13":"A\'","17":"B","21":"B\'","25":"A\'\'","29":"A\'\'","33":"A\'\'\'","37":"A\'\'\'\'","41":"B\'\'","45":"B\'\'\'"},"secondMeasure":1.5700000000000012,"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"19":28.66000000000168,"24":36.7,"34":52.68571428571428,"52":81.52857142857142},"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:i-VII shuttle","bass:riff","form:accumulative","scale:hexatonic_minor_no6"],"fourMeasurePhrasingReferences":[3,7,9,13],"form":[],"secondMeasure":6.639999999999903,"loop":15,"firstMeasure":4.489999999999949,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root_octaves","scale:pentatonic","form:accumulative","middle_voice:absent","harmony:i-VII shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hemitonic_pentatonic","bass:root_octaves","bass:riff","timbre:melody_echo","form:accumulative"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.139999999999977,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":51.3,"18":54.92857142857143,"19":58.24285714285714,"20":61.08571428571429},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:stasis","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.139999999999977,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ I","clickResolutionMs":0.01,"modulations":[],"tags":["bass:inversions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Arch Rivals - A Basketbrawl!":{"Arch Rivals - A Basketbrawl! (1990-11)(Midway)(Rare)(Acclaim).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.2199999999999545,"loop":2,"firstMeasure":1.9600000000000015,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:solo","middle_voice:parallel_thirds","harmony:stasis","bass:riff","scale:mixolydian","timbre:layered","location:sport_level","melody:fills_at_rests","timbre:portamento"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":39,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":12.759999999999772,"9":17.00999999999986,"10":19.160000000000196,"21":42.590000000000096,"22":44.72999999999967,"25":51.1299999999984,"29":59.61999999999671},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:solo","reference:previous_subtune","scale:mixolydian","timbre:melody_echo","timbre:ultra_fast_notes","bass:riff","timbre:layered","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"25":"same as subtune 2, m. 27"},"secondMeasure":2.1399999999999983,"loop":33,"firstMeasure":0,"step":"end","comment":"same form as subtune 2 - also quotes subtune 2 and subtune 4","correctedMeasures":{"4":6.389999999999908,"5":8.519999999999863,"7":12.779999999999772,"8":14.909999999999727,"9":17.00999999999986,"12":23.42000000000086,"13":25.570000000001198,"19":38.36000000000094,"20":40.44000000000052,"24":48.99999999999882},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+2","voice_leading:W-arpeggio","scale:pentatonic","timbre:melody_echo","timbre:layered","location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V V7 I-V I V V7 I-V-I-I","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","harmony:pure_I-V","bass:alberti","style:common_practice","middle_voice:arpeggio","melody:fills_at_rests","timbre:layered","location:sport_half_time"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6000000000000012,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0.4000000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:sport_points_scored"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call","location:sport_points_scored"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5600000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"phrygian sport jingle, \\"California ber Alles\\"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Barcode World":{"Barcode World (1992-12-18)(Epoch)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:period","span":[3,10]},{"tag":"harmony:blues_seventh_chords","span":[3,18]},{"tag":"middle_voice:counterpoint_and_drone","span":[11,18]},{"tag":"middle_voice:melody_below_arpeggio","span":[3,10]},{"tag":"bass:root_fifth","span":[3,18]},{"tag":"bass:diatonic_approach","span":[4,18]},{"tag":"rhythm:swing","span":[1,18]},{"tag":"rhythm:syncopation","span":[2,18]},{"tag":"form:reversed_period","span":[11,18]}],"disableSnapToNotes":false,"romanNumerals":"_ _ I7 IV7 VII7 VI-V I7 IV7 V7/V-V7 I7 IV7 vi7 IV7 vi7 IV7 vi7 V7/V V7","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:twice_as_fast","style:banjo"],"fourMeasurePhrasingReferences":[3],"form":{"1":"intro (not looped)","3":"A:antecedent","7":"A:consequent","11":"B:consequent","15":"B:antecedent"},"secondMeasure":5.089999999999936,"loop":19,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"2":2.4},"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"bass:root_fifth","span":[1,16]},{"voices":[1],"tag":"middle_voice:transposed_riff","span":[1,16]}],"disableSnapToNotes":true,"romanNumerals":"I I I I iii7 iii7 IV^ IV^ I I IV^ IV^ I I IV^ IV^","clickResolutionMs":0.01,"modulations":{"9":10,"13":8},"tags":["style:bossa_nova","rhythm:latin","harmony:diatonic_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.7399999999999856,"loop":17,"firstMeasure":1.440000000000001,"step":"end","comment":"","correctedMeasures":{"2":2.914285714285714,"3":4.389999999999951,"4":5.857142857142857},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V V V V I7 I7 IV7 I7 I7 I7 IV7 I7 IV7 IV7 I7 I7 IV V7/V V V","clickResolutionMs":0.01,"modulations":[],"tags":["form:sentence","rhythm:3+3+2","harmony:blues_seventh_chords"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"intro (not looped)","5":"sentence. basic idea","9":"basic idea repeated","13":"fragmentation. 2m+2m+1m+1m","19":"cadence"},"loop":21,"firstMeasure":0.04,"step":"end","comment":"R=2N sentence","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost","scale:whole-tone","scale:octatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV I I IV IV ii V I vi ii V I V5","clickResolutionMs":0.01,"modulations":[],"tags":["form:sentence","style:common_practice","voice_leading:triple_suspension"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7400000000000013,"form":{"1":"sentence. basic idea","5":"repetition of basic idea","9":"fragmentation via faster harmonic rhythm","13":"cadence"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bao Xiao Tien Guo (Explosion Sangokushi) - Bao Xiao San Guo (SFX)":{"Bao Xiao Tien Guo (Explosion Sangokushi) - Bao Xiao San Guo (SFX).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:launch_screen","style:chinese","middle_voice:riff"],"fourMeasurePhrasingReferences":[4,7,10],"form":[],"secondMeasure":1.5900000000000012,"loop":20,"firstMeasure":0,"step":"end","comment":"phrasing of different voices doesn\'t match. unusual loop length","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:intro","tonic:ambiguous","harmony:stasis","bass:riff","style:chinese","scale:dorian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":18,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Exodus - Journey to the Promised Land":{"Exodus - Journey to the Promised Land (1991)(Wisdom Tree).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel","middle_voice:absent","form:extra_measure","harmony:pure_I-V","location:level"],"fourMeasurePhrasingReferences":[5,10,14,19,23,32,41],"form":{"1":"octave + sixth","9":"extra measure","10":"two octaves + sixth","18":"extra measure","19":"octave + sixth","27":"extra measure","28":"sixth","36":"extra measure","37":"third","45":"extra measure"},"secondMeasure":2.6499999999999875,"loop":46,"firstMeasure":0.5000000000000002,"step":"end","comment":"melody has a range of six notes","tonic":0,"correctedMeasures":{"4":6.928571428571429,"13":26.12857142857143,"22":45.3,"31":64.47142857142858,"40":83.67142857142858},"basedOn":"Father Abraham Had Many Sons (Christian song)"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV-iii ii-I IV-iii ii-I IV-iii ii-I IV-iii ii-I","clickResolutionMs":0.01,"modulations":{"5":5,"7":0},"tags":["middle_voice:absent","form:AABA","bass:inversions","location:pause"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","3":"A","5":"B","7":"A"},"secondMeasure":2.399999999999993,"loop":9,"firstMeasure":0.25000000000000006,"step":"end","comment":"","correctedMeasures":{"9":17.33999999999991},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I I64-V I IV I I _ _ _ V _ _ _ I","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","bass:inversions","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent"},"secondMeasure":1.300000000000001,"loop":null,"firstMeasure":0.25000000000000006,"step":"end","comment":"Moses Invulnerable","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":11,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7500000000000013,"loop":2,"firstMeasure":0,"step":"end","comment":"Moses Stops","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0500000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"Game Clear","correctedMeasures":[],"tonic":3,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:AABA","bass:inversions","style:common_practice","middle_voice:absent","location:intro","harmony:pure_I-V"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"A\'"},"secondMeasure":1.300000000000001,"loop":17,"firstMeasure":0.25000000000000006,"step":"end","comment":"Help Screen","correctedMeasures":[],"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_start"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8000000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I _ I","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8000000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"Game Over","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0500000000000007,"loop":null,"firstMeasure":0.25000000000000006,"step":"second measure","comment":"Start Over","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:demo","location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.349999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Crayon Shin-chan - Ora to Poi Poi":{"Crayon Shin-chan - Ora to Poi Poi (1993-08-27)(Tose)(Bandai).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-V7/ii ii-ii-V-V+ I ii V ii/ii-V/ii-ii-V I ii V I IV-iv iii-V7/V ii-V I IV-iv iii-V/ii ii V-V+","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass","bass:root_fifth","melody:fills_at_rests","timbre:oscillator_as_percussion","form:period","rhythm:latin","form:reversed_period","harmony:Vsus4","voice_leading:triple_suspension","scale:blues","middle_voice:lower_chord_tones","middle_voice:absent"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.7900000000000014,"form":{"1":"intro (not looped)","3":"A:antecedent","7":"A:consequent","11":"B:consequent","15":"B:antecedent"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":12.579999999999776,"19":32.357142857142854},"tonic":10,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:tonic_added-sixth_chord"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.489999999999991,"loop":5,"firstMeasure":0.09,"step":"end","comment":"","correctedMeasures":{"2":2.489999999999991},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 V-IV V-IV I ","clickResolutionMs":0.01,"modulations":[],"tags":["style:boogie-woogie","timbre:oscillator_as_percussion","melody:fills_at_rests"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I^ vi I vi IV V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","bass:alberti","harmony:diatonic_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.9899999999999802,"loop":7,"firstMeasure":0,"step":"end","comment":"kind of Alberti, idk","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ vi _ _ _-V/ii ii","clickResolutionMs":0.01,"modulations":{"17":1,"23":5},"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.2400000000000009,"form":{"1":"A","9":"A","17":"B"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"20":23.985714285714284,"25":30.370000000001948},"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I VII I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":9,"firstMeasure":0,"step":"end","comment":"melody: 1m arpeggio vs. 1m step-wise","correctedMeasures":[],"tonic":2,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I II","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:lydian_shuttle","timbre:melody_echo","bass:root","timbre:oscillator_as_percussion","rhythm:3+3+2","melody:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V I vi IV V iii vi IV V iii vi IV V","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds","rhythm:3 against 2","bass:transposed_riff","melody:reharmonization"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A\'","13":"A\'\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I5 I5 ii7 V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:tonic_added-sixth_chord","form:sentence","bass:different_strategies","timbre:oscillator_as_percussion","upper_voices:different_strategies"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.7900000000000014,"form":{"1":"intro (not looped)","3":"basic idea","4":"repeated","5":"fragmentation 2b+2b+1b+1b"},"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.585714285714286},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root_octaves","timbre:oscillator_as_percussion","bass:root_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Poker Mahjong":{"Poker Mahjong (1991)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V I I IV5 V5 I5","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Road Runner":{"Road Runner (1989)(Atari Games)(Tengen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":"Rossini, \\"William Tell Overture\\""},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"9":10},"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":"Aram Khachaturian \\"Sabre Dance\\""},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":"Tchaikovsky \\"The Nutcracker - Trepak\\""},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"bug: high notes not visible","correctedMeasures":[],"tonic":null,"basedOn":"Rimsky-Korsakov \\"Flight of the Bumblebee\\""},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:portamento","scale:chromatic","location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.2800000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Metal Fighter":{"Metal Fighter (1989)(Sachen, Joy Van).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv iv v v i i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:natural_minor","form:abrupt_ending","bass:transposed_riff","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 IV7 IV7 V7 V7 V7 V7","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:blues_seventh_chords","middle_voice:parallel_thirds","bass:transposed_riff","style:boogie-woogie"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:melody_echo","melody:transposed_riff","form:abrupt_ending"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Caltron 6-in-1 - Bookyman":{"Caltron 6-in-1 - Bookyman (1992)(MegaSoft)(Caltron).nsf":{"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Don Doko Don":{"Don Doko Don (1990-03-09)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VI IV5 V IV5 I vi IV VI-V I","clickResolutionMs":0.01,"modulations":{"9":9},"tags":["bass:root_fifth","harmony:parallel_keys","middle_voice:parallel_thirds","melody:transposed_riff"],"fourMeasurePhrasingReferences":[6],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ V/ii IV _ _ _ _ _ _ _ IV iii ii I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven","rhythm:3 against 2","timbre:silence"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":38,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"22":33.5100000000019,"23":35.110000000001584,"37":57.48571428571429,"38":58.31428571428572,"39":59.889999999996654},"tonic":0,"basedOn":null}}},"Nintendo/Battle Rush - Build Up Robot Tournament":{"Battle Rush - Build Up Robot Tournament (1993-11-13)(Tose)(Bandai).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I VII I VII I VII","clickResolutionMs":0.01,"modulations":{"9":0},"tags":["harmony:mixolydian_shuttle","bass:transposed_riff","middle_voice:melody_below_arpeggio","middle_voice:mixed_parallel","harmony:stasis","melody:basic_idea_x3"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B"},"secondMeasure":1.7900000000000014,"loop":17,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I VII I VII I VII I VII VI VI VII VII I","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation","bass:transposed_riff","harmony:stasis","bass:riff","melody:fills_at_rests","middle_voice:mixed_parallel","middle_voice:melody_below_arpeggio","bass:pedal_point","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.2571428571428571},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:parallel_thirds_and_sixths","bass:root_octaves","bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.289999999999995,"loop":5,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":{"2":2.0714285714285716},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"tags":["harmony:I-III shuttle","voice_leading:three_parallel_voices"],"modulations":{"3":8},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8900000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.7},"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":5,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":{"2":2.0400000000000005,"3":3.989999999999959},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"V","clickResolutionMs":0.01,"modulations":{"10":0},"tags":["form:extra_measure","scale:whole-tone","tonic:ambiguous"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.2400000000000009,"form":{"18":"extra measure"},"loop":19,"firstMeasure":0,"step":"end","comment":"m.10 tonic ambiguous?","correctedMeasures":{"2":1.2400000000000009,"3":2.5,"18":21.442857142857143},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"3":8},"tags":["harmony:I-III shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0.09,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I^ II I^ II _ _ _ _ _ _ _ _ _ _ _ _ IV IV V V","clickResolutionMs":0.01,"modulations":{"41":10},"tags":["voice_leading:descending_chromatic_bass","harmony:lydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"21":36.74285714285714,"22":38.57142857142857,"23":40.44285714285714,"24":42.214285714285715,"25":44.00999999999981,"26":45.84999999999945},"tonic":1,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Battle Fleet":{"Battle Fleet (1990-06-22)(Namco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V I I V I5 IV I IV V I I V I","clickResolutionMs":0.01,"modulations":[],"tags":["style:common_practice","form:period","bass:walking","middle_voice:mixed_parallel","bass:inversions","location:launch_screen"],"fourMeasurePhrasingReferences":[],"secondMeasure":5.36999999999993,"form":{"1":"A:antecedent","5":"A:consequent"},"loop":17,"firstMeasure":3.569999999999968,"step":"end","comment":"parallel: either third or lower chord tone, in segments","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _-IV V I I I ii ii ii ii-V/V V5 I I I IV IV I V I","clickResolutionMs":0.01,"modulations":[],"tags":["location:menu","form:period","bass:walking","melody:basic_idea_x4","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro (not looped)","5":"antecedent","13":"consequent"},"secondMeasure":2.2199999999999966,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.7571428571428571,"3":3.5428571428571427},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I VII I I VII vi VII I VII vi VII I VI-VII-i-i VI-VII-i-i VI-VII-i-i VI-VII-I-I","clickResolutionMs":0.01,"modulations":{"6":4,"15":1},"tags":["harmony:mixolydian_shuttle","location:level","tempo:twice_as_fast","form:extra_measure","middle_voice:lower_chord_tones","middle_voice:parallel_thirds","bass:root"],"fourMeasurePhrasingReferences":[6,10,15],"form":{"1":"A","6":"B","10":"B\'","15":"C"},"secondMeasure":3.569999999999968,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","harmony:stasis","scale:dorian_over_pentatonic","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"B","9":"B","13":"C","17":"D","21":"D\'","25":"E","29":"E\'"},"secondMeasure":1.8200000000000014,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I VII I VII I VII I ","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:descending_chromatic_bass","timbre:melody_echo","form:not_looped","harmony:mixolydian_shuttle","melody:arpeggio","middle_voice:lower_chord_tones"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B","25":"C"},"secondMeasure":2.1199999999999988,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":19.160000000000196,"11":21.30000000000053,"14":27.70000000000153,"18":36.19000000000137},"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","voice_leading:descending_chromatic_melody","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V V I I V I5","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","reference:previous_subtune","harmony:pure_I-V","middle_voice:parallel_thirds_and_chord_tones","bass:walking","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","5":"consequent"},"secondMeasure":2.2199999999999966,"loop":null,"firstMeasure":0.4200000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["melody:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.8199999999999625,"loop":3,"firstMeasure":1.1700000000000008,"step":"end","comment":"battle","correctedMeasures":[],"tonic":10,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Banana":{"Banana (1986-09-08)(Victor).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"voices":[0],"tag":"melody:basic_idea_x3","span":[2,5]}],"disableSnapToNotes":false,"romanNumerals":"I-VII I VII I VII-I5 I VII I VII-I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle","bass:transposed_riff","location:menu","melody:fills_at_rests","form:accumulative"],"fourMeasurePhrasingReferences":[2],"secondMeasure":2.0899999999999994,"form":{"1":"intro (looped)","2":"A","6":"A\'"},"loop":10,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":10.657142857142857,"10":18.950000000000163},"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","harmony:stasis","middle_voice:absent","anomaly:strange_offset"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","harmony:stasis","reference:previous_subtune","form:accumulative"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2.0899999999999994,"3":4.239999999999954,"5":8.489999999999863,"8":14.879999999999727},"tonic":6,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":2.7899999999999845,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.189999999999955,"4":5.789999999999921},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VII VII","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Banana Prince":{"Banana Prince [Bananan Ouji no Daibouken] (1991-12-20)(KID)(Takara).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V7 V7 iv/ii V/ii ii7 viio7 I io7 IV V7 I VI7 I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:rich_common_practice","style:common_practice","voice_leading:descending_chromatic_bass","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":17,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"17":4,"33":0},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.439999999999992,"loop":33,"firstMeasure":0.7400000000000004,"step":"end","comment":"","correctedMeasures":{"11":18.080000000000027,"15":25.02000000000111},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:stasis_vs_progression"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.439999999999992,"loop":17,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["beats:division_change"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":3.1199999999999775,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I I i-i-bII-#III","clickResolutionMs":0.01,"modulations":{"5":3,"6":6},"tags":["tempo:twice_as_fast","harmony:constant_structures","middle_voice:mixed_parallel","melody:fills_at_rests","timbre:many_instruments_same_oscillator"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.089999999999957,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I bII7 I I I bII7 I III iv I VII5 III iv bII7 I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:harmonic_major","form:period","bass:root_fifth","melody:fills_at_rests","timbre:tremolo","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent"},"secondMeasure":1.7900000000000014,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"8":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I IV-ii V-IV iii-V I IV-ii V-V7 I ii/IV-V/IV IV ii-V I IV-V I iv-VI ii-V I","clickResolutionMs":0.01,"modulations":{"13":3,"15":0},"tags":["form:period","form:reversed_period","harmony:far-out_point","style:common_practice","harmony:rich_common_practice","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:consequent","13":"B:antecedent","14":"far-out point"},"secondMeasure":1.9400000000000015,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V7 V7 iv/ii V/ii ii7 viio7 I io7 IV V7 I VI7 I","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune","harmony:rich_common_practice","style:common_practice","melody:arpeggio","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1400000000000008,"loop":17,"firstMeasure":0,"step":"end","comment":"chords from subtune 1","correctedMeasures":{"17":18.271428571428572},"tonic":0,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:pentatonic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"34":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"41":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"42":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["motive:telephone_call"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bandit Kings of Ancient China":{"Bandit Kings of Ancient China [Suikoden - Tenmei no Chikai] (1990-06-25)(Koei).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:chinese","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5800000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV ii7 I I-V7/IV IV iii IV V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:weird_chord","bass:root_fifth","bass:transposed_riff","middle_voice:parallel_thirds_and_sixths","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"B"},"secondMeasure":2.9199999999999817,"loop":13,"firstMeasure":0.7700000000000005,"step":"end","comment":"m.6?","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V/V V/V IV iv I I I I V/V V/V IV iv I-io7 ii-V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:turnaround_coda","form:period","middle_voice:melody_below_arpeggio","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","9":"consequent"},"secondMeasure":1.5800000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"creative arpeggio","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i viio viio i viio I5-I5-bII-viio","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:twice_as_fast","bass:root_octaves","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.229999999999954,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i VII i i i VII5 i i i VII i i VI VII i i I V I I V V I _ I V I I VII VII i i","clickResolutionMs":0.01,"tags":["form:period","harmony:pure_I-V","bass:root","upper_voices:same_range","middle_voice:static_chord_tones","middle_voice:parallel_thirds"],"modulations":{"17":0,"29":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.1800000000000008,"form":{"1":"A:antecedent","9":"A:consequent","17":"B:antecedent","25":"B:consequent"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI-V","clickResolutionMs":0.01,"modulations":[],"tags":["scale:major_pentatonic","style:chinese"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0799999999999996,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi IV iv I I IV iii IV V","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diatonic_seventh_chords","middle_voice:melody_below_arpeggio","bass:melody","middle_voice:parallel_octaves","middle_voice:parallel_thirds","melody:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5800000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I I V/V V/V IV iv I I I I V/V V/V IV iv7 I i","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:static_chord_tones","middle_voice:melody_below_arpeggio","bass:transposed_riff","melody:fill_after_cadence","upper_voices:same_range"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5800000000000012,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.179999999999976,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i II7 iio i i II iv i","clickResolutionMs":0.01,"modulations":[],"tags":["bass:inversions","harmony:neo-riemannian","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.229999999999954,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":12.769999999999772},"tonic":0,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:uneven","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.3799999999999932,"loop":4,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.2299999999999964,"loop":4,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Conquest of the Crystal Palace":{"Conquest of the Crystal Palace [Matendouji] (1990-08-24)(Quest).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:dorian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bubble Bath Babes":{"Bubble Bath Babes [Soap Panic] (1991)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I V7","clickResolutionMs":0.01,"modulations":{"21":5,"29":7,"53":8,"69":3},"tags":["rhythm:3+3+2","melody:fills_at_rests","upper_voices:same_range","melody:basic_idea_x3","middle_voice:counterpoint","bass:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"form":{"1":"intro (looped)","5":"A","13":"A","21":"A","29":"A","37":"B","53":"B","69":"bridge"},"loop":71,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"51":79.78571428571429,"67":105.34285714285714,"70":110.20000000001947},"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I V I","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:latin","middle_voice:parallel_thirds_and_sixths","bass:riff","non-chord_tones:neighbor","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[],"form":{"13":"loop start"},"secondMeasure":1.5400000000000011,"loop":53,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"3":3.139999999999977,"8":11.129999999999807,"9":12.729999999999773,"19":28.72000000000169,"29":44.628571428571426},"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I IV I IV I V7 I _ IV viio/V I64 V/ii ii I64 V _ I IV I IV I IV-V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["style:ragtime","harmony:Vsus4","timbre:portamento","middle_voice:counterpoint","bass:root","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A (intro, not looped)","9":"B","17":"A\'"},"secondMeasure":4.539999999999948,"loop":25,"firstMeasure":3.139999999999977,"step":"end","comment":"","correctedMeasures":{"2":4.742857142857143,"3":6.339999999999909},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.3099999999999525,"loop":null,"firstMeasure":2.020000000000001,"step":"end","comment":"","correctedMeasures":{"2":4.228571428571429,"3":6.269999999999911,"8":16.914285714285715,"9":19.06000000000018},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ V7/IV IV iv I","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:ascending_chromatic","melody:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ VI-VII-I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Bubble Bobble":{"Bubble Bobble (1988-11)(Taito).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"tempo:ritardando","span":[4,4]},{"tag":"middle_voice:melody_below_arpeggio","span":[1,3]},{"tag":"middle_voice:parallel_thirds","span":[4,4]},{"tag":"bass:doubles_melody","span":[4,4]},{"tag":"bass:counterpoint","span":[1,3]},{"tag":"timbre:unexpected_detune","span":[1,3]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:binary"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"intro (not looped)","5":"see next subtune for analysis","9":"A:consequent","13":"B:antecedent","21":"B:consequent"},"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.139999999999871,"6":9.989999999999831},"tonic":10,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:period","span":[1,8]},{"tag":"form:period","span":[9,24]},{"voices":[2],"tag":"bass:root_octaves","span":[1,24]},{"tag":"middle_voice:absent","span":[1,24]},{"tag":"timbre:many_instruments_same_oscillator","span":[9,12]},{"voices":[1],"tag":"melody:basic_idea_x3","span":[1,8]},{"tag":"harmony:implied","span":[17,22]},{"tag":"melody:basic_idea_x4","span":[16,20]},{"tag":"melody:fills_at_rests","span":[8,12]}],"disableSnapToNotes":false,"romanNumerals":"I I vi vi I I vi vi-I V I V I _ _ _ _ _ _ _ _ _ _ II5-V5 I5","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","17":"B:consequent"},"secondMeasure":1.8400000000000014,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"speed up","correctedMeasures":[],"tonic":null,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"scale:demo","span":[3,3]},{"tag":"scale:major_pentatonic","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VI I5 I5","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:i-VI shuttle","bass:root_octaves","melody:arpeggio","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.289999999999995,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.679999999999945,"5":9.58999999999984},"tonic":11,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii iii ii","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:unexpected_detune","melody:arpeggio","bass:root_octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"23":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i i iv iv i i V V","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","bass:alberti","location:boss"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.290000000000001,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"29":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"bII I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:harmonic_major","harmony:phrygian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"30":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:credits"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":9.289999999999846,"loop":null,"firstMeasure":7.349999999999888,"step":"end","comment":"","correctedMeasures":{"9":22.2,"10":24.1,"11":25.870000000001244,"17":37.142857142857146,"21":44.699999999999676,"23":48.44999999999893},"tonic":0,"basedOn":null},"31":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:tetratonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"32":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"34":{"beatsPerMeasure":12,"disableSnapToNotes":false,"romanNumerals":"i VII VI V i VII VI V i VII VI V i VII VI V i VII VI V ","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root_fifth","melody:transposed_riff","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9899999999999802,"form":{"1":"intro","5":"A","9":"A","13":"B","17":"B"},"loop":21,"firstMeasure":0.24000000000000007,"step":"end","comment":"Saint-Sans \\"Dance Macabre\\"-like riff","correctedMeasures":{"3":5.789999999999921},"tonic":9,"basedOn":null}}},"Nintendo/Baltron":{"Baltron (1986-03-19)(Shouei System)(Toei Animation).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root_octaves"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.9100000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.5099999999999905,"loop":2,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i V5","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root_octaves","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9100000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9100000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9100000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Be-Bop High School - Koukousei Gokuraku Densetsu":{"Be-Bop High School - Koukousei Gokuraku Densetsu (1988-03-30)(Data East).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I V7","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","bass:root","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1899999999999973,"loop":13,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV7 IV7 I7 I7 V7 V7 i7 V","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","bass:root","middle_voice:transposed_riff","melody:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.485714285714286,"5":5.989999999999917,"6":7.4714285714285715,"8":10.514285714285714,"10":13.457142857142857,"12":16.428571428571427},"tonic":6,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i IV7 IV7 IV7 IV7 I7 I7 I7 I7 V7  IV7 I7 V","clickResolutionMs":0.01,"modulations":[],"tags":["form:16-bar_blues","style:boogie-woogie"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":11.628571428571428,"14":16.742857142857144,"15":18.02857142857143},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.479999999999991,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I7 I","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:minor_seconds","form:12-bar_blues","bass:transposed_riff","melody:fills_at_rests"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.9714285714285715},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":5.985714285714286},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hemitonic_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 IV7 I7 I7 IV7 IV7 I7 I7 IV7 V7 I7 V I7 IV7 I7 I7 IV7 IV7 I7 I7 IV7 V7 I7 V IV7 IV7 I7 I7 ii7 ii7 V VI V _ I7 IV7 I7 I7 IV7 IV7 I7 I7 IV7 V7 I7 V13 I","clickResolutionMs":0.01,"modulations":[],"tags":["form:12-bar_blues","tempo:ritardando","form:not_looped"],"fourMeasurePhrasingReferences":[5,9,17,21,29,33,39,43],"form":{"1":"A","13":"A\'","25":"B","35":"A"},"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0.49000000000000027,"step":"end","comment":"","correctedMeasures":{"34":43.90999999999983,"35":45.24999999999957,"36":46.54999999999931,"47":61.58571428571429},"tonic":6,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I V V I I V-I I V-I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:pure_I-V"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.8900000000000015,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6400000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"13":19.930000000000316},"tonic":4,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i-VII VI7-VII7 V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"20":{"beatsPerMeasure":12,"disableSnapToNotes":false,"romanNumerals":"i V V7/iv iv VII vi ii V7","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:twice_as_fast","middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.239999999999975,"loop":9,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bao Qing Tian":{"Bao Qing Tian (1996)(Unknown).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:chinese","scale:pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6400000000000012,"loop":24,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":{"10":13.429999999999758,"11":14.929999999999726,"12":16.314285714285713,"13":17.77999999999998,"14":19.230000000000206,"16":22.170000000000666,"23":32.42000000000212},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:chinese","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.440000000000001,"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"28":39.71000000000067},"tonic":5,"basedOn":null}}},"Nintendo/Robocop 3":{"Robocop 3 (1992-08)(Probe)(Ocean).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8800000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.369999999999887,"6":10.169999999999828,"7":14.31999999999974,"8":16.469999999999775,"9":20.21000000000036,"10":24.010000000000954,"11":27.710000000001532},"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"5":4},"tags":["timbre:oscillator_as_percussion","bass:riff","middle_voice:riff","melody:riff","scale:blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.199999999999997,"loop":9,"firstMeasure":0.05,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Beauty and the Beast":{"Beauty and the Beast (1994)(-)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V47 I V47 I V47 I V47 I V47 I V47 I iii IV V I  V47 I v-I IV ii7 I V47","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","timbre:ultra_fast_notes","timbre:variable_duty_cycle"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A\'","13":"B","17":"A\'\'","21":"C"},"secondMeasure":2.1699999999999977,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.371428571428571},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:phrygian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:i-VI shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Bonza":{"Bonza (19xx)(Unknown).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i VII VI VII i VII VI-VII i","clickResolutionMs":0.01,"modulations":[],"tags":["bass:transposed_riff","melody:basic_idea_x3","middle_voice:lower_chord_tones","form:period","origin:russia"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro (looped)","3":"antecedent","7":"consequent"},"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:W-arpeggio","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Battletoads":{"Battletoads (1991-06)(Rare)(Tradewest).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:portamento"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.420000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.9714285714285715,"4":4.614285714285714,"5":6.069999999999915,"6":7.6,"7":9.019999999999852,"17":23.85000000000093},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:portamento"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Best Play Pro Yakyuu":{"Best Play Pro Yakyuu (1988-07-15)(ASCII).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["game_genre:baseball"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.385714285714286},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Binary Land":{"Binary Land (1985-12-19)(Hudson).nsf":{"0":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ I I I V7 V7 V7 V7 I I I I ii V I-viio/V I64-V7 I","clickResolutionMs":0.01,"modulations":[],"tags":["tempo:accelerando","style:waltz","voice_leading:Cad64","form:uniform_period","style:common_practice"],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.0899999999999994,"form":{"1":"intro","3":"A","11":"A\'"},"loop":19,"firstMeasure":0.49000000000000027,"step":"end","comment":"","correctedMeasures":{"4":5.039999999999937},"tonic":10,"basedOn":"Satie - Je te veux"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i V7 i","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:pure_i-V","location:lost","bass:inversions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":"Beethoven - Ode To Joy"},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Balda":{"Balda.nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["origin:russia"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Blueflamen Tupari":{"Blueflamen Tupari.nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:vocal_DMC","origin:demoscene"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9200000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.8700000000000014},"tonic":2,"basedOn":null}}},"Nintendo/Slalom":{"Slalom (1987-08)(Rare)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV IV I I IV IV I I IV IV V V","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+3+3+2+2","middle_voice:parallel_thirds","bass:root_fifth","voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.320000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Blackjack":{"Blackjack (1992)(Odyssey)(American Video Entertainment).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":10.639999999999818},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"5":6,"9":3,"13":0},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bokosuka Wars":{"Bokosuka Wars (1985-12-14)(ASCII)(Bits Laboratory)(ASCII).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.3499999999999726,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":3.742857142857143},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bird Week":{"Bird Week (1986-06-03)(Lenar)(Toemiland).nsf":{"1":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I I V7 V7 I I V7 V7 I I V7 V7 I I V7 V7 I I V7 V7 I I ii ii I I V7 V7 I I ii ii","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","bass:inversions","melody:transposed_riff","middle_voice:absent","non-chord_tones:neighbor"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B","17":"C","25":"C"},"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.8899999999999824,"loop":null,"firstMeasure":0.7400000000000004,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0.7400000000000004,"step":"second measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"8":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"I i","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1400000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","clickResolutionMs":0.01,"modulations":[],"tags":["scale:demo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"Nintendo/Battle Chess":{"Battle Chess (1990-07)(Beam)(Data East).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI iv v i i i i VI VI iv v i i VI VII i i VI VII i i VI VII i i iv v i i","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","middle_voice:transposed_riff","scale:natural_minor","bass:root","location:launch_screen","form:sentence"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B","25":"B\'"},"secondMeasure":2.489999999999991,"loop":null,"firstMeasure":0.49000000000000027,"step":"end","comment":"A: sentence-like","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":"Chopin - Funeral March"}}},"Nintendo/Balloon Fight":{"Balloon Fight (1985-01-22)(HAL Laboratory)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ I VII I ii","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3 against 2","timbre:oscillator_as_percussion","melody:riff","bass:riff","form:accumulative"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5200000000000011,"form":{"1":"intro (looped)","5":"A","13":"B","21":"A\'","29":"B\'"},"loop":33,"firstMeasure":0,"step":"end","comment":"shuttle?","correctedMeasures":{"3":3.189999999999976,"4":4.789999999999942,"5":6.389999999999908},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diminished_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Bio Force Ape":{"Bio Force Ape (Prototype) (1991)(Seta).nsf":{"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["voice_leading:W-arpeggio","scale:pentatonic","bass:riff","harmony:stasis","middle_voice:parallel_fifths"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.8400000000000014,"form":{"1":"intro (looped)","3":"A","7":"A","11":"B","15":"B\'"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Battle Storm":{"Battle Storm (1991-12-21)(Bullet-Proof Software)(Party Room 21).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ III IV-V","clickResolutionMs":0.01,"modulations":{"5":5,"7":3,"13":5,"15":3},"tags":["scale:blues"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"cadence"},"secondMeasure":1.5700000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ III7 _ I7","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff","upper_voices:same_range","harmony:blues_seventh_chords","form:12-bar_blues","melody:riff","scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"cadence"},"secondMeasure":1.7200000000000013,"loop":21,"firstMeasure":0,"step":"end","comment":"12 bar blues with first 8 bars repeated twice","correctedMeasures":{"10":15.559999999999713,"16":25.950000000001257},"tonic":1,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:root","middle_voice:absent","melody:transposed_riff","scale:natural_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":19,"firstMeasure":0,"step":"end","comment":"no 5","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":17.97142857142857},"tonic":6,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"5":6,"9":11,"11":4,"15":6,"17":9,"19":11,"21":1},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.3699999999999934,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I III _ _ _ _ _ _ IV V I I IV V","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","melody:riff","harmony:blues_seventh_chords","harmony:constant_structures"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9700000000000015,"form":{"1":"A","5":"A","9":"B","13":"B\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:constant_structures","span":[1,12]},{"tag":"middle_voice:counterpoint","span":[1,7]},{"tag":"middle_voice:arpeggio","span":[8,8]},{"tag":"middle_voice:static_chord_tones","span":[9,12]},{"tag":"bass:root_third_fifth","span":[1,12]},{"tag":"bass:inversions","span":[7,8]}],"disableSnapToNotes":false,"romanNumerals":"I I II II VII VII IV IV VI VII I I","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _-V","clickResolutionMs":0.01,"modulations":{"5":9},"tags":["middle_voice:parallel_thirds","melody:fills_at_rests","harmony:stasis","bass:root","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"10":8,"11":9},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":6.369999999999909,"loop":null,"firstMeasure":3.1699999999999764,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":null,"firstMeasure":0.26000000000000006,"step":"second measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/BreakThru":{"BreakThru (1987-11)(Data East).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.2400000000000009,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"22":33.5100000000019},"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0700000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.3699999999999934},"tonic":1,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi IV iv V7 V+ I I vi vi IV iv V5 V5 IV^ IV^ iii7 iii7 IV^ IV^ iii7 V5 ","clickResolutionMs":0.01,"modulations":[],"tags":["location:game_won","harmony:diatonic_seventh_chords","bass:root_octaves","middle_voice:parallel_octaves","upper_voice:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A\'","17":"B","25":"A","33":"A\'"},"secondMeasure":1.390000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"repeated twice, ends on V","correctedMeasures":{"12":15.371428571428572,"33":44.649999999999686,"34":46.04999999999941,"36":48.857142857142854},"tonic":3,"basedOn":null}}},"Nintendo/Black Bass, The":{"Black Bass, The (1987-02-06)(Another)(Hot-B).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ IV I V7 I IV I-V/ii ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":["middle_voice:melody_below_arpeggio","form:not_looped","form:period","harmony:tonic_added-sixth_chord"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.5300000000000011,"form":{"2":"antecedent","6":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8000000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Battle Kid - Fortress of Peril":{"Battle Kid - Fortress of Peril (2008)(Sivak).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.8900000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:progression"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.34000000000000014,"step":"end","comment":"","correctedMeasures":{"3":3.5899999999999674},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":13,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"6":9.489999999999842,"10":16.579999999999792},"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:syncopation"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":25,"firstMeasure":0.38000000000000017,"step":"end","comment":"","correctedMeasures":{"18":28.65714285714286,"20":31.985714285714284,"22":35.31428571428572,"24":38.642857142857146},"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7400000000000013,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":19.480000000000246},"tonic":9,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.089999999999978,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"Nintendo/Bionic Commando":{"Bionic Commando [Hitler no Fukkatsu - Top Secret] (1988-07-20)(Capcom).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i-bvii i-v i-bvii V I-V I-V-I-V","clickResolutionMs":0.01,"modulations":{"5":9},"tags":["scale:mixed_minor","voice_leading:three_independent_voices","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.3199999999999945,"loop":null,"firstMeasure":0.4200000000000002,"step":"end","comment":"modulation?","correctedMeasures":[],"tonic":1,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:chromatic","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1700000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"evil","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["bass:drone","scale:natural_minor","middle_voice:counterpoint","tempo:twice_as_fast","location:intro"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":3.7199999999999647,"loop":6,"firstMeasure":0,"step":"end","comment":"brave man","correctedMeasures":[],"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:picardy_third","span":[3,3]},{"tag":"voice_leading:three_parallel_voices","span":[2,3]},{"tag":"scale:tetratonic","span":[1,1]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ V I5 bvii I5 I VII bII-VII I _ _ _ _ _ _ _ _ _ i bII i IV IV V VI VII I I io7","clickResolutionMs":0.01,"tags":["harmony:diminished_seventh_chords","middle_voice:parallel_thirds_and_sixths","middle_voice:riff","scale:mixed_major","middle_voice:counterpoint","bass:pedal_point","harmony:constant_structures","form:complex"],"modulations":{"10":1,"14":4,"16":11,"19":4,"23":7,"27":10,"31":8},"fourMeasurePhrasingReferences":[3],"secondMeasure":4.569999999999947,"form":{"1":"intro (looped)","3":"A","7":"A\'","11":"B","19":"A\'\'","23":"A\'\'\'","27":"C"},"loop":39,"firstMeasure":3.1699999999999764,"step":"end","comment":"","correctedMeasures":{"2":4.8,"3":6.357142857142857},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I^ I^ II^ II^ I^ I^","clickResolutionMs":0.01,"modulations":{"9":6,"17":5},"tags":["timbre:wide_vibrato"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","17":"A\'"},"secondMeasure":1.5700000000000012,"loop":39,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":17.571428571428573},"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ i-V _ _ _ i _-V i _-V _ _ _ _-V _ _ _ _ _ _ _ _ _ _ _ _ _ V V i i V V i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:blues","scale:pentatonic","harmony:weird_chord"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":42,"firstMeasure":0,"step":"end","comment":"weird chord: m.14","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ bvii i _ _ bvii i bvii i bvii","clickResolutionMs":0.01,"modulations":{"10":8},"tags":["bass:transposed_riff","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8700000000000014,"loop":26,"firstMeasure":0.2700000000000001,"step":"end","comment":"","correctedMeasures":{"10":14.67142857142857,"11":16.24999999999974},"tonic":1,"basedOn":null}}},"Nintendo/Battle of Olympus":{"Battle of Olympus [Olympus no Tatakai - Ai no Densetsu] (1988-03-28)(Infinity)(Imagineer).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:uniform_period","span":[1,8]},{"tag":"harmony:Vsus4","span":[13,13]},{"tag":"form:extra_measure","span":[13,13]},{"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[1,8]},{"tag":"middle_voice:static_chord_tones","span":[9,11]},{"tag":"middle_voice:counterpoint","span":[12,12]},{"tag":"harmony:upper_structure","span":[3,3]},{"voices":[2],"tag":"bass:root_fifth","span":[1,8]},{"tag":"melody:basic_idea_x4","span":[1,8]},{"tag":"melody:arpeggio","span":[9,11]},{"voices":[2],"tag":"bass:root","span":[9,11]},{"tag":"voice_leading:descending_diatonic_bass","span":[12,12]}],"disableSnapToNotes":false,"romanNumerals":"i VII III iio-v i VII III iio-v i iv V7","clickResolutionMs":0.01,"modulations":[],"tags":["form:binary"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"form":{"1":"A","5":"A","9":"B"},"loop":14,"firstMeasure":0,"step":"end","comment":"m.3b3 - VI over III","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"17":7},"tags":["harmony:phrygian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":31,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","harmony:diminished_seventh_chords","scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6899999999999653},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"i VI VII V5 i VI VII V5-i bII i iio V bII i V7 V-i","clickResolutionMs":0.01,"modulations":[],"tags":["form:period","form:binary"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent"},"secondMeasure":2.389999999999993,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Big Nose the Caveman":{"Big Nose the Caveman (1991)(Optimus)(Codemaster).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-IV-V-I I I I I I I I I-V I I I I-V IV V IV V","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:oscillator_as_percussion","upper_voice:riff","harmony:I-IV-V","tempo:twice_as_fast","bass:root_fifth"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.8400000000000014,"loop":18,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.439999999999886,"10":16.779999999999824,"16":27.970000000001573},"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V I vi IV V IV V IV V","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:ultra_fast_notes","bass:root_fifth","middle_voice:arpeggio","melody:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.239999999999954,"4":6.389999999999908,"5":8.489999999999863,"6":10.628571428571428},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1],"tag":"bass:transposed_riff","span":[1,48]},{"voices":[0],"tag":"timbre:ultra_fast_notes","span":[1,12]},{"voices":[0],"tag":"melody:x2","span":[17,20]},{"voices":[0],"tag":"melody:arpeggio","span":[1,12]},{"voices":[2],"tag":"middle_voice:arpeggio","span":[1,48]},{"tag":"rhythm:3+3+2","span":[21,24]},{"tag":"form:12-bar_blues","span":[1,48]},{"voices":[0],"tag":"melody:transposed_riff","span":[37,48]},{"tag":"melody:basic_idea_x4","span":[13,24]},{"tag":"style:boogie-woogie","span":[25,36]}],"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V IV I V I I I I IV IV I I V IV I V I I I I IV IV I I V IV I V I I I I IV IV I I V IV I V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A","13":"B","25":"A","37":"C"},"loop":49,"firstMeasure":0,"step":"end","comment":"feels like the next part (A, B or C) is chosen randomly","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V","clickResolutionMs":0.01,"modulations":[],"tags":["timbre:wide_vibrato","form:progression","bass:root_octaves","middle_voice:arpeggio","rhythm:3+3+2","harmony:I-IV-V","form:solo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"A","5":"A","9":"B","25":"A","29":"C"},"loop":45,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":5.589999999999925,"5":7.439999999999886,"7":11.157142857142857,"31":55.88999999999745,"32":57.77142857142857,"35":63.38999999999596},"tonic":2,"basedOn":null}}},"Nintendo/Blue Marlin, The":{"Blue Marlin, The (1991-12-27)(Hot-B).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ ii ii-V5 I vi ii ii-V5 I V/ii ii ii I I+ ii ii I^ I","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:diatonic_seventh_chords","timbre:oscillator_as_percussion","bass:root_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0000000000000013,"form":{"1":"intro (not looped)","5":"A","9":"A\'","13":"B","17":"B\'"},"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"20":38.81000000000085},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-VII I-VII I-VII I-VII I-VII I-VII I-VII I-VII I5 VII VI^ v ii7 I^ VII V","clickResolutionMs":0.01,"modulations":{"9":7,"13":10},"tags":["harmony:mixolydian_shuttle","rhythm:3 against 2","form:uniform_period","harmony:Vsus4","rhythm:1+2+2+2","form:binary","middle_voice:static_chord_tones","middle_voice:arpeggio","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"form":{"1":"A","5":"A","9":"B:sentence"},"loop":17,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1],"tag":"middle_voice:arpeggio","span":[5,18]},{"tag":"form:period","span":[5,20]},{"tag":"form:reversed_period","span":[21,36]},{"tag":"harmony:Vsus4","span":[35,36]},{"tag":"harmony:V7b9","span":[18,18]},{"voices":[2],"tag":"bass:root_fifth","span":[1,36]},{"tag":"melody:basic_idea_x3","span":[5,20]},{"tag":"melody:reharmonization","span":[21,32]},{"voices":[1],"tag":"middle_voice:static_chord_tones","span":[21,36]},{"tag":"lego:pullback","span":[13,20]},{"tag":"harmony:diatonic_seventh_chords","span":[5,20]}],"disableSnapToNotes":false,"romanNumerals":"II5 V5 II5 V5 ii7 V7 iii7 vi7 ii7 V7 I^ I^ ii7 V7 iii7 vi7 ii7 V7 I^ I^ ii V7 I^ I^ ii7 V7 I^ I ii V i IV ii4 V/V V V","clickResolutionMs":0.01,"modulations":{"21":7,"29":11},"tags":["form:binary"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"form":{"1":"intro (not looped)","5":"A:antecedent","13":"A:consequent","21":"B:consequent","29":"B:antecedent"},"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"24":21.34285714285714,"28":25.071428571428573,"32":28.8,"34":30.642857142857142,"36":32.48571428571429,"38":34.36000000000173},"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:progression","span":[9,25]},{"tag":"bass:pedal_point","span":[1,8]},{"tag":"middle_voice:parallel_thirds","span":[1,8]},{"tag":"harmony:Vsus4","span":[12,12]},{"tag":"voice_leading:descending_chromatic_bass","span":[25,33]},{"tag":"bass:mixed_octaves","span":[25,34]},{"tag":"middle_voice:lower_chord_tones","span":[9,34]},{"tag":"middle_voice:arpeggio","span":[22,22]},{"tag":"rhythm:3+3+2","span":[25,31]},{"tag":"harmony:weird_chord","span":[32,32]},{"tag":"melody:development_via_rhythmic_shift","span":[9,24]},{"tag":"form:extra_measure","span":[33,34]},{"tag":"melody:basic_idea_x4","span":[9,24]},{"tag":"melody:chord_tones_as_motive","span":[9,24]}],"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ I vi ii V7 I vi ii V7 I vi ii V7 I vi ii V7 I V7 V7/IV IV-V7 I V7","clickResolutionMs":0.01,"tags":["form:stasis_vs_progression","form:binary_with_intro"],"modulations":{"25":8},"fourMeasurePhrasingReferences":[],"secondMeasure":1.360000000000001,"form":{"1":"intro (looped)","9":"A","25":"B"},"loop":35,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"2":0.9285714285714286},"basedOn":null},"4":{"beatsPerMeasure":4,"tagSpans":[{"tag":"voice_leading:descending_chromatic_bass","span":[9,15]},{"tag":"melody:basic_idea_x3","span":[1,8]},{"tag":"bass:root","span":[1,8]},{"tag":"bass:root_octaves","span":[16,16]},{"tag":"middle_voice:lower_chord_tones","span":[1,12]},{"tag":"middle_voice:arpeggio","span":[13,15]},{"tag":"melody:stepwise","span":[1,8]},{"tag":"melody:chord_tones_as_motive","span":[9,11]},{"tag":"melody:stepwise","span":[12,16]}],"disableSnapToNotes":true,"romanNumerals":"I7 I7 III IV I7 I7 III IV i V7 i7 IV VI III IV V-VII5","clickResolutionMs":0.01,"modulations":{"9":11},"tags":["form:binary","rhythm:syncopation","rhythm:swing"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A","5":"A\'","9":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8},"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I^","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"6":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:Vsus4","span":[18,18]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _-V i _ _ ii7 V","clickResolutionMs":0.01,"tags":[],"modulations":{"11":5,"15":0},"fourMeasurePhrasingReferences":[3],"secondMeasure":1.6900000000000013,"form":{"1":"intro (not looped)","3":"A","11":"B"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:mixolydian_shuttle","span":[1,17]},{"tag":"bass:root_octaves","span":[1,18]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"9":1},"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A","9":"B","17":"bridge"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"8":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:phrygian_shuttle","span":[1,8]},{"tag":"harmony:Vsus4","span":[15,16]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ I vi7 ii V/V V47 V7","clickResolutionMs":0.01,"tags":[],"modulations":{"9":6,"14":3},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7400000000000013,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","tonic":8,"correctedMeasures":{"7":12.229999999999784,"8":14.285714285714286},"basedOn":null},"10":{"beatsPerMeasure":4,"tagSpans":[{"tag":"rhythm:3+3+2","span":[1,8]},{"tag":"voice_leading:three_parallel_voices","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"I bII III bII I bII III bII","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8000000000000005,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6200000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"13":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:mixolydian_shuttle","span":[1,4]},{"tag":"bass:pedal_point","span":[1,4]},{"tag":"middle_voice:lower_chord_tones","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.440000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0.22000000000000006,"step":"second measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:whole-tone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ VI VII I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.9428571428571428},"tonic":3,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.420000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.9199999999999817,"8":10.309999999999825,"9":11.809999999999793},"tonic":11,"basedOn":null},"24":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"25":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI-VII I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.420000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Ikki":{"Ikki (1985-11-28)(Tose)(Sunsoft).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hemitonic_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":3.1199999999999775,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Batsu & Terii - Makyou no Tetsujin Race":{"Batsu & Terii - Makyou no Tetsujin Race (1987-07-22)(Use).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:root_octaves","span":[1,4]},{"tag":"harmony:weird_chord","span":[2,2]},{"tag":"middle_voice:absent","span":[1,4]},{"tag":"form:sentence","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I vio VI-VII V-I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.357142857142857},"tonic":11,"basedOn":null}}},"Nintendo/Baseball Fighter":{"Baseball Fighter (1991-07-05)(Graphic Research)(VAP).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:period_without_melodic_repetition","span":[3,10]},{"tag":"timbre:melody_echo","span":[3,4]},{"tag":"middle_voice:parallel_thirds","span":[5,6]},{"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[7,10]},{"tag":"middle_voice:static_chord_tones","span":[1,2]},{"tag":"melody:ascending_chromatic","span":[1,2]},{"tag":"bass:root_fifth","span":[3,10]},{"tag":"rhythm:swing","span":[1,10]},{"tag":"melody:basic_idea_x2_and_fragmentation","span":[3,6]},{"tag":"melody:basic_idea_x2_and_fragmentation","span":[7,10]}],"disableSnapToNotes":false,"romanNumerals":"V V7 I vi IV V I V7/vi IV-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro (looped)"},"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Yu-Gi-Oh":{"Yu-Gi-Oh (19xx)(Shenzhen Nanjing Technology).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"9":10,"15":1},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":16.329999999999753},"tonic":1,"basedOn":null}}},"Nintendo/Bikkuriman World - Gekitou Sei Senshi":{"Bikkuriman World - Gekitou Sei Senshi (1990-07-27)(-)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.9699999999999807,"loop":null,"firstMeasure":0.5700000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":2.3699999999999934,"loop":6,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"5":6},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Karate Kid, The":{"Karate Kid.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:hemitonic_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bishoujo Control":{"Bishoujo Control (FDS)(19xx)(Wild).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"middle_voice:parallel_thirds","span":[1,4]},{"tag":"voice_leading:descending_diatonic_bass","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I VII III-bII I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.239999999999954,"loop":5,"firstMeasure":1.2100000000000009,"step":"end","comment":"","correctedMeasures":{"3":7.439999999999886,"4":10.557142857142857,"5":13.459999999999757},"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.189999999999976,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Waixing Zhan Shi":{"Waixing Zhan Shi (1996)(Waixing).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:chinese","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.7900000000000014},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.442857142857143,"9":14.842857142857143},"tonic":3,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"24":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"27":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:harmonic_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Super Rugby":{"Super Rugby (1989-12-27)(Zap)(TSS).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:upper_structure","span":[5,8]}],"disableSnapToNotes":false,"romanNumerals":"_ _ VI VI-VII I _ _ _ I","clickResolutionMs":0.01,"tags":[],"modulations":{"9":8},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"bass:riff","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:parallel_thirds","span":[2,4]},{"voices":[0,1],"tag":"middle_voice:parallel_fifths","span":[5,8]},{"tag":"scale:dorian","span":[1,8]},{"tag":"rhythm:interesting","span":[5,8]},{"tag":"form:modulation","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"5":10},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:uniform_period","span":[3,10]},{"voices":[0],"tag":"middle_voice:arpeggio","span":[3,10]},{"tag":"harmony:phrygian_shuttle","span":[17,24]},{"voices":[2,1],"tag":"bass:parallel_thirds_with_melody","span":[11,15]},{"tag":"form:extra_measure","span":[15,16]},{"tag":"harmony:Vsus4","span":[16,16]},{"tag":"rhythm:syncopation","span":[1,8]},{"tag":"tempo:uneven","span":[9,20]},{"tag":"harmony:diatonic_seventh_chords","span":[3,24]},{"voices":[0],"tag":"middle_voice:arpeggio","span":[17,24]},{"voices":[0],"tag":"middle_voice:static_chord_tones","span":[25,31]},{"tag":"middle_voice:arpeggio","span":[32,32]},{"voices":[2],"tag":"bass:root_fifth","span":[17,24]},{"voices":[2],"tag":"bass:root","span":[25,32]},{"voices":[2],"tag":"bass:root_octaves","span":[3,10]},{"voices":[1],"tag":"melody:x2_vs_new_x2","span":[3,6]},{"voices":[1],"tag":"melody:basic_idea_x2_and_fragmentation","span":[11,16]},{"tag":"harmony:Vsus4","span":[29,32]}],"disableSnapToNotes":true,"romanNumerals":"_ I I VII^ vi7 VI^-VII6 I VII^ vi7 VI^-VII6 _ _ _ _ _ V i7 i7 bII^ bII^ i7 i7 bII^ bII^ I I IV IV V/V V/V V V","clickResolutionMs":0.01,"tags":["style:math-rock"],"modulations":{"17":9,"25":3},"fourMeasurePhrasingReferences":[3,3,29],"secondMeasure":1.490000000000001,"form":{"1":"intro (not looped)","3":"A","7":"A\'","11":"bridge","17":"B","21":"B","25":"C"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.490000000000001,"3":3.066666666666667,"4":4.716666666666667,"7":9.58999999999984,"8":11.191666666666666,"12":17.229999999999894,"13":18.380000000000074,"14":19.6,"15":20.8,"16":22.366666666666667,"17":23.970000000000947,"23":33.56666666666667,"27":39.91000000000063},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"tagSpans":[{"tag":"tempo:ritardando","span":[51,55]},{"tag":"harmony:constant_structures","span":[1,6]},{"tag":"harmony:Vsus4","span":[13,14]},{"tag":"harmony:diatonic_seventh_chords","span":[15,22]},{"voices":[1],"tag":"melody:higher_pitch_on_repeat","span":[15,34]},{"voices":[2],"tag":"bass:pedal_point","span":[39,42]},{"tag":"harmony:upper_structure","span":[9,10]},{"voices":[2],"tag":"bass:root","span":[1,6]},{"voices":[2],"tag":"bass:root_fifth","span":[7,38]},{"voices":[2],"tag":"bass:root_fifth","span":[43,50]},{"voices":[2],"tag":"bass:root_octaves","span":[51,52]},{"voices":[2],"tag":"bass:root","span":[53,55]},{"voices":[0,1],"tag":"middle_voice:lower_chord_tones","span":[1,10]},{"voices":[0,1],"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[11,22]},{"voices":[1,0],"tag":"melody:fills_at_rests","span":[11,14]},{"voices":[0,1],"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[43,55]},{"voices":[0,1],"tag":"middle_voice:parallel_sixths","span":[39,42]},{"tag":"form:period","span":[7,38]},{"tag":"rhythm:syncopation","span":[11,22]},{"tag":"form:period_without_melodic_repetition","span":[39,55]},{"tag":"harmony:diatonic_seventh_chords","span":[43,52]}],"disableSnapToNotes":true,"romanNumerals":"II #III IV IV V V I I V7/IV V7/IV IV ii V V IV^ V iii7 vi ii7 ii7 V7 V7 I I V7/IV V7/IV IV ii V V IV^ V iii7 vi7 ii7 V I V7/IV IV IV IV IV iii7 vi ii7 V IV^ V iii vi7 ii7 V VI VII I","clickResolutionMs":0.01,"modulations":{"39":3,"53":0},"tags":["form:not_looped"],"fourMeasurePhrasingReferences":[7],"secondMeasure":1.5900000000000012,"form":{"1":"intro","7":"A:antecedent","23":"A:consequent","39":"B:antecedent","47":"B:consequent","53":"=IV"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":11.179999999999806,"9":12.779999999999772,"24":36.710000000001266,"25":38.31000000000095,"54":85.47000000000682,"55":88.91000000000858},"tonic":10,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5600000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.06,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Battleship - The Classic Naval Combat Game":{"Battleship - The Classic Naval Combat Game (1993-09)(Mindscape).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:basso_ostinato","span":[1,24]},{"voices":[0],"tag":"bass:mixed_octaves","span":[1,24]},{"voices":[2,1],"tag":"middle_voice:any_chord_tones","span":[1,16]},{"tag":"harmony:pure_I-V","span":[1,24]},{"voices":[1],"tag":"melody:chord_tones","span":[1,24]}],"disableSnapToNotes":false,"romanNumerals":"I V I V I V I V I V I V I V I V I V I V I V I V","clickResolutionMs":0.01,"modulations":[],"tags":["bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:copy_of_previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"voices":[0],"tag":"bass:root_third","span":[1,8]},{"tag":"form:progression","span":[1,16]},{"tag":"middle_voice:absent","span":[17,24]},{"tag":"timbre:melody_echo","span":[17,24]},{"voices":[2,1],"tag":"middle_voice:static_chord_tones","span":[1,8]},{"voices":[1,2],"tag":"middle_voice:parallel_thirds","span":[9,16]},{"voices":[0],"tag":"bass:root_octaves","span":[9,24]},{"tag":"scale:natural_minor","span":[1,16]},{"voices":[1],"tag":"melody:song-like","span":[17,24]}],"disableSnapToNotes":false,"romanNumerals":"i VII VI v i VII VI v i VII VI v i VII VI v I V vi IV I V vi IV-iii","clickResolutionMs":0.01,"tags":[],"modulations":{"17":3},"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"A\'\'","13":"A\'\'"},"secondMeasure":1.9900000000000015,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":31.970000000002198},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:copy_of_previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"middle_voice:riff","span":[1,12]},{"voices":[0],"tag":"bass:root_octaves","span":[1,20]},{"voices":[1],"tag":"melody:riff","span":[1,4]},{"tag":"form:uniform_period","span":[5,12]},{"voices":[1],"tag":"melody:higher_pitch_on_repeat","span":[5,12]},{"voices":[2,1],"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[13,20]},{"tag":"scale:natural_minor","span":[1,12]},{"tag":"form:uniform_period","span":[13,20]},{"voices":[1],"tag":"melody:higher_pitch_on_repeat","span":[13,20]}],"disableSnapToNotes":false,"romanNumerals":"i VII VI iv-v i VII VI iv-v i VII VI iv-v I V vi IV-V I V vi IV-V","clickResolutionMs":0.01,"modulations":{"13":8},"tags":["form:binary"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"form":{"1":"intro (looped)","5":"A","9":"A\'","13":"B","17":"B\'"},"loop":21,"firstMeasure":0,"step":"end","comment":"roman numerals don\'t really help","correctedMeasures":[],"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":6,"tagSpans":[{"tag":"form:abrupt_ending","span":[5,9]},{"tag":"harmony:I-IV-V","span":[1,8]},{"voices":[0],"tag":"bass:root_fifth","span":[1,7]},{"voices":[2],"tag":"middle_voice:arpeggio","span":[1,7]},{"tag":"upper_voices:same_range","span":[1,7]},{"voices":[1],"tag":"melody:basic_idea_x3","span":[1,7]}],"disableSnapToNotes":false,"romanNumerals":"I I IV IV V V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":5.589999999999925},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:abrupt_ending","span":[7,8]},{"voices":[2],"tag":"middle_voice:arpeggio","span":[1,7]},{"voices":[0],"tag":"bass:root_octaves","span":[1,7]},{"voices":[1],"tag":"melody:starts_later_than_beat_one","span":[1,7]}],"disableSnapToNotes":false,"romanNumerals":"i VII VI v i VII i","clickResolutionMs":0.01,"modulations":[],"tags":["melody:x2"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7400000000000013,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["reference:copy_of_previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"tagSpans":[{"voices":[0],"tag":"bass:diatonic_approach","span":[5,8]},{"voices":[0],"tag":"bass:root_fifth","span":[1,20]},{"voices":[2],"tag":"middle_voice:arpeggio","span":[1,20]},{"tag":"timbre:melody_echo","span":[1,4]},{"voices":[1],"tag":"melody:arpeggio","span":[13,20]},{"tag":"form:ABAB","span":[1,17]}],"disableSnapToNotes":false,"romanNumerals":"I V I V I V I V vi IV vi V I V I V vi IV vi V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"form":{"1":"intro (looped)","5":"A","9":"B","13":"A\'","17":"B\'"},"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bram Stoker\'s Dracula":{"Bram Stoker\'s Dracula (1993-09)(Probe)(Sony Imagesoft).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1,0],"tag":"middle_voice:melody_below_arpeggio","span":[1,24]},{"tag":"harmony:harmonic_rhythm_acceleration","span":[1,8]},{"voices":[1],"tag":"timbre:ultra_fast_notes","span":[1,8]},{"voices":[2],"tag":"bass:root","span":[1,24]},{"tag":"form:progression","span":[1,24]},{"tag":"form:sentence","span":[9,16]},{"voices":[0],"tag":"melody:development_via_embellishments","span":[1,16]},{"voices":[2],"tag":"timbre:oscillator_as_percussion","span":[9,16]}],"disableSnapToNotes":true,"romanNumerals":"I i5 io io iv5 VII5-VI5 v5 v5 i5 i5 io io iv5 VII5-VI5 v5 v5 i5 i5 io io iv5 VII5-VI5 v5 v5","clickResolutionMs":0.01,"modulations":[],"tags":["scale:phrygian"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.470000000000001,"form":{"1":"A","9":"A\'","17":"B"},"loop":25,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"5":5.85,"8":10.259999999999826,"9":11.709999999999795,"12":16.083333333333332},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"scale:tetratonic","span":[5,7]},{"tag":"scale:mixed_b2","span":[1,2]},{"tag":"timbre:oscillator_as_percussion","span":[1,4]},{"tag":"timbre:ultra_fast_notes","span":[1,4]},{"tag":"timbre:melody_echo","span":[5,7]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped","harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.9199999999999817,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"tagSpans":[{"tag":"timbre:melody_echo","span":[1,13]},{"tag":"harmony:constant_structures","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.399999999999993,"loop":14,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:tetratonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"11":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"timbre:oscillator_as_percussion","span":[1,14]},{"tag":"harmony:mixolydian_shuttle","span":[1,14]}],"disableSnapToNotes":true,"romanNumerals":"I VII IV IV-VII I VII I VII I VII I VII I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9200000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:phrygian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"Nintendo/Bee 52":{"Bee 52 (1992)(Codemasters).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Big Nose Freaks Out":{"Big Nose Freaks Out (1992)(Optimus)(Codemasters).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.0666666666666667},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"rhythm:3+3+2","span":[13,16]}],"disableSnapToNotes":false,"romanNumerals":"I I I I I I V V I I I I I I V V ","clickResolutionMs":0.01,"tags":[],"modulations":{"17":7},"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"A"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"32":33.020000000002},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-_","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Bomberman":{"Bomberman (1985-12-19)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.5900000000000012,"loop":6,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.08333333333333333,"3":1.95},"tonic":11,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7500000000000013,"loop":5,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":{"2":1.85},"tonic":11,"basedOn":null},"5":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:constant_structures","span":[1,4]},{"voices":[2],"tag":"bass:root_octaves","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I II VII V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:mixolydian_shuttle","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.109999999999999,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"7":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:period","span":[1,8]},{"voices":[2],"tag":"bass:walking","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:lower_chord_tones","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"I I VII V I I ii-V I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Double Moon Densetsu":{"Double Moon Densetsu (1992-10-30)(NCS)(Masaya).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:weird_dominant","span":[33,37]},{"tag":"harmony:Vsus4","span":[11,12]},{"tag":"voice_leading:descending_diatonic_bass","span":[13,15]},{"tag":"voice_leading:descending_chromatic_bass","span":[17,20]},{"tag":"form:period","span":[13,20]},{"tag":"harmony:quartal","span":[35,36]},{"tag":"harmony:quartal","span":[1,4]},{"tag":"form:sentence","span":[1,12]},{"tag":"harmony:Vsus4","span":[16,16]},{"tag":"voice_leading:Cad64","span":[19,20]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ I-v^ I-v^ VI-VII III-VI V7 V7 I-V IV-I _-V/V V I-I5 V7/IV-IV iv-I _-V _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I","clickResolutionMs":0.01,"modulations":[],"tags":["form:not_looped"],"fourMeasurePhrasingReferences":[5,9,17,27,31],"form":{"1":"A","13":"B","21":"C","27":"B"},"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"15":27.970000000001573,"19":35.960000000001415,"20":37.89000000000103,"33":63.88999999999586},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ iv iv VII VII _ _ _ _ _ _ _ _ _ _ _ _ _ _ bII _ _ _ vio _ _ _ _ _ I I","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"form":{"1":"intro (not looped)"},"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bard\'s Tale - Tales of the Unknown":{"Bard\'s Tale - Tales of the Unknown (1990-12-21)(Interplay)(Atelier Double)(Pony Canyon).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:mixed_minor","style:math-rock"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Dr. Jekyll and Mr. Hyde":{"Dr. Jekyll and Mr. Hyde [Jekyll Hakase no Houma ga Koku] (1988-04-08)(Advance Communication)(Toho).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i V i V i V i V i","clickResolutionMs":0.01,"modulations":[],"tags":["scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.9699999999999593,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/China Rabbit Baby":{"China Rabbit Baby (19xx)(Copyright).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V V V V vi-viio I I I V V V V vi-viio IV I ii I IV iii V/V V","clickResolutionMs":0.01,"tags":[],"modulations":{"23":10},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"1":0,"18":15.75,"19":16.733333333333334,"24":21.383333333333333,"29":26.09000000000128,"30":27.016666666666666},"tonic":10,"basedOn":null}}},"Nintendo/Chess Academys":{"Chess Academys (1991)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI v","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"copy: 16 Mahjong","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Classical MIDI/Beethoven":{"Symphony No. 9 Piano (Hisamori) - 2.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":1.8,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Hanjuku Hero":{"Hanjuku Hero (1988-12-02)(Bits Laboratory)(Square).nsf":{"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["tonic:ambiguous"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Classical MIDI/Grieg":{"Peer Gynt, Op. 23  4. Prelude to Act II The Abduction; Ingrid\'s Lament (G. M. Kuhn).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.75,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":{"6":6.041666666666665,"8":13.033333333333328,"9":13.783333333333328},"tonic":0,"basedOn":null}},"Lyric Pieces (iii), Op. 43 - 4. Vglein (Little Bird) (T. D. Matthews).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Peer Gynt Suite No. 1, Op. 46  4. In the Hall of the Mountain King (D. A. Hall).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":5.217383999999998,"loop":null,"firstMeasure":1.739128,"step":"end","comment":"","correctedMeasures":{"21":70.6290258906253,"22":73.67810157812528},"tonic":11,"basedOn":null}}},"MIDI/311":{"Down.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["style:static_power_chord_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"All Mixed Up.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/883":{"Chiuditi nel cesso.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/\\"Weird Al\\" Yankovic":{"Amish Paradise.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/2 Unlimited":{"Get Ready for This.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-I-IV-V I-I-III-IV","clickResolutionMs":0.01,"modulations":[],"tags":["rhythm:3+3+2"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Workaholic.1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}},"The Real Thing.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":122.70654400000048,"step":"second measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Twilight Zone.1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:phrygian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/808 State":{"Pacific 202.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"4":7,"5":0,"6":2,"7":5},"tags":["harmony:non-functional_maj7s"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/101 Strings":{"Theme From The Godfather.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/2 Brothers on the 4th Floor":{"Dreams.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["form:EDM"],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":9.022400000000005,"step":"second measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"Never Alone.1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["harmony:I_in_minor"],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}},"Never Alone.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}},"Let Me Be Free.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["scale:natural_minor"],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Dreams.1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i VI III VII","clickResolutionMs":0.01,"modulations":[],"tags":["form:EDM"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":7.2180320000000044,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"Come Take My Hand.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i i V V VII VII iv iv","clickResolutionMs":0.01,"modulations":[],"tags":["form:progression"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":3.2142869999999983,"loop":null,"firstMeasure":2.8571439999999986,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/2 the Core":{"Have a Nice Day.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ ii V I V/ii V+/V V I","clickResolutionMs":0.01,"modulations":[],"tags":["style:big_band","other:wrong_author"],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":16.020833333333318,"step":"second measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/4 Non Blondes":{"What\'s Up.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/2Boys":{"I Won\'t Let You Down.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"20":3},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/702":{"Where My Girls At.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ i iv7 V7 i","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/20 Fingers":{"Short Dick Man.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Lick It.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":["form:EDM"],"modulations":{"19":5},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Classical MIDI/Chopin":{"24 Preludes, Op. 28  No. 4 in E minor (\'Suffocation\') (J. Sirulnikoff).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Mazurkas, Op. 63  No. 2 in F minor (R. Lubetsky).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["midi:no_beat_grid"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}},"Piano Sonata No. 2 in B minor, Op. 35 (T. Leen).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"43":1,"91":7,"99":1},"fourMeasurePhrasingReferences":[7],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":131.08321251875032,"step":"second measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"Classical MIDI/Rachmaninoff":{"Morceaux de fantaisie, Op. 3  No. 2. Prelude in C minor (N. H. Carter).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}},"Symphony No. 1 in D minor, Op. 13 for piano duet - I. Grave, Allegro ma non troppo.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"27":4,"34":9,"37":0,"41":7},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/3T":{"I Need You.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"98":7},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"mm.24-25 - distant Vsus4","correctedMeasures":[],"tonic":5,"basedOn":null}},"Why.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"MIDI/98 Degrees":{"I Do.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"She\'s Out of My Life.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"The Hardest Thing.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":[],"tags":["midi:no_beat_grid"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.125,"loop":null,"firstMeasure":1.0625,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/10,000 Maniacs":{"A Campfire Song.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I V vi IV","clickResolutionMs":0.01,"modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/10cc":{"I\'m Not In Love.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"tags":[],"modulations":{"11":0,"19":3,"23":0,"31":3},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}},"Dreadlock Holiday.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"79":8},"tags":["harmony:plagal_shuttle","style:reggae"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"The Things We Do for Love.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","clickResolutionMs":0.01,"modulations":{"11":1},"tags":["bass:pedal_point"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}}}')},function(e,t,n){var r=n(57),s=n(146),o=n(148),a=n(153),i=n(157),l=n(45);e.exports=function(e,t,n){if((e=i(e))&&(n||void 0===t))return e.slice(0,l(e)+1);if(!e||!(t=r(t)))return e;var u=a(e),c=o(u,a(t))+1;return s(u,0,c).join("")}},,function(e,t,n){"use strict";var r=n(73);function s(){}var o=null,a={};function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==s&&m(e,this)}function l(e,t){for(;3===e._83;)e=e._18;if(i._47&&i._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){r((function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return o=e,a}}(n,e._18);r===a?c(t.promise,o):u(t.promise,r)}else 1===e._83?u(t.promise,e._18):c(t.promise,e._18)}))}(e,t)}function u(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return o=e,a}}(t);if(n===a)return c(e,o);if(n===e.then&&t instanceof i)return e._83=3,e._18=t,void d(e);if("function"==typeof n)return void m(n.bind(t),e)}e._83=1,e._18=t,d(e)}function c(e,t){e._83=2,e._18=t,i._71&&i._71(e,t),d(e)}function d(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return o=e,a}}(e,(function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,c(t,e))}));n||r!==a||(n=!0,c(t,o))}e.exports=i,i._47=null,i._71=null,i._44=s,i.prototype.then=function(e,t){if(this.constructor!==i)return function(e,t,n){return new e.constructor((function(r,o){var a=new i(s);a.then(r,o),l(e,new f(t,n,a))}))}(this,e,t);var n=new i(s);return l(this,new f(e,t,n)),n}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(26),s=n(27);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==r(e)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(15))},function(e,t,n){var r=n(87);e.exports=function(e,t){var n=-1,s=e.length,o=s-1;for(t=void 0===t?s:t;++n<t;){var a=r(n,o),i=e[a];e[a]=e[n],e[n]=i}return e.length=t,e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(106),s=n(51);e.exports=function(e){return null!=e&&s(e.length)&&!r(e)}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(28).default,s=n(114);e.exports=function(e){var t=s(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(56);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(33),s=n(49),o=n(35),a=n(46),i=r?r.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return s(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Error}).call(this,n(15),n(19))},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(32)("wks"),s=n(9),o=n(0).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:s)("Symbol."+e))}).store=r},function(e,t,n){var r=n(0),s=n(2),o=n(8),a=n(22),i=n(10),l=function(e,t,n){var u,c,d,f,m=e&l.F,p=e&l.G,h=e&l.S,g=e&l.P,b=e&l.B,v=p?r:h?r[t]||(r[t]={}):(r[t]||{}).prototype,M=p?s:s[t]||(s[t]={}),y=M.prototype||(M.prototype={});for(u in p&&(n=t),n)d=((c=!m&&v&&void 0!==v[u])?v:n)[u],f=b&&c?i(d,r):g&&"function"==typeof d?i(Function.call,d):d,v&&a(v,u,d,e&l.U),M[u]!=d&&o(M,u,f),g&&y[u]!=d&&(y[u]=d)};r.core=s,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(16),s=n(21);e.exports=n(3)?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,s){return e.call(t,n,r,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(28),s=Math.min;e.exports=function(e){return e>0?s(r(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",s=e.type||"",o=s.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?o===t.replace(/\/.*$/,""):s===t}))}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var r=n(7),s=n(25)(3);r(r.P+r.F*!n(33)([].some,!0),"Array",{some:function(e){return s(this,e,arguments[1])}})},function(e,t,n){var r=n(17),s=n(18),o=n(20),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),s)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(1),s=n(0).document,o=r(s)&&r(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,s;if(t&&"function"==typeof(n=e.toString)&&!r(s=n.call(e)))return s;if("function"==typeof(n=e.valueOf)&&!r(s=n.call(e)))return s;if(!t&&"function"==typeof(n=e.toString)&&!r(s=n.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(0),s=n(8),o=n(23),a=n(9)("src"),i=Function.toString,l=(""+i).split("toString");n(2).inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,i){var u="function"==typeof n;u&&(o(n,"name")||s(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||s(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:i?e[t]?e[t]=n:s(e,t,n):(delete e[t],s(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||i.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(10),s=n(26),o=n(27),a=n(12),i=n(29);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d,m=t||i;return function(t,i,p){for(var h,g,b=o(t),v=s(b),M=r(i,p,3),y=a(v.length),_=0,I=n?m(t,y):l?m(t,0):void 0;y>_;_++)if((f||_ in v)&&(g=M(h=v[_],_,b),e))if(n)I[_]=g;else if(g)switch(e){case 3:return!0;case 5:return h;case 6:return _;case 2:I.push(h)}else if(c)return!1;return d?-1:u||c?c:I}}},function(e,t,n){var r=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(11);e.exports=function(e){return Object(r(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(30);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(1),s=n(31),o=n(6)("species");e.exports=function(e){var t;return s(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!s(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),s=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return s[e]||(s[e]={})}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var r=n(7),s=n(12),o=n(36),a="".endsWith;r(r.P+r.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=s(t.length),i=void 0===n?r:Math.min(s(n),r),l=String(e);return a?a.call(t,l,i):t.slice(i-l.length,i)===l}})},function(e,t,n){var r=n(37),s=n(11);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(s(e))}},function(e,t,n){var r=n(1),s=n(5),o=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==s(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},function(e,t){e.exports=function(e,t,n,r){var s=n?n.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!i(u))return!1;var c=e[u],d=t[u];if(!1===(s=n?n.call(r,c,d,u):void 0)||void 0===s&&c!==d)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,t,r){var s=t.trim().split(p);t=s;var o=s.length,a=e.length;switch(a){case 0:case 1:var i=0;for(e=0===a?"":e[0]+" ";i<o;++i)t[i]=n(e,t[i],r).trim();break;default:var l=i=0;for(t=[];i<o;++i)for(var u=0;u<a;++u)t[l++]=n(e[u]+" ",s[i],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(h,"$1"+e.trim());case 58:return e.trim()+t.replace(h,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(h,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",i=2*t+3*n+4*o;if(944===i){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===S||2===S&&s(l,1)?"-webkit-"+l+l:l}if(0===S||2===S&&!s(a,1))return a;switch(i){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return f.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(M,"tb");break;case 232:l=a.replace(M,"tb-rl");break;case 220:l=a.replace(M,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,i=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<i?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+a}return a}function s(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),x(2!==t?r:r.replace(P,"$1"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,s,o,a,i,u,c){for(var d,f=0,m=t;f<O;++f)switch(d=R[f].call(l,e,m,n,r,s,o,a,i,u,c)){case void 0:case!1:case!0:case null:break;default:m=d}if(m!==t)return m}function i(e){return void 0!==(e=e.prefix)&&(x=null,e?"function"!=typeof e?S=1:(S=2,x=e):S=0),i}function l(e,n){var i=e;if(33>i.charCodeAt(0)&&(i=i.trim()),i=[i],0<O){var l=a(-1,n,i,i,N,w,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var d=function e(n,i,l,d,f){for(var m,p,h,M,_,I=0,P=0,k=0,E=0,R=0,x=0,C=h=m=0,D=0,j=0,F=0,B=0,L=l.length,U=L-1,q="",z="",H="",W="";D<L;){if(p=l.charCodeAt(D),D===U&&0!==P+E+k+I&&(0!==P&&(p=47===P?10:47),E=k=I=0,L++,U++),0===P+E+k+I){if(D===U&&(0<j&&(q=q.replace(c,"")),0<q.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:q+=l.charAt(D)}p=59}switch(p){case 123:for(m=(q=q.trim()).charCodeAt(0),h=1,B=++D;D<L;){switch(p=l.charCodeAt(D)){case 123:h++;break;case 125:h--;break;case 47:switch(p=l.charCodeAt(D+1)){case 42:case 47:e:{for(C=D+1;C<U;++C)switch(l.charCodeAt(C)){case 47:if(42===p&&42===l.charCodeAt(C-1)&&D+2!==C){D=C+1;break e}break;case 10:if(47===p){D=C+1;break e}}D=C}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<U&&l.charCodeAt(D)!==p;);}if(0===h)break;D++}switch(h=l.substring(B,D),0===m&&(m=(q=q.replace(u,"").trim()).charCodeAt(0)),m){case 64:switch(0<j&&(q=q.replace(c,"")),p=q.charCodeAt(1)){case 100:case 109:case 115:case 45:j=i;break;default:j=T}if(B=(h=e(i,j,h,p,f+1)).length,0<O&&(_=a(3,h,j=t(T,q,F),i,N,w,B,p,f,d),q=j.join(""),void 0!==_&&0===(B=(h=_.trim()).length)&&(p=0,h="")),0<B)switch(p){case 115:q=q.replace(y,o);case 100:case 109:case 45:h=q+"{"+h+"}";break;case 107:h=(q=q.replace(g,"$1 $2"))+"{"+h+"}",h=1===S||2===S&&s("@"+h,3)?"@-webkit-"+h+"@"+h:"@"+h;break;default:h=q+h,112===d&&(z+=h,h="")}else h="";break;default:h=e(i,t(i,q,F),h,d,f+1)}H+=h,h=F=j=C=m=0,q="",p=l.charCodeAt(++D);break;case 125:case 59:if(1<(B=(q=(0<j?q.replace(c,""):q).trim()).length))switch(0===C&&(m=q.charCodeAt(0),45===m||96<m&&123>m)&&(B=(q=q.replace(" ",":")).length),0<O&&void 0!==(_=a(1,q,i,n,N,w,z.length,d,f,d))&&0===(B=(q=_.trim()).length)&&(q="\0\0"),m=q.charCodeAt(0),p=q.charCodeAt(1),m){case 0:break;case 64:if(105===p||99===p){W+=q+l.charAt(D);break}default:58!==q.charCodeAt(B-1)&&(z+=r(q,m,p,q.charCodeAt(2)))}F=j=C=m=0,q="",p=l.charCodeAt(++D)}}switch(p){case 13:case 10:47===P?P=0:0===1+m&&107!==d&&0<q.length&&(j=1,q+="\0"),0<O*A&&a(0,q,i,n,N,w,z.length,d,f,d),w=1,N++;break;case 59:case 125:if(0===P+E+k+I){w++;break}default:switch(w++,M=l.charAt(D),p){case 9:case 32:if(0===E+I+P)switch(R){case 44:case 58:case 9:case 32:M="";break;default:32!==p&&(M=" ")}break;case 0:M="\\0";break;case 12:M="\\f";break;case 11:M="\\v";break;case 38:0===E+P+I&&(j=F=1,M="\f"+M);break;case 108:if(0===E+P+I+V&&0<C)switch(D-C){case 2:112===R&&58===l.charCodeAt(D-3)&&(V=R);case 8:111===x&&(V=x)}break;case 58:0===E+P+I&&(C=D);break;case 44:0===P+k+E+I&&(j=1,M+="\r");break;case 34:case 39:0===P&&(E=E===p?0:0===E?p:E);break;case 91:0===E+P+k&&I++;break;case 93:0===E+P+k&&I--;break;case 41:0===E+P+I&&k--;break;case 40:if(0===E+P+I){if(0===m)switch(2*R+3*x){case 533:break;default:m=1}k++}break;case 64:0===P+k+E+I+C+h&&(h=1);break;case 42:case 47:if(!(0<E+I+k))switch(P){case 0:switch(2*p+3*l.charCodeAt(D+1)){case 235:P=47;break;case 220:B=D,P=42}break;case 42:47===p&&42===R&&B+2!==D&&(33===l.charCodeAt(B+2)&&(z+=l.substring(B,D+1)),M="",P=0)}}0===P&&(q+=M)}x=R,R=p,D++}if(0<(B=z.length)){if(j=i,0<O&&(void 0!==(_=a(2,z,j,n,N,w,B,d,f,d))&&0===(z=_).length))return W+z+H;if(z=j.join(",")+"{"+z+"}",0!=S*V){switch(2!==S||s(z,2)||(V=0),V){case 111:z=z.replace(v,":-moz-$1")+z;break;case 112:z=z.replace(b,"::-webkit-input-$1")+z.replace(b,"::-moz-$1")+z.replace(b,":-ms-input-$1")+z}V=0}}return W+z+H}(T,i,n,0,0);return 0<O&&(void 0!==(l=a(-2,d,i,i,N,w,d.length,0,0,0))&&(d=l)),"",V=0,w=N=1,d}var u=/^\0+/g,c=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,m=/([,: ])(transform)/g,p=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,v=/:(read-only)/g,M=/[svh]\w+-[tblr]{2}/,y=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,I=/-self|flex-/g,P=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,w=1,N=1,V=0,S=1,T=[],R=[],O=0,x=null,A=0;return l.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"==typeof t)R[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else A=0|!!t}return e},l.set=i,void 0!==e&&i(e),l}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){var r=n(25),s=n(136),o=n(32),a=Math.max,i=Math.min;e.exports=function(e,t,n){var l,u,c,d,f,m,p=0,h=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=u;return l=u=void 0,p=t,d=e.apply(r,n)}function M(e){return p=e,f=setTimeout(_,t),h?v(e):d}function y(e){var n=e-m;return void 0===m||n>=t||n<0||g&&e-p>=c}function _(){var e=s();if(y(e))return I(e);f=setTimeout(_,function(e){var n=t-(e-m);return g?i(n,c-(e-p)):n}(e))}function I(e){return f=void 0,b&&l?v(e):(l=u=void 0,d)}function P(){var e=s(),n=y(e);if(l=arguments,u=this,m=e,n){if(void 0===f)return M(m);if(g)return clearTimeout(f),f=setTimeout(_,t),v(m)}return void 0===f&&(f=setTimeout(_,t)),d}return t=o(t)||0,r(n)&&(h=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,t):c,b="trailing"in n?!!n.trailing:b),P.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=m=u=f=void 0},P.flush=function(){return void 0===f?d:I(s())},P}},function(e,t,n){var r=n(140)();e.exports=r},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATAQMAAACjqR+MAAAAAXNSR0IB2cksfwAAAAZQTFRFAAAA//1U1uuHPwAAAAJ0Uk5TAP9bkSK1AAAAL0lEQVR4nGNgAAM7OwY9KxDS4GLQkQIx9KsY1D8xKDAxKH9iUCpiECpi4P/HgAQAzQsHS7Ya3FIAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATAQMAAACjqR+MAAAAAXNSR0IB2cksfwAAAAZQTFRFAAAA////pdmf3QAAAAJ0Uk5TAP9bkSK1AAAAIUlEQVR4nGNgwAbkzzDYP2NIMGZIBiJmBst/DDJ/0JQAAJTWBe80XGLGAAAAAElFTkSuQmCC"},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(6),s=n(68);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,a=void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===o(a)?a:String(a)),r)}var s,a}var l,u=new(n.n(s).a.scale)(["#000000","#0000a0","#6000a0","#962761","#dd1440","#f0b000","#ffffa0","#ffffff"]).domain([0,255]),c=-1!==window.location.search.indexOf("debug=true"),d=0,f=0,m=0,p=0;function h(e){var t=e*e;return 281061254.916*t*t/((t+424.36)*Math.sqrt((t+11599.29)*(t+544496.41))*(t+14884e4))}var g=function(){function e(t,n,s,o,i,u){var c=this,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-90,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-30;a(this,e),Object(r.a)(this),this.core=t;var m=32,p=0,g=o.width,b=25.95,v=4504,M=this.core._cqt_init(n.sampleRate,g,m,b,v,p);M?(this.cqtFreqs=Array(g).fill().map((function(e,t){return c.core._cqt_bin_to_freq(t)})),l=this.cqtFreqs.map((function(e){return.5+.5*h(e)}))):console.error("Error initializing constant Q transform. Constant Q will be disabled."),this.cqtSize=M,this.dataPtr=this.core._malloc(4*M),this.paused=!0,this.mode=0,this.weighting=0,this.analyserNode=n.createAnalyser(),s.connect(this.analyserNode),this.analyserNode.minDecibels=d,this.analyserNode.maxDecibels=f,this.analyserNode.smoothingTimeConstant=0,this.analyserNode.fftSize=this.fftSize=2048,this.byteFrequencyData=new Uint8Array(this.analyserNode.frequencyBinCount),this.freqCanvas=o,this.specCanvas=i,this.tempCanvas=document.createElement("canvas"),this.tempCanvas.width=this.specCanvas.width,this.tempCanvas.height=this.specCanvas.height,this.freqCtx=this.freqCanvas.getContext("2d",{alpha:!1}),this.specCtx=this.specCanvas.getContext("2d",{alpha:!1}),this.tempCtx=this.tempCanvas.getContext("2d",{alpha:!1}),this.pianoKeysImage=u,this.lastData=[],this.updateFrame()}var t,n,s;return t=e,(n=[{key:"setPaused",value:function(e){this.paused&&!e&&requestAnimationFrame(this.updateFrame),this.paused=e}},{key:"setMode",value:function(e){this.mode=e,this.analyserNode.fftSize=2===e?this.cqtSize||2048:this.fftSize}},{key:"setFFTSize",value:function(e){this.fftSize=e,this.analyserNode.fftSize=e}},{key:"isRepeatedFrequencyData",value:function(e){for(var t=!0,n=0;n<40;n+=2)e[n]!==this.lastData[n]&&(t=!1),this.lastData[n]=e[n];return t}},{key:"setWeighting",value:function(e){this.weighting=e}},{key:"setSpeed",value:function(e){this.specSpeed=e}},{key:"updateFrame",value:function(){if(!this.paused){requestAnimationFrame(this.updateFrame);var e=this.freqCanvas.height,t=this.freqCanvas.width,n=e/256,r=this.specSpeed,s=this.byteFrequencyData,o=this.analyserNode,a=this.freqCtx,i=this.tempCtx;a.fillStyle="black",a.fillRect(0,0,this.freqCanvas.width,this.freqCanvas.height),i.fillStyle="#000033",i.fillRect(0,0,this.tempCanvas.width,r);var h=performance.now(),g=new Float32Array(this.core.HEAPF32.buffer,this.dataPtr,this.cqtSize),b=this.fftSize/2,v=!1;if(0===this.mode){o.getByteFrequencyData(s),v=this.isRepeatedFrequencyData(s);for(var M=0;M<b&&M<t;++M){var y=u(s[M]).hex(),_=s[M]*n|0;a.fillStyle=y,a.fillRect(M,e-_,1,_),i.fillStyle=y,i.fillRect(M,0,1,r)}}else if(1===this.mode){o.getByteFrequencyData(s),v=this.isRepeatedFrequencyData(s);for(var I=Math.log(b),P=0;P<b;P++){var k=Math.log(P+1)/I*t|0,E=Math.log(P+2)/I*t-k|0,w=s[P]*n|0,N=u(s[P]||0).hex();a.fillStyle=N,a.fillRect(k,e-w,E,w),i.fillStyle=N,i.fillRect(k,0,E,r)}}else if(2===this.mode&&(o.getFloatTimeDomainData(g),!g.every((function(e){return 0===e})))){this.core._cqt_calc(this.dataPtr,this.dataPtr),this.core._cqt_render_line(this.dataPtr);for(var V=0;V<t;V++){var S=255*(1===this.weighting?l[V]:1)*g[V]|0,T=S*n|0,R=u(S).hex();a.fillStyle=R,a.fillRect(V,e-T,1,T),i.fillStyle=R,i.fillRect(V,0,1,r)}}var O=performance.now();v||(i.translate(0,r),i.drawImage(this.tempCanvas,0,0),i.setTransform(1,0,0,1,0,0),this.specCtx.drawImage(this.tempCanvas,0,0));var x=performance.now();c&&(d+=O-h,f+=x-h,++m>=200&&(console.log("[Viz] %s ms analysis, %s ms total (%s fps) (%s% utilization)",(d/m).toFixed(2),(f/m).toFixed(2),(1e3*m/(h-p)).toFixed(1),(100*f/(x-p)).toFixed(1)),d=0,m=0,f=0,p=h))}}}])&&i(t.prototype,n),s&&i(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();if(e.AnalyserNode&&!e.AnalyserNode.prototype.getFloatTimeDomainData){var b=new Uint8Array(32768);e.AnalyserNode.prototype.getFloatTimeDomainData=function(e){this.getByteTimeDomainData(b);for(var t=0,n=e.length;t<n;t++)e[t]=.0078125*(b[t]-128)}}}).call(this,n(15))},function(e,t,n){(function(e){var n;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var r,s,o,a,i,l,u,c,d,f,m,p,h,g,b,v,M,y,_,I,P,k,E,w,N,V,S,T,R,O,x,A,C,D,j,F,B,L,U,q,z,H,W,G,$,K,X,Y,Q,J,Z,ee,te,ne,re,se,oe,ae,ie,le,ue,ce,de,fe,me,pe,he,ge,be,ve,Me,ye,_e,Ie,Pe,ke,Ee,we,Ne,Ve,Se=[].slice;ke=function(){var e,t,n,r,s;for(e={},r=0,t=(s="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=s[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),X=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Ee=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},P=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},a=Math.PI,Me=Math.round,E=Math.cos,T=Math.floor,re=Math.pow,Y=Math.log,_e=Math.sin,Ie=Math.sqrt,g=Math.atan2,Z=Math.max,h=Math.abs,u=2*a,i=a/3,s=a/180,l=180/a,(I=function(){return arguments[0]instanceof r?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,arguments,(function(){}))}).default=I,p=[],null!==e&&null!=e.exports&&(e.exports=I),void 0===(n=function(){return I}.apply(t,[]))||(e.exports=n),I.version="1.4.1",m={},d=[],f=!1,r=function(){function e(){var e,t,n,r,s,o,a,i,l;for(o=this,t=[],i=0,r=arguments.length;i<r;i++)null!=(e=arguments[i])&&t.push(e);if(t.length>1&&(a=t[t.length-1]),null!=m[a])o._rgb=P(m[a](Ee(t.slice(0,-1))));else{for(f||(d=d.sort((function(e,t){return t.p-e.p})),f=!0),l=0,s=d.length;l<s&&!(a=(n=d[l]).test.apply(n,t));l++);a&&(o._rgb=P(m[a].apply(m,t)))}null==o._rgb&&console.warn("unknown format: "+t),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),I._input=m,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
I.brewer=y={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],y)t.push(y[e.toLowerCase()]=y[e])}(),I.colors=we={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},H=function(){var e,t,n,r,s,a,i;return r=(t=Ee(arguments))[0],e=t[1],n=t[2],a=(r+16)/116,s=isNaN(e)?a:a+e/500,i=isNaN(n)?a:a-n/200,a=o.Yn*W(a),s=o.Xn*W(s),i=o.Zn*W(i),[Ve(3.2404542*s-1.5371385*a-.4985314*i),Ve(-.969266*s+1.8760108*a+.041556*i),n=Ve(.0556434*s-.2040259*a+1.0572252*i),t.length>3?t[3]:1]},Ve=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},W=function(e){return e>o.t1?e*e*e:o.t2*(e-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},de=function(){var e,t,n,r,s,o,a;return n=(r=Ee(arguments))[0],t=r[1],e=r[2],o=(s=ge(n,t,e))[0],[116*(a=s[1])-16,500*(o-a),200*(a-s[2])]},be=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Ne=function(e){return e>o.t3?re(e,1/3):e/o.t2+o.t0},ge=function(){var e,t,n,r;return n=(r=Ee(arguments))[0],t=r[1],e=r[2],n=be(n),t=be(t),e=be(e),[Ne((.4124564*n+.3575761*t+.1804375*e)/o.Xn),Ne((.2126729*n+.7151522*t+.072175*e)/o.Yn),Ne((.0193339*n+.119192*t+.9503041*e)/o.Zn)]},I.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["lab"]),(function(){}))},m.lab=H,r.prototype.lab=function(){return de(this._rgb)},b=function(e){var t,n,r,s,o,a,i,l,u,c,d;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)s=e[n],r.push(I(s));return r}()).length?(u=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)s=e[n],r.push(s.lab());return r}(),o=u[0],a=u[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(o[t]+e*(a[t]-o[t]));return r}(),I.lab.apply(I,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)s=e[n],r.push(s.lab());return r}(),o=c[0],a=c[1],i=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*i[t]);return r}(),I.lab.apply(I,n)}):4===e.length?(d=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)s=e[n],r.push(s.lab());return r}(),o=d[0],a=d[1],i=d[2],l=d[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*i[t]+e*e*e*l[t]);return r}(),I.lab.apply(I,n)}):5===e.length&&(n=b(e.slice(0,3)),r=b(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},I.bezier=function(e){var t;return(t=b(e)).scale=function(){return I.scale(t)},t},I.cubehelix=function(e,t,n,r,s){var o,a,i;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==s&&(s=[0,1]),o=0,"array"===ke(s)?a=s[1]-s[0]:(a=0,s=[s,s]),(i=function(i){var l,c,d,f,m;return l=u*((e+120)/360+t*i),f=re(s[0]+a*i,r),c=(0!==o?n[0]+i*o:n)*f*(1-f)/2,d=E(l),m=_e(l),I(P([255*(f+c*(-.14861*d+1.78277*m)),255*(f+c*(-.29227*d-.90649*m)),255*(f+c*(1.97294*d)),1]))}).start=function(t){return null==t?e:(e=t,i)},i.rotations=function(e){return null==e?t:(t=e,i)},i.gamma=function(e){return null==e?r:(r=e,i)},i.hue=function(e){return null==e?n:("array"===ke(n=e)?0===(o=n[1]-n[0])&&(n=n[1]):o=0,i)},i.lightness=function(e){return null==e?s:("array"===ke(e)?(s=e,a=e[1]-e[0]):(s=[e,e],a=0),i)},i.scale=function(){return I.scale(i)},i.hue(n),i},I.random=function(){var e,t;for("0123456789abcdef",e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(T(16*Math.random()));return new r(e)},p=[],j=function(e,t,n,r){var s,o,a,i;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==ke(e)&&(e=I(e)),"object"!==ke(t)&&(t=I(t)),a=0,o=p.length;a<o;a++)if(r===(s=p[a])[0]){i=s[1](e,t,n,r);break}if(null==i)throw"color mode "+r+" is not supported";return i.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},I.interpolate=j,r.prototype.interpolate=function(e,t,n){return j(this,e,t,n)},I.mix=j,r.prototype.mix=r.prototype.interpolate,m.rgb=function(){var e,t,n,r;for(e in n=[],t=Ee(arguments))r=t[e],n.push(r);return n},I.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["rgb"]),(function(){}))},r.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},d.push({p:3,test:function(e){var t;return t=Ee(arguments),"array"===ke(t)&&3===t.length||4===t.length&&"number"===ke(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),m.lrgb=m.rgb,L=function(e,t,n,s){var o,a;return o=e._rgb,a=t._rgb,new r(Ie(re(o[0],2)*(1-n)+re(a[0],2)*n),Ie(re(o[1],2)*(1-n)+re(a[1],2)*n),Ie(re(o[2],2)*(1-n)+re(a[2],2)*n),s)},c=function(e){var t,n,s,o,a;for(t=1/e.length,a=[0,0,0,0],s=0,n=e.length;s<n;s++)o=e[s]._rgb,a[0]+=re(o[0],2)*t,a[1]+=re(o[1],2)*t,a[2]+=re(o[2],2)*t,a[3]+=o[3]*t;return a[0]=Ie(a[0]),a[1]=Ie(a[1]),a[2]=Ie(a[2]),a[3]>1&&(a[3]=1),new r(P(a))},p.push(["lrgb",L]),I.average=function(e,t){var n,r,s,o,i,l,u,d,f,m,p,h,b;if(null==t&&(t="rgb"),f=e.length,u=(e=e.map((function(e){return I(e)}))).splice(0,1)[0],"lrgb"===t)return c(e);for(d in o=[],i=0,l=0,h=u.get(t))h[d]=h[d]||0,o.push(isNaN(h[d])?0:1),"h"!==t.charAt(d)||isNaN(h[d])||(n=h[d]/180*a,i+=E(n),l+=_e(n));for(r=u.alpha(),p=0,m=e.length;p<m;p++)for(d in b=(s=e[p]).get(t),r+=s.alpha(),h)isNaN(b[d])||(o[d]+=1,"h"===t.charAt(d)?(n=b[d]/180*a,i+=E(n),l+=_e(n)):h[d]+=b[d]);for(d in h)if("h"===t.charAt(d)){for(n=g(l/o[d],i/o[d])/a*180;n<0;)n+=360;for(;n>=360;)n-=360;h[d]=n}else h[d]=h[d]/o[d];return I(h,t).alpha(r/f)},O=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,Me((255&n)/255*100)/100];if(null!=m.css&&(t=m.css(e)))return t;throw"unknown color: "+e},ie=function(e,t){var n,r,s,o,a,i;return null==t&&(t="auto"),a=e[0],s=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),a=Math.round(a),s=Math.round(s),r=Math.round(r),i=(i="000000"+(a<<16|s<<8|r).toString(16)).substr(i.length-6),o=(o="0"+Me(255*n).toString(16)).substr(o.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return i+o;case"argb":return o+i;default:return i}}()},m.hex=function(e){return O(e)},I.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["hex"]),(function(){}))},r.prototype.hex=function(e){return null==e&&(e="auto"),ie(this._rgb,e)},d.push({p:4,test:function(e){if(1===arguments.length&&"string"===ke(e))return"hex"}}),C=function(){var e,t,n,r,s,o,a,i,l,u,c,d,f,m;if(s=(e=Ee(arguments))[0],c=e[1],a=e[2],0===c)l=r=t=255*a;else{for(n=[0,0,0],d=2*a-(f=a<.5?a*(1+c):a+c-a*c),(m=[0,0,0])[0]=(s/=360)+1/3,m[1]=s,m[2]=s-1/3,o=i=0;i<=2;o=++i)m[o]<0&&(m[o]+=1),m[o]>1&&(m[o]-=1),6*m[o]<1?n[o]=d+6*(f-d)*m[o]:2*m[o]<1?n[o]=f:3*m[o]<2?n[o]=d+(f-d)*(2/3-m[o])*6:n[o]=d;l=(u=[Me(255*n[0]),Me(255*n[1]),Me(255*n[2])])[0],r=u[1],t=u[2]}return e.length>3?[l,r,t,e[3]]:[l,r,t]},ue=function(e,t,n){var r,s,o,a,i;return void 0!==e&&e.length>=3&&(e=(a=e)[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),s=((Z=Math.max(e,t,n))+o)/2,Z===o?(i=0,r=Number.NaN):i=s<.5?(Z-o)/(Z+o):(Z-o)/(2-Z-o),e===Z?r=(t-n)/(Z-o):t===Z?r=2+(n-e)/(Z-o):n===Z&&(r=4+(e-t)/(Z-o)),(r*=60)<0&&(r+=360),[r,i,s]},I.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["hsl"]),(function(){}))},m.hsl=C,r.prototype.hsl=function(){return ue(this._rgb)},D=function(){var e,t,n,r,s,o,a,i,l,u,c,d,f,m,p,h,g,b;if(s=(e=Ee(arguments))[0],h=e[1],b=e[2],b*=255,0===h)l=r=t=b;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),a=b*(1-h),i=b*(1-h*(n=(s/=60)-(o=T(s)))),g=b*(1-h*(1-n)),o){case 0:l=(u=[b,g,a])[0],r=u[1],t=u[2];break;case 1:l=(c=[i,b,a])[0],r=c[1],t=c[2];break;case 2:l=(d=[a,b,g])[0],r=d[1],t=d[2];break;case 3:l=(f=[a,i,b])[0],r=f[1],t=f[2];break;case 4:l=(m=[g,a,b])[0],r=m[1],t=m[2];break;case 5:l=(p=[b,a,i])[0],r=p[1],t=p[2]}return[l,r,t,e.length>3?e[3]:1]},ce=function(){var e,t,n,r,s,o,a,i,l;return o=(a=Ee(arguments))[0],n=a[1],e=a[2],s=Math.min(o,n,e),t=(Z=Math.max(o,n,e))-s,l=Z/255,0===Z?(r=Number.NaN,i=0):(i=t/Z,o===Z&&(r=(n-e)/t),n===Z&&(r=2+(e-o)/t),e===Z&&(r=4+(o-n)/t),(r*=60)<0&&(r+=360)),[r,i,l]},I.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["hsv"]),(function(){}))},m.hsv=D,r.prototype.hsv=function(){return ce(this._rgb)},te=function(e){return"number"===ke(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},pe=function(){var e;return((e=Ee(arguments))[0]<<16)+(e[1]<<8)+e[2]},I.num=function(e){return new r(e,"num")},r.prototype.num=function(e){return null==e&&(e="rgb"),pe(this._rgb,e)},m.num=te,d.push({p:1,test:function(e){if(1===arguments.length&&"number"===ke(e)&&e>=0&&e<=16777215)return"num"}}),R=function(){var e,t,n,r,s,o,a,i,l,u,c,d,f,m,p,h,g,b,v,M;if(i=(n=Ee(arguments))[0],s=n[1],t=n[2],a=a/100*255,e=255*(s/=100),0===s)d=a=r=t;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),c=(u=t*(1-s))+e*(1-(o=(i/=60)-(l=T(i)))),v=u+e*o,M=u+e,l){case 0:d=(f=[M,v,u])[0],a=f[1],r=f[2];break;case 1:d=(m=[c,M,u])[0],a=m[1],r=m[2];break;case 2:d=(p=[u,M,v])[0],a=p[1],r=p[2];break;case 3:d=(h=[u,c,M])[0],a=h[1],r=h[2];break;case 4:d=(g=[v,u,M])[0],a=g[1],r=g[2];break;case 5:d=(b=[M,u,c])[0],a=b[1],r=b[2]}return[d,a,r,n.length>3?n[3]:1]},ae=function(){var e,t,n,r,s,o,a,i,l;return i=(l=Ee(arguments))[0],s=l[1],t=l[2],a=Math.min(i,s,t),n=100*(r=(Z=Math.max(i,s,t))-a)/255,e=a/(255-r)*100,0===r?o=Number.NaN:(i===Z&&(o=(s-t)/r),s===Z&&(o=2+(t-i)/r),t===Z&&(o=4+(i-s)/r),(o*=60)<0&&(o+=360)),[o,n,e]},I.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["hcg"]),(function(){}))},m.hcg=R,r.prototype.hcg=function(){return ae(this._rgb)},w=function(e){var t,n,r,s,o,a,i,l;if(e=e.toLowerCase(),null!=I.colors&&I.colors[e])return O(I.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(i=o.slice(1,4),s=a=0;a<=2;s=++a)i[s]=+i[s];i[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(i=o.slice(1,5),s=l=0;l<=3;s=++l)i[s]=+i[s];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(i=o.slice(1,4),s=t=0;t<=2;s=++t)i[s]=Me(2.55*i[s]);i[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(i=o.slice(1,5),s=n=0;n<=2;s=++n)i[s]=Me(2.55*i[s]);i[3]=+i[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(i=C(r))[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(i=C(r))[3]=+o[4]);return i},oe=function(e){var t;return"rgb"===(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(Me).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(Me).join(",")+","+e[3]+")":void 0},ve=function(e){return Me(100*e)/100},A=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=ve(e[0]||0),e[1]=ve(100*e[1])+"%",e[2]=ve(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},m.css=function(e){return w(e)},I.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["css"]),(function(){}))},r.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?oe(this._rgb):"hsl"===e.slice(0,3)?A(this.hsl(),this.alpha()):void 0},m.named=function(e){return O(we[e])},d.push({p:5,test:function(e){if(1===arguments.length&&null!=we[e])return"named"}}),r.prototype.name=function(e){var t,n;for(n in arguments.length&&(we[e]&&(this._rgb=O(we[e])),this._rgb[3]=1),t=this.hex("rgb"),we)if(t===we[n])return n;return t},G=function(){var e,t,n,r;return n=(r=Ee(arguments))[0],e=r[1],t=r[2],[n,E(t*=s)*e,_e(t)*e]},$=function(){var e,t,n,r,s,o,a,i,l;return a=(n=Ee(arguments))[0],s=n[1],o=n[2],e=(i=G(a,s,o))[0],t=i[1],r=i[2],[(l=H(e,t,r))[0],l[1],r=l[2],n.length>3?n[3]:1]},z=function(){var e,t,n,r,s,o;return s=(o=Ee(arguments))[0],e=o[1],t=o[2],n=Ie(e*e+t*t),r=(g(t,e)*l+360)%360,0===Me(1e4*n)&&(r=Number.NaN),[s,n,r]},fe=function(){var e,t,n,r,s,o,a;return s=(o=Ee(arguments))[0],n=o[1],t=o[2],r=(a=de(s,n,t))[0],e=a[1],t=a[2],z(r,e,t)},I.lch=function(){var e;return e=Ee(arguments),new r(e,"lch")},I.hcl=function(){var e;return e=Ee(arguments),new r(e,"hcl")},m.lch=$,m.hcl=function(){var e,t,n,r;return t=(r=Ee(arguments))[0],e=r[1],n=r[2],$([n,e,t])},r.prototype.lch=function(){return fe(this._rgb)},r.prototype.hcl=function(){return fe(this._rgb).reverse()},se=function(e){var t,n,r,s,o,a;return null==e&&(e="rgb"),o=(a=Ee(arguments))[0],r=a[1],t=a[2],r/=255,t/=255,[(1-(o/=255)-(s=1-Math.max(o,Math.max(r,t))))*(n=s<1?1/(1-s):0),(1-r-s)*n,(1-t-s)*n,s]},k=function(){var e,t,n,r,s,o;return n=(t=Ee(arguments))[0],s=t[1],o=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),s>=1?0:255*(1-s)*(1-r),o>=1?0:255*(1-o)*(1-r),e]},m.cmyk=function(){return k(Ee(arguments))},I.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["cmyk"]),(function(){}))},r.prototype.cmyk=function(){return se(this._rgb)},m.gl=function(){var e,t,n,r,s;for(r=function(){var e,n;for(t in n=[],e=Ee(arguments))s=e[t],n.push(s);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},I.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["gl"]),(function(){}))},r.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},me=function(e,t,n){var r;return e=(r=Ee(arguments))[0],t=r[1],n=r[2],.2126*(e=Q(e))+.7152*(t=Q(t))+.0722*(n=Q(n))},Q=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},q=function(e,t,n,s){var o,a;return o=e._rgb,a=t._rgb,new r(o[0]+n*(a[0]-o[0]),o[1]+n*(a[1]-o[1]),o[2]+n*(a[2]-o[2]),s)},p.push(["rgb",q]),r.prototype.luminance=function(e,t){var n,r,s,o,a;return null==t&&(t="rgb"),arguments.length?(o=this._rgb,0===e?o=[0,0,0,this._rgb[3]]:1===e?o=[255,255,255,this[3]]:(n=me(this._rgb),r=1e-7,s=20,a=function(n,o){var i,l;return i=(l=n.interpolate(o,.5,t)).luminance(),Math.abs(e-i)<r||!s--?l:i>e?a(n,l):a(l,o)},o=n>e?a(I("black"),this).rgba():a(this,I("white")).rgba()),I(o).alpha(this.alpha())):me(this._rgb)},Pe=function(e){var t,n,r,s;return(s=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=s-2)+104.49216199393888*Y(n),t=s<20?0:.8274096064007395*(t=s-10)-254.76935184120902+115.67994401066147*Y(t)):(r=351.97690566805693+.114206453784165*(r=s-55)-40.25366309332127*Y(r),n=325.4494125711974+.07943456536662342*(n=s-50)-28.0852963507957*Y(n),t=255),[r,n,t]},he=function(){var e,t,n,r,s,o,a,i;for(s=(o=Ee(arguments))[0],o[1],e=o[2],r=1e3,n=4e4,t=.4;n-r>t;)(a=Pe(i=.5*(n+r)))[2]/a[0]>=e/s?n=i:r=i;return Me(i)},I.temperature=I.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["temperature"]),(function(){}))},m.temperature=m.kelvin=m.K=Pe,r.prototype.temperature=function(){return he(this._rgb)},r.prototype.kelvin=r.prototype.temperature,I.contrast=function(e,t){var n,s,o,a;return"string"!==(o=ke(e))&&"number"!==o||(e=new r(e)),"string"!==(a=ke(t))&&"number"!==a||(t=new r(t)),(n=e.luminance())>(s=t.luminance())?(n+.05)/(s+.05):(s+.05)/(n+.05)},I.distance=function(e,t,n){var s,o,a,i,l,u,c;for(o in null==n&&(n="lab"),"string"!==(l=ke(e))&&"number"!==l||(e=new r(e)),"string"!==(u=ke(t))&&"number"!==u||(t=new r(t)),a=e.get(n),i=t.get(n),c=0,a)c+=(s=(a[o]||0)-(i[o]||0))*s;return Math.sqrt(c)},I.deltaE=function(e,t,n,s){var o,i,l,u,c,d,f,m,p,b,v,M,y,_,I,P,k,w,N,V,S,T,R,O;for(null==n&&(n=1),null==s&&(s=1),"string"!==(I=ke(e))&&"number"!==I||(e=new r(e)),"string"!==(P=ke(t))&&"number"!==P||(t=new r(t)),o=(k=e.lab())[0],l=k[1],c=k[2],i=(w=t.lab())[0],u=w[1],d=w[2],f=Ie(l*l+c*c),m=Ie(u*u+d*d),V=o<16?.511:.040975*o/(1+.01765*o),N=.0638*f/(1+.0131*f)+.638,_=f<1e-6?0:180*g(c,l)/a;_<0;)_+=360;for(;_>=360;)_-=360;return S=_>=164&&_<=345?.56+h(.2*E(a*(_+168)/180)):.36+h(.4*E(a*(_+35)/180)),y=Ie((p=f*f*f*f)/(p+1900)),Ie((T=(o-i)/(n*V))*T+(R=(M=f-m)/(s*N))*R+((b=l-u)*b+(v=c-d)*v-M*M)/((O=N*(y*S+1-y))*O))},r.prototype.get=function(e){var t,n,r,s,o;return this,r=(s=e.split("."))[0],t=s[1],o=this[r](),t?(n=r.indexOf(t))>-1?o[n]:console.warn("unknown channel "+t+" in mode "+r):o},r.prototype.set=function(e,t){var n,r,s,o,a;if(this,s=(o=e.split("."))[0],n=o[1])if(a=this[s](),(r=s.indexOf(n))>-1)if("string"===ke(t))switch(t.charAt(0)){case"+":case"-":a[r]+=+t;break;case"*":a[r]*=+t.substr(1);break;case"/":a[r]/=+t.substr(1);break;default:a[r]=+t}else a[r]=t;else console.warn("unknown channel "+n+" in mode "+s);else a=t;return I(a,s).alpha(this.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(e){return arguments.length?I.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},r.prototype.darken=function(e){var t;return null==e&&(e=1),this,(t=this.lab())[0]-=o.Kn*e,I.lab(t).alpha(this.alpha())},r.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(e){var t;return null==e&&(e=1),this,(t=this.lch())[1]+=e*o.Kn,t[1]<0&&(t[1]=0),I.lch(t).alpha(this.alpha())},r.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},r.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),I(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},N=function(e,t){return e>t?t:e},K=function(e,t){return e>t?e:t},ye=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},_=function(e,t){return 255*(1-(1-t/255)/(e/255))},V=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(v=function(e,t,n){if(!v[n])throw"unknown blend mode "+n;return v[n](e,t)}).normal=(M=function(e){return function(t,n){var r,s;return r=I(n).rgb(),s=I(t).rgb(),I(e(r,s),"rgb")}})((S=function(e){return function(t,n){var r,s,o;for(o=[],r=s=0;s<=3;r=++s)o[r]=e(t[r],n[r]);return o}})((function(e,t){return e}))),v.multiply=M(S(ee)),v.screen=M(S(ye)),v.overlay=M(S(ne)),v.darken=M(S(N)),v.lighten=M(S(K)),v.dodge=M(S(V)),v.burn=M(S(_)),I.blend=v,I.analyze=function(e){var t,n,r,s;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(s=e[n])||isNaN(s)||(r.values.push(s),r.sum+=s,s<r.min&&(r.min=s),s>r.max&&(r.max=s),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return I.limits(r,e,t)},r},I.scale=function(e,t){var n,r,s,o,a,i,l,u,c,d,f,m,p,h,g,b,v,M,y,_,P;return c="rgb",d=I("#ccc"),h=0,!1,a=[0,1],p=[],m=[0,0],n=!1,s=[],f=!1,u=0,l=1,o=!1,r={},g=!0,i=1,_=function(e){var t,n,r,o,a,i;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===ke(e)&&null!=I.brewer&&(e=I.brewer[e]||I.brewer[e.toLowerCase()]||e),"array"===ke(e)){for(1===e.length&&(e=[e[0],e[0]]),t=r=0,o=(e=e.slice(0)).length-1;0<=o?r<=o:r>=o;t=0<=o?++r:--r)n=e[t],"string"===ke(n)&&(e[t]=I(n));for(p.length=0,t=i=0,a=e.length-1;0<=a?i<=a:i>=a;t=0<=a?++i:--i)p.push(t/(e.length-1))}return y(),s=e},v=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},P=function(e){return e},function(e){var t,r,s,o,a;return a=e,n.length>2&&(o=n.length-1,t=v(e),s=n[0]+(n[1]-n[0])*(0+.5*h),r=n[o-1]+(n[o]-n[o-1])*(1-.5*h),a=u+(n[t]+.5*(n[t+1]-n[t])-s)/(r-s)*(l-u)),a},M=function(e,t){var o,a,f,h,b,M,y;if(null==t&&(t=!1),isNaN(e)||null===e)return d;if(y=t?e:n&&n.length>2?v(e)/(n.length-2):l!==u?(e-u)/(l-u):1,t||(y=P(y)),1!==i&&(y=re(y,i)),y=m[0]+y*(1-m[0]-m[1]),y=Math.min(1,Math.max(0,y)),f=Math.floor(1e4*y),g&&r[f])o=r[f];else{if("array"===ke(s))for(a=h=0,M=p.length-1;0<=M?h<=M:h>=M;a=0<=M?++h:--h){if(y<=(b=p[a])){o=s[a];break}if(y>=b&&a===p.length-1){o=s[a];break}if(y>b&&y<p[a+1]){y=(y-b)/(p[a+1]-b),o=I.interpolate(s[a],s[a+1],y,c);break}}else"function"===ke(s)&&(o=s(y));g&&(r[f]=o)}return o},y=function(){return r={}},_(e),(b=function(e){var t;return t=I(M(e)),f&&t[f]?t[f]():t}).classes=function(e){var t;return null!=e?("array"===ke(e)?(n=e,a=[e[0],e[e.length-1]]):(t=I.analyze(a),n=0===e?[t.min,t.max]:I.limits(t,"e",e)),b):n},b.domain=function(e){var t,n,r,o,i,c,d;if(!arguments.length)return a;if(u=e[0],l=e[e.length-1],p=[],r=s.length,e.length===r&&u!==l)for(i=0,o=e.length;i<o;i++)n=e[i],p.push((n-u)/(l-u));else for(t=d=0,c=r-1;0<=c?d<=c:d>=c;t=0<=c?++d:--d)p.push(t/(r-1));return a=[u,l],b},b.mode=function(e){return arguments.length?(c=e,y(),b):c},b.range=function(e,t){return _(e),b},b.out=function(e){return f=e,b},b.spread=function(e){return arguments.length?(h=e,b):h},b.correctLightness=function(e){return null==e&&(e=!0),o=e,y(),P=o?function(e){var t,n,r,s,o,a,i,l,u;for(t=M(0,!0).lab()[0],n=M(1,!0).lab()[0],i=t>n,r=M(e,!0).lab()[0],s=r-(o=t+(n-t)*e),l=0,u=1,a=20;Math.abs(s)>.01&&a-- >0;)i&&(s*=-1),s<0?(l=e,e+=.5*(u-e)):(u=e,e+=.5*(l-e)),r=M(e,!0).lab()[0],s=r-o;return e}:function(e){return e},b},b.padding=function(e){return null!=e?("number"===ke(e)&&(e=[e,e]),m=e,b):m},b.colors=function(t,r){var o,i,l,u,c,d,f,m;if(arguments.length<2&&(r="hex"),c=[],0===arguments.length)c=s.slice(0);else if(1===t)c=[b(.5)];else if(t>1)i=a[0],o=a[1]-i,c=function(){d=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)d.push(e);return d}.apply(this).map((function(e){return b(i+e/(t-1)*o)}));else{if(e=[],f=[],n&&n.length>2)for(l=m=1,u=n.length;1<=u?m<u:m>u;l=1<=u?++m:--m)f.push(.5*(n[l-1]+n[l]));else f=a;c=f.map((function(e){return b(e)}))}return I[r]&&(c=c.map((function(e){return e[r]()}))),c},b.cache=function(e){return null!=e?(g=e,b):g},b.gamma=function(e){return null!=e?(i=e,b):i},b.nodata=function(e){return null!=e?(d=I(e),b):d},b},null==I.scales&&(I.scales={}),I.scales.cool=function(){return I.scale([I.hsl(180,1,.9),I.hsl(250,.7,.4)])},I.scales.hot=function(){return I.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},I.analyze=function(e,t,n){var r,s,o,a,i,l;if(i={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(i.values.push(e),i.sum+=e,e<i.min&&(i.min=e),e>i.max&&(i.max=e),i.count+=1)},l=function(e,s){if(n(e,s))return null!=t&&"function"===ke(t)?r(t(e)):null!=t&&"string"===ke(t)||"number"===ke(t)?r(e[t]):r(e)},"array"===ke(e))for(a=0,o=e.length;a<o;a++)l(e[a]);else for(s in e)l(e[s],s);return i.domain=[i.min,i.max],i.limits=function(e,t){return I.limits(i,e,t)},i},I.limits=function(e,t,n){var r,s,o,a,i,l,u,c,d,f,m,p,g,b,v,M,y,_,P,k,E,w,N,V,S,R,O,x,A,C,D,j,F,B,L,U,q,z,H,W,G,$,K,X,Q,J,ee,te,ne,se,oe,ae,ie,le,ue;if(null==t&&(t="equal"),null==n&&(n=7),"array"===ke(e)&&(e=I.analyze(e)),S=e.min,Z=e.max,e.sum,le=e.values.sort((function(e,t){return e-t})),1===n)return[S,Z];if(N=[],"c"===t.substr(0,1)&&(N.push(S),N.push(Z)),"e"===t.substr(0,1)){for(N.push(S),k=D=1,L=n-1;1<=L?D<=L:D>=L;k=1<=L?++D:--D)N.push(S+k/n*(Z-S));N.push(Z)}else if("l"===t.substr(0,1)){if(S<=0)throw"Logarithmic scales are only possible for values > 0";for(R=Math.LOG10E*Y(S),V=Math.LOG10E*Y(Z),N.push(S),k=ue=1,U=n-1;1<=U?ue<=U:ue>=U;k=1<=U?++ue:--ue)N.push(re(10,R+k/n*(V-R)));N.push(Z)}else if("q"===t.substr(0,1)){for(N.push(S),k=r=1,$=n-1;1<=$?r<=$:r>=$;k=1<=$?++r:--r)j=(le.length-1)*k/n,(F=T(j))===j?N.push(le[F]):(B=j-F,N.push(le[F]*(1-B)+le[F+1]*B));N.push(Z)}else if("k"===t.substr(0,1)){for(x=le.length,b=new Array(x),_=new Array(n),se=!0,A=0,M=null,(M=[]).push(S),k=s=1,K=n-1;1<=K?s<=K:s>=K;k=1<=K?++s:--s)M.push(S+k/n*(Z-S));for(M.push(Z);se;){for(E=o=0,X=n-1;0<=X?o<=X:o>=X;E=0<=X?++o:--o)_[E]=0;for(k=a=0,Q=x-1;0<=Q?a<=Q:a>=Q;k=0<=Q?++a:--a){for(ie=le[k],O=Number.MAX_VALUE,E=i=0,J=n-1;0<=J?i<=J:i>=J;E=0<=J?++i:--i)(P=h(M[E]-ie))<O&&(O=P,v=E);_[v]++,b[k]=v}for(C=new Array(n),E=l=0,ee=n-1;0<=ee?l<=ee:l>=ee;E=0<=ee?++l:--l)C[E]=null;for(k=u=0,te=x-1;0<=te?u<=te:u>=te;k=0<=te?++u:--u)null===C[y=b[k]]?C[y]=le[k]:C[y]+=le[k];for(E=c=0,ne=n-1;0<=ne?c<=ne:c>=ne;E=0<=ne?++c:--c)C[E]*=1/_[E];for(se=!1,E=d=0,q=n-1;0<=q?d<=q:d>=q;E=0<=q?++d:--d)if(C[E]!==M[k]){se=!0;break}M=C,++A>200&&(se=!1)}for(w={},E=f=0,z=n-1;0<=z?f<=z:f>=z;E=0<=z?++f:--f)w[E]=[];for(k=m=0,H=x-1;0<=H?m<=H:m>=H;k=0<=H?++m:--m)w[y=b[k]].push(le[k]);for(oe=[],E=p=0,W=n-1;0<=W?p<=W:p>=W;E=0<=W?++p:--p)oe.push(w[E][0]),oe.push(w[E][w[E].length-1]);for(oe=oe.sort((function(e,t){return e-t})),N.push(oe[0]),k=g=1,G=oe.length-1;g<=G;k=g+=2)ae=oe[k],isNaN(ae)||-1!==N.indexOf(ae)||N.push(ae)}return N},x=function(e,t,n){var r,s,o,a;return e=(r=Ee(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?o=1-((s=(1-t)/3)+(a=(1+t*E(u*e)/E(i-u*e))/3)):e<2/3?s=1-((a=(1-t)/3)+(o=(1+t*E(u*(e-=1/3))/E(i-u*e))/3)):a=1-((o=(1-t)/3)+(s=(1+t*E(u*(e-=2/3))/E(i-u*e))/3)),[255*(a=X(n*a*3)),255*(o=X(n*o*3)),255*(s=X(n*s*3)),r.length>3?r[3]:1]},le=function(){var e,t,n,r,s,o,a;return s=(o=Ee(arguments))[0],t=o[1],e=o[2],u=2*Math.PI,s/=255,t/=255,e/=255,0===(a=1-Math.min(s,t,e)/(r=(s+t+e)/3))?n=0:(n=(s-t+(s-e))/2,n/=Math.sqrt((s-t)*(s-t)+(s-e)*(t-e)),n=Math.acos(n),e>t&&(n=u-n),n/=u),[360*n,a,r]},I.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,s=e.apply(r,t);return Object(s)===s?s:r}(r,Se.call(arguments).concat(["hsi"]),(function(){}))},m.hsi=x,r.prototype.hsi=function(){return le(this._rgb)},F=function(e,t,n,r){var s,o,a,i,l,u,c,d,f,m;return"hsl"===r?(f=e.hsl(),m=t.hsl()):"hsv"===r?(f=e.hsv(),m=t.hsv()):"hcg"===r?(f=e.hcg(),m=t.hcg()):"hsi"===r?(f=e.hsi(),m=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",f=e.hcl(),m=t.hcl()),"h"===r.substr(0,1)&&(o=f[0],c=f[1],i=f[2],a=m[0],d=m[1],l=m[2]),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?s=Number.NaN:(s=a,1!==i&&0!==i||"hsv"===r||(u=d)):(s=o,1!==l&&0!==l||"hsv"===r||(u=c)):s=o+n*(a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o),null==u&&(u=c+n*(d-c)),I[r](s,u,i+n*(l-i))},U=function(e,t,n,r){var s,o;return s=e.num(),o=t.num(),I.num(s+(o-s)*n,"num")},(p=p.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)J=n[t],r.push([J,F]);return r}())).push(["num",U]),B=function(e,t,n,s){var o,a;return o=e.lab(),a=t.lab(),new r(o[0]+n*(a[0]-o[0]),o[1]+n*(a[1]-o[1]),o[2]+n*(a[2]-o[2]),s)},p.push(["lab",B])}).call(this)}).call(this,n(36)(e))},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcAAAAA3CAYAAACbxZpmAAAACXBIWXMAAAsSAAALEgHS3X78AAAClElEQVR42u3c7W2jMAAGYLdikq6QCW6ZssUpui2Y5jpAs8LtcBP4fkXq0SQYsB0MzyNValIgvLj0rd2PlxhjCCGEvr+ch+F0DiN9f/kZQvgzevptGE6/Rtt923/Gvlt6DXnllVdeeXeW99bHXwMAHJACBEABAoACBAAFCAAKEAAUIAAoQABQgACgAAFAAQKAAgQABQgAChAAFCAAKEAAUIAAoAABQAECgAIEAAUIgAIEAAUIAAoQAHarS9jmbwjh7cZzIeO+W3oNeeWVV15595f3uxhjiDGG9/fP8/X9W2/P/nitY9Q6F3nllVdeeZ+b1xIoAIekAAFQgACgAAFAAQKAAgQABQgAChAAFCAAbFdX4qB9f/l9fX8YTj/2fhHllVdeeeVtL2/3aKdbF2fq4t3bb87+Xx8v3SZ1oHOc75r9U/LUylvjem0pb0vjm/pFq4W8OTO7f43vmryLZoDXA04dfOn+Kcec2mbpuT0jb0qeWnnXZm0tbwvjmzPrVvLWzHyk+9f4zjvm66OTG7f4HqfGR8gpr7zyyitvphng9YRKrR/PnYaXXscunTd1Kl8jb42sW8p7tPHdSt69fU4b3zbHt0sJmHuKvWbqPPeCTl2clO8uSufNsYSSK2+NrFvK29L4ptzoreTNldn9a3zX5O3uTTvvPW7NvSn03nLKu/+8j5aDjK+88s6XfQl0HOjRckDJqXPOtePSeXNkzpV36lz3lreF8c39c5AjfT7LK++sP4MYbzD1eO7UN8dSQeoFn3MepX7bKUeeWnlLvM6W87Y0vnOPseW8Jc7D/Wt8l7yO/wQDwCG9xBi/TiXPLgkAO/cxDKeP/woQAI7CEigAChAAFCAAKEAAUIAAoAABQAECQCP+AX8PMLpfoKkaAAAAAElFTkSuQmCC"},function(e,t,n){n(71),e.exports=n(158)},function(e,t,n){"use strict";"undefined"==typeof Promise&&(n(72).enable(),window.Promise=n(74)),n(75),Object.assign=n(31)},function(e,t,n){"use strict";var r=n(44),s=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,r._47=null,r._71=null}function i(e,t){return t.some((function(t){return e instanceof t}))}t.disable=a,t.enable=function(e){e=e||{},o&&a();o=!0;var t=0,n=0,l={};function u(t){(e.allRejections||i(l[t].error,e.whitelist||s))&&(l[t].displayId=n++,e.onUnhandled?(l[t].logged=!0,e.onUnhandled(l[t].displayId,l[t].error)):(l[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach((function(e){console.warn("  "+e)}))}(l[t].displayId,l[t].error)))}r._47=function(t){2===t._83&&l[t._56]&&(l[t._56].logged?function(t){l[t].logged&&(e.onHandled?e.onHandled(l[t].displayId,l[t].error):l[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[t].displayId+".")))}(t._56):clearTimeout(l[t._56].timeout),delete l[t._56])},r._71=function(e,n){0===e._75&&(e._56=t++,l[e._56]={displayId:null,error:n,timeout:setTimeout(u.bind(null,e._56),i(n,s)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){s.length||(r(),!0),s[s.length]=e}e.exports=n;var r,s=[],o=0;function a(){for(;o<s.length;){var e=o;if(o+=1,s[e].call(),o>1024){for(var t=0,n=s.length-o;t<n;t++)s[t]=s[t+o];s.length-=o,o=0}}s.length=0,o=0,!1}var i,l,u,c=void 0!==t?t:self,d=c.MutationObserver||c.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof d?(i=1,l=new d(a),u=document.createTextNode(""),l.observe(u,{characterData:!0}),r=function(){i=-i,u.data=i}):r=f(a),n.requestFlush=r,n.makeRequestCallFromTimer=f}).call(this,n(15))},function(e,t,n){"use strict";var r=n(44);e.exports=r;var s=c(!0),o=c(!1),a=c(null),i=c(void 0),l=c(0),u=c("");function c(e){var t=new r(r._44);return t._83=1,t._18=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return i;if(!0===e)return s;if(!1===e)return o;if(0===e)return l;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(e){return new r((function(t,n){n(e)}))}return c(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r((function(e,n){if(0===t.length)return e([]);var s=t.length;function o(a,i){if(i&&("object"==typeof i||"function"==typeof i)){if(i instanceof r&&i.then===r.prototype.then){for(;3===i._83;)i=i._18;return 1===i._83?o(a,i._18):(2===i._83&&n(i._18),void i.then((function(e){o(a,e)}),n))}var l=i.then;if("function"==typeof l)return void new r(l.bind(i)).then((function(e){o(a,e)}),n)}t[a]=i,0==--s&&e(t)}for(var a=0;a<t.length;a++)o(a,t[a])}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){e.forEach((function(e){r.resolve(e).then(t,n)}))}))},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};p.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),m(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),m(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),m(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},M.call(y.prototype),M.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},I.error=function(){var e=new I(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];I.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new I(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=y,e.Response=I,e.fetch=function(e,t){return new Promise((function(n,s){var o=new y(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var s=n.join(":").trim();t.append(r,s)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var s="response"in a?a.response:a.responseText;n(new I(s,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&r&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0}function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function m(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function b(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(s&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&r&&i(e))this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=v(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e,t){var n,r,s=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),u.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(s))}})),t}function I(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(31),s="function"==typeof Symbol&&Symbol.for,o=s?Symbol.for("react.element"):60103,a=s?Symbol.for("react.portal"):60106,i=s?Symbol.for("react.fragment"):60107,l=s?Symbol.for("react.strict_mode"):60108,u=s?Symbol.for("react.profiler"):60114,c=s?Symbol.for("react.provider"):60109,d=s?Symbol.for("react.context"):60110,f=s?Symbol.for("react.forward_ref"):60112,m=s?Symbol.for("react.suspense"):60113,p=s?Symbol.for("react.memo"):60115,h=s?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M={};function y(e,t,n){this.props=e,this.context=t,this.refs=M,this.updater=n||v}function _(){}function I(e,t,n){this.props=e,this.context=t,this.refs=M,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=y.prototype;var P=I.prototype=new _;P.constructor=I,r(P,y.prototype),P.isPureReactComponent=!0;var k={current:null},E=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,s={},a=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!w.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:i,props:s,_owner:k.current}}function V(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var S=/\/+/g,T=[];function R(e,t,n,r){if(T.length){var s=T.pop();return s.result=e,s.keyPrefix=t,s.func=n,s.context=r,s.count=0,s}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function x(e,t,n){return null==e?0:function e(t,n,r,s){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var l=!1;if(null===t)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(s,t,""===n?"."+A(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+A(i=t[u],u);l+=e(i,c,r,s)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(i=t.next()).done;)l+=e(i=i.value,c=n+A(i,u++),r,s);else if("object"===i)throw r=""+t,Error(b(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function C(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,s=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(V(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,s+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(S,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,s){var o="";null!=n&&(o=(""+n).replace(S,"$&/")+"/"),x(e,D,t=R(t,o,r,s)),O(t)}var F={current:null};function B(){var e=F.current;if(null===e)throw Error(b(321));return e}var L={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;x(e,C,t=R(null,null,t,n)),O(t)},count:function(e){return x(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!V(e))throw Error(b(143));return e}},t.Component=y,t.Fragment=i,t.Profiler=u,t.PureComponent=I,t.StrictMode=l,t.Suspense=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null==e)throw Error(b(267,e));var s=r({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!w.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}return{$$typeof:o,type:e.type,key:a,ref:i,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=V,t.lazy=function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),s=n(31),o=n(78);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function i(e,t,n,r,s,o,a,i,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,d=null,f={onError:function(e){l=!0,u=e}};function m(e,t,n,r,s,o,a,c,d){l=!1,u=null,i.apply(f,arguments)}var p=null,h=null,g=null;function b(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,s,o,i,f,p){if(m.apply(this,arguments),l){if(!l)throw Error(a(198));var h=u;l=!1,u=null,c||(c=!0,d=h)}}(r,t,void 0,e),e.currentTarget=null}var v=null,M={};function y(){if(v)for(var e in M){var t=M[e],n=v.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!I[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in I[n]=t,n=t.eventTypes){var s=void 0,o=n[r],i=t,l=r;if(P.hasOwnProperty(l))throw Error(a(99,l));P[l]=o;var u=o.phasedRegistrationNames;if(u){for(s in u)u.hasOwnProperty(s)&&_(u[s],i,l);s=!0}else o.registrationName?(_(o.registrationName,i,l),s=!0):s=!1;if(!s)throw Error(a(98,r,e))}}}}function _(e,t,n){if(k[e])throw Error(a(100,e));k[e]=t,E[e]=t.eventTypes[n].dependencies}var I=[],P={},k={},E={};function w(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!M.hasOwnProperty(t)||M[t]!==r){if(M[t])throw Error(a(102,t));M[t]=r,n=!0}}n&&y()}var N=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),V=null,S=null,T=null;function R(e){if(e=h(e)){if("function"!=typeof V)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),V(e.stateNode,e.type,t))}}function O(e){S?T?T.push(e):T=[e]:S=e}function x(){if(S){var e=S,t=T;if(T=S=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function A(e,t){return e(t)}function C(e,t,n,r,s){return e(t,n,r,s)}function D(){}var j=A,F=!1,B=!1;function L(){null===S&&null===T||(D(),x())}function U(e,t,n){if(B)return e(t,n);B=!0;try{return j(e,t,n)}finally{B=!1,L()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,H={},W={};function G(e,t,n,r,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,X);$[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,X);$[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,X);$[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var s=$.hasOwnProperty(t)?$[t]:null;(null!==s?0===s.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!z.call(W,e)||!z.call(H,e)&&(q.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,se=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,ie=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ue=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,fe=Z?Symbol.for("react.lazy"):60116,me=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function he(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case se:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case me:return ge(e.render);case fe:if(e=1===e._status?e._result:null)return ge(e)}return null}function be(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,s=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",s?o=" (at "+s.fileName.replace(J,"")+":"+s.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Me(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ye(e){e._valueTracker||(e._valueTracker=function(e){var t=Me(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Me(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ie(e,t){var n=t.checked;return s({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Pe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function Ee(e,t){ke(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ne(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ne(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function we(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ne(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ve(e,t){return e=s({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Se(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function Te(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return s({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Oe(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function xe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ae="http://www.w3.org/1999/xhtml",Ce="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Be=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ce||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Le(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},ze={},He={};function We(e){if(ze[e])return ze[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return ze[e]=n[t];return e}N&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=We("animationend"),$e=We("animationiteration"),Ke=We("animationstart"),Xe=We("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return tt(s),e;if(o===r)return tt(s),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function st(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)b(e,t[r],n[r]);else t&&b(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function it(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(st(e,at),ot)throw Error(a(95));if(c)throw e=d,c=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!N)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,n,r){if(ct.length){var s=ct.pop();return s.topLevelType=e,s.eventSystemFlags=r,s.nativeEvent=t,s.targetInst=n,s}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function mt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Nn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var s=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var i=null,l=0;l<I.length;l++){var u=I[l];u&&(u=u.extractEvents(r,t,o,s,a))&&(i=rt(i,u))}it(i)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&$t(e,t)}n.set(e,null)}}var ht,gt,bt,vt=!1,Mt=[],yt=null,_t=null,It=null,Pt=new Map,kt=new Map,Et=[],wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Nt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Vt(e,t,n,r,s){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:s,container:r}}function St(e,t){switch(e){case"focus":case"blur":yt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Tt(e,t,n,r,s,o){return null===e||e.nativeEvent!==o?(e=Vt(t,n,r,s,o),null!==t&&(null!==(t=Vn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Rt(e){var t=Nn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){bt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Vn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function xt(e,t,n){Ot(e)&&n.delete(t)}function At(){for(vt=!1;0<Mt.length;){var e=Mt[0];if(null!==e.blockedOn){null!==(e=Vn(e.blockedOn))&&ht(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Mt.shift()}null!==yt&&Ot(yt)&&(yt=null),null!==_t&&Ot(_t)&&(_t=null),null!==It&&Ot(It)&&(It=null),Pt.forEach(xt),kt.forEach(xt)}function Ct(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,At)))}function Dt(e){function t(t){return Ct(t,e)}if(0<Mt.length){Ct(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==yt&&Ct(yt,e),null!==_t&&Ct(_t,e),null!==It&&Ct(It,e),Pt.forEach(t),kt.forEach(t),n=0;n<Et.length;n++)(r=Et[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&null===(n=Et[0]).blockedOn;)Rt(n),null===n.blockedOn&&Et.shift()}var jt={},Ft=new Map,Bt=new Map,Lt=["abort","abort",Ge,"animationEnd",$e,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],s=e[n+1],o="on"+(s[0].toUpperCase()+s.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Ft.set(r,o),jt[s]=o}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Lt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<qt.length;zt++)Bt.set(qt[zt],0);var Ht=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Gt=!0;function $t(e,t){Kt(t,e,!1)}function Kt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Yt.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){F||D();var s=Qt,o=F;F=!0;try{C(s,e,t,n,r)}finally{(F=o)||L()}}function Yt(e,t,n,r){Wt(Ht,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(Gt)if(0<Mt.length&&-1<wt.indexOf(e))e=Vt(null,e,t,n,r),Mt.push(e);else{var s=Jt(e,t,n,r);if(null===s)St(e,r);else if(-1<wt.indexOf(e))e=Vt(s,e,t,n,r),Mt.push(e);else if(!function(e,t,n,r,s){switch(t){case"focus":return yt=Tt(yt,e,t,n,r,s),!0;case"dragenter":return _t=Tt(_t,e,t,n,r,s),!0;case"mouseover":return It=Tt(It,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Pt.set(o,Tt(Pt.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,kt.set(o,Tt(kt.get(o)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r)){St(e,r),e=ft(e,r,null,t);try{U(mt,e)}finally{dt(e)}}}}function Jt(e,t,n,r){if(null!==(n=Nn(n=lt(r)))){var s=Ze(n);if(null===s)n=null;else{var o=s.tag;if(13===o){if(null!==(n=et(s)))return n;n=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}e=ft(e,r,n,t);try{U(mt,e)}finally{dt(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function on(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=Ae;function ln(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function un(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function mn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hn=null,gn=null;function bn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Mn="function"==typeof setTimeout?setTimeout:void 0,yn="function"==typeof clearTimeout?clearTimeout:void 0;function _n(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function In(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),kn="__reactInternalInstance$"+Pn,En="__reactEventHandlers$"+Pn,wn="__reactContainere$"+Pn;function Nn(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[kn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=In(e);null!==e;){if(n=e[kn])return n;e=In(e)}return t}n=(e=n).parentNode}return null}function Vn(e){return!(e=e[kn]||e[wn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Sn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Tn(e){return e[En]||null}function Rn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function On(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function xn(e,t,n){(t=On(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function An(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Rn(t);for(t=n.length;0<t--;)xn(n[t],"captured",e);for(t=0;t<n.length;t++)xn(n[t],"bubbled",e)}}function Cn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=On(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){e&&e.dispatchConfig.registrationName&&Cn(e._targetInst,null,e)}function jn(e){st(e,An)}var Fn=null,Bn=null,Ln=null;function Un(){if(Ln)return Ln;var e,t,n=Bn,r=n.length,s="value"in Fn?Fn.value:Fn.textContent,o=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[o-t];t++);return Ln=s.slice(e,1<t?1-t:void 0)}function qn(){return!0}function zn(){return!1}function Hn(e,t,n,r){for(var s in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(s)&&((t=e[s])?this[s]=t(n):"target"===s?this.target=r:this[s]=n[s]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:zn,this.isPropagationStopped=zn,this}function Wn(e,t,n,r){if(this.eventPool.length){var s=this.eventPool.pop();return this.call(s,e,t,n,r),s}return new this(e,t,n,r)}function Gn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Wn,e.release=Gn}s(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return s(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=s({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Hn);var Kn=Hn.extend({data:null}),Xn=Hn.extend({data:null}),Yn=[9,13,27,32],Qn=N&&"CompositionEvent"in window,Jn=null;N&&"documentMode"in document&&(Jn=document.documentMode);var Zn=N&&"TextEvent"in window&&!Jn,er=N&&(!Qn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function sr(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var ir={eventTypes:nr,extractEvents:function(e,t,n,r){var s;if(Qn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?sr(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(s=Un()):(Bn="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),o=Kn.getPooled(o,t,n,r),s?o.data=s:null!==(s=or(n))&&(o.data=s),jn(o),s=o):s=null,(e=Zn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Qn&&sr(e,t)?(e=Un(),Ln=Bn=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(nr.beforeInput,t,n,r)).data=e,jn(t)):t=null,null===s?t:null===t?s:[s,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,t,n){return(e=Hn.getPooled(cr.change,e,t,n)).type="change",O(n),jn(e),e}var fr=null,mr=null;function pr(e){it(e)}function hr(e){if(_e(Sn(e)))return e}function gr(e,t){if("change"===e)return t}var br=!1;function vr(){fr&&(fr.detachEvent("onpropertychange",Mr),mr=fr=null)}function Mr(e){if("value"===e.propertyName&&hr(mr))if(e=dr(mr,e,lt(e)),F)it(e);else{F=!0;try{A(pr,e)}finally{F=!1,L()}}}function yr(e,t,n){"focus"===e?(vr(),mr=n,(fr=t).attachEvent("onpropertychange",Mr)):"blur"===e&&vr()}function _r(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return hr(mr)}function Ir(e,t){if("click"===e)return hr(t)}function Pr(e,t){if("input"===e||"change"===e)return hr(t)}N&&(br=ut("input")&&(!document.documentMode||9<document.documentMode));var kr={eventTypes:cr,_isInputEventSupported:br,extractEvents:function(e,t,n,r){var s=t?Sn(t):window,o=s.nodeName&&s.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===s.type)var a=gr;else if(ur(s))if(br)a=Pr;else{a=_r;var i=yr}else(o=s.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(a=Ir);if(a&&(a=a(e,t)))return dr(a,n,r);i&&i(e,s,t),"blur"===e&&(e=s._wrapperState)&&e.controlled&&"number"===s.type&&Ne(s,"number",s.value)}},Er=Hn.extend({view:null,detail:null}),wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Vr(){return Nr}var Sr=0,Tr=0,Rr=!1,Or=!1,xr=Er.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Sr;return Sr=e.screenX,Rr?"mousemove"===e.type?e.screenX-t:0:(Rr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Tr;return Tr=e.screenY,Or?"mousemove"===e.type?e.screenY-t:0:(Or=!0,0)}}),Ar=xr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Cr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Dr={eventTypes:Cr,extractEvents:function(e,t,n,r,s){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&s)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Nn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var i=xr,l=Cr.mouseLeave,u=Cr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(i=Ar,l=Cr.pointerLeave,u=Cr.pointerEnter,c="pointer");if(e=null==a?o:Sn(a),o=null==t?o:Sn(t),(l=i.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=o,(n=i.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=i=r;e;e=Rn(e))a++;for(e=0,t=u;t;t=Rn(t))e++;for(;0<a-e;)i=Rn(i),a--;for(;0<e-a;)u=Rn(u),e--;for(;a--;){if(i===u||i===u.alternate)break e;i=Rn(i),u=Rn(u)}i=null}else i=null;for(u=i,i=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)i.push(r),r=Rn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Rn(c);for(c=0;c<i.length;c++)Cn(i[c],"bubbled",l);for(c=r.length;0<c--;)Cn(r[c],"captured",n);return 0==(64&s)?[l]:[l,n]}};var jr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=Object.prototype.hasOwnProperty;function Br(e,t){if(jr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!jr(e[n[r]],t[n[r]]))return!1;return!0}var Lr=N&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,zr=null,Hr=null,Wr=!1;function Gr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==qr||qr!==cn(n)?null:("selectionStart"in(n=qr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&Br(Hr,n)?null:(Hr=n,(e=Hn.getPooled(Ur.select,zr,e,t)).type="select",e.target=qr,jn(e),e))}var $r={eventTypes:Ur,extractEvents:function(e,t,n,r,s,o){if(!(o=!(s=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{s=Je(s),o=E.onSelect;for(var a=0;a<o.length;a++)if(!s.has(o[a])){s=!1;break e}s=!0}o=!s}if(o)return null;switch(s=t?Sn(t):window,e){case"focus":(ur(s)||"true"===s.contentEditable)&&(qr=s,zr=t,Hr=null);break;case"blur":Hr=zr=qr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Gr(n,r);case"selectionchange":if(Lr)break;case"keydown":case"keyup":return Gr(n,r)}return null}},Kr=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Hn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yr=Er.extend({relatedTarget:null});function Qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},es=Er.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ts=xr.extend({dataTransfer:null}),ns=Er.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vr}),rs=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ss=xr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),os={eventTypes:jt,extractEvents:function(e,t,n,r){var s=Ft.get(e);if(!s)return null;switch(e){case"keypress":if(0===Qr(n))return null;case"keydown":case"keyup":e=es;break;case"blur":case"focus":e=Yr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ts;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ns;break;case Ge:case $e:case Ke:e=Kr;break;case Xe:e=rs;break;case"scroll":e=Er;break;case"wheel":e=ss;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ar;break;default:e=Hn}return jn(t=e.getPooled(s,t,n,r)),t}};if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),y(),p=Tn,h=Vn,g=Sn,w({SimpleEventPlugin:os,EnterLeaveEventPlugin:Dr,ChangeEventPlugin:kr,SelectEventPlugin:$r,BeforeInputEventPlugin:ir});var as=[],is=-1;function ls(e){0>is||(e.current=as[is],as[is]=null,is--)}function us(e,t){is++,as[is]=e.current,e.current=t}var cs={},ds={current:cs},fs={current:!1},ms=cs;function ps(e,t){var n=e.type.contextTypes;if(!n)return cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,o={};for(s in n)o[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function hs(e){return null!=(e=e.childContextTypes)}function gs(){ls(fs),ls(ds)}function bs(e,t,n){if(ds.current!==cs)throw Error(a(168));us(ds,t),us(fs,n)}function vs(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return s({},n,{},r)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cs,ms=ds.current,us(ds,e),us(fs,fs.current),!0}function ys(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vs(e,t,ms),r.__reactInternalMemoizedMergedChildContext=e,ls(fs),ls(ds),us(ds,e)):ls(fs),us(fs,n)}var _s=o.unstable_runWithPriority,Is=o.unstable_scheduleCallback,Ps=o.unstable_cancelCallback,ks=o.unstable_requestPaint,Es=o.unstable_now,ws=o.unstable_getCurrentPriorityLevel,Ns=o.unstable_ImmediatePriority,Vs=o.unstable_UserBlockingPriority,Ss=o.unstable_NormalPriority,Ts=o.unstable_LowPriority,Rs=o.unstable_IdlePriority,Os={},xs=o.unstable_shouldYield,As=void 0!==ks?ks:function(){},Cs=null,Ds=null,js=!1,Fs=Es(),Bs=1e4>Fs?Es:function(){return Es()-Fs};function Ls(){switch(ws()){case Ns:return 99;case Vs:return 98;case Ss:return 97;case Ts:return 96;case Rs:return 95;default:throw Error(a(332))}}function Us(e){switch(e){case 99:return Ns;case 98:return Vs;case 97:return Ss;case 96:return Ts;case 95:return Rs;default:throw Error(a(332))}}function qs(e,t){return e=Us(e),_s(e,t)}function zs(e,t,n){return e=Us(e),Is(e,t,n)}function Hs(e){return null===Cs?(Cs=[e],Ds=Is(Ns,Gs)):Cs.push(e),Os}function Ws(){if(null!==Ds){var e=Ds;Ds=null,Ps(e)}Gs()}function Gs(){if(!js&&null!==Cs){js=!0;var e=0;try{var t=Cs;qs(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Cs=null}catch(t){throw null!==Cs&&(Cs=Cs.slice(e+1)),Is(Ns,Ws),t}finally{js=!1}}}function $s(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ks(e,t){if(e&&e.defaultProps)for(var n in t=s({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xs={current:null},Ys=null,Qs=null,Js=null;function Zs(){Js=Qs=Ys=null}function eo(e){var t=Xs.current;ls(Xs),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Ys=e,Js=Qs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ta=!0),e.firstContext=null)}function ro(e,t){if(Js!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Js=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qs){if(null===Ys)throw Error(a(308));Qs=t,Ys.dependencies={expirationTime:0,firstContext:t,responders:null}}else Qs=Qs.next=t;return e._currentValue}var so=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function io(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.baseQueue,i=o.shared.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}a=i,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=i))}if(null!==a){l=a.next;var u=o.baseState,c=0,d=null,f=null,m=null;if(null!==l)for(var p=l;;){if((i=p.expirationTime)<r){var h={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===m?(f=m=h,d=u):m=m.next=h,i>c&&(c=i)}else{null!==m&&(m=m.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ol(i,p.suspenseConfig);e:{var g=e,b=p;switch(i=t,h=n,b.tag){case 1:if("function"==typeof(g=b.payload)){u=g.call(h,u,i);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(i="function"==typeof(g=b.payload)?g.call(h,u,i):g))break e;u=s({},u,i);break e;case 2:so=!0}}null!==p.callback&&(e.effectTag|=32,null===(i=o.effects)?o.effects=[p]:i.push(p))}if(null===(p=p.next)||p===l){if(null===(i=o.shared.pending))break;p=a.next=i.next,i.next=l,o.baseQueue=a=i,o.shared.pending=null}}null===m?d=u:m.next=f,o.baseState=d,o.baseQueue=m,al(c),e.expirationTime=c,e.memoizedState=u}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=s,s=n,"function"!=typeof r)throw Error(a(191,r));r.call(s)}}}var mo=Y.ReactCurrentBatchConfig,po=(new r.Component).refs;function ho(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:s({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Gi(),s=mo.suspense;(s=io(r=$i(r,e,s),s)).payload=t,null!=n&&(s.callback=n),lo(e,s),Ki(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Gi(),s=mo.suspense;(s=io(r=$i(r,e,s),s)).tag=1,s.payload=t,null!=n&&(s.callback=n),lo(e,s),Ki(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Gi(),r=mo.suspense;(r=io(n=$i(n,e,r),r)).tag=2,null!=t&&(r.callback=t),lo(e,r),Ki(e,n)}};function bo(e,t,n,r,s,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(s,o))}function vo(e,t,n){var r=!1,s=cs,o=t.contextType;return"object"==typeof o&&null!==o?o=ro(o):(s=hs(t)?ms:ds.current,o=(r=null!=(r=t.contextTypes))?ps(e,s):cs),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Mo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=po,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?s.context=ro(o):(o=hs(t)?ms:ds.current,s.context=ps(e,o)),co(e,n,s,r),s.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&go.enqueueReplaceState(s,s.state,null),co(e,n,s,r),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.effectTag|=4)}var _o=Array.isArray;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Po(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=wl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function i(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Sl(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=s(t,n.props)).ref=Io(e,t,n),r.return=e,r):((r=Nl(n.type,n.key,n.props,null,e.mode,r)).ref=Io(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tl(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,o)).return=e,t):((t=s(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Sl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case te:return(t=Tl(t,e.mode,n)).return=e,t}if(_o(t)||he(t))return(t=Vl(t,e.mode,n,null)).return=e,t;Po(e,t)}return null}function m(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==s?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===s?n.type===ne?d(e,t,n.props.children,r,s):u(e,t,n,r):null;case te:return n.key===s?c(e,t,n,r):null}if(_o(n)||he(n))return null!==s?null:d(e,t,n,r,null);Po(e,n)}return null}function p(e,t,n,r,s){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,s,r.key):u(t,e,r,s);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s)}if(_o(r)||he(r))return d(t,e=e.get(n)||null,r,s,null);Po(t,r)}return null}function h(s,a,i,l){for(var u=null,c=null,d=a,h=a=0,g=null;null!==d&&h<i.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var b=m(s,d,i[h],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(s,d),a=o(b,a,h),null===c?u=b:c.sibling=b,c=b,d=g}if(h===i.length)return n(s,d),u;if(null===d){for(;h<i.length;h++)null!==(d=f(s,i[h],l))&&(a=o(d,a,h),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(s,d);h<i.length;h++)null!==(g=p(d,s,h,i[h],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),a=o(g,a,h),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(s,e)})),u}function g(s,i,l,u){var c=he(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,h=i,g=i=0,b=null,v=l.next();null!==h&&!v.done;g++,v=l.next()){h.index>g?(b=h,h=null):b=h.sibling;var M=m(s,h,v.value,u);if(null===M){null===h&&(h=b);break}e&&h&&null===M.alternate&&t(s,h),i=o(M,i,g),null===d?c=M:d.sibling=M,d=M,h=b}if(v.done)return n(s,h),c;if(null===h){for(;!v.done;g++,v=l.next())null!==(v=f(s,v.value,u))&&(i=o(v,i,g),null===d?c=v:d.sibling=v,d=v);return c}for(h=r(s,h);!v.done;g++,v=l.next())null!==(v=p(h,s,g,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=o(v,i,g),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach((function(e){return t(s,e)})),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===ne){n(e,u.sibling),(r=s(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=s(u,o.props)).ref=Io(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ne?((r=Vl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Nl(o.type,o.key,o.props,null,e.mode,l)).ref=Io(e,r,o),l.return=e,e=l)}return i(e);case te:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=s(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Tl(o,e.mode,l)).return=e,e=r}return i(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=s(r,o)).return=e,e=r):(n(e,r),(r=Sl(o,e.mode,l)).return=e,e=r),i(e);if(_o(o))return h(e,r,o,l);if(he(o))return g(e,r,o,l);if(c&&Po(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Eo=ko(!0),wo=ko(!1),No={},Vo={current:No},So={current:No},To={current:No};function Ro(e){if(e===No)throw Error(a(174));return e}function Oo(e,t){switch(us(To,t),us(So,e),us(Vo,No),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ls(Vo),us(Vo,t)}function xo(){ls(Vo),ls(So),ls(To)}function Ao(e){Ro(To.current);var t=Ro(Vo.current),n=je(t,e.type);t!==n&&(us(So,e),us(Vo,n))}function Co(e){So.current===e&&(ls(Vo),ls(So))}var Do={current:0};function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var Bo=Y.ReactCurrentDispatcher,Lo=Y.ReactCurrentBatchConfig,Uo=0,qo=null,zo=null,Ho=null,Wo=!1;function Go(){throw Error(a(321))}function $o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function Ko(e,t,n,r,s,o){if(Uo=o,qo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?ba:va,e=n(r,s),t.expirationTime===Uo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ho=zo=null,t.updateQueue=null,Bo.current=Ma,e=n(r,s)}while(t.expirationTime===Uo)}if(Bo.current=ga,t=null!==zo&&null!==zo.next,Uo=0,Ho=zo=qo=null,Wo=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?qo.memoizedState=Ho=e:Ho=Ho.next=e,Ho}function Yo(){if(null===zo){var e=qo.alternate;e=null!==e?e.memoizedState:null}else e=zo.next;var t=null===Ho?qo.memoizedState:Ho.next;if(null!==t)Ho=t,zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(zo=e).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Ho?qo.memoizedState=Ho=e:Ho=Ho.next=e}return Ho}function Qo(e,t){return"function"==typeof t?t(e):t}function Jo(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=zo,s=r.baseQueue,o=n.pending;if(null!==o){if(null!==s){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(null!==s){s=s.next,r=r.baseState;var l=i=o=null,u=s;do{var c=u.expirationTime;if(c<Uo){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(i=l=d,o=r):l=l.next=d,c>qo.expirationTime&&(qo.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ol(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==s);null===l?o=r:l.next=i,jr(r,t.memoizedState)||(Ta=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zo(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{o=e(o,i.action),i=i.next}while(i!==s);jr(o,t.memoizedState)||(Ta=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Xo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e}).dispatch=ha.bind(null,qo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=qo.updateQueue)?(t={lastEffect:null},qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Yo().memoizedState}function ra(e,t,n,r){var s=Xo();qo.effectTag|=e,s.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function sa(e,t,n,r){var s=Yo();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&$o(r,a.deps))return void ta(t,n,o,r)}qo.effectTag|=e,s.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return sa(516,4,e,t)}function ia(e,t){return sa(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!=n?n.concat([e]):null,sa(4,2,la.bind(null,t,e),n)}function ca(){}function da(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function fa(e,t){var n=Yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ma(e,t){var n=Yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=Ls();qs(98>r?98:r,(function(){e(!0)})),qs(97<r?97:r,(function(){var r=Lo.suspense;Lo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Lo.suspense=r}}))}function ha(e,t,n){var r=Gi(),s=mo.suspense;s={expirationTime:r=$i(r,e,s),suspenseConfig:s,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===qo||null!==o&&o===qo)Wo=!0,s.expirationTime=Uo,qo.expirationTime=Uo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,i=o(a,n);if(s.eagerReducer=o,s.eagerState=i,jr(i,a))return}catch(e){}Ki(e,r)}}var ga={readContext:ro,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useLayoutEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useResponder:Go,useDeferredValue:Go,useTransition:Go},ba={readContext:ro,useCallback:da,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ha.bind(null,qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],s=n[1];return oa((function(){var n=Lo.suspense;Lo.suspense=void 0===t?null:t;try{s(e)}finally{Lo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},va={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:ia,useMemo:ma,useReducer:Jo,useRef:na,useState:function(){return Jo(Qo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Jo(Qo),r=n[0],s=n[1];return aa((function(){var n=Lo.suspense;Lo.suspense=void 0===t?null:t;try{s(e)}finally{Lo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Qo),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},Ma={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:ia,useMemo:ma,useReducer:Zo,useRef:na,useState:function(){return Zo(Qo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Zo(Qo),r=n[0],s=n[1];return aa((function(){var n=Lo.suspense;Lo.suspense=void 0===t?null:t;try{s(e)}finally{Lo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Qo),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya=null,_a=null,Ia=!1;function Pa(e,t){var n=kl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ea(e){if(Ia){var t=_a;if(t){var n=t;if(!ka(e,t)){if(!(t=_n(n.nextSibling))||!ka(e,t))return e.effectTag=-1025&e.effectTag|2,Ia=!1,void(ya=e);Pa(ya,n)}ya=e,_a=_n(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ia=!1,ya=e}}function wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ya=e}function Na(e){if(e!==ya)return!1;if(!Ia)return wa(e),Ia=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vn(t,e.memoizedProps))for(t=_a;t;)Pa(e,t),t=_n(t.nextSibling);if(wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){_a=_n(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}_a=null}}else _a=ya?_n(e.stateNode.nextSibling):null;return!0}function Va(){_a=ya=null,Ia=!1}var Sa=Y.ReactCurrentOwner,Ta=!1;function Ra(e,t,n,r){t.child=null===e?wo(t,null,n,r):Eo(t,e.child,n,r)}function Oa(e,t,n,r,s){n=n.render;var o=t.ref;return no(t,s),r=Ko(e,t,n,r,o,s),null===e||Ta?(t.effectTag|=1,Ra(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=s&&(e.expirationTime=0),Ka(e,t,s))}function xa(e,t,n,r,s,o){if(null===e){var a=n.type;return"function"!=typeof a||El(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Aa(e,t,a,r,s,o))}return a=e.child,s<o&&(s=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(s,r)&&e.ref===t.ref)?Ka(e,t,o):(t.effectTag|=1,(e=wl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Aa(e,t,n,r,s,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Ta=!1,s<o)?(t.expirationTime=e.expirationTime,Ka(e,t,o)):Da(e,t,n,r,o)}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Da(e,t,n,r,s){var o=hs(n)?ms:ds.current;return o=ps(t,o),no(t,s),n=Ko(e,t,n,r,o,s),null===e||Ta?(t.effectTag|=1,Ra(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=s&&(e.expirationTime=0),Ka(e,t,s))}function ja(e,t,n,r,s){if(hs(n)){var o=!0;Ms(t)}else o=!1;if(no(t,s),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),vo(t,n,r),yo(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,i=t.memoizedProps;a.props=i;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=ro(u):u=ps(t,u=hs(n)?ms:ds.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i!==r||l!==u)&&Mo(t,a,r,u),so=!1;var f=t.memoizedState;a.state=f,co(t,r,a,s),l=t.memoizedState,i!==r||f!==l||fs.current||so?("function"==typeof c&&(ho(t,n,c,r),l=t.memoizedState),(i=so||bo(t,n,i,r,f,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=i):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),i=t.memoizedProps,a.props=t.type===t.elementType?i:Ks(t.type,i),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=ro(u):u=ps(t,u=hs(n)?ms:ds.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i!==r||l!==u)&&Mo(t,a,r,u),so=!1,l=t.memoizedState,a.state=l,co(t,r,a,s),f=t.memoizedState,i!==r||l!==f||fs.current||so?("function"==typeof c&&(ho(t,n,c,r),f=t.memoizedState),(c=so||bo(t,n,i,r,l,f,u))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||i===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||i===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,o,s)}function Fa(e,t,n,r,s,o){Ca(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return s&&ys(t,n,!1),Ka(e,t,o);r=t.stateNode,Sa.current=t;var i=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,i,o)):Ra(e,t,i,o),t.memoizedState=r.state,s&&ys(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?bs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bs(0,t.context,!1),Oo(e,t.containerInfo)}var La,Ua,qa,za={dehydrated:null,retryTime:0};function Ha(e,t,n){var r,s=t.mode,o=t.pendingProps,a=Do.current,i=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(i=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),us(Do,1&a),null===e){if(void 0!==o.fallback&&Ea(t),i){if(i=o.fallback,(o=Vl(null,s,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Vl(i,s,n,null)).return=t,o.sibling=n,t.memoizedState=za,t.child=o,n}return s=o.children,t.memoizedState=null,t.child=wo(t,null,s,n)}if(null!==e.memoizedState){if(s=(e=e.child).sibling,i){if(o=o.fallback,(n=wl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(i=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=i;null!==i;)i.return=n,i=i.sibling;return(s=wl(s,o)).return=t,n.sibling=s,n.childExpirationTime=0,t.memoizedState=za,t.child=n,s}return n=Eo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,i){if(i=o.fallback,(o=Vl(null,s,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Vl(i,s,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=za,t.child=o,n}return t.memoizedState=null,t.child=Eo(t,e,o.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Ga(e,t,n,r,s,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:s,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=s,a.lastEffect=o)}function $a(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ra(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(us(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ga(t,!1,s,n,o,t.lastEffect);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===jo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ga(t,!0,n,null,o,t.lastEffect);break;case"together":Ga(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ka(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&al(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=wl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=wl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return hs(t.type)&&gs(),null;case 3:return xo(),ls(fs),ls(ds),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Na(t)||(t.effectTag|=4),null;case 5:Co(t),n=Ro(To.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(Vo.current),Na(t)){r=t.stateNode,o=t.type;var i=t.memoizedProps;switch(r[kn]=t,r[En]=i,o){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<Ye.length;e++)$t(Ye[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":Pe(r,i),$t("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$t("invalid",r),ln(n,"onChange");break;case"textarea":Re(r,i),$t("invalid",r),ln(n,"onChange")}for(var l in sn(o,i),e=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):k.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(o){case"input":ye(r),we(r,i,!0);break;case"textarea":ye(r),xe(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===an&&(e=De(o)),e===an?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[kn]=t,e[En]=r,La(e,t),t.stateNode=e,l=on(o,r),o){case"iframe":case"object":case"embed":$t("load",e),u=r;break;case"video":case"audio":for(u=0;u<Ye.length;u++)$t(Ye[u],e);u=r;break;case"source":$t("error",e),u=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),u=r;break;case"form":$t("reset",e),$t("submit",e),u=r;break;case"details":$t("toggle",e),u=r;break;case"input":Pe(e,r),u=Ie(e,r),$t("invalid",e),ln(n,"onChange");break;case"option":u=Ve(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=s({},r,{value:void 0}),$t("invalid",e),ln(n,"onChange");break;case"textarea":Re(e,r),u=Te(e,r),$t("invalid",e),ln(n,"onChange");break;default:u=r}sn(o,u);var c=u;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?nn(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&Be(e,d):"children"===i?"string"==typeof d?("textarea"!==o||""!==d)&&Le(e,d):"number"==typeof d&&Le(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(k.hasOwnProperty(i)?null!=d&&ln(n,i):null!=d&&Q(e,i,d,l))}switch(o){case"input":ye(e),we(e,r,!1);break;case"textarea":ye(e),xe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Se(e,!!r.multiple,n,!1):null!=r.defaultValue&&Se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=un)}bn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Ro(To.current),Ro(Vo.current),Na(t)?(n=t.stateNode,r=t.memoizedProps,n[kn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[kn]=t,t.stateNode=n)}return null;case 13:return ls(Do),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Na(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(i=t.firstEffect)?(t.firstEffect=o,o.nextEffect=i):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?Ni===yi&&(Ni=_i):(Ni!==yi&&Ni!==_i||(Ni=Ii),0!==Oi&&null!==ki&&(xl(ki,wi),Al(ki,Oi)))),(n||r)&&(t.effectTag|=4),null);case 4:return xo(),null;case 10:return eo(t),null;case 17:return hs(t.type)&&gs(),null;case 19:if(ls(Do),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(i=r.rendering)){if(o)Xa(r,!1);else if(Ni!==yi||null!==e&&0!=(64&e.effectTag))for(i=t.child;null!==i;){if(null!==(e=jo(i))){for(t.effectTag|=64,Xa(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)i=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=i,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=null===i?null:{expirationTime:i.expirationTime,firstContext:i.firstContext,responders:i.responders}),r=r.sibling;return us(Do,1&Do.current|2),t.child}i=i.sibling}}else{if(!o)if(null!==(e=jo(i))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bs()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Xa(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=r.last)?n.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bs()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bs(),n.sibling=null,t=Do.current,us(Do,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Qa(e){switch(e.tag){case 1:hs(e.type)&&gs();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(xo(),ls(fs),ls(ds),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Co(e),null;case 13:return ls(Do),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ls(Do),null;case 4:return xo(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:be(t)}}La=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var i,l,u=t.stateNode;switch(Ro(Vo.current),e=null,n){case"input":a=Ie(u,a),r=Ie(u,r),e=[];break;case"option":a=Ve(u,a),r=Ve(u,r),e=[];break;case"select":a=s({},a,{value:void 0}),r=s({},r,{value:void 0}),e=[];break;case"textarea":a=Te(u,a),r=Te(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=un)}for(i in sn(n,r),n=null,a)if(!r.hasOwnProperty(i)&&a.hasOwnProperty(i)&&null!=a[i])if("style"===i)for(l in u=a[i])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(k.hasOwnProperty(i)?e||(e=[]):(e=e||[]).push(i,null));for(i in r){var c=r[i];if(u=null!=a?a[i]:void 0,r.hasOwnProperty(i)&&c!==u&&(null!=c||null!=u))if("style"===i)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(i,n)),n=c;else"dangerouslySetInnerHTML"===i?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(i,c)):"children"===i?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(i,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&(k.hasOwnProperty(i)?(null!=c&&ln(o,i),e||u===c||(e=[])):(e=e||[]).push(i,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},qa=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function ei(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=be(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ti(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){vl(e,t)}else t.current=null}function ni(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ks(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ri(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function si(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oi(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void si(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ks(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function ai(e,t,n){switch("function"==typeof Il&&Il(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;qs(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var s=t;try{n()}catch(e){vl(s,e)}}e=e.next}while(e!==r)}))}break;case 1:ti(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){vl(e,t)}}(t,n);break;case 5:ti(t);break;case 4:ci(e,t,n)}}function ii(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ii(t)}function li(e){return 5===e.tag||3===e.tag||4===e.tag}function ui(e){e:{for(var t=e.return;null!==t;){if(li(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Le(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||li(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var s=t.tag,o=5===s||6===s;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==s&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var s=t.tag,o=5===s||6===s;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==s&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ci(e,t,n){for(var r,s,o=t,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(a(160));switch(r=i.stateNode,i.tag){case 5:s=!1;break e;case 3:case 4:r=r.containerInfo,s=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,d=u;;)if(ai(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,s=!0,o.child.return=o,o=o.child;continue}}else if(ai(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function di(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ri(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,s=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[En]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(n,r),on(e,s),t=on(e,r),s=0;s<o.length;s+=2){var i=o[s],l=o[s+1];"style"===i?nn(n,l):"dangerouslySetInnerHTML"===i?Be(n,l):"children"===i?Le(n,l):Q(n,i,l,t)}switch(e){case"input":Ee(n,r);break;case"textarea":Oe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Se(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Se(n,!!r.multiple,r.defaultValue,!0):Se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ai=Bs()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,s=null!=(s=e.memoizedProps.style)&&s.hasOwnProperty("display")?s.display:null,o.style.display=tn("display",s));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fi(t);case 19:return void fi(t);case 17:return}throw Error(a(163))}function fi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=yl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var mi="function"==typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=io(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Di||(Di=!0,ji=r),ei(e,t)},n}function hi(e,t,n){(n=io(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var s=t.value;n.payload=function(){return ei(e,t),r(s)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fi?Fi=new Set([this]):Fi.add(this),ei(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gi,bi=Math.ceil,vi=Y.ReactCurrentDispatcher,Mi=Y.ReactCurrentOwner,yi=0,_i=3,Ii=4,Pi=0,ki=null,Ei=null,wi=0,Ni=yi,Vi=null,Si=1073741823,Ti=1073741823,Ri=null,Oi=0,xi=!1,Ai=0,Ci=null,Di=!1,ji=null,Fi=null,Bi=!1,Li=null,Ui=90,qi=null,zi=0,Hi=null,Wi=0;function Gi(){return 0!=(48&Pi)?1073741821-(Bs()/10|0):0!==Wi?Wi:Wi=1073741821-(Bs()/10|0)}function $i(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Ls();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Pi))return wi;if(null!==n)e=$s(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=$s(e,150,100);break;case 97:case 96:e=$s(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==ki&&e===wi&&--e,e}function Ki(e,t){if(50<zi)throw zi=0,Hi=null,Error(a(185));if(null!==(e=Xi(e,t))){var n=Ls();1073741823===t?0!=(8&Pi)&&0==(48&Pi)?Zi(e):(Qi(e),0===Pi&&Ws()):Qi(e),0==(4&Pi)||98!==n&&99!==n||(null===qi?qi=new Map([[e,t]]):(void 0===(n=qi.get(e))||n>t)&&qi.set(e,t))}}function Xi(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,s=null;if(null===r&&3===e.tag)s=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){s=r.stateNode;break}r=r.return}return null!==s&&(ki===s&&(al(t),Ni===Ii&&xl(s,wi)),Al(s,t)),s}function Yi(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ol(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qi(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hs(Zi.bind(null,e));else{var t=Yi(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Gi();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var s=e.callbackPriority;if(e.callbackExpirationTime===t&&s>=r)return;n!==Os&&Ps(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Hs(Zi.bind(null,e)):zs(r,Ji.bind(null,e),{timeout:10*(1073741821-t)-Bs()}),e.callbackNode=t}}}function Ji(e,t){if(Wi=0,t)return Cl(e,t=Gi()),Qi(e),null;var n=Yi(e);if(0!==n){if(t=e.callbackNode,0!=(48&Pi))throw Error(a(327));if(hl(),e===ki&&n===wi||nl(e,n),null!==Ei){var r=Pi;Pi|=16;for(var s=sl();;)try{ll();break}catch(t){rl(e,t)}if(Zs(),Pi=r,vi.current=s,1===Ni)throw t=Vi,nl(e,n),xl(e,n),Qi(e),t;if(null===Ei)switch(s=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ni,ki=null,r){case yi:case 1:throw Error(a(345));case 2:Cl(e,2<n?2:n);break;case _i:if(xl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(s)),1073741823===Si&&10<(s=Ai+500-Bs())){if(xi){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Yi(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Mn(fl.bind(null,e),s);break}fl(e);break;case Ii:if(xl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(s)),xi&&(0===(s=e.lastPingedTime)||s>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(s=Yi(e))&&s!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ti?r=10*(1073741821-Ti)-Bs():1073741823===Si?r=0:(r=10*(1073741821-Si)-5e3,0>(r=(s=Bs())-r)&&(r=0),(n=10*(1073741821-n)-s)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bi(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Mn(fl.bind(null,e),r);break}fl(e);break;case 5:if(1073741823!==Si&&null!==Ri){o=Si;var i=Ri;if(0>=(r=0|i.busyMinDurationMs)?r=0:(s=0|i.busyDelayMs,r=(o=Bs()-(10*(1073741821-o)-(0|i.timeoutMs||5e3)))<=s?0:s+r-o),10<r){xl(e,n),e.timeoutHandle=Mn(fl.bind(null,e),r);break}}fl(e);break;default:throw Error(a(329))}if(Qi(e),e.callbackNode===t)return Ji.bind(null,e)}}return null}function Zi(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Pi))throw Error(a(327));if(hl(),e===ki&&t===wi||nl(e,t),null!==Ei){var n=Pi;Pi|=16;for(var r=sl();;)try{il();break}catch(t){rl(e,t)}if(Zs(),Pi=n,vi.current=r,1===Ni)throw n=Vi,nl(e,t),xl(e,t),Qi(e),n;if(null!==Ei)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ki=null,fl(e),Qi(e)}return null}function el(e,t){var n=Pi;Pi|=1;try{return e(t)}finally{0===(Pi=n)&&Ws()}}function tl(e,t){var n=Pi;Pi&=-2,Pi|=8;try{return e(t)}finally{0===(Pi=n)&&Ws()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,yn(n)),null!==Ei)for(n=Ei.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gs();break;case 3:xo(),ls(fs),ls(ds);break;case 5:Co(r);break;case 4:xo();break;case 13:case 19:ls(Do);break;case 10:eo(r)}n=n.return}ki=e,Ei=wl(e.current,null),wi=t,Ni=yi,Vi=null,Ti=Si=1073741823,Ri=null,Oi=0,xi=!1}function rl(e,t){for(;;){try{if(Zs(),Bo.current=ga,Wo)for(var n=qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Uo=0,Ho=zo=qo=null,Wo=!1,null===Ei||null===Ei.return)return Ni=1,Vi=t,Ei=null;e:{var s=e,o=Ei.return,a=Ei,i=t;if(t=wi,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var l=i;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Do.current),d=o;do{var f;if(f=13===d.tag){var m=d.memoizedState;if(null!==m)f=null!==m.dehydrated;else{var p=d.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var h=d.updateQueue;if(null===h){var g=new Set;g.add(l),d.updateQueue=g}else h.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var b=io(1073741823,null);b.tag=2,lo(a,b)}a.expirationTime=1073741823;break e}i=void 0,a=t;var v=s.pingCache;if(null===v?(v=s.pingCache=new mi,i=new Set,v.set(l,i)):void 0===(i=v.get(l))&&(i=new Set,v.set(l,i)),!i.has(a)){i.add(a);var M=Ml.bind(null,s,l,a);l.then(M,M)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);i=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+be(a))}5!==Ni&&(Ni=2),i=Ja(i,a),d=o;do{switch(d.tag){case 3:l=i,d.effectTag|=4096,d.expirationTime=t,uo(d,pi(d,l,t));break e;case 1:l=i;var y=d.type,_=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Fi||!Fi.has(_)))){d.effectTag|=4096,d.expirationTime=t,uo(d,hi(d,l,t));break e}}d=d.return}while(null!==d)}Ei=cl(Ei)}catch(e){t=e;continue}break}}function sl(){var e=vi.current;return vi.current=ga,null===e?ga:e}function ol(e,t){e<Si&&2<e&&(Si=e),null!==t&&e<Ti&&2<e&&(Ti=e,Ri=t)}function al(e){e>Oi&&(Oi=e)}function il(){for(;null!==Ei;)Ei=ul(Ei)}function ll(){for(;null!==Ei&&!xs();)Ei=ul(Ei)}function ul(e){var t=gi(e.alternate,e,wi);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),Mi.current=null,t}function cl(e){Ei=e;do{var t=Ei.alternate;if(e=Ei.return,0==(2048&Ei.effectTag)){if(t=Ya(t,Ei,wi),1===wi||1!==Ei.childExpirationTime){for(var n=0,r=Ei.child;null!==r;){var s=r.expirationTime,o=r.childExpirationTime;s>n&&(n=s),o>n&&(n=o),r=r.sibling}Ei.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ei.firstEffect),null!==Ei.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ei.firstEffect),e.lastEffect=Ei.lastEffect),1<Ei.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ei:e.firstEffect=Ei,e.lastEffect=Ei))}else{if(null!==(t=Qa(Ei)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ei.sibling))return t;Ei=e}while(null!==Ei);return Ni===yi&&(Ni=5),null}function dl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fl(e){var t=Ls();return qs(99,ml.bind(null,e,t)),null}function ml(e,t){do{hl()}while(null!==Li);if(0!=(48&Pi))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var s=dl(n);if(e.firstPendingTime=s,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ki&&(Ei=ki=null,wi=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,s=n.firstEffect):s=n:s=n.firstEffect,null!==s){var o=Pi;Pi|=32,Mi.current=null,hn=Gt;var i=mn();if(pn(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{var u=(l=(l=i.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var f=0,m=-1,p=-1,h=0,g=0,b=i,v=null;t:for(;;){for(var M;b!==l||0!==c&&3!==b.nodeType||(m=f+c),b!==d||0!==u&&3!==b.nodeType||(p=f+u),3===b.nodeType&&(f+=b.nodeValue.length),null!==(M=b.firstChild);)v=b,b=M;for(;;){if(b===i)break t;if(v===l&&++h===c&&(m=f),v===d&&++g===u&&(p=f),null!==(M=b.nextSibling))break;v=(b=v).parentNode}b=M}l=-1===m||-1===p?null:{start:m,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;gn={activeElementDetached:null,focusedElem:i,selectionRange:l},Gt=!1,Ci=s;do{try{pl()}catch(e){if(null===Ci)throw Error(a(330));vl(Ci,e),Ci=Ci.nextEffect}}while(null!==Ci);Ci=s;do{try{for(i=e,l=t;null!==Ci;){var y=Ci.effectTag;if(16&y&&Le(Ci.stateNode,""),128&y){var _=Ci.alternate;if(null!==_){var I=_.ref;null!==I&&("function"==typeof I?I(null):I.current=null)}}switch(1038&y){case 2:ui(Ci),Ci.effectTag&=-3;break;case 6:ui(Ci),Ci.effectTag&=-3,di(Ci.alternate,Ci);break;case 1024:Ci.effectTag&=-1025;break;case 1028:Ci.effectTag&=-1025,di(Ci.alternate,Ci);break;case 4:di(Ci.alternate,Ci);break;case 8:ci(i,c=Ci,l),ii(c)}Ci=Ci.nextEffect}}catch(e){if(null===Ci)throw Error(a(330));vl(Ci,e),Ci=Ci.nextEffect}}while(null!==Ci);if(I=gn,_=mn(),y=I.focusedElem,l=I.selectionRange,_!==y&&y&&y.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(y.ownerDocument.documentElement,y)){null!==l&&pn(y)&&(_=l.start,void 0===(I=l.end)&&(I=_),"selectionStart"in y?(y.selectionStart=_,y.selectionEnd=Math.min(I,y.value.length)):(I=(_=y.ownerDocument||document)&&_.defaultView||window).getSelection&&(I=I.getSelection(),c=y.textContent.length,i=Math.min(l.start,c),l=void 0===l.end?i:Math.min(l.end,c),!I.extend&&i>l&&(c=l,l=i,i=c),c=fn(y,i),d=fn(y,l),c&&d&&(1!==I.rangeCount||I.anchorNode!==c.node||I.anchorOffset!==c.offset||I.focusNode!==d.node||I.focusOffset!==d.offset)&&((_=_.createRange()).setStart(c.node,c.offset),I.removeAllRanges(),i>l?(I.addRange(_),I.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),I.addRange(_))))),_=[];for(I=y;I=I.parentNode;)1===I.nodeType&&_.push({element:I,left:I.scrollLeft,top:I.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<_.length;y++)(I=_[y]).element.scrollLeft=I.left,I.element.scrollTop=I.top}Gt=!!hn,gn=hn=null,e.current=n,Ci=s;do{try{for(y=e;null!==Ci;){var P=Ci.effectTag;if(36&P&&oi(y,Ci.alternate,Ci),128&P){_=void 0;var k=Ci.ref;if(null!==k){var E=Ci.stateNode;switch(Ci.tag){case 5:_=E;break;default:_=E}"function"==typeof k?k(_):k.current=_}}Ci=Ci.nextEffect}}catch(e){if(null===Ci)throw Error(a(330));vl(Ci,e),Ci=Ci.nextEffect}}while(null!==Ci);Ci=null,As(),Pi=o}else e.current=n;if(Bi)Bi=!1,Li=e,Ui=t;else for(Ci=s;null!==Ci;)t=Ci.nextEffect,Ci.nextEffect=null,Ci=t;if(0===(t=e.firstPendingTime)&&(Fi=null),1073741823===t?e===Hi?zi++:(zi=0,Hi=e):zi=0,"function"==typeof _l&&_l(n.stateNode,r),Qi(e),Di)throw Di=!1,e=ji,ji=null,e;return 0!=(8&Pi)||Ws(),null}function pl(){for(;null!==Ci;){var e=Ci.effectTag;0!=(256&e)&&ni(Ci.alternate,Ci),0==(512&e)||Bi||(Bi=!0,zs(97,(function(){return hl(),null}))),Ci=Ci.nextEffect}}function hl(){if(90!==Ui){var e=97<Ui?97:Ui;return Ui=90,qs(e,gl)}}function gl(){if(null===Li)return!1;var e=Li;if(Li=null,0!=(48&Pi))throw Error(a(331));var t=Pi;for(Pi|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ri(5,n),si(5,n)}}catch(t){if(null===e)throw Error(a(330));vl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Pi=t,Ws(),!0}function bl(e,t,n){lo(e,t=pi(e,t=Ja(n,t),1073741823)),null!==(e=Xi(e,1073741823))&&Qi(e)}function vl(e,t){if(3===e.tag)bl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){bl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fi||!Fi.has(r))){lo(n,e=hi(n,e=Ja(t,e),1073741823)),null!==(n=Xi(n,1073741823))&&Qi(n);break}}n=n.return}}function Ml(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ki===e&&wi===n?Ni===Ii||Ni===_i&&1073741823===Si&&Bs()-Ai<500?nl(e,wi):xi=!0:Ol(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qi(e)))}function yl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$i(t=Gi(),e,null)),null!==(e=Xi(e,t))&&Qi(e)}gi=function(e,t,n){var r=t.expirationTime;if(null!==e){var s=t.pendingProps;if(e.memoizedProps!==s||fs.current)Ta=!0;else{if(r<n){switch(Ta=!1,t.tag){case 3:Ba(t),Va();break;case 5:if(Ao(t),4&t.mode&&1!==n&&s.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:hs(t.type)&&Ms(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,s=t.type._context,us(Xs,s._currentValue),s._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ha(e,t,n):(us(Do,1&Do.current),null!==(t=Ka(e,t,n))?t.sibling:null);us(Do,1&Do.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return $a(e,t,n);t.effectTag|=64}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null),us(Do,Do.current),!r)return null}return Ka(e,t,n)}Ta=!1}}else Ta=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,s=ps(t,ds.current),no(t,n),s=Ko(null,t,r,e,s,n),t.effectTag|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,hs(r)){var o=!0;Ms(t)}else o=!1;t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,oo(t);var i=r.getDerivedStateFromProps;"function"==typeof i&&ho(t,r,i,e),s.updater=go,t.stateNode=s,s._reactInternalFiber=t,yo(t,r,e,n),t=Fa(null,t,r,!0,o,n)}else t.tag=0,Ra(null,t,s,n),t=t.child;return t;case 16:e:{if(s=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(s),1!==s._status)throw s._result;switch(s=s._result,t.type=s,o=t.tag=function(e){if("function"==typeof e)return El(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(s),e=Ks(s,e),o){case 0:t=Da(null,t,s,e,n);break e;case 1:t=ja(null,t,s,e,n);break e;case 11:t=Oa(null,t,s,e,n);break e;case 14:t=xa(null,t,s,Ks(s.type,e),r,n);break e}throw Error(a(306,s,""))}return t;case 0:return r=t.type,s=t.pendingProps,Da(e,t,r,s=t.elementType===r?s:Ks(r,s),n);case 1:return r=t.type,s=t.pendingProps,ja(e,t,r,s=t.elementType===r?s:Ks(r,s),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,s=null!==(s=t.memoizedState)?s.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===s)Va(),t=Ka(e,t,n);else{if((s=t.stateNode.hydrate)&&(_a=_n(t.stateNode.containerInfo.firstChild),ya=t,s=Ia=!0),s)for(n=wo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ra(e,t,r,n),Va();t=t.child}return t;case 5:return Ao(t),null===e&&Ea(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,vn(r,s)?i=null:null!==o&&vn(r,o)&&(t.effectTag|=16),Ca(e,t),4&t.mode&&1!==n&&s.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ra(e,t,i,n),t=t.child),t;case 6:return null===e&&Ea(t),null;case 13:return Ha(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,Oa(e,t,r,s=t.elementType===r?s:Ks(r,s),n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value;var l=t.type._context;if(us(Xs,l._currentValue),l._currentValue=o,null!==i)if(l=i.value,0===(o=jr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(i.children===s.children&&!fs.current){t=Ka(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){i=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=io(n,null)).tag=2,lo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else i=10===l.tag&&l.type===t.type?null:l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}Ra(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(s=ro(s,o.unstable_observedBits)),t.effectTag|=1,Ra(e,t,r,n),t.child;case 14:return o=Ks(s=t.type,t.pendingProps),xa(e,t,s,o=Ks(s.type,o),r,n);case 15:return Aa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ks(r,s),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,hs(r)?(e=!0,Ms(t)):e=!1,no(t,n),vo(t,r,s),yo(t,r,s,n),Fa(null,t,r,!0,e,n);case 19:return $a(e,t,n)}throw Error(a(156,t.tag))};var _l=null,Il=null;function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function kl(e,t,n,r){return new Pl(e,t,n,r)}function El(e){return!(!(e=e.prototype)||!e.isReactComponent)}function wl(e,t){var n=e.alternate;return null===n?((n=kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,r,s,o){var i=2;if(r=e,"function"==typeof e)El(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case ne:return Vl(n.children,s,o,t);case ie:i=8,s|=7;break;case re:i=8,s|=1;break;case se:return(e=kl(12,n,t,8|s)).elementType=se,e.type=se,e.expirationTime=o,e;case ue:return(e=kl(13,n,t,s)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=kl(19,n,t,s)).elementType=ce,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:i=10;break e;case ae:i=9;break e;case le:i=11;break e;case de:i=14;break e;case fe:i=16,r=null;break e;case me:i=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=kl(i,n,t,s)).elementType=e,t.type=r,t.expirationTime=o,t}function Vl(e,t,n,r){return(e=kl(7,e,r,t)).expirationTime=n,e}function Sl(e,t,n){return(e=kl(6,e,null,t)).expirationTime=n,e}function Tl(e,t,n){return(t=kl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ol(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function xl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Al(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Cl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Dl(e,t,n,r){var s=t.current,o=Gi(),i=mo.suspense;o=$i(o,s,i);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(hs(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(hs(u)){n=vs(n,u,l);break e}}n=l}else n=cs;return null===t.context?t.context=n:t.pendingContext=n,(t=io(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(s,t),Ki(s,o),o}function jl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function Ll(e,t,n){var r=new Rl(e,t,n=null!=n&&!0===n.hydrate),s=kl(3,null,null,2===t?7:1===t?3:0);r.current=s,s.stateNode=r,oo(s),e[wn]=r.current,n&&0!==t&&function(e,t){var n=Je(t);wt.forEach((function(e){pt(e,t,n)})),Nt.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Ul(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ql(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof s){var i=s;s=function(){var e=jl(a);i.call(e)}}Dl(t,a,e,s)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ll(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof s){var l=s;s=function(){var e=jl(a);l.call(e)}}tl((function(){Dl(t,a,e,s)}))}return jl(a)}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ul(t))throw Error(a(200));return zl(e,t,null,n)}Ll.prototype.render=function(e){Dl(e,this._internalRoot,null,null)},Ll.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Dl(null,e,null,(function(){t[wn]=null}))},ht=function(e){if(13===e.tag){var t=$s(Gi(),150,100);Ki(e,t),Bl(e,t)}},gt=function(e){13===e.tag&&(Ki(e,3),Bl(e,3))},bt=function(e){if(13===e.tag){var t=Gi();Ki(e,t=$i(t,e,null)),Bl(e,t)}},V=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Tn(r);if(!s)throw Error(a(90));_e(r),Ee(r,s)}}}break;case"textarea":Oe(e,n);break;case"select":null!=(t=n.value)&&Se(e,!!n.multiple,t,!1)}},A=el,C=function(e,t,n,r,s){var o=Pi;Pi|=4;try{return qs(98,e.bind(null,t,n,r,s))}finally{0===(Pi=o)&&Ws()}},D=function(){0==(49&Pi)&&(function(){if(null!==qi){var e=qi;qi=null,e.forEach((function(e,t){Cl(t,e),Qi(t)})),Ws()}}(),hl())},j=function(e,t){var n=Pi;Pi|=2;try{return e(t)}finally{0===(Pi=n)&&Ws()}};var Wl,Gl,$l={Events:[Vn,Sn,Tn,w,P,jn,function(e){st(e,Dn)},O,x,Qt,it,hl,{current:!1}]};Gl=(Wl={findFiberByHostInstance:Nn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);_l=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Il=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(s({},Wl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Gl?Gl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$l,t.createPortal=Hl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Pi))throw Error(a(187));var n=Pi;Pi|=1;try{return qs(99,e.bind(null,t))}finally{Pi=n,Ws()}},t.hydrate=function(e,t,n){if(!Ul(t))throw Error(a(200));return ql(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ul(t))throw Error(a(200));return ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[wn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Hl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ul(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return ql(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(79)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,s,o,a,i;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},s=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,m=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var b=m.now();t.unstable_now=function(){return m.now()-b}}var v=!1,M=null,y=-1,_=5,I=0;a=function(){return t.unstable_now()>=I},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var P=new MessageChannel,k=P.port2;P.port1.onmessage=function(){if(null!==M){var e=t.unstable_now();I=e+_;try{M(!0,e)?k.postMessage(null):(v=!1,M=null)}catch(e){throw k.postMessage(null),e}}else v=!1},r=function(e){M=e,v||(v=!0,k.postMessage(null))},s=function(e,n){y=p((function(){e(t.unstable_now())}),n)},o=function(){h(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,s=e[r];if(!(void 0!==s&&0<V(s,t)))break e;e[r]=t,e[n]=s,n=r}}function w(e){return void 0===(e=e[0])?null:e}function N(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length;r<s;){var o=2*(r+1)-1,a=e[o],i=o+1,l=e[i];if(void 0!==a&&0>V(a,n))void 0!==l&&0>V(l,a)?(e[r]=l,e[i]=n,r=i):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>V(l,n)))break e;e[r]=l,e[i]=n,r=i}}}return t}return null}function V(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],R=1,O=null,x=3,A=!1,C=!1,D=!1;function j(e){for(var t=w(T);null!==t;){if(null===t.callback)N(T);else{if(!(t.startTime<=e))break;N(T),t.sortIndex=t.expirationTime,E(S,t)}t=w(T)}}function F(e){if(D=!1,j(e),!C)if(null!==w(S))C=!0,r(B);else{var t=w(T);null!==t&&s(F,t.startTime-e)}}function B(e,n){C=!1,D&&(D=!1,o()),A=!0;var r=x;try{for(j(n),O=w(S);null!==O&&(!(O.expirationTime>n)||e&&!a());){var i=O.callback;if(null!==i){O.callback=null,x=O.priorityLevel;var l=i(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?O.callback=l:O===w(S)&&N(S),j(n)}else N(S);O=w(S)}if(null!==O)var u=!0;else{var c=w(T);null!==c&&s(F,c.startTime-n),u=!1}return u}finally{O=null,x=r,A=!1}}function L(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){C||A||(C=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return w(S)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,n,a){var i=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?i+l:i,a="number"==typeof a.timeout?a.timeout:L(e)}else a=L(e),l=i;return e={id:R++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>i?(e.sortIndex=l,E(T,e),null===w(S)&&e===w(T)&&(D?o():D=!0,s(F,l-i))):(e.sortIndex=a,E(S,e),C||A||(C=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var n=w(S);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},function(e,t,n){},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(45),s=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(s,""):e}},function(e,t,n){var r=n(33),s=Object.prototype,o=s.hasOwnProperty,a=s.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(e){}var s=a.call(e);return r&&(t?e[i]=n:delete e[i]),s}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(86),s=n(48);e.exports=function(e){return s(r(e))}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){var n=Math.floor,r=Math.random;e.exports=function(e,t){return e+n(r()*(t-e+1))}},function(e,t,n){var r=n(48),s=n(89);e.exports=function(e){return r(s(e))}},function(e,t,n){var r=n(90),s=n(91);e.exports=function(e){return null==e?[]:r(e,s(e))}},function(e,t,n){var r=n(49);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){var r=n(92),s=n(102),o=n(52);e.exports=function(e){return o(e)?r(e):s(e)}},function(e,t,n){var r=n(93),s=n(94),o=n(35),a=n(96),i=n(50),l=n(98),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&s(e),d=!n&&!c&&a(e),f=!n&&!c&&!d&&l(e),m=n||c||d||f,p=m?r(e.length,String):[],h=p.length;for(var g in e)!t&&!u.call(e,g)||m&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,h))||p.push(g);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(95),s=n(27),o=Object.prototype,a=o.hasOwnProperty,i=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return s(e)&&a.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(26),s=n(27);e.exports=function(e){return s(e)&&"[object Arguments]"==r(e)}},function(e,t,n){(function(e){var r=n(34),s=n(97),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:void 0,l=(i?i.isBuffer:void 0)||s;e.exports=l}).call(this,n(36)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(99),s=n(100),o=n(101),a=o&&o.isTypedArray,i=a?s(a):r;e.exports=i},function(e,t,n){var r=n(26),s=n(51),o=n(27),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&s(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(47),s=t&&!t.nodeType&&t,o=s&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===s&&r.process,i=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}).call(this,n(36)(e))},function(e,t,n){var r=n(103),s=n(104),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(105)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(26),s=n(25);e.exports=function(e){if(!s(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var d,f,m,p,h=e[c].replace(i,"%20"),g=h.indexOf(n);g>=0?(d=h.substr(0,g),f=h.substr(g+1)):(d=h,f=""),m=decodeURIComponent(d),p=decodeURIComponent(f),r(a,m)?s(a[m])?a[m].push(p):a[m]=[a[m],p]:a[m]=p}return a};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var i=encodeURIComponent(r(a))+n;return s(e[a])?o(e[a],(function(e){return i+encodeURIComponent(r(e))})).join(t):i+encodeURIComponent(r(e[a]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var r=n(110);function s(){}function o(){}o.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,o,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:s};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,M=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function I(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case d:case f:case a:case l:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case m:case b:case g:case u:return e;default:return t}}case o:return t}}}function P(e){return I(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=s,t.ForwardRef=m,t.Fragment=a,t.Lazy=b,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return P(e)||I(e)===d},t.isConcurrentMode=P,t.isContextConsumer=function(e){return I(e)===c},t.isContextProvider=function(e){return I(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return I(e)===m},t.isFragment=function(e){return I(e)===a},t.isLazy=function(e){return I(e)===b},t.isMemo=function(e){return I(e)===g},t.isPortal=function(e){return I(e)===o},t.isProfiler=function(e){return I(e)===l},t.isStrictMode=function(e){return I(e)===i},t.isSuspense=function(e){return I(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===i||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===M||e.$$typeof===y||e.$$typeof===_||e.$$typeof===v)},t.typeOf=I},function(e,t,n){var r=n(53);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(28).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!==r(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(116),s=n(117),o=n(55),a=n(118);e.exports=function(e,t){return r(e)||s(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(120);e.exports=function(e,t){if(null==e)return{};var n,s,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(54);function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,r(s.key),s)}}e.exports=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(124);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(126),s=n(127),o=n(128);e.exports=function(e){var t=s();return function(){var n,s=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(s,arguments,a)}else n=s.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(28).default,s=n(129);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(131),s=n(132),o=n(55),a=n(133);e.exports=function(e){return r(e)||s(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(56);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(34);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";function r(e){let t;if(e){if(!(e instanceof ArrayBuffer))throw Error("Invalid buffer received.");if(this.datas=new DataView(e,0,r.HEADER_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"h"!==String.fromCharCode(this.datas.getUint8(2))||"d"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileHeader : MThd prefix not found");if(6!==this.datas.getUint32(4))throw new Error("Invalid MIDIFileHeader : Chunk length must be 6")}else t=new Uint8Array(r.HEADER_LENGTH),t[0]=77,t[1]=84,t[2]=104,t[3]=100,t[4]=0,t[5]=0,t[6]=0,t[7]=6,t[8]=0,t[9]=1,t[10]=0,t[11]=1,t[12]=0,t[13]=192,this.datas=new DataView(t.buffer,0,r.HEADER_LENGTH)}r.HEADER_LENGTH=14,r.FRAMES_PER_SECONDS=1,r.TICKS_PER_BEAT=2,r.prototype.getFormat=function(){const e=this.datas.getUint16(8);if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI file : MIDI format ("+e+"), format can be 0, 1 or 2 only.");return e},r.prototype.setFormat=function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI format given ("+e+"), format can be 0, 1 or 2 only.");this.datas.setUint16(8,e)},r.prototype.getTracksCount=function(){return this.datas.getUint16(10)},r.prototype.setTracksCount=function(e){return this.datas.setUint16(10,e)},r.prototype.getTickResolution=function(e){return 32768&this.datas.getUint16(12)?1e6/(this.getSMPTEFrames()*this.getTicksPerFrame()):(e=e||5e5)/this.getTicksPerBeat()},r.prototype.getTimeDivision=function(){return 32768&this.datas.getUint16(12)?r.FRAMES_PER_SECONDS:r.TICKS_PER_BEAT},r.prototype.getTicksPerBeat=function(){var e=this.datas.getUint16(12);if(32768&e)throw new Error("Time division is not expressed as ticks per beat.");return e},r.prototype.setTicksPerBeat=function(e){this.datas.setUint16(12,32767&e)},r.prototype.getSMPTEFrames=function(){const e=this.datas.getUint16(12);let t;if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");if(t=32512&e,-1===[24,25,29,30].indexOf(t))throw new Error("Invalid SMPTE frames value ("+t+").");return 29===t?29.97:t},r.prototype.getTicksPerFrame=function(){const e=this.datas.getUint16(12);if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");return 255&e},r.prototype.setSMTPEDivision=function(e,t){if(29.97===e&&(e=29),-1===[24,25,29,30].indexOf(e))throw new Error("Invalid SMPTE frames value given ("+e+").");if(0>t||255<t)throw new Error("Invalid ticks per frame value given ("+e+").");this.datas.setUint8(12,128|e),this.datas.setUint8(13,t)},e.exports=r},function(e,t,n){"use strict";function r(e,t){let n,s;if(e){if(!(e instanceof ArrayBuffer))throw new Error("Invalid buffer received.");if(12>e.byteLength-t)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : Buffer length must size at least 12bytes");if(this.datas=new DataView(e,t,r.HDR_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"r"!==String.fromCharCode(this.datas.getUint8(2))||"k"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : MTrk prefix not found");if(s=this.getTrackLength(),e.byteLength-t<s)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : The track size exceed the buffer length.");if(this.datas=new DataView(e,t,r.HDR_LENGTH+s),255!==this.datas.getUint8(r.HDR_LENGTH+(s-3))||47!==this.datas.getUint8(r.HDR_LENGTH+(s-2))||0!==this.datas.getUint8(r.HDR_LENGTH+(s-1)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : No track end event found at the expected index ("+(r.HDR_LENGTH+(s-1)).toString(16)+").")}else n=new Uint8Array(12),n[0]=77,n[1]=84,n[2]=114,n[3]=107,n[4]=0,n[5]=0,n[6]=0,n[7]=4,n[8]=0,n[9]=255,n[10]=47,n[11]=0,this.datas=new DataView(n.buffer,0,r.HDR_LENGTH+4)}r.HDR_LENGTH=8,r.prototype.getTrackLength=function(){return this.datas.getUint32(4)},r.prototype.setTrackLength=function(e){return this.datas.setUint32(4,e)},r.prototype.getTrackContent=function(){return new DataView(this.datas.buffer,this.datas.byteOffset+r.HDR_LENGTH,this.datas.byteLength-r.HDR_LENGTH)},r.prototype.setTrackContent=function(e){let t,n,s,o;const a=e.byteLength-e.byteOffset;if(4>a)throw new Error("Invalid track length, must size at least 4bytes");for(this.datas=new DataView(new Uint8Array(r.HDR_LENGTH+a).buffer),this.datas.setUint8(0,77),this.datas.setUint8(1,84),this.datas.setUint8(2,114),this.datas.setUint8(3,107),this.datas.setUint32(4,a),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=new Uint8Array(this.datas.buffer,r.HDR_LENGTH,a),s=0,o=t.length;s<o;s++)n[s]=t[s]},e.exports=r},function(e,t){function n(e){return 240==(240&e)?4:224==(224&e)?3:192==(192&e)?2:e==(127&e)?1:0}function r(e,t,r){var s=0,o="";if(t=t||0,e.length-t<=0)throw new Error("No more characters remaining in array.");if(0==(r=r||n(e[t])))throw new Error(e[t].toString(2)+" is not a significative byte (offset:"+t+").");if(1===r)return e[t];if(e.length-t<r)throw new Error("Expected at least "+r+" bytes remaining in array.");if(o="00000000".slice(0,r)+1+"00000000".slice(r+1),e[t]&parseInt(o,2))throw Error("Index "+t+": A "+r+" bytes encoded char cannot encode the "+(r+1)+"th rank bit to 1.");for(o="0000".slice(0,r+1)+"11111111".slice(r+1),s+=(e[t]&parseInt(o,2))<<6*--r;r;){if(128!=(128&e[t+1])||64==(64&e[t+1]))throw Error("Index "+(t+1)+': Next bytes of encoded char must begin with a "10" bit sequence.');s+=(63&e[++t])<<6*--r}return s}function s(e,t,s,o){var a,i=[];for(t|=0,s="number"==typeof s?s:e.byteLength||e.length;t<s;t++){if(t+(a=n(e[t]))>s){if(o)throw Error("Index "+t+": Found a "+a+" bytes encoded char declaration but only "+(s-t)+" bytes are available.")}else i.push(String.fromCodePoint(r(e,t,a)));t+=a-1}return i.join("")}function o(e){if(e<128)return 1;if(e<2048)return 2;if(e<65536)return 3;if(e<2097152)return 4;throw new Error("CharCode "+e+" cannot be encoded with UTF8.")}function a(e,t,n,r){if(e|=0,t=t||[],n|=0,1==(r=r||o(e)))t[n]=e;else for(t[n++]=(parseInt("1111".slice(0,r),2)<<8-r)+(e>>>6*--r);r>0;)t[n++]=e>>>6*--r&63|128;return t}e.exports={isNotUTF8:function(e,t,n){try{s(e,t,n,!0)}catch(e){return!0}return!1},getCharLength:n,getCharCode:r,getStringFromBytes:s,getBytesForCharCode:o,setBytesFromCharCode:a,setBytesFromString:function(e,t,n,r,s){e=e||"",t=t||[],n|=0,r="number"==typeof r?r:t.byteLength||1/0;for(var i=0,l=e.length;i<l;i++){var u=o(e[i].codePointAt(0));if(s&&n+u>r)throw new Error('Not enought bytes to encode the char "'+e[i]+'" at the offset "'+n+'".');a(e[i].codePointAt(0),t,n,u),n+=u}return t}}},function(e,t,n){var r=n(141),s=n(142),o=n(144);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&s(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,s,o){for(var a=-1,i=r(n((t-e)/(s||1)),0),l=Array(i);i--;)l[o?i:++a]=e,e+=s;return l}},function(e,t,n){var r=n(143),s=n(52),o=n(50),a=n(25);e.exports=function(e,t,n){if(!a(n))return!1;var i=typeof t;return!!("number"==i?s(n)&&o(t,n.length):"string"==i&&t in n)&&r(n[t],e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(32);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){"use strict";n.r(t);var r=n(4),s=n.n(r),o=n(23),a=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=t,this.curEvent=t[0],this.pos=0,this.loopStartPos=null,this.elapsedLoops=0,this.curTick=0}var t,n,s;return t=e,(n=[{key:"loop",value:function(){this.curTick<1e6&&this.elapsedLoops<1e3&&(this.pos=this.loopStartPos,console.debug("Channel %d looped at tick %d (loop %d completed)",this.curEvent.channel,this.curTick,this.elapsedLoops),this.elapsedLoops++)}},{key:"next",value:function(){var e=this.events[this.pos++];return e?(this.curTick+=e.delta,e.type===r.EVENT_MIDI&&e.subtype===r.EVENT_MIDI_CONTROLLER&&(102===e.param1&&(this.loopStartPos=this.pos),103===e.param1&&this.loop()),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):null}}])&&c(t.prototype,n),s&&c(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return 102===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function p(e){return 103===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function h(e){return 123===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function g(e,t,n){return{channel:t,track:e,playTime:n,type:r.EVENT_MIDI,subtype:r.EVENT_MIDI_CONTROLLER,param1:123,delta:0}}function b(e,t){for(var n=[],r=0,s=0;s<t.length;s++){var o=t[s];r+=o.delta;var a=Math.floor(r/1e3);h(o)?(n[a]="X",r+=1e3):m(o)?n[a]=">":p(o)?n[a]="<":null==n[a]?n[a]="":""===n[a]?n[a]="-":"-"===n[a]&&(n[a]="=")}e=(""+e).padStart(2,"0");for(var i=[],l=0;l<n.length;l++)i[l]=n[l]||" ";console.debug("Track ".concat(e," |").concat(i.join(""),"|"))}a.a.prototype.getLoopedEvents=function(e){var t,n,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=0,l=[],u=this.header.getFormat(),c=this.header.getTickResolution(),d=!1,m=null,p=null;if(1!==u||1===this.tracks.length)for(n=0,r=this.tracks.length;n<r;n++){i=2===u&&i?i:0;var h=new f(e[n]);for(t=h.next();t;)i+=t.delta?t.delta*c/1e3:0,t.type===s.a.EVENT_META&&t.subtype===s.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),m&&t.type!==m||p&&(!t.subtype||t.subtype!==p)||(t.playTime=i,l.push(t)),t=h.next()}else{o=-1;var v=[];for(n=0,r=e.length;n<r;n++)b(n,e[n]),v[n]=new f(e[n]),v[n].curEvent=v[n].next();do{for(o=-1,n=0,r=v.length;n<r;n++)v[n].curEvent&&(-1===o||v[n].curEvent.delta<v[o].curEvent.delta||v[n].curEvent.delta===v[o].curEvent.delta&&v[n].elapsedLoops<v[o].elapsedLoops)&&(o=n);if(-1!==o){for(n=0,r=v.length;n<r;n++)n!==o&&v[n].curEvent&&(v[n].curEvent.delta-=v[o].curEvent.delta);i+=(t=v[o].curEvent).delta?t.delta*c/1e3:0,t.type===s.a.EVENT_META&&t.subtype===s.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),m&&t.type!==m||p&&(!t.subtype||t.subtype!==p)||(t.playTime=i,t.track=o,l.push(t)),v[o].curEvent=v[o].next(),d=v.every((function(e){return null==e.curEvent||e.elapsedLoops>=a}))}}while(-1!==o&&!1===d);for(var M=0;M<v.length;M++){var y;null!==(y=v[M])&&void 0!==y&&y.curEvent&&l.push(g(M,v[M].curEvent.channel,i))}}return console.debug(l),l},a.a.prototype.getTimeEvents=function(e){var t,n,r,o,a=0,i=[],l=this.header.getFormat(),u=this.header.getTickResolution(),c=[],d=0;if(console.log("MIDI format",l),1!==l||1===this.tracks.length)for(n=0,r=this.tracks.length;n<r;n++){a=2===l&&a?a:0;var m=new f(e[n]);for(t=m.next();t;)a+=t.delta?t.delta*u/1e3:0,t.type===s.a.EVENT_META&&(t.subtype===s.a.EVENT_META_SET_TEMPO&&(c.push({type:"bpm",bpm:t.tempoBPM,playTime:a}),u=this.header.getTickResolution(t.tempo)),t.subtype===s.a.EVENT_META_TIME_SIGNATURE&&c.push({type:"timeSignature",numerator:t.param1,denominatorPower:t.param2,playTime:a})),t.playTime=a,i.push(t),t=m.next()}else{o=-1;var p=[];for(n=0,r=e.length;n<r;n++)b(n,e[n]),p[n]=new f(e[n]),p[n].curEvent=p[n].next();do{for(o=-1,n=0,r=p.length;n<r;n++)p[n].curEvent&&(-1===o||p[n].curEvent.delta<p[o].curEvent.delta||p[n].curEvent.delta===p[o].curEvent.delta&&p[n].elapsedLoops<p[o].elapsedLoops)&&(o=n);if(-1!==o){for(n=0,r=p.length;n<r;n++)n!==o&&p[n].curEvent&&(p[n].curEvent.delta-=p[o].curEvent.delta);a+=(t=p[o].curEvent).delta?t.delta*u/1e3:0,t.type===s.a.EVENT_META&&(t.subtype===s.a.EVENT_META_SET_TEMPO&&(c.push({type:"bpm",bpm:t.tempoBPM,playTime:a}),u=this.header.getTickResolution(t.tempo)),t.subtype===s.a.EVENT_META_TIME_SIGNATURE&&c.push({type:"timeSignature",numerator:t.param1,denominatorPower:t.param2,playTime:a})),t.playTime=a,t.track=o,i.push(t),p[o].curEvent=p[o].next()}}while(-1!==o);for(var h=0;h<p.length;h++){var v;null!==(v=p[h])&&void 0!==v&&v.curEvent&&i.push(g(h,p[h].curEvent.channel,a))}}return i.forEach((function(e){var t=e.playTime;t&&(d=Math.max(t,d))})),c.push({type:"bpm",bpm:120,playTime:d}),c.sort((function(e,t){return e.playTime-t.playTime}))}},function(e,t,n){var r=n(147);e.exports=function(e,t,n){var s=e.length;return n=void 0===n?s:n,!t&&n>=s?e:r(e,t,n)}},function(e,t){e.exports=function(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(s);++r<s;)o[r]=e[r+t];return o}},function(e,t,n){var r=n(149);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(150),s=n(151),o=n(152);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,s,n)}},function(e,t){e.exports=function(e,t,n,r){for(var s=e.length,o=n+(r?1:-1);r?o--:++o<s;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(154),s=n(155),o=n(156);e.exports=function(e){return s(e)?o(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+s+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[o,a,i].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[o+r+"?",r,a,i,n].join("|")+")",d=RegExp(s+"(?="+s+")|"+c+u,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,n){var r=n(57);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),o=n(20),a=n.n(o),i=(n(80),n(6));const l=["componentWillMount","UNSAFE_componentWillMount","render","getSnapshotBeforeUpdate","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidCatch","setState","forceUpdate"];function u(e,{exclude:t=[],...n}={}){return n.exclude=[...t,...l],Object(i.a)(e,n)}var c=n(58);class d{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class f{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new c.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,"[DEFAULT]"===r?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p=[];var h;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(h||(h={}));const g={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},b=h.INFO,v={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},M=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),s=v[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${r}]  ${e.name}:`,...n)};class y{constructor(e){this.name=e,this._logLevel=b,this._logHandler=M,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?g[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}}var _=n(11);let I,P;const k=new WeakMap,E=new WeakMap,w=new WeakMap,N=new WeakMap,V=new WeakMap;let S={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return E.get(e);if("objectStoreNames"===t)return e.objectStoreNames||w.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return O(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function T(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(x(this),t),O(k.get(this))}:function(...t){return O(e.apply(x(this),t))}:function(t,...n){const r=e.call(x(this),t,...n);return w.set(r,t.sort?t.sort():[t]),O(r)}}function R(e){return"function"==typeof e?T(e):(e instanceof IDBTransaction&&function(e){if(E.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});E.set(e,t)}(e),t=e,(I||(I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,S):e);var t}function O(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(O(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&k.set(t,e)}).catch(()=>{}),V.set(t,e),t}(e);if(N.has(e))return N.get(e);const t=R(e);return t!==e&&(N.set(e,t),V.set(t,e)),t}const x=e=>V.get(e);const A=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],D=new Map;function j(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(D.get(t))return D.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=C.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!A.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,s?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),s&&o.done]))[0]};return D.set(t,o),o}S=(e=>({...e,get:(t,n,r)=>j(t,n)||e.get(t,n,r),has:(t,n)=>!!j(t,n)||e.has(t,n)}))(S);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class F{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const B="@firebase/app",L=new y("@firebase/app"),U={[B]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},q=new Map,z=new Map;function H(e,t){try{e.container.addComponent(t)}catch(n){L.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function W(e){const t=e.name;if(z.has(t))return L.debug(`There were multiple attempts to register component ${t}.`),!1;z.set(t,e);for(const t of q.values())H(t,e);return!0}function G(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},K=new _.a("app","Firebase",$);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class X{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new d("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw K.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!=typeof s||!s)throw K.create("bad-app-name",{appName:String(s)});if(n||(n=Object(_.e)()),!n)throw K.create("no-options");const o=q.get(s);if(o){if(Object(_.d)(n,o.options)&&Object(_.d)(r,o.config))return o;throw K.create("duplicate-app",{appName:s})}const a=new m(s);for(const e of z.values())a.addComponent(e);const i=new X(n,r,a);return q.set(s,i),i}function Q(e="[DEFAULT]"){const t=q.get(e);if(!t&&"[DEFAULT]"===e&&Object(_.e)())return Y();if(!t)throw K.create("no-app",{appName:e});return t}function J(e,t,n){var r;let s=null!==(r=U[e])&&void 0!==r?r:e;n&&(s+="-"+n);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void L.warn(e.join(" "))}W(new d(s+"-version",()=>({library:s,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=function(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(e,t),i=O(a);return r&&a.addEventListener("upgradeneeded",e=>{r(O(a.result),e.oldVersion,e.newVersion,O(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),i.then(e=>{o&&e.addEventListener("close",()=>o()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Z)}}}).catch(e=>{throw K.create("idb-open",{originalErrorMessage:e.message})})),ee}async function ne(e,t){try{const n=(await te()).transaction(Z,"readwrite"),r=n.objectStore(Z);await r.put(t,re(e)),await n.done}catch(e){if(e instanceof _.b)L.warn(e.message);else{const t=K.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});L.warn(t.message)}}}function re(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=oe();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=oe(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),ie(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ie(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Object(_.c)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function oe(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(_.f)()&&Object(_.g)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await te();return await t.transaction(Z).objectStore(Z).get(re(e))}catch(e){if(e instanceof _.b)L.warn(e.message);else{const t=K.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});L.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ie(e){return Object(_.c)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;le="",W(new d("platform-logger",e=>new F(e),"PRIVATE")),W(new d("heartbeat",e=>new se(e),"PRIVATE")),J(B,"0.9.12",le),J(B,"0.9.12","esm2017"),J("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
J("firebase","9.22.2","app");var ue=n(1);function ce(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;function de(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fe=de,me=new ue.a("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new y("@firebase/auth");function he(e,...t){pe.logLevel<=h.ERROR&&pe.error("Auth (9.22.2): "+e,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e,...t){throw ye(e,...t)}function be(e,...t){return ye(e,...t)}function ve(e,t,n){const r=Object.assign(Object.assign({},fe()),{[t]:n});return new ue.a("auth","Firebase",r).create(t,{appName:e.name})}function Me(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ge(e,"argument-error"),ve(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ye(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return me.create(e,...t)}function _e(e,t,...n){if(!e)throw ye(t,...n)}function Ie(e){const t="INTERNAL ASSERTION FAILED: "+e;throw he(t),new Error(t)}function Pe(e,t){e||Ie(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ee(){return"http:"===we()||"https:"===we()}function we(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ne{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pe(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(ue.n)()||Object(ue.o)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ee()||Object(ue.k)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(e,t){Pe(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new Ne(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function xe(e,t,n,r,s={}){return Ae(e,s,async()=>{let s={},o={};r&&("GET"===t?o=r:s={body:JSON.stringify(r)});const a=Object(ue.p)(Object.assign({key:e.config.apiKey},o)).slice(1),i=await e._getAdditionalHeaders();return i["Content-Type"]="application/json",e.languageCode&&(i["X-Firebase-Locale"]=e.languageCode),Se.fetch()(De(e,e.config.apiHost,n,a),Object.assign({method:t,headers:i,referrerPolicy:"no-referrer"},s))})}async function Ae(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Te),t);try{const t=new je(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fe(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const t=s.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Fe(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Fe(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Fe(e,"user-disabled",o);const i=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ve(e,i,a);ge(e,i)}}catch(t){if(t instanceof ue.b)throw t;ge(e,"network-request-failed",{message:String(t)})}}async function Ce(e,t,n,r,s={}){const o=await xe(e,t,n,r,s);return"mfaPendingCredential"in o&&ge(e,"multi-factor-auth-required",{_serverResponse:o}),o}function De(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?Ve(e.config,s):`${e.config.apiScheme}://${s}`}class je{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(be(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fe(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=be(e,t,r);return s.customData._tokenResponse=n,s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Be(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){return 1e3*Number(e)}function Ue(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return he("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(ue.c)(n);return e?JSON.parse(e):(he("Failed to decode base64 JWT payload"),null)}catch(e){return he("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function qe(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof ue.b&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ze{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Be(this.lastLoginAt),this.creationTime=Be(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function We(e){var t;const n=e.auth,r=await e.getIdToken(),s=await qe(e,async function(e,t){return xe(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));_e(null==s?void 0:s.users.length,n,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=ce(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const i=(l=e.providerData,u=a,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==i?void 0:i.length)),f=!!c&&d,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new He(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,m)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(void 0!==e.idToken,"internal-error"),_e(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ue(e);return _e(t,"internal-error"),_e(void 0!==t.exp,"internal-error"),_e(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n=await Ae(e,{},async()=>{const n=Object(ue.p)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=De(e,r,"/v1/token","key="+s),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new Ge;return n&&(_e("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(_e("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(_e("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return Ie("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e,t){_e("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Ke{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=ce(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ze(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new He(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await qe(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Object(ue.i)(e),r=await n.getIdToken(t),s=Ue(r);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Be(Le(s.auth_time)),issuedAtTime:Be(Le(s.iat)),expirationTime:Be(Le(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Object(ue.i)(e);await We(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ke(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await We(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qe(this,async function(e,t){return xe(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,o,a,i,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,m=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,h=null!==(i=t._redirectEventId)&&void 0!==i?i:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:M,isAnonymous:y,providerData:_,stsTokenManager:I}=t;_e(v&&I,e,"internal-error");const P=Ge.fromJSON(this.name,I);_e("string"==typeof v,e,"internal-error"),$e(c,e.name),$e(d,e.name),_e("boolean"==typeof M,e,"internal-error"),_e("boolean"==typeof y,e,"internal-error"),$e(f,e.name),$e(m,e.name),$e(p,e.name),$e(h,e.name),$e(g,e.name),$e(b,e.name);const k=new Ke({uid:v,auth:e,email:d,emailVerified:M,displayName:c,isAnonymous:y,photoURL:m,phoneNumber:f,tenantId:p,stsTokenManager:P,createdAt:g,lastLoginAt:b});return _&&Array.isArray(_)&&(k.providerData=_.map(e=>Object.assign({},e))),h&&(k._redirectEventId=h),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new Ge;r.updateFromServerResponse(t);const s=new Ke({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await We(s),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe=new Map;function Ye(e){Pe(e instanceof Function,"Expected a class definition");let t=Xe.get(e);return t?(Pe(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xe.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qe.type="NONE";const Je=Qe;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e,t,n){return`firebase:${e}:${t}:${n}`}class et{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Ze(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ze("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ke._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new et(Ye(Je),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||Ye(Je);const o=Ze(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(o);if(t){const r=Ke._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(e){}const i=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&i.length?(s=i[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(o)}catch(e){}})),new et(s,e,n)):new et(s,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ot(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(it(t))return"Blackberry";if(lt(t))return"Webos";if(rt(t))return"Safari";if((t.includes("chrome/")||st(t))&&!t.includes("edge/"))return"Chrome";if(at(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function nt(e=Object(ue.j)()){return/firefox\//i.test(e)}function rt(e=Object(ue.j)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function st(e=Object(ue.j)()){return/crios\//i.test(e)}function ot(e=Object(ue.j)()){return/iemobile/i.test(e)}function at(e=Object(ue.j)()){return/android/i.test(e)}function it(e=Object(ue.j)()){return/blackberry/i.test(e)}function lt(e=Object(ue.j)()){return/webos/i.test(e)}function ut(e=Object(ue.j)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ct(e=Object(ue.j)()){return ut(e)||at(e)||lt(e)||it(e)||/windows phone/i.test(e)||ot(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dt(e,t=[]){let n;switch(e){case"Browser":n=tt(Object(ue.j)());break;case"Worker":n=`${tt(Object(ue.j)())}-${e}`;break;default:n=e}return`${n}/JsCore/9.22.2/${t.length?t.join(","):"FirebaseCore-web"}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ft(e,t){return xe(e,"GET","/v2/recaptchaConfig",Oe(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(e){return void 0!==e&&void 0!==e.enterprise}class pt{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e){return new Promise((t,n)=>{const r=document.createElement("script");var s,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=be("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==o?o:document).appendChild(r)})}function gt(e){return`__${e}${Math.floor(1e6*Math.random())}`}class bt{constructor(e){this.type="recaptcha-enterprise",this.auth=_t(e)}async verify(e="verify",t=!1){function n(t,n,r){const s=window.grecaptcha;mt(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ft(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new pt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&mt(window.grecaptcha))n(s,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));ht("https://www.google.com/recaptcha/enterprise.js?render="+s).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function vt(e,t,n,r=!1){const s=new bt(e);let o;try{o=await s.verify(n)}catch(e){o=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new It(this),this.idTokenSubscription=new It(this),this.beforeStateQueue=new Mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ye(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await et.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null==a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await We(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(ue.i)(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ye(e))})}async initializeRecaptchaConfig(){const e=await ft(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new pt(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new bt(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ue.a("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ye(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await et.create(this,[Ye(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){pe.logLevel<=h.WARN&&pe.warn("Auth (9.22.2): "+e,...t)}("Error while retrieving App Check token: "+t.error),null==t?void 0:t.token}}function _t(e){return Object(ue.i)(e)}class It{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(ue.d)(e=>this.observer=e)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e,t,n){const r=_t(e);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null==n?void 0:n.disableWarnings),o=kt(t),{host:a,port:i}=function(e){const t=kt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Et(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Et(t)}}}(t),l=null===i?"":":"+i;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:i,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function kt(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Et(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class wt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ie("not implemented")}_getIdTokenResponse(e){return Ie("not implemented")}_linkToIdToken(e,t){return Ie("not implemented")}_getReauthenticationResolver(e){return Ie("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nt(e,t){return xe(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Vt(e,t){return Ce(e,"POST","/v1/accounts:signInWithPassword",Oe(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class St extends wt{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new St(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new St(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await vt(e,n,"signInWithPassword");return Vt(e,t)}return Vt(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await vt(e,n,"signInWithPassword");return Vt(e,t)}return Promise.reject(t)});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithEmailLink",Oe(e,t))}(e,{email:this._email,oobCode:this._password});default:ge(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Nt(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithEmailLink",Oe(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ge(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tt(e,t){return Ce(e,"POST","/v1/accounts:signInWithIdp",Oe(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends wt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ge("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=ce(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Rt(n,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Tt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(ue.p)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xt extends wt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new xt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new xt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithPhoneNumber",Oe(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ce(e,"POST","/v1/accounts:signInWithPhoneNumber",Oe(e,t));if(n.temporaryProof)throw Fe(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithPhoneNumber",Oe(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ot)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new xt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){var t,n,r,s,o,a;const i=Object(ue.q)(Object(ue.f)(e)),l=null!==(t=i.apiKey)&&void 0!==t?t:null,u=null!==(n=i.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=i.mode)&&void 0!==r?r:null);_e(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(s=i.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=i.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=i.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Object(ue.q)(Object(ue.f)(e)).link,n=t?Object(ue.q)(Object(ue.f)(t)).deep_link_id:null,r=Object(ue.q)(Object(ue.f)(e)).deep_link_id;return(r?Object(ue.q)(Object(ue.f)(r)).link:null)||r||n||t||e}(e);try{return new At(t)}catch(e){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ct{constructor(){this.providerId=Ct.PROVIDER_ID}static credential(e,t){return St._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=At.parseLink(t);return _e(n,"argument-error"),St._fromEmailAndCode(e,n.code,n.tenantId)}}Ct.PROVIDER_ID="password",Ct.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ct.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Dt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends Dt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ft extends jt{constructor(){super("facebook.com")}static credential(e){return Rt._fromParams({providerId:Ft.PROVIDER_ID,signInMethod:Ft.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ft.credentialFromTaggedObject(e)}static credentialFromError(e){return Ft.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ft.credential(e.oauthAccessToken)}catch(e){return null}}}Ft.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ft.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bt extends jt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rt._fromParams({providerId:Bt.PROVIDER_ID,signInMethod:Bt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bt.credentialFromTaggedObject(e)}static credentialFromError(e){return Bt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Bt.credential(t,n)}catch(e){return null}}}Bt.GOOGLE_SIGN_IN_METHOD="google.com",Bt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Lt extends jt{constructor(){super("github.com")}static credential(e){return Rt._fromParams({providerId:Lt.PROVIDER_ID,signInMethod:Lt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lt.credentialFromTaggedObject(e)}static credentialFromError(e){return Lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Lt.credential(e.oauthAccessToken)}catch(e){return null}}}Lt.GITHUB_SIGN_IN_METHOD="github.com",Lt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ut extends jt{constructor(){super("twitter.com")}static credential(e,t){return Rt._fromParams({providerId:Ut.PROVIDER_ID,signInMethod:Ut.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ut.credentialFromTaggedObject(e)}static credentialFromError(e){return Ut.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ut.credential(t,n)}catch(e){return null}}}Ut.TWITTER_SIGN_IN_METHOD="twitter.com",Ut.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await Ke._fromIdTokenResponse(e,n,r),o=zt(n);return new qt({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=zt(n);return new qt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function zt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ht extends ue.b{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ht.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ht(e,t,n,r)}}function Wt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Ht._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gt(e,t,n=!1){const r=await qe(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qt._forOperation(e,"link",r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function $t(e,t,n=!1){const{auth:r}=e;try{const s=await qe(e,Wt(r,"reauthenticate",t,e),n);_e(s.idToken,r,"internal-error");const o=Ue(s.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(e.uid===a,r,"user-mismatch"),qt._forOperation(e,"reauthenticate",s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&ge(r,"user-mismatch"),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kt(e,t,n=!1){const r=await Wt(e,"signIn",t),s=await qt._fromIdTokenResponse(e,"signIn",r);return n||await e._updateCurrentUser(s.user),s}new WeakMap;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt extends Xt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Object(ue.j)();return rt(e)||ut(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ct(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Object(ue.m)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yt.type="LOCAL";const Qt=Yt;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Xt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jt.type="SESSION";const Zt=Jt;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class en{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new en(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,s)),i=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:i})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tn(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.receivers=[];class nn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,i)=>{const l=tn("",20);r.port1.start();const u=setTimeout(()=>{i(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{i(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(u),clearTimeout(s),i(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function sn(){return void 0!==rn().WorkerGlobalScope&&"function"==typeof rn().importScripts}class on{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function an(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function ln(){const e=indexedDB.open("firebaseLocalStorageDb",1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains("firebaseLocalStorage")?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase("firebaseLocalStorageDb");return new on(e).toPromise()}(),t(await ln()))})})}async function un(e,t,n){const r=an(e,!0).put({fbase_key:t,value:n});return new on(r).toPromise()}function cn(e,t){const n=an(e,!0).delete(t);return new on(n).toPromise()}class dn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ln()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=en._getInstance(sn()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new nn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ln();return await un(e,"__sak","1"),await cn(e,"__sak"),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>un(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=an(e,!1).get(t),r=await new on(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cn(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=an(e,!1).getAll();return new on(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}dn.type="LOCAL";const fn=dn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
gt("rcb"),new Ne(3e4,6e4);async function mn(e,t,n){var r;const s=await n.verify();try{let o;if(_e("string"==typeof s,e,"argument-error"),_e("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){_e("enroll"===t.type,e,"internal-error");return(await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return xe(e,"POST","/v2/accounts/mfaEnrollment:start",Oe(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo}{_e("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;_e(n,e,"missing-multi-factor-info");return(await function(e,t){return xe(e,"POST","/v2/accounts/mfaSignIn:start",Oe(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return xe(e,"POST","/v1/accounts:sendVerificationCode",Oe(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pn{constructor(e){this.providerId=pn.PROVIDER_ID,this.auth=_t(e)}verifyPhoneNumber(e,t){return mn(this.auth,e,Object(ue.i)(t))}static credential(e,t){return xt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return pn.credentialFromTaggedObject(t)}static credentialFromError(e){return pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?xt._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hn(e,t){return t?Ye(t):(_e(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.PROVIDER_ID="phone",pn.PHONE_SIGN_IN_METHOD="phone";class gn extends wt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bn(e){return Kt(e.auth,new gn(e),e.bypassAuthState)}function vn(e){const{auth:t,user:n}=e;return _e(n,t,"internal-error"),$t(n,new gn(e),e.bypassAuthState)}async function Mn(e){const{auth:t,user:n}=e;return _e(n,t,"internal-error"),Gt(n,new gn(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:o,type:a}=e;if(o)return void this.reject(o);const i={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(i))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bn;case"linkViaPopup":case"linkViaRedirect":return Mn;case"reauthViaPopup":case"reauthViaRedirect":return vn;default:ge(this.auth,"internal-error")}}resolve(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Ne(2e3,1e4);class In extends yn{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,In.currentPopupAction&&In.currentPopupAction.cancel(),In.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Pe(1===this.filter.length,"Popup operations only handle one event");const e=tn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(be(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,In.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,_n.get())};e()}}In.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Pn=new Map;class kn extends yn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Pn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Nn(t),r=wn(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Pn.set(this.auth._key(),e)}return this.bypassAuthState||Pn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function En(e,t){Pn.set(e._key(),t)}function wn(e){return Ye(e._redirectPersistence)}function Nn(e){return Ze("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vn(e,t,n=!1){const r=_t(e),s=hn(r,t),o=new kn(r,s,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Sn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rn(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Rn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(be(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tn(e))}saveEventToCache(e){this.cachedEventUids.add(Tn(e)),this.lastProcessedEventTime=Date.now()}}function Tn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Rn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const On=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xn=/^https?/;async function An(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return xe(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Cn(e))return}catch(e){}ge(e,"unauthorized-domain")}function Cn(e){const t=ke(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!xn.test(n))return!1;if(On.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new Ne(3e4,6e4);function jn(){const e=rn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Fn=null;function Bn(e){return Fn=Fn||function(e){return new Promise((t,n)=>{var r,s,o;function a(){jn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jn(),n(be(e,"network-request-failed"))},timeout:Dn.get()})}if(null===(s=null===(r=rn().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=rn().gapi)||void 0===o?void 0:o.load)){const t=gt("iframefcb");return rn()[t]=()=>{gapi.load?a():n(be(e,"network-request-failed"))},ht("https://apis.google.com/js/api.js?onload="+t).catch(e=>n(e))}a()}}).catch(e=>{throw Fn=null,e})}(e),Fn}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new Ne(5e3,15e3),Un={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zn(e){const t=e.config;_e(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ve(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:"9.22.2"},s=qn.get(e.config.apiHost);s&&(r.eid=s);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Object(ue.p)(r).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Hn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Gn(e,t,n,r=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let i="";const l=Object.assign(Object.assign({},Hn),{width:r.toString(),height:s.toString(),top:o,left:a}),u=Object(ue.j)().toLowerCase();n&&(i=st(u)?"_blank":n),nt(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Object(ue.j)()){var t;return ut(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==i)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",i),new Wn(null);const d=window.open(t||"",i,c);_e(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Wn(d)}const $n=encodeURIComponent("fac");async function Kn(e,t,n,r,s,o){_e(e.config.authDomain,e,"auth-domain-config-required"),_e(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:"9.22.2",eventId:s};if(t instanceof Dt){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Object(ue.l)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof jt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const i=a;for(const e of Object.keys(i))void 0===i[e]&&delete i[e];const l=await e._getAppCheckToken(),u=l?`#${$n}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/__/auth/handler`;return Ve(e,"emulator/auth/handler")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Object(ue.p)(i).slice(1)}${u}`}const Xn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zt,this._completeRedirectFn=Vn,this._overrideRedirectResult=En}async _openPopup(e,t,n,r){var s;Pe(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Gn(e,await Kn(e,t,n,ke(),r),tn())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){rn().location.href=e}(await Kn(e,t,n,ke(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Pe(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Bn(e),n=rn().gapi;return _e(n,e,"internal-error"),t.open({where:document.body,url:zn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Un,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=be(e,"network-request-failed"),o=rn().setTimeout(()=>{r(s)},Ln.get());function a(){rn().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(s)})}))}(e),n=new Sn(e);return t.register("authEvent",t=>{_e(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var r;const s=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==s&&t(!!s),ge(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=An(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ct()||rt()||ut()}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qn=Object(ue.h)("authIdTokenMaxAge")||300;let Jn=null;function Zn(e=Q()){const t=G(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=G(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if(Object(ue.e)(r,null!=t?t:{}))return e;ge(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Xn,persistence:[fn,Qt,Zt]}),r=Object(ue.h)("authTokenSyncURL");if(r){const e=(s=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Qn)return;const r=null==t?void 0:t.token;Jn!==r&&(Jn=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer "+r}:{}}))});!function(e,t,n){Object(ue.i)(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Object(ue.i)(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var s;const o=Object(ue.g)("auth");return o&&Pt(n,"http://"+o),n}var er;er="Browser",W(new d("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const i={apiKey:o,authDomain:a,clientPlatform:er,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dt(er)},l=new yt(n,r,s,i);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ye);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),W(new d("auth-internal",e=>(e=>new Yn(e))(_t(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),J("@firebase/auth","0.23.2",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(er)),J("@firebase/auth","0.23.2","esm2017");var tr=n(5);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let rr="9.22.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new y("@firebase/firestore");function or(e,...t){if(sr.logLevel<=h.DEBUG){const n=t.map(lr);sr.debug(`Firestore (${rr}): ${e}`,...n)}}function ar(e,...t){if(sr.logLevel<=h.ERROR){const n=t.map(lr);sr.error(`Firestore (${rr}): ${e}`,...n)}}function ir(e,...t){if(sr.logLevel<=h.WARN){const n=t.map(lr);sr.warn(`Firestore (${rr}): ${e}`,...n)}}function lr(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(e="Unexpected state"){const t=`FIRESTORE (${rr}) INTERNAL ASSERTION FAILED: `+e;throw ar(t),new Error(t)}function cr(e,t){e||ur()}function dr(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="cancelled",mr="unknown",pr="invalid-argument",hr="deadline-exceeded",gr="permission-denied",br="unauthenticated",vr="failed-precondition",Mr="aborted",yr="out-of-range",_r="unimplemented",Ir="internal",Pr="unavailable";class kr extends tr.a{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Er{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class wr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class Nr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vr{constructor(e){this.auth=null,e.onInit(e=>{this.auth=e})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(cr("string"==typeof e.accessToken),new Er(e.accessToken,new nr(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class Sr{constructor(e,t,n){this.t=e,this.i=t,this.o=n,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.u=new Map}h(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.h();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class Tr{constructor(e,t,n){this.t=e,this.i=t,this.o=n}getToken(){return Promise.resolve(new Sr(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Or{constructor(e){this.l=e,this.appCheck=null,e.onInit(e=>{this.appCheck=e})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(cr("string"==typeof e.token),new Rr(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t,n,r,s,o,a,i,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=i,this.useFetchStreams=l}}class Ar{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ar("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ar&&e.projectId===this.projectId&&e.database===this.database}}class Cr{constructor(e,t,n){void 0===t?t=0:t>e.length&&ur(),void 0===n?n=e.length-t:n>e.length-t&&ur(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Cr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dr extends Cr{construct(e,t,n){return new Dr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new kr(pr,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Dr(t)}static emptyPath(){return new Dr([])}}const jr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends Cr{construct(e,t,n){return new Fr(e,t,n)}static isValidIdentifier(e){return jr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new kr(pr,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new kr(pr,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new kr(pr,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(s(),r++)}if(s(),o)throw new kr(pr,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.path=e}static fromPath(e){return new Br(Dr.fromString(e))}static fromName(e){return new Br(Dr.fromString(e).popFirst(5))}static empty(){return new Br(Dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Br(new Dr(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(e,t,n){if(!n)throw new kr(pr,`Function ${e}() cannot be called with an empty ${t}.`)}function Ur(e){if(!Br.isDocumentKey(e))throw new kr(pr,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ur()}function zr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kr(pr,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qr(e);throw new kr(pr,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hr(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}let Wr=null;function Gr(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr,Xr;function Yr(e){if(void 0===e)return ar("RPC_ERROR","HTTP error has no status"),mr;switch(e){case 200:return"ok";case 400:return vr;case 401:return br;case 403:return gr;case 404:return"not-found";case 409:return Mr;case 416:return yr;case 429:return"resource-exhausted";case 499:return fr;case 500:return mr;case 501:return _r;case 503:return Pr;case 504:return hr;default:return e>=200&&e<300?"ok":e>=400&&e<500?vr:e>=500&&e<600?Ir:mr}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Xr=Kr||(Kr={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";class Qr extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.m=t+"://"+e.host,this.p="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get g(){return!1}v(e,t,n,r,s){const o=(null===Wr?Wr=268435456+Math.round(2147483648*Math.random()):Wr++,"0x"+Wr.toString(16)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */),a=this.I(e,t);or("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const i={};return this.T(i,r,s),this.A(e,a,i,n).then(t=>(or("RestConnection",`Received RPC '${e}' ${o}: `,t),t),t=>{throw ir("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t})}R(e,t,n,r,s,o){return this.v(e,t,n,r,s)}T(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}I(e,t){const n=$r[e];return`${this.m}/v1/${t}:${n}`}}{constructor(e,t){super(e),this.P=t}V(e,t){throw new Error("Not supported by FetchConnection")}async A(e,t,n,r){var s;const o=JSON.stringify(r);let a;try{a=await this.P(t,{method:"POST",headers:n,body:o})}catch(e){const t=e;throw new kr(Yr(t.status),"Request failed with error: "+t.statusText)}if(!a.ok){let e=await a.json();Array.isArray(e)&&(e=e[0]);const t=null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.message;throw new kr(Yr(a.status),"Request failed with error: "+(null!=t?t:a.statusText))}return a.json()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{static N(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Jr(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%e.length))}return n}}function es(e,t){return e<t?-1:e>t?1:0}function ts(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ss("Invalid base64 string: "+e):e}}(e);return new os(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new os(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return es(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}os.EMPTY_BYTE_STRING=new os("");const as=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(e){if(cr(!!e),"string"==typeof e){let t=0;const n=as.exec(e);if(cr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ls(e.seconds),nanos:ls(e.nanos)}}function ls(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function us(e){return"string"==typeof e?os.fromBase64String(e):os.fromUint8Array(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kr(pr,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kr(pr,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kr(pr,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kr(pr,"Timestamp seconds out of range: "+e)}static now(){return cs.fromMillis(Date.now())}static fromDate(e){return cs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new cs(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?es(this.nanoseconds,e.nanoseconds):es(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fs(e){const t=is(e.mapValue.fields.__local_write_time__.timestampValue);return new cs(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ds(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:10:ur()}function ps(e,t){if(e===t)return!0;const n=ms(e);if(n!==ms(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fs(e).isEqual(fs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=is(e.timestampValue),r=is(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return us(e.bytesValue).isEqual(us(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ls(e.geoPointValue.latitude)===ls(t.geoPointValue.latitude)&&ls(e.geoPointValue.longitude)===ls(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ls(e.integerValue)===ls(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ls(e.doubleValue),r=ls(t.doubleValue);return n===r?Gr(n)===Gr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ts(e.arrayValue.values||[],t.arrayValue.values||[],ps);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ns(n)!==ns(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!ps(n[e],r[e])))return!1;return!0}(e,t);default:return ur()}}function hs(e){return!!e&&"mapValue"in e}function gs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return rs(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=gs(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gs(e.arrayValue.values[n]);return t}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bs{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bs(e)}static min(){return new bs(new cs(0,0))}static max(){return new bs(new cs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t){this.comparator=e,this.root=t||ys.EMPTY}insert(e,t){return new vs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ys.BLACK,null,null))}remove(e){return new vs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ms(this.root,e,this.comparator,!0)}}class Ms{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ys{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:ys.RED,this.left=null!=r?r:ys.EMPTY,this.right=null!=s?s:ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new ys(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ys.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ur();if(this.right.isRed())throw ur();const e=this.left.check();if(e!==this.right.check())throw ur();return e+(this.isRed()?0:1)}}ys.EMPTY=null,ys.RED=!0,ys.BLACK=!1,ys.EMPTY=new class{constructor(){this.size=0}get key(){throw ur()}get value(){throw ur()}get color(){throw ur()}get left(){throw ur()}get right(){throw ur()}copy(e,t,n,r,s){return this}insert(e,t,n){return new ys(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _s{constructor(e){this.comparator=e,this.data=new vs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Is(this.data.getIterator())}getIteratorFrom(e){return new Is(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof _s))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _s(this.comparator);return t.data=e,t}}class Is{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new Ps([])}unionWith(e){let t=new _s(Fr.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ts(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.value=e}static empty(){return new ks({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!hs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gs(t)}setAll(e){let t=Fr.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=gs(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());hs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];hs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){rs(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new ks(gs(this.value))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,n,r,s,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Es(e,0,bs.min(),bs.min(),bs.min(),ks.empty(),0)}static newFoundDocument(e,t,n,r){return new Es(e,1,t,bs.min(),n,r,0)}static newNoDocument(e,t){return new Es(e,2,t,bs.min(),bs.min(),ks.empty(),0)}static newUnknownDocument(e,t){return new Es(e,3,t,bs.min(),bs.min(),ks.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ks.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ws{constructor(e,t=null,n=[],r=[],s=null,o="F",a=null,i=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=i,this.q=null,this.O=null,this.startAt,this.endAt}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ns(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Gr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?function(e){return{integerValue:""+e}}(t):function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gr(t)?"-0":t}}(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this._=void 0}}class Ss extends Vs{}class Ts extends Vs{constructor(e){super(),this.elements=e}}class Rs extends Vs{constructor(e){super(),this.elements=e}}class Os extends Vs{constructor(e,t){super(),this.serializer=e,this.k=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class As{}class Cs extends As{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ds extends As{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}class js extends As{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fs extends As{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ls(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Us(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qs(e,t){return Ls(e,t.toTimestamp())}function zs(e){return cr(!!e),bs.fromTimestamp(function(e){const t=is(e);return new cs(t.seconds,t.nanos)}(e))}function Hs(e,t){return function(e){return new Dr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ws(e,t){return Hs(e.databaseId,t.path)}function Gs(e,t){const n=function(e){const t=Dr.fromString(e);return cr(Ys(t)),t}(t);if(n.get(1)!==e.databaseId.projectId)throw new kr(pr,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kr(pr,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Br((cr((r=n).length>4&&"documents"===r.get(4)),r.popFirst(5)));var r}function $s(e){return new Dr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ks(e,t,n){return{name:Ws(e,t),fields:n.value.mapValue.fields}}function Xs(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ys(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(e){return new Bs(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Js extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J=!1}X(){if(this.J)throw new kr(vr,"The client has already been terminated.")}v(e,t,n){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.v(e,t,n,r,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===br&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kr(mr,e.toString())})}R(e,t,n,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.R(e,t,n,s,o,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===br&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kr(mr,e.toString())})}terminate(){this.J=!0}}async function Zs(e,t){const n=dr(e),r=$s(n.serializer)+"/documents",s={writes:t.map(e=>function(e,t){let n;if(t instanceof Cs)n={update:Ks(e,t.key,t.value)};else if(t instanceof js)n={delete:Ws(e,t.key)};else if(t instanceof Ds)n={update:Ks(e,t.key,t.data),updateMask:Xs(t.fieldMask)};else{if(!(t instanceof Fs))return ur();n={verify:Ws(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ss)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ts)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Os)return{fieldPath:t.field.canonicalString(),increment:n.k};throw ur()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:qs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ur()}(e,t.precondition)),n}(n.serializer,e))};await n.v("Commit",r,s)}async function eo(e,t){const n=dr(e),r=$s(n.serializer)+"/documents",s={documents:t.map(e=>Ws(n.serializer,e))},o=await n.R("BatchGetDocuments",r,s,t.length),a=new Map;o.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){cr(!!t.found),t.found.name,t.found.updateTime;const n=Gs(e,t.found.name),r=zs(t.found.updateTime),s=t.found.createTime?zs(t.found.createTime):bs.min(),o=new ks({mapValue:{fields:t.found.fields}});return Es.newFoundDocument(n,r,s,o)}(e,t):"missing"in t?function(e,t){cr(!!t.missing),cr(!!t.readTime);const n=Gs(e,t.missing),r=zs(t.readTime);return Es.newNoDocument(n,r)}(e,t):ur()}(n.serializer,e);a.set(t.key.toString(),t)});const i=[];return t.forEach(e=>{const t=a.get(e.toString());cr(!!t),i.push(t)}),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const to=new Map;function no(e){if(e._terminated)throw new kr(vr,"The client has already been terminated.");if(!to.has(e)){or("ComponentProvider","Initializing Datastore");const o=function(e){return new Qr(e,fetch.bind(null))}((t=e._databaseId,n=e.app.options.appId||"",r=e._persistenceKey,s=e._freezeSettings(),new xr(t,n,r,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Hr(s.experimentalLongPollingOptions),s.useFetchStreams))),a=Qs(e._databaseId),i=function(e,t,n,r){return new Js(e,t,n,r)}(e._authCredentials,e._appCheckCredentials,o,a);to.set(e,i)}var t,n,r,s;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return to.get(e)}class ro{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new kr(pr,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kr(pr,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}!function(e,t,n,r){if(!0===t&&!0===r)throw new kr(pr,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hr(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new kr(pr,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new kr(pr,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new kr(pr,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class so{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ro({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kr(vr,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kr(vr,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ro(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wr;switch(e.type){case"firstParty":return new Tr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new kr(pr,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=to.get(e);t&&(or("ComponentProvider","Removing Datastore"),to.delete(e),t.terminate())}(this),Promise.resolve()}}function oo(e,t){const n="string"==typeof e?e:t||"(default)",r=G("object"==typeof e?e:Q(),"firestore/lite").getImmediate({identifier:n});if(!r._initialized){const e=Object(tr.d)("firestore");e&&function(e,t,n,r={}){var s;const o=(e=zr(e,so))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=nr.MOCK_USER;else{t=Object(tr.b)(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new kr(pr,"mockUserToken must contain 'sub' or 'user_id' field!");n=new nr(o)}e._authCredentials=new Nr(new Er(t,n))}}(r,...e)}return r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ao{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class io{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class lo extends io{constructor(e,t,n){super(e,t,new ws(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new Br(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function uo(e,t,...n){if(e=Object(tr.e)(e),1===arguments.length&&(t=Zr.N()),Lr("doc","path",t),e instanceof so){const r=Dr.fromString(t,...n);return Ur(r),new ao(e,null,new Br(r))}{if(!(e instanceof ao||e instanceof lo))throw new kr(pr,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Dr.fromString(t,...n));return Ur(r),new ao(e.firestore,e instanceof lo?e.converter:null,new Br(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(os.fromBase64String(e))}catch(e){throw new kr(pr,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new co(os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new kr(pr,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mo{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kr(pr,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kr(pr,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return es(this._lat,e._lat)||es(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=/^__.*__$/;class go{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cs(e,this.data,t,this.fieldTransforms)}}class bo{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vo(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ur()}}class Mo{constructor(e,t,n,r,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.tt(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get et(){return this.settings.et}nt(e){return new Mo(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}rt(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.it(e),r}ot(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.tt(),r}ut(e){return this.nt({path:void 0,st:!0})}ct(e){return xo(e,this.settings.methodName,this.settings.ht||!1,this.path,this.settings.lt)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tt(){if(this.path)for(let e=0;e<this.path.length;e++)this.it(this.path.get(e))}it(e){if(0===e.length)throw this.ct("Document fields must not be empty");if(vo(this.et)&&ho.test(e))throw this.ct('Document fields cannot begin and end with "__"')}}class yo{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Qs(e)}ft(e,t,n,r=!1){return new Mo({et:e,methodName:t,lt:n,path:Fr.emptyPath(),st:!1,ht:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _o(e){const t=e._freezeSettings(),n=Qs(e._databaseId);return new yo(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Io(e,t,n,r,s,o={}){const a=e.ft(o.merge||o.mergeFields?2:0,t,n,s);So("Data must be an object, but it was:",a,r);const i=No(r,a);let l,u;if(o.merge)l=new Ps(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const s=To(t,r,n);if(!a.contains(s))throw new kr(pr,`Field '${s}' is specified in your field mask but missing from your input data.`);Ao(e,s)||e.push(s)}l=new Ps(e),u=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=a.fieldTransforms;return new go(new ks(i),l,u)}class Po extends mo{_toFieldTransform(e){if(2!==e.et)throw 1===e.et?e.ct(this._methodName+"() can only appear at the top level of your update data"):e.ct(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Po}}function ko(e,t,n,r){const s=e.ft(1,t,n);So("Data must be an object, but it was:",s,r);const o=[],a=ks.empty();rs(r,(e,r)=>{const i=Oo(t,e,n);r=Object(tr.e)(r);const l=s.ot(i);if(r instanceof Po)o.push(i);else{const e=wo(r,l);null!=e&&(o.push(i),a.set(i,e))}});const i=new Ps(o);return new bo(a,i,s.fieldTransforms)}function Eo(e,t,n,r,s,o){const a=e.ft(1,t,n),i=[To(t,r,n)],l=[s];if(o.length%2!=0)throw new kr(pr,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)i.push(To(t,o[e])),l.push(o[e+1]);const u=[],c=ks.empty();for(let e=i.length-1;e>=0;--e)if(!Ao(u,i[e])){const t=i[e];let n=l[e];n=Object(tr.e)(n);const r=a.ot(t);if(n instanceof Po)u.push(t);else{const e=wo(n,r);null!=e&&(u.push(t),c.set(t,e))}}const d=new Ps(u);return new bo(c,d,a.fieldTransforms)}function wo(e,t){if(Vo(e=Object(tr.e)(e)))return So("Unsupported field value:",t,e),No(e,t);if(e instanceof mo)return function(e,t){if(!vo(t.et))throw t.ct(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.ct(e._methodName+"() is not currently supported inside arrays");const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.st&&4!==t.et)throw t.ct("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=wo(s,t.ut(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(tr.e)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ns(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=cs.fromDate(e);return{timestampValue:Ls(t.serializer,n)}}if(e instanceof cs){const n=new cs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ls(t.serializer,n)}}if(e instanceof po)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof co)return{bytesValue:Us(t.serializer,e._byteString)};if(e instanceof ao){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ct(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Hs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ct("Unsupported field value: "+qr(e))}(e,t)}function No(e,t){const n={};return function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rs(e,(e,r)=>{const s=wo(r,t.rt(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Vo(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cs||e instanceof po||e instanceof co||e instanceof ao||e instanceof mo)}function So(e,t,n){if(!Vo(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=qr(n);throw"an object"===r?t.ct(e+" a custom object"):t.ct(e+" "+r)}}function To(e,t,n){if((t=Object(tr.e)(t))instanceof fo)return t._internalPath;if("string"==typeof t)return Oo(e,t);throw xo("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ro=new RegExp("[~\\*/\\[\\]]");function Oo(e,t,n){if(t.search(Ro)>=0)throw xo(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fo(...t.split("."))._internalPath}catch(r){throw xo(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xo(e,t,n,r,s){const o=r&&!r.isEmpty(),a=void 0!==s;let i=`Function ${t}() called with invalid data`;n&&(i+=" (via `toFirestore()`)"),i+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field "+r),a&&(l+=" in document "+s),l+=")"),new kr(pr,i+e+l)}function Ao(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Do(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jo("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Do extends Co{data(){return super.data()}}function jo(e,t){return"string"==typeof t?Oo(e,t):t instanceof fo?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fo(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Bo extends class{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ls(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ur()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return rs(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new po(ls(e.latitude),ls(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=function e(t){const n=t.mapValue.fields.__previous_value__;return ds(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fs(e));default:return null}}convertTimestamp(e){const t=is(e);return new cs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Dr.fromString(e);cr(Ys(n));const r=new Ar(n.get(1),n.get(3)),s=new Br(n.popFirst(5));return r.isEqual(t)||ar(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,t)}}function Lo(e){const t=no((e=zr(e,ao)).firestore),n=new Bo(e.firestore);return eo(t,[e._key]).then(t=>{cr(1===t.length);const r=t[0];return new Co(e.firestore,n,e._key,r.isFoundDocument()?r:null,e.converter)})}function Uo(e,t,n){const r=Fo((e=zr(e,ao)).converter,t,n),s=Io(_o(e.firestore),"setDoc",e._key,r,null!==e.converter,n);return Zs(no(e.firestore),[s.toMutation(e._key,xs.none())])}rr="9.22.2_lite",W(new d("firestore/lite",(e,{instanceIdentifier:t,options:n})=>{const r=e.getProvider("app").getImmediate(),s=new so(new Vr(e.getProvider("auth-internal")),new Or(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kr(pr,'"projectId" not provided in firebase.initializeApp.');return new Ar(e.options.projectId,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,t),r);return n&&s._setSettings(n),s},"PUBLIC").setMultipleInstances(!0)),J("firestore-lite","3.12.2",""),J("firestore-lite","3.12.2","esm2017");var qo=n(37),zo=n.n(qo),Ho=n(38),Wo=n.n(Ho),Go=n(29),$o=n.n(Go),Ko=n(8),Xo=n.n(Ko),Yo=n(10),Qo=n.n(Yo),Jo=n(2),Zo=n.n(Jo),ea=n(59),ta=n.n(ea),na=("function"==typeof Symbol&&Symbol.iterator,"undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"));function ra(e,t){return"application/x-moz-file"===e.type||ta()(e,t)}function sa(e){return!e.dataTransfer||Array.prototype.every.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e}))}function oa(e){e.preventDefault()}function aa(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function ia(e){return-1!==e.indexOf("Edge/")}var la={borderStyle:"solid",backgroundColor:"#eee"},ua={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},ca={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},da={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},fa={opacity:.5},ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ha(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ga=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.renderChildren=function(e,t,n,s){return"function"==typeof e?e(ma({},r.state,{isDragActive:t,isDragAccept:n,isDragReject:s,open:r.open})):e},r.composeHandlers=r.composeHandlers.bind(r),r.onClick=r.onClick.bind(r),r.onDocumentDrop=r.onDocumentDrop.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrop=r.onDrop.bind(r),r.onFileDialogCancel=r.onFileDialogCancel.bind(r),r.onInputElementClick=r.onInputElementClick.bind(r),r.open=r.open.bind(r),r.setRef=r.setRef.bind(r),r.setRefs=r.setRefs.bind(r),r.isFileDialogActive=!1,r.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pa(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",oa,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),null!=this.fileInputEl&&this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",oa),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){e.persist(),this.props.onDragStart&&sa(e)&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){var t=this;e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),e.persist(),sa(e)&&(Promise.resolve(this.props.getDataTransferItems(e)).then((function(n){e.isPropagationStopped()||t.setState({draggedFiles:n,isDragActive:!0})})),this.props.onDragEnter&&this.props.onDragEnter.call(this,e))}},{key:"onDragOver",value:function(e){e.preventDefault(),e.persist();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&sa(e)&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),e.persist(),this.dragTargets=this.dragTargets.filter((function(n){return n!==e.target&&t.node.contains(n)})),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&sa(e)&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,r=n.onDrop,s=n.onDropAccepted,o=n.onDropRejected,a=n.multiple,i=n.accept,l=n.getDataTransferItems;e.preventDefault(),e.persist(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),sa(e)&&Promise.resolve(l(e)).then((function(n){var l=[],u=[];e.isPropagationStopped()||(n.forEach((function(e){ra(e,i)&&function(e,t,n){return e.size<=t&&e.size>=n}(e,t.props.maxSize,t.props.minSize)?l.push(e):u.push(e)})),!a&&l.length>1&&u.push.apply(u,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(l.splice(0))),t.setState({acceptedFiles:l,rejectedFiles:u},(function(){r&&r.call(t,l,u,e),u.length>0&&o&&o.call(t,u,e),l.length>0&&s&&s.call(t,l,e)})))}))}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick,r=t.disableClick;n&&n.call(this,e),r||e.isDefaultPrevented()||(e.stopPropagation(),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return aa(e)||ia(e)}()?this.open():setTimeout(this.open,0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick(e)}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout((function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()}),300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,r=e.activeClassName,o=e.children,a=e.disabled,i=e.disabledClassName,l=e.inputProps,u=e.multiple,c=e.name,d=e.rejectClassName,f=ha(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),m=f.acceptStyle,p=f.activeStyle,h=f.className,g=void 0===h?"":h,b=f.disabledStyle,v=f.rejectStyle,M=f.style,y=ha(f,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),_=this.state,I=_.isDragActive,P=_.draggedFiles,k=P.length,E=u||k<=1,w=k>0&&function(e,t){return e.every((function(e){return ra(e,t)}))}(P,this.props.accept),N=k>0&&(!w||!E),V=!(g||M||p||m||v||b);I&&r&&(g+=" "+r),w&&n&&(g+=" "+n),N&&d&&(g+=" "+d),a&&i&&(g+=" "+i),V&&(M=da,p=la,m=ua,v=ca,b=fa);var S=ma({position:"relative"},M);p&&I&&(S=ma({},S,p)),m&&w&&(S=ma({},S,m)),v&&N&&(S=ma({},S,v)),b&&a&&(S=ma({},S,b));var T={accept:t,disabled:a,type:"file",style:ma({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},l.style),multiple:na&&u,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};c&&c.length&&(T.name=c);y.acceptedFiles,y.preventDropOnDocument,y.disableClick,y.onDropAccepted,y.onDropRejected,y.onFileDialogCancel,y.maxSize,y.minSize,y.getDataTransferItems;var R=ha(y,["acceptedFiles","preventDropOnDocument","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return s.a.createElement("div",ma({className:g,style:S},R,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":a}),this.renderChildren(o,I,w,N),s.a.createElement("input",ma({},l,T)))}}]),t}(s.a.Component),ba=ga;ga.propTypes={accept:Zo.a.oneOfType([Zo.a.string,Zo.a.arrayOf(Zo.a.string)]),children:Zo.a.oneOfType([Zo.a.node,Zo.a.func]),disableClick:Zo.a.bool,disabled:Zo.a.bool,preventDropOnDocument:Zo.a.bool,inputProps:Zo.a.object,multiple:Zo.a.bool,name:Zo.a.string,maxSize:Zo.a.number,minSize:Zo.a.number,className:Zo.a.string,activeClassName:Zo.a.string,acceptClassName:Zo.a.string,rejectClassName:Zo.a.string,disabledClassName:Zo.a.string,style:Zo.a.object,activeStyle:Zo.a.object,acceptStyle:Zo.a.object,rejectStyle:Zo.a.object,disabledStyle:Zo.a.object,getDataTransferItems:Zo.a.func,onClick:Zo.a.func,onDrop:Zo.a.func,onDropAccepted:Zo.a.func,onDropRejected:Zo.a.func,onDragStart:Zo.a.func,onDragEnter:Zo.a.func,onDragOver:Zo.a.func,onDragLeave:Zo.a.func,onFileDialogCancel:Zo.a.func},ga.defaultProps={preventDropOnDocument:!0,disabled:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}};var va=n(7),Ma=n(14),ya=n(12),_a=n(9),Ia=n(17),Pa=n(13),ka=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(ya.a)(t.props),t}return Object(Ma.a)(t,e),t.prototype.render=function(){return s.a.createElement(va.c,{history:this.history,children:this.props.children})},t}(s.a.Component);s.a.Component;var Ea=function(e,t){return"function"==typeof e?e(t):e},wa=function(e,t){return"string"==typeof e?Object(ya.c)(e,null,null,t):e},Na=function(e){return e},Va=s.a.forwardRef;void 0===Va&&(Va=Na);var Sa=Va((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,a=Object(Ia.a)(e,["innerRef","navigate","onClick"]),i=a.target,l=Object(_a.a)({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=Na!==Va&&t||n,s.a.createElement("a",l)}));var Ta=Va((function(e,t){var n=e.component,r=void 0===n?Sa:n,o=e.replace,a=e.to,i=e.innerRef,l=Object(Ia.a)(e,["component","replace","to","innerRef"]);return s.a.createElement(va.e.Consumer,null,(function(e){e||Object(Pa.a)(!1);var n=e.history,u=wa(Ea(a,e.location),e.location),c=u?n.createHref(u):"",d=Object(_a.a)({},l,{href:c,navigate:function(){var t=Ea(a,e.location),r=Object(ya.e)(e.location)===Object(ya.e)(wa(t));(o||r?n.replace:n.push)(t)}});return Na!==Va?d.ref=t||i:d.innerRef=i,s.a.createElement(r,d)}))})),Ra=function(e){return e},Oa=s.a.forwardRef;void 0===Oa&&(Oa=Ra);var xa=Oa((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,a=void 0===o?"active":o,i=e.activeStyle,l=e.className,u=e.exact,c=e.isActive,d=e.location,f=e.sensitive,m=e.strict,p=e.style,h=e.to,g=e.innerRef,b=Object(Ia.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.a.createElement(va.e.Consumer,null,(function(e){e||Object(Pa.a)(!1);var n=d||e.location,o=wa(Ea(h,n),n),v=o.pathname,M=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),y=M?Object(va.f)(n.pathname,{path:M,exact:u,sensitive:f,strict:m}):null,_=!!(c?c(y,n):y),I="function"==typeof l?l(_):l,P="function"==typeof p?p(_):p;_&&(I=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(I,a),P=Object(_a.a)({},P,i));var k=Object(_a.a)({"aria-current":_&&r||null,className:I,style:P,to:o},b);return Ra!==Oa?k.ref=t||g:k.innerRef=g,s.a.createElement(Ta,k)}))}));const Aa=(e,t)=>{let n=1/0,r=null;for(const s of t){const t=Math.abs(e-s.span[0]);t<n&&(r=s.span[0],n=t)}return r},Ca=(e,t)=>{let n=[],r=[];if(null!==e.firstMeasure&&n.push(e.firstMeasure),null!==e.secondMeasure){let r=e.firstMeasure,s=e.secondMeasure-e.firstMeasure;for(let o=2;o<400;o++){let a=null;if(a=e.correctedMeasures&&e.correctedMeasures[o]?e.correctedMeasures[o]:e.disableSnapToNotes?r+s:Aa(r+s,t),r===a)break;if(n.push(a),s=a-r,r=a,o===e.loop+1)break}}if(n.length>2){n.pop();const e=n[n.length-1]-n[n.length-2];n.push(n[n.length-1]+e)}const s=e.beatsPerMeasure||4;for(let e=0;e<n.length-1;++e){const t=n[e],o=n[e+1];for(let e=1;e<s;++e)r.push(t*(s-e)/s+o*e/s)}return{measures:n,beats:r}},Da=(e,t)=>{var n,r,s,o;if((null!==(r=null===(n=e.fourMeasurePhrasingReferences)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>1)return Array.from(new Set([...e.fourMeasurePhrasingReferences,...Object.keys(e.form||{}).map(e=>parseInt(e,10))])).sort((e,t)=>e-t);const a=[];let i;for(i=null!==(o=null===(s=e.fourMeasurePhrasingReferences)||void 0===s?void 0:s[0])&&void 0!==o?o:1;i<t;i+=4)a.push(i);return a.push(i),a},ja=(e,t)=>{const[n,r]=e,[s,o]=t;if(r<s||o<n)return 0;const a=Math.max(n,s);return Math.min(r,o)-a},Fa=(e,t,n)=>{let r=0;for(const s of n)s.note.midiNumber%12===e&&(r+=ja(t,s.span));return r},Ba=["i","viio/ii","ii","biii","iii","iv","viio/V","v","bvi","vi","bvii","viio"],La=["I","bII","V/V","III","V/vi","IV","#IV","V","VI","V/ii","VII","#VII"],Ua=["I5","bII5","II5","III5","#III5","IV5","#IV5","V5","VI5","#VI5","VII5","#VII5"],qa=["","","2","","3","4","T","5","+","6","7",""],za={I:0,bII:1,II:2,"#III":4,III:3,IV:5,V:7,VI:8,VII:10,i:0,ii:2,iii:4,iv:5,v:7,vi:9,vii:11,"-":12,bvi:8,"#IV":6,"#iv":6,biii:3,"#VII":11,bii:1,"#VI":9,bvii:10},Ha=(e,t)=>(e||"").split(t).filter(e=>""!==e),Wa=e=>Ha(e," "),Ga=e=>Ha(e,"-"),$a=e=>e.replace(/\d|o||\^|\+/g,""),Ka=e=>{if("string"!=typeof e||0===e.length)return 12;e=$a(e);const[t,n]=e.split("/");return n?(za[t]+za[n])%12:za[e]},Xa=["red","brown","#FF8C00","#e8e800","green","#0EFFD0","#787276","blue","#9F9FFF","#9400D3","#ff14c4","#ffaacc","black"],Ya=({romanNumeral:e,styleProps:t={},nextNumeral:n})=>{var s;const o=null!==(s=Xa[Ka(e)])&&void 0!==s?s:"black";return r.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:o,display:"grid",placeItems:"center",userSelect:"none"}},r.createElement("span",{style:Object.assign({color:-1!==["#e8e800","#9F9FFF","#0EFFD0"].indexOf(o)?"black":"white"},t)},(a=e,i=n,i&&-1!==a.indexOf("/")&&za[$a(a.split("/")[1])]===za[$a(i)]?a.split("/")[0]+"":a).replace("9","").replace("7","").replace("6","").replace("5","").replace("4","").replace("3","").replace("2","").replace("1","").replace("b","").replace("#","").replace("o","").replace("+","")));var a,i},Qa=({semitones:e,isCompact:t=!1})=>{const n=e>6?-12+e:e;return r.createElement("div",{className:"modulation",style:{position:"absolute",left:0,backgroundColor:"black",color:"white",padding:0,margin:0,height:"100%",top:0,zIndex:100,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"}},n>0?r.createElement("div",null,""):!t&&r.createElement("div",{style:{opacity:0}},""),r.createElement("div",null,Math.abs(n)),n<0?r.createElement("div",null,""):!t&&r.createElement("div",{style:{opacity:0}},""))},Ja=({rnArray:e,modulations:t={},isSearch:n=!1})=>{let s=[];return e.map((o,a)=>{const i=o.split("-");i.forEach((o,l)=>s.push(r.createElement("div",{style:{width:n?70:120/i.length,height:30,display:"grid",placeItems:"center",overflow:"hidden",position:"relative",backgroundColor:Xa[Ka(o)]}},a in t&&0===l&&r.createElement(Qa,{semitones:t[a]}),r.createElement(Ya,{romanNumeral:o.replace("_"," "),nextNumeral:l+1<i.length?i[l+1]:(e[a+1]||"").split("-")[0],styleProps:{fontFamily:"sans-serif",fontSize:n?"18px":i.length>=3?"12px":2==i.length?"16px":"18px"}}))))}),r.createElement("div",{style:{display:"flex",flexDirection:"row"}},s)},Za=({dashedRN:e,modulation:t=null})=>{const n=Ga(e);return r.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"100%"}},null!==t&&r.createElement(Qa,{semitones:t,isCompact:!0}),n.map(e=>r.createElement(Ya,{romanNumeral:e})))},ei=({rn:e,searchable:t=!1})=>{const n=r.createElement("div",{style:{width:45*e.split("-").length,marginTop:"1px",display:"inline-block"}},r.createElement(Za,{dashedRN:e}));return t?r.createElement(Ta,{to:{pathname:"/search/chords/"+e}},n):n},ti=e=>[{measure:-1,tonic:e.tonic},...Object.entries(e.modulations||[]).map(e=>({measure:parseInt(e[0],10)-1,tonic:e[1]}))].sort((e,t)=>e.measure-t.measure),ni=(e,t)=>{const n=ti(t);let r=0;for(;r+1<n.length&&n[r+1].measure<=e;)r++;return n[r].tonic},ri=(e,t)=>{if(!t)return-1;const n=(e.span[0]+e.span[1])/2;return t.findIndex(e=>e>=n)-1},si=(e,t)=>{if(null===e)return{};const n=Object.assign(Object.assign({},t),{0:e}),r=Object.keys(n).map(Number).sort((e,t)=>e-t);let s={};for(let e=1;e<r.length;e++){const t=n[r[e-1]],o=n[r[e]];s[r[e]]=(o-t+12)%12}return s},oi=({label:e})=>r.createElement("div",{style:{textAlign:"start",fontFamily:"sans-serif",fontSize:"15px",padding:"3px",color:"white",backgroundColor:"#333"}},e),ai=({analysis:e})=>{const{romanNumerals:t,form:n}=e,s=Wa(t),o=Da(e,Math.max(4,s.length));1!==(null==o?void 0:o[0])&&o.unshift(1);const a=si(e.tonic,e.modulations),i=[];for(let e=0;e+1<o.length;e++){const t=null==n?void 0:n[o[e]];t&&i.push(r.createElement(oi,{label:t}));const l=Object.keys(a).filter(t=>{const n=Number(t);return n>=o[e]&&n<o[e+1]}).reduce((t,n)=>(t[Number(n)-o[e]]=a[n],t),{});i.push(r.createElement(Ja,{rnArray:s.slice(o[e]-1,o[e+1]-1),modulations:l}))}return r.createElement("div",{style:{display:"inline-block"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},i))};function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function li(e){var t=function(e,t){if("object"!==ii(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ii(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ii(t)?t:String(t)}function ui(e,t,n){return(t=li(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mi(e,t){if(e){if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fi(e,t):void 0}}function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return i}}(e,t)||mi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var gi=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function bi(){return(bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,li(r.key),r)}}function Mi(e,t){return(Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yi(e){return(yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(e,t){if(t&&("object"===ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yi(e);if(t){var s=yi(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return _i(this,n)}}function Pi(e){return function(e){if(Array.isArray(e))return fi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ki=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ei="-webkit-",wi=Math.abs,Ni=String.fromCharCode,Vi=Object.assign;function Si(e,t){return 45^Ai(e,0)?(((t<<2^Ai(e,0))<<2^Ai(e,1))<<2^Ai(e,2))<<2^Ai(e,3):0}function Ti(e){return e.trim()}function Ri(e,t){return(e=t.exec(e))?e[0]:e}function Oi(e,t,n){return e.replace(t,n)}function xi(e,t){return e.indexOf(t)}function Ai(e,t){return 0|e.charCodeAt(t)}function Ci(e,t,n){return e.slice(t,n)}function Di(e){return e.length}function ji(e){return e.length}function Fi(e,t){return t.push(e),e}function Bi(e,t){return e.map(t).join("")}var Li=1,Ui=1,qi=0,zi=0,Hi=0,Wi="";function Gi(e,t,n,r,s,o,a){return{value:e,root:t,parent:n,type:r,props:s,children:o,line:Li,column:Ui,length:a,return:""}}function $i(e,t){return Vi(Gi("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ki(){return Hi=zi<qi?Ai(Wi,zi++):0,Ui++,10===Hi&&(Ui=1,Li++),Hi}function Xi(){return Ai(Wi,zi)}function Yi(){return zi}function Qi(e,t){return Ci(Wi,e,t)}function Ji(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zi(e){return Li=Ui=1,qi=Di(Wi=e),zi=0,[]}function el(e){return Wi="",e}function tl(e){return Ti(Qi(zi-1,function e(t){for(;Ki();)switch(Hi){case t:return zi;case 34:case 39:34!==t&&39!==t&&e(Hi);break;case 40:41===t&&e(t);break;case 92:Ki()}return zi}(91===e?e+2:40===e?e+1:e)))}function nl(e){for(;(Hi=Xi())&&Hi<33;)Ki();return Ji(e)>2||Ji(Hi)>3?"":" "}function rl(e,t){for(;--t&&Ki()&&!(Hi<48||Hi>102||Hi>57&&Hi<65||Hi>70&&Hi<97););return Qi(e,Yi()+(t<6&&32==Xi()&&32==Ki()))}function sl(e,t){for(;Ki()&&e+Hi!==57&&(e+Hi!==84||47!==Xi()););return"/*"+Qi(t,zi-1)+"*"+Ni(47===e?e:Ki())}function ol(e){for(;!Ji(Xi());)Ki();return Qi(e,zi)}function al(e){return el(function e(t,n,r,s,o,a,i,l,u){var c=0,d=0,f=i,m=0,p=0,h=0,g=1,b=1,v=1,M=0,y="",_=o,I=a,P=s,k=y;for(;b;)switch(h=M,M=Ki()){case 40:if(108!=h&&58==Ai(k,f-1)){-1!=xi(k+=Oi(tl(M),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=tl(M);break;case 9:case 10:case 13:case 32:k+=nl(h);break;case 92:k+=rl(Yi()-1,7);continue;case 47:switch(Xi()){case 42:case 47:Fi(ll(sl(Ki(),Yi()),n,r),u);break;default:k+="/"}break;case 123*g:l[c++]=Di(k)*v;case 125*g:case 59:case 0:switch(M){case 0:case 125:b=0;case 59+d:-1==v&&(k=Oi(k,/\f/g,"")),p>0&&Di(k)-f&&Fi(p>32?ul(k+";",s,r,f-1):ul(Oi(k," ","")+";",s,r,f-2),u);break;case 59:k+=";";default:if(Fi(P=il(k,n,r,c,d,o,l,y,_=[],I=[],f),a),123===M)if(0===d)e(k,n,P,P,_,a,f,l,I);else switch(99===m&&110===Ai(k,3)?100:m){case 100:case 108:case 109:case 115:e(t,P,P,s&&Fi(il(t,P,P,0,0,o,l,y,o,_=[],f),I),o,I,f,l,s?_:I);break;default:e(k,P,P,P,[""],I,0,l,I)}}c=d=p=0,g=v=1,y=k="",f=i;break;case 58:f=1+Di(k),p=h;default:if(g<1)if(123==M)--g;else if(125==M&&0==g++&&125==(Hi=zi>0?Ai(Wi,--zi):0,Ui--,10===Hi&&(Ui=1,Li--),Hi))continue;switch(k+=Ni(M),M*g){case 38:v=d>0?1:(k+="\f",-1);break;case 44:l[c++]=(Di(k)-1)*v,v=1;break;case 64:45===Xi()&&(k+=tl(Ki())),m=Xi(),d=f=Di(y=k+=ol(Yi())),M++;break;case 45:45===h&&2==Di(k)&&(g=0)}}return a}("",null,null,null,[""],e=Zi(e),0,[0],e))}function il(e,t,n,r,s,o,a,i,l,u,c){for(var d=s-1,f=0===s?o:[""],m=ji(f),p=0,h=0,g=0;p<r;++p)for(var b=0,v=Ci(e,d+1,d=wi(h=a[p])),M=e;b<m;++b)(M=Ti(h>0?f[b]+" "+v:Oi(v,/&\f/g,f[b])))&&(l[g++]=M);return Gi(e,t,n,0===s?"rule":i,l,u,c)}function ll(e,t,n){return Gi(e,t,n,"comm",Ni(Hi),Ci(e,2,-2),0)}function ul(e,t,n,r){return Gi(e,t,n,"decl",Ci(e,0,r),Ci(e,r+1,-1),r)}function cl(e,t){for(var n="",r=ji(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function dl(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"decl":return e.return=e.return||e.value;case"comm":return"";case"@keyframes":return e.return=e.value+"{"+cl(e.children,r)+"}";case"rule":e.value=e.props.join(",")}return Di(n=cl(e.children,r))?e.return=e.value+"{"+n+"}":""}var fl=n(22),ml=function(e,t,n){for(var r=0,s=0;r=s,s=Xi(),38===r&&12===s&&(t[n]=1),!Ji(s);)Ki();return Qi(e,zi)},pl=function(e,t){return el(function(e,t){var n=-1,r=44;do{switch(Ji(r)){case 0:38===r&&12===Xi()&&(t[n]=1),e[n]+=ml(zi-1,t,n);break;case 2:e[n]+=tl(r);break;case 4:if(44===r){e[++n]=58===Xi()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ni(r)}}while(r=Ki());return e}(Zi(e),t))},hl=new WeakMap,gl=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||hl.get(n))&&!r){hl.set(e,!0);for(var s=[],o=pl(t,s),a=n.props,i=0,l=0;i<o.length;i++)for(var u=0;u<a.length;u++,l++)e.props[l]=s[i]?o[i].replace(/&\f/g,a[u]):a[u]+" "+o[i]}}},bl=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};var vl=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case"decl":e.return=function e(t,n){switch(Si(t,n)){case 5103:return Ei+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ei+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ei+t+"-moz-"+t+"-ms-"+t+t;case 6828:case 4268:return Ei+t+"-ms-"+t+t;case 6165:return Ei+t+"-ms-flex-"+t+t;case 5187:return Ei+t+Oi(t,/(\w+).+(:[^]+)/,Ei+"box-$1$2-ms-flex-$1$2")+t;case 5443:return Ei+t+"-ms-flex-item-"+Oi(t,/flex-|-self/,"")+t;case 4675:return Ei+t+"-ms-flex-line-pack"+Oi(t,/align-content|flex-|-self/,"")+t;case 5548:return Ei+t+"-ms-"+Oi(t,"shrink","negative")+t;case 5292:return Ei+t+"-ms-"+Oi(t,"basis","preferred-size")+t;case 6060:return Ei+"box-"+Oi(t,"-grow","")+Ei+t+"-ms-"+Oi(t,"grow","positive")+t;case 4554:return Ei+Oi(t,/([^-])(transform)/g,"$1"+Ei+"$2")+t;case 6187:return Oi(Oi(Oi(t,/(zoom-|grab)/,Ei+"$1"),/(image-set)/,Ei+"$1"),t,"")+t;case 5495:case 3959:return Oi(t,/(image-set\([^]*)/,Ei+"$1$`$1");case 4968:return Oi(Oi(t,/(.+:)(flex-)?(.*)/,Ei+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ei+t+t;case 4095:case 3583:case 4068:case 2532:return Oi(t,/(.+)-inline(.+)/,Ei+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(t)-1-n>6)switch(Ai(t,n+1)){case 109:if(45!==Ai(t,n+4))break;case 102:return Oi(t,/(.+:)(.+)-([^]+)/,"$1"+Ei+"$2-$3$1-moz-"+(108==Ai(t,n+3)?"$3":"$2-$3"))+t;case 115:return~xi(t,"stretch")?e(Oi(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==Ai(t,n+1))break;case 6444:switch(Ai(t,Di(t)-3-(~xi(t,"!important")&&10))){case 107:return Oi(t,":",":"+Ei)+t;case 101:return Oi(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ei+(45===Ai(t,14)?"inline-":"")+"box$3$1"+Ei+"$2$3$1-ms-$2box$3")+t}break;case 5936:switch(Ai(t,n+11)){case 114:return Ei+t+"-ms-"+Oi(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ei+t+"-ms-"+Oi(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ei+t+"-ms-"+Oi(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ei+t+"-ms-"+t+t}return t}(e.value,e.length);break;case"@keyframes":return cl([$i(e,{value:Oi(e.value,"@","@"+Ei)})],r);case"rule":if(e.length)return Bi(e.props,(function(t){switch(Ri(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cl([$i(e,{props:[Oi(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return cl([$i(e,{props:[Oi(t,/:(plac\w+)/,":"+Ei+"input-$1")]}),$i(e,{props:[Oi(t,/:(plac\w+)/,":-moz-$1")]}),$i(e,{props:[Oi(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],Ml=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||vl;var s,o,a={},i=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;i.push(e)}));var l,u,c=[dl,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=ji(e);return function(n,r,s,o){for(var a="",i=0;i<t;i++)a+=e[i](n,r,s,o)||"";return a}}([gl,bl].concat(r,c));o=function(e,t,n,r){l=n,cl(al(e?e+"{"+t.styles+"}":t.styles),d),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new ki({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(i),f};n(16);function yl(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var _l=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Il=function(e,t,n){_l(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s=t;do{e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next}while(void 0!==s)}};var Pl={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kl=/[A-Z]|^ms/g,El=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wl=function(e){return 45===e.charCodeAt(1)},Nl=function(e){return null!=e&&"boolean"!=typeof e},Vl=Object(fl.a)((function(e){return wl(e)?e:e.replace(kl,"-$&").toLowerCase()})),Sl=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(El,(function(e,t,n){return Rl={name:t,styles:n,next:Rl},t}))}return 1===Pl[e]||wl(e)||"number"!=typeof t||0===t?t:t+"px"};function Tl(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Rl={name:n.name,styles:n.styles,next:Rl},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Rl={name:r.name,styles:r.styles,next:Rl},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Tl(e,t,n[s])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Nl(a)&&(r+=Vl(o)+":"+Sl(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var i=Tl(e,t,a);switch(o){case"animation":case"animationName":r+=Vl(o)+":"+i+";";break;default:r+=o+"{"+i+"}"}}else for(var l=0;l<a.length;l++)Nl(a[l])&&(r+=Vl(o)+":"+Sl(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=Rl,o=n(e);return Rl=s,Tl(e,t,o)}break;case"string":}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var Rl,Ol=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var xl=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,s="";Rl=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,s+=Tl(n,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Tl(n,t,e[a]),r&&(s+=o[a]);Ol.lastIndex=0;for(var i,l="";null!==(i=Ol.exec(s));)l+="-"+i[1];return{name:function(e){for(var t,n=0,r=0,s=e.length;s>=4;++r,s-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(s){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(s)+l,styles:s,next:Rl}},Al=!!r.useInsertionEffect&&r.useInsertionEffect,Cl=Al||function(e){return e()},Dl=(Al||r.useLayoutEffect,{}.hasOwnProperty),jl=r.createContext("undefined"!=typeof HTMLElement?Ml({key:"css"}):null);jl.Provider;var Fl=function(e){return Object(r.forwardRef)((function(t,n){var s=Object(r.useContext)(jl);return e(t,s,n)}))};var Bl=r.createContext({});var Ll="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ul=function(e,t){var n={};for(var r in t)Dl.call(t,r)&&(n[r]=t[r]);return n[Ll]=e,n},ql=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return _l(t,n,r),Cl((function(){return Il(t,n,r)})),null};var zl=Fl((function(e,t,n){var s=e.css;"string"==typeof s&&void 0!==t.registered[s]&&(s=t.registered[s]);var o=e[Ll],a=[s],i="";"string"==typeof e.className?i=yl(t.registered,a,e.className):null!=e.className&&(i=e.className+" ");var l=xl(a,void 0,r.useContext(Bl));i+=t.key+"-"+l.name;var u={};for(var c in e)Dl.call(e,c)&&"css"!==c&&c!==Ll&&(u[c]=e[c]);return u.ref=n,u.className=i,r.createElement(r.Fragment,null,r.createElement(ql,{cache:t,serialized:l,isStringTag:"string"==typeof o}),r.createElement(o,u))})),Hl=(n(135),function(e,t){var n=arguments;if(null==t||!Dl.call(t,"css"))return r.createElement.apply(void 0,n);var s=n.length,o=new Array(s);o[0]=zl,o[1]=Ul(e,t);for(var a=2;a<s;a++)o[a]=n[a];return r.createElement.apply(null,o)});function Wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xl(t)}const Gl=Math.min,$l=Math.max,Kl=Math.round,Xl=Math.floor,Yl=e=>({x:e,y:e});function Ql(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Jl(e){return tu(e)?(e.nodeName||"").toLowerCase():"#document"}function Zl(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function eu(e){var t;return null==(t=(tu(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function tu(e){return e instanceof Node||e instanceof Zl(e).Node}function nu(e){return e instanceof Element||e instanceof Zl(e).Element}function ru(e){return e instanceof HTMLElement||e instanceof Zl(e).HTMLElement}function su(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Zl(e).ShadowRoot)}function ou(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=lu(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function au(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function iu(e){return["html","body","#document"].includes(Jl(e))}function lu(e){return Zl(e).getComputedStyle(e)}function uu(e){if("html"===Jl(e))return e;const t=e.assignedSlot||e.parentNode||su(e)&&e.host||eu(e);return su(t)?t.host:t}function cu(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const s=function e(t){const n=uu(t);return iu(n)?t.ownerDocument?t.ownerDocument.body:t.body:ru(n)&&ou(n)?n:e(n)}(e),o=s===(null==(r=e.ownerDocument)?void 0:r.body),a=Zl(s);return o?t.concat(a,a.visualViewport||[],ou(s)?s:[],a.frameElement&&n?cu(a.frameElement):[]):t.concat(s,cu(s,[],n))}function du(e){const t=lu(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ru(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,i=Kl(n)!==o||Kl(r)!==a;return i&&(n=o,r=a),{width:n,height:r,$:i}}function fu(e){return nu(e)?e:e.contextElement}function mu(e){const t=fu(e);if(!ru(t))return Yl(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=du(t);let a=(o?Kl(n.width):n.width)/r,i=(o?Kl(n.height):n.height)/s;return a&&Number.isFinite(a)||(a=1),i&&Number.isFinite(i)||(i=1),{x:a,y:i}}const pu=Yl(0);function hu(e){const t=Zl(e);return au()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:pu}function gu(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),o=fu(e);let a=Yl(1);t&&(r?nu(r)&&(a=mu(r)):a=mu(e));const i=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Zl(e))&&t}(o,n,r)?hu(o):Yl(0);let l=(s.left+i.x)/a.x,u=(s.top+i.y)/a.y,c=s.width/a.x,d=s.height/a.y;if(o){const e=Zl(o),t=r&&nu(r)?Zl(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=mu(n),t=n.getBoundingClientRect(),r=lu(n),s=t.left+(n.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(n.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=s,u+=o,n=Zl(n).frameElement}}return Ql({width:c,height:d,x:l,y:u})}function bu(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,u=fu(e),c=s||o?[...u?cu(u):[],...cu(t)]:[];c.forEach(e=>{s&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=u&&i?function(e,t){let n,r=null;const s=eu(e);function o(){clearTimeout(n),r&&r.disconnect(),r=null}return function a(i,l){void 0===i&&(i=!1),void 0===l&&(l=1),o();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(i||t(),!d||!f)return;const m={rootMargin:-Xl(c)+"px "+-Xl(s.clientWidth-(u+d))+"px "+-Xl(s.clientHeight-(c+f))+"px "+-Xl(u)+"px",threshold:$l(0,Gl(1,l))||1};let p=!0;function h(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return a();t?a(!1,t):n=setTimeout(()=>{a(!1,1e-7)},100)}p=!1}try{r=new IntersectionObserver(h,{...m,root:s.ownerDocument})}catch(e){r=new IntersectionObserver(h,m)}r.observe(e)}(!0),o}(u,n):null;let f,m=-1,p=null;a&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{p&&p.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let h=l?gu(e):null;return l&&function t(){const r=gu(e);!h||r.x===h.x&&r.y===h.y&&r.width===h.width&&r.height===h.height||n();h=r,f=requestAnimationFrame(t)}(),n(),()=>{c.forEach(e=>{s&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),d&&d(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(f)}}var vu=r.useLayoutEffect,Mu=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],yu=function(){};function _u(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Iu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var o=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(_u(e,a)));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Pu=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===ii(e)&&null!==e?[e]:[];var t},ku=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,di({},hi(e,Mu))},Eu=function(e,t,n){var r=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(t,e),className:r(null!=n?n:{},o(t,e),a)}};function wu(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Nu(e){return wu(e)?window.pageYOffset:e.scrollTop}function Vu(e,t){wu(e)?window.scrollTo(0,t):e.scrollTop=t}function Su(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Tu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yu,s=Nu(e),o=t-s,a=10,i=0;function l(){var t=Su(i+=a,s,o,n);Vu(e,t),i<n?window.requestAnimationFrame(l):r(e)}l()}function Ru(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),s=t.offsetHeight/3;r.bottom+s>n.bottom?Vu(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):r.top-s<n.top&&Vu(e,Math.max(t.offsetTop-s,0))}function Ou(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var xu=!1,Au={get passive(){return xu=!0}},Cu="undefined"!=typeof window?window:{};Cu.addEventListener&&Cu.removeEventListener&&(Cu.addEventListener("p",yu,Au),Cu.removeEventListener("p",yu,!1));var Du=xu;function ju(e){return null!=e}function Fu(e,t,n){return e?t:n}var Bu=["children","innerProps"],Lu=["children","innerProps"];function Uu(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,s=e.placement,o=e.shouldScroll,a=e.isFixedPosition,i=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c,d=l.getBoundingClientRect().height,f=n.getBoundingClientRect(),m=f.bottom,p=f.height,h=f.top,g=n.offsetParent.getBoundingClientRect().top,b=a?window.innerHeight:wu(c=l)?window.innerHeight:c.clientHeight,v=Nu(l),M=parseInt(getComputedStyle(n).marginBottom,10),y=parseInt(getComputedStyle(n).marginTop,10),_=g-y,I=b-h,P=_+v,k=d-v-h,E=m-b+v+M,w=v+h-y;switch(s){case"auto":case"bottom":if(I>=p)return{placement:"bottom",maxHeight:t};if(k>=p&&!a)return o&&Tu(l,E,160),{placement:"bottom",maxHeight:t};if(!a&&k>=r||a&&I>=r)return o&&Tu(l,E,160),{placement:"bottom",maxHeight:a?I-M:k-M};if("auto"===s||a){var N=t,V=a?_:P;return V>=r&&(N=Math.min(V-M-i,t)),{placement:"top",maxHeight:N}}if("bottom"===s)return o&&Vu(l,E),{placement:"bottom",maxHeight:t};break;case"top":if(_>=p)return{placement:"top",maxHeight:t};if(P>=p&&!a)return o&&Tu(l,w,160),{placement:"top",maxHeight:t};if(!a&&P>=r||a&&_>=r){var S=t;return(!a&&P>=r||a&&_>=r)&&(S=a?_-y:P-y),o&&Tu(l,w,160),{placement:"top",maxHeight:S}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}var qu,zu=function(e){return"auto"===e?"bottom":e},Hu=Object(r.createContext)(null),Wu=function(e){var t=e.children,n=e.minMenuHeight,s=e.maxMenuHeight,o=e.menuPlacement,a=e.menuPosition,i=e.menuShouldScrollIntoView,l=e.theme,u=(Object(r.useContext)(Hu)||{}).setPortalPlacement,c=Object(r.useRef)(null),d=pi(Object(r.useState)(s),2),f=d[0],m=d[1],p=pi(Object(r.useState)(null),2),h=p[0],g=p[1],b=l.spacing.controlHeight;return vu((function(){var e=c.current;if(e){var t="fixed"===a,r=Uu({maxHeight:s,menuEl:e,minHeight:n,placement:o,shouldScroll:i&&!t,isFixedPosition:t,controlHeight:b});m(r.maxHeight),g(r.placement),null==u||u(r.placement)}}),[s,o,a,i,n,u,b]),t({ref:c,placerProps:di(di({},e),{},{placement:h||zu(o),maxHeight:f})})},Gu=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return Hl("div",bi({},Eu(e,"menu",{menu:!0}),{ref:n},r),t)},$u=function(e,t){var n=e.theme,r=n.spacing.baseUnit,s=n.colors;return di({textAlign:"center"},t?{}:{color:s.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Ku=$u,Xu=$u,Yu=["size"],Qu=["innerProps","isRtl","size"];var Ju,Zu,ec={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},tc=function(e){var t=e.size,n=hi(e,Yu);return Hl("svg",bi({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ec},n))},nc=function(e){return Hl(tc,bi({size:20},e),Hl("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},rc=function(e){return Hl(tc,bi({size:20},e),Hl("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},sc=function(e,t){var n=e.isFocused,r=e.theme,s=r.spacing.baseUnit,o=r.colors;return di({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*s,":hover":{color:n?o.neutral80:o.neutral40}})},oc=sc,ac=sc,ic=function(){var e=Wl.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(qu||(Ju=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Zu||(Zu=Ju.slice(0)),qu=Object.freeze(Object.defineProperties(Ju,{raw:{value:Object.freeze(Zu)}})))),lc=function(e){var t=e.delay,n=e.offset;return Hl("span",{css:Wl({animation:"".concat(ic," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},uc=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Hl("div",bi({ref:s},Eu(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),o),t)},cc=["data"],dc=function(e){var t=e.children,n=e.cx,r=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,i=e.innerProps,l=e.label,u=e.theme,c=e.selectProps;return Hl("div",bi({},Eu(e,"group",{group:!0}),i),Hl(o,bi({},a,{selectProps:c,theme:u,getStyles:r,getClassNames:s,cx:n}),l),Hl("div",null,t))},fc=["innerRef","isDisabled","isHidden","inputClassName"],mc={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},pc={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":di({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},mc)},hc=function(e){return di({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},mc)},gc=function(e){var t=e.children,n=e.innerProps;return Hl("div",n,t)};var bc={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Hl("div",bi({},Eu(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Hl(nc,null))},Control:uc,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Hl("div",bi({},Eu(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Hl(rc,null))},DownChevron:rc,CrossIcon:nc,Group:dc,GroupHeading:function(e){var t=ku(e);t.data;var n=hi(t,cc);return Hl("div",bi({},Eu(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Hl("div",bi({},Eu(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Hl("span",bi({},t,Eu(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=ku(e),s=r.innerRef,o=r.isDisabled,a=r.isHidden,i=r.inputClassName,l=hi(r,fc);return Hl("div",bi({},Eu(e,"input",{"input-container":!0}),{"data-value":n||""}),Hl("input",bi({className:t({input:!0},i),ref:s,style:hc(a),disabled:o},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,s=void 0===r?4:r,o=hi(e,Qu);return Hl("div",bi({},Eu(di(di({},o),{},{innerProps:t,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Hl(lc,{delay:0,offset:n}),Hl(lc,{delay:160,offset:!0}),Hl(lc,{delay:320,offset:!n}))},Menu:Gu,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,s=e.isMulti;return Hl("div",bi({},Eu(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,s=e.controlElement,a=e.innerProps,i=e.menuPlacement,l=e.menuPosition,u=Object(r.useRef)(null),c=Object(r.useRef)(null),d=pi(Object(r.useState)(zu(i)),2),f=d[0],m=d[1],p=Object(r.useMemo)((function(){return{setPortalPlacement:m}}),[]),h=pi(Object(r.useState)(null),2),g=h[0],b=h[1],v=Object(r.useCallback)((function(){if(s){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(s),t="fixed"===l?0:window.pageYOffset,n=e[f]+t;n===(null==g?void 0:g.offset)&&e.left===(null==g?void 0:g.rect.left)&&e.width===(null==g?void 0:g.rect.width)||b({offset:n,rect:e})}}),[s,l,f,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);vu((function(){v()}),[v]);var M=Object(r.useCallback)((function(){"function"==typeof c.current&&(c.current(),c.current=null),s&&u.current&&(c.current=bu(s,u.current,v,{elementResize:"ResizeObserver"in window}))}),[s,v]);vu((function(){M()}),[M]);var y=Object(r.useCallback)((function(e){u.current=e,M()}),[M]);if(!t&&"fixed"!==l||!g)return null;var _=Hl("div",bi({ref:y},Eu(di(di({},e),{},{offset:g.offset,position:l,rect:g.rect}),"menuPortal",{"menu-portal":!0}),a),n);return Hl(Hu.Provider,{value:p},t?Object(o.createPortal)(_,t):_)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,s=hi(e,Lu);return Hl("div",bi({},Eu(di(di({},s),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,s=hi(e,Bu);return Hl("div",bi({},Eu(di(di({},s),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:function(e){var t=e.children,n=e.components,r=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,i=e.selectProps,l=n.Container,u=n.Label,c=n.Remove;return Hl(l,{data:r,innerProps:di(di({},Eu(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:i},Hl(u,{data:r,innerProps:di({},Eu(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:i},t),Hl(c,{data:r,innerProps:di(di({},Eu(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:i}))},MultiValueContainer:gc,MultiValueLabel:gc,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Hl("div",bi({role:"button"},n),t||Hl(nc,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Hl("div",bi({},Eu(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":s}),{ref:o,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Hl("div",bi({},Eu(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,s=e.isRtl;return Hl("div",bi({},Eu(e,"container",{"--is-disabled":r,"--is-rtl":s}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return Hl("div",bi({},Eu(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,s=e.hasValue;return Hl("div",bi({},Eu(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),n),t)}},vc=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Mc(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],s=t[n],!(r===s||vc(r)&&vc(s)))return!1;var r,s;return!0}for(var yc={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},_c=function(e){return Hl("span",bi({css:yc},e))},Ic={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,s=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,s=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,s=e.label,o=void 0===s?"":s,a=e.selectValue,i=e.isDisabled,l=e.isSelected,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(o," focused, ").concat(u(a,n),".");if("menu"===t){var c=i?" disabled":"",d="".concat(l?"selected":"focused").concat(c);return"option ".concat(o," ").concat(d,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Pc=function(e){var t=e.ariaSelection,n=e.focusedOption,s=e.focusedValue,o=e.focusableOptions,a=e.isFocused,i=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,d=l.getOptionLabel,f=l.inputValue,m=l.isMulti,p=l.isOptionDisabled,h=l.isSearchable,g=l.menuIsOpen,b=l.options,v=l.screenReaderStatus,M=l.tabSelectsValue,y=l["aria-label"],_=l["aria-live"],I=Object(r.useMemo)((function(){return di(di({},Ic),c||{})}),[c]),P=Object(r.useMemo)((function(){var e,n="";if(t&&I.onChange){var r=t.option,s=t.options,o=t.removedValue,a=t.removedValues,l=t.value,u=o||r||(e=l,Array.isArray(e)?null:e),c=u?d(u):"",f=s||a||void 0,m=f?f.map(d):[],h=di({isDisabled:u&&p(u,i),label:c,labels:m},t);n=I.onChange(h)}return n}),[t,I,p,i,d]),k=Object(r.useMemo)((function(){var e="",t=n||s,r=!!(n&&i&&i.includes(n));if(t&&I.onFocus){var a={focused:t,label:d(t),isDisabled:p(t,i),isSelected:r,options:o,context:t===n?"menu":"value",selectValue:i};e=I.onFocus(a)}return e}),[n,s,d,p,I,o,i]),E=Object(r.useMemo)((function(){var e="";if(g&&b.length&&I.onFilter){var t=v({count:o.length});e=I.onFilter({inputValue:f,resultsMessage:t})}return e}),[o,f,g,I,b,v]),w=Object(r.useMemo)((function(){var e="";if(I.guidance){var t=s?"value":g?"menu":"input";e=I.guidance({"aria-label":y,context:t,isDisabled:n&&p(n,i),isMulti:m,isSearchable:h,tabSelectsValue:M})}return e}),[y,n,s,m,p,h,g,I,i,M]),N="".concat(k," ").concat(E," ").concat(w),V=Hl(r.Fragment,null,Hl("span",{id:"aria-selection"},P),Hl("span",{id:"aria-context"},N)),S="initial-input-focus"===(null==t?void 0:t.action);return Hl(r.Fragment,null,Hl(_c,{id:u},S&&V),Hl(_c,{"aria-live":_,"aria-atomic":"false","aria-relevant":"additions text"},a&&!S&&V))},kc=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Ec=new RegExp("["+kc.map((function(e){return e.letters})).join("")+"]","g"),wc={},Nc=0;Nc<kc.length;Nc++)for(var Vc=kc[Nc],Sc=0;Sc<Vc.letters.length;Sc++)wc[Vc.letters[Sc]]=Vc.base;var Tc=function(e){return e.replace(Ec,(function(e){return wc[e]}))},Rc=function(e,t){void 0===t&&(t=Mc);var n=null;function r(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(Tc),Oc=function(e){return e.replace(/^\s+|\s+$/g,"")},xc=function(e){return"".concat(e.label," ").concat(e.value)},Ac=["innerRef"];function Cc(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=Object.entries(e).filter((function(e){var t=pi(e,1)[0];return!n.includes(t)}));return s.reduce((function(e,t){var n=pi(t,2),r=n[0],s=n[1];return e[r]=s,e}),{})}(hi(e,Ac),"onExited","in","enter","exit","appear");return Hl("input",bi({ref:t},n,{css:Wl({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Dc=["boxSizing","height","overflow","paddingRight","position"],jc={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Fc(e){e.preventDefault()}function Bc(e){e.stopPropagation()}function Lc(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Uc(){return"ontouchstart"in window||navigator.maxTouchPoints}var qc=!("undefined"==typeof window||!window.document||!window.document.createElement),zc=0,Hc={capture:!1,passive:!1};var Wc=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Gc={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function $c(e){var t=e.children,n=e.lockEnabled,s=e.captureEnabled,o=function(e){var t=e.isEnabled,n=e.onBottomArrive,s=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,i=Object(r.useRef)(!1),l=Object(r.useRef)(!1),u=Object(r.useRef)(0),c=Object(r.useRef)(null),d=Object(r.useCallback)((function(e,t){if(null!==c.current){var r=c.current,u=r.scrollTop,d=r.scrollHeight,f=r.clientHeight,m=c.current,p=t>0,h=d-f-u,g=!1;h>t&&i.current&&(s&&s(e),i.current=!1),p&&l.current&&(a&&a(e),l.current=!1),p&&t>h?(n&&!i.current&&n(e),m.scrollTop=d,g=!0,i.current=!0):!p&&-t>u&&(o&&!l.current&&o(e),m.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[n,s,o,a]),f=Object(r.useCallback)((function(e){d(e,e.deltaY)}),[d]),m=Object(r.useCallback)((function(e){u.current=e.changedTouches[0].clientY}),[]),p=Object(r.useCallback)((function(e){var t=u.current-e.changedTouches[0].clientY;d(e,t)}),[d]),h=Object(r.useCallback)((function(e){if(e){var t=!!Du&&{passive:!1};e.addEventListener("wheel",f,t),e.addEventListener("touchstart",m,t),e.addEventListener("touchmove",p,t)}}),[p,m,f]),g=Object(r.useCallback)((function(e){e&&(e.removeEventListener("wheel",f,!1),e.removeEventListener("touchstart",m,!1),e.removeEventListener("touchmove",p,!1))}),[p,m,f]);return Object(r.useEffect)((function(){if(t){var e=c.current;return h(e),function(){g(e)}}}),[t,h,g]),function(e){c.current=e}}({isEnabled:void 0===s||s,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var t=e.isEnabled,n=e.accountForScrollbars,s=void 0===n||n,o=Object(r.useRef)({}),a=Object(r.useRef)(null),i=Object(r.useCallback)((function(e){if(qc){var t=document.body,n=t&&t.style;if(s&&Dc.forEach((function(e){var t=n&&n[e];o.current[e]=t})),s&&zc<1){var r=parseInt(o.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,i=window.innerWidth-a+r||0;Object.keys(jc).forEach((function(e){var t=jc[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(i,"px"))}t&&Uc()&&(t.addEventListener("touchmove",Fc,Hc),e&&(e.addEventListener("touchstart",Lc,Hc),e.addEventListener("touchmove",Bc,Hc))),zc+=1}}),[s]),l=Object(r.useCallback)((function(e){if(qc){var t=document.body,n=t&&t.style;zc=Math.max(zc-1,0),s&&zc<1&&Dc.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&Uc()&&(t.removeEventListener("touchmove",Fc,Hc),e&&(e.removeEventListener("touchstart",Lc,Hc),e.removeEventListener("touchmove",Bc,Hc)))}}),[s]);return Object(r.useEffect)((function(){if(t){var e=a.current;return i(e),function(){l(e)}}}),[t,i,l]),function(e){a.current=e}}({isEnabled:n});return Hl(r.Fragment,null,n&&Hl("div",{onClick:Wc,css:Gc}),t((function(e){o(e),a(e)})))}var Kc={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Xc=function(e){var t=e.name,n=e.onFocus;return Hl("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Kc,value:"",onChange:function(){}})},Yc={clearIndicator:ac,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius;return di({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:r?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},dropdownIndicator:oc,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,s=n.spacing;return di({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*s.baseUnit,paddingRight:3*s.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,o=r.colors;return di({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*s,marginTop:2*s})},input:function(e,t){var n=e.isDisabled,r=e.value,s=e.theme,o=s.spacing,a=s.colors;return di(di({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},pc),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return di({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*a})},loadingMessage:Xu,menu:function(e,t){var n,r=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,i=s.colors;return di((ui(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),ui(n,"position","absolute"),ui(n,"width","100%"),ui(n,"zIndex",1),n),t?{}:{backgroundColor:i.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return di({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,s=n.borderRadius,o=n.colors;return di({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,s=n.colors,o=e.cropWithEllipsis;return di({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,s=n.borderRadius,o=n.colors,a=e.isFocused;return di({alignItems:"center",display:"flex"},t?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:Ku,option:function(e,t){var n=e.isDisabled,r=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,i=o.colors;return di({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:s?i.primary:r?i.primary25:"transparent",color:n?i.neutral20:s?i.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:s?i.primary:i.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,s=n.colors;return di({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,s=r.spacing,o=r.colors;return di({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return di({alignItems:"center",display:r&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var Qc,Jc={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Zc={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ou(),captureMenuScroll:!Ou(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=di({ignoreCase:!0,ignoreAccents:!0,stringify:xc,trim:!0,matchFrom:"any"},Qc),r=n.ignoreCase,s=n.ignoreAccents,o=n.stringify,a=n.trim,i=n.matchFrom,l=a?Oc(t):t,u=a?Oc(o(e)):o(e);return r&&(l=l.toLowerCase(),u=u.toLowerCase()),s&&(l=Rc(l),u=Tc(u)),"start"===i?u.substr(0,l.length)===l:u.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function ed(e,t,n,r){return{type:"option",data:t,isDisabled:ad(e,t,n),isSelected:id(e,t,n),label:sd(e,t),value:od(e,t),index:r}}function td(e,t){return e.options.map((function(n,r){if("options"in n){var s=n.options.map((function(n,r){return ed(e,n,t,r)})).filter((function(t){return rd(e,t)}));return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var o=ed(e,n,t,r);return rd(e,o)?o:void 0})).filter(ju)}function nd(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Pi(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function rd(e,t){var n=e.inputValue,r=void 0===n?"":n,s=t.data,o=t.isSelected,a=t.label,i=t.value;return(!ud(e)||!o)&&ld(e,{label:a,value:i,data:s},r)}var sd=function(e,t){return e.getOptionLabel(t)},od=function(e,t){return e.getOptionValue(t)};function ad(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function id(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=od(e,t);return n.some((function(t){return od(e,t)===r}))}function ld(e,t,n){return!e.filterOption||e.filterOption(t,n)}var ud=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},cd=1,dd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mi(e,t)}(a,e);var t,n,s,o=Ii(a);function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,s=r.onChange,o=r.name;n.name=o,t.ariaOnChange(e,n),s(e,n)},t.setValue=function(e,n,r){var s=t.props,o=s.closeMenuOnSelect,a=s.isMulti,i=s.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:i}),o&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,s=n.isMulti,o=n.name,a=t.state.selectValue,i=s&&t.isOptionSelected(e,a),l=t.isOptionDisabled(e,a);if(i){var u=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==u})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});s?t.setValue([].concat(Pi(a),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,s=t.getOptionValue(e),o=r.filter((function(e){return t.getOptionValue(e)!==s})),a=Fu(n,o,o[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Fu(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],s=n.slice(0,n.length-1),o=Fu(e,s,s[0]||null);t.onChange(o,{action:"pop-value",removedValue:r})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Iu.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return sd(t.props,e)},t.getOptionValue=function(e){return od(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,s=Yc[e](n,r);s.boxSizing="border-box";var o=t.props.styles[e];return o?o(s,n):s},t.getClassNames=function(e,n){var r,s;return null===(r=(s=t.props.classNames)[e])||void 0===r?void 0:r.call(s,n)},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,di(di({},bc),e.components);var e},t.buildCategorizedOptions=function(){return td(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return nd(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:di({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||t.props.isDisabled)){var n=t.props,r=n.isMulti,s=n.menuIsOpen;t.focusInput(),s?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&wu(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var s=Math.abs(r.clientX-t.initialTouchX),o=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=s>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return ud(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,s=n.backspaceRemovesValue,o=n.escapeClearsValue,a=n.inputValue,i=n.isClearable,l=n.isDisabled,u=n.menuIsOpen,c=n.onKeyDown,d=n.tabSelectsValue,f=n.openMenuOnFocus,m=t.state,p=m.focusedOption,h=m.focusedValue,g=m.selectValue;if(!(l||"function"==typeof c&&(c(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;t.focusValue("previous");break;case"ArrowRight":if(!r||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(h)t.removeValue(h);else{if(!s)return;r?t.popValue():i&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!u||!d||!p||f&&t.isOptionSelected(p,g))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(u){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":u?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):i&&o&&t.clearValue();break;case" ":if(a)return;if(!u){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":u?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":u?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!u)return;t.focusOption("pageup");break;case"PageDown":if(!u)return;t.focusOption("pagedown");break;case"Home":if(!u)return;t.focusOption("first");break;case"End":if(!u)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++cd),t.state.selectValue=Pu(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.buildFocusableOptions(),r=n.indexOf(t.state.selectValue[0]);t.state.focusedOption=n[r]}return t}return t=a,s=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,s=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,a=t.isFocused,i=t.prevWasFocused,l=e.options,u=e.value,c=e.menuIsOpen,d=e.inputValue,f=e.isMulti,m=Pu(u),p={};if(n&&(u!==n.value||l!==n.options||c!==n.menuIsOpen||d!==n.inputValue)){var h=c?function(e,t){return nd(td(e,t))}(e,m):[],g=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,m):null;p={selectValue:m,focusedOption:function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,h),focusedValue:g,clearFocusValueOnUpdate:!1}}var b=null!=s&&e!==n?{inputIsHidden:s,inputIsHiddenAfterUpdate:void 0}:{},v=o,M=a&&i;return a&&!M&&(v={value:Fu(f,m,m[0]||null),options:m,action:"initial-input-focus"},M=!i),"initial-input-focus"===(null==o?void 0:o.action)&&(v=null),di(di(di({},p),b),{},{prevProps:e,ariaSelection:v,prevWasFocused:M})}}],(n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Ru(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,s=this.state.isFocused;(s&&!n&&e.isDisabled||s&&r&&!e.menuIsOpen)&&this.focusInput(),s&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):s||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Ru(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,s=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var i=o.indexOf(r[0]);i>-1&&(a=i)}this.scrollToFocusedOptionOnUpdate=!(s&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var s=n.indexOf(r);r||(s=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===s?0:-1===s?o:s-1;break;case"next":s>-1&&s<o&&(a=s+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var s=0,o=r.indexOf(n);n||(o=-1),"up"===e?s=o>0?o-1:r.length-1:"down"===e?s=(o+1)%r.length:"pageup"===e?(s=o-t)<0&&(s=0):"pagedown"===e?(s=o+t)>r.length-1&&(s=r.length-1):"last"===e&&(s=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[s],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Jc):di(di({},Jc),this.props.theme):Jc}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,s=this.getValue,o=this.selectOption,a=this.setValue,i=this.props,l=i.isMulti,u=i.isRtl,c=i.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:s,hasValue:this.hasValue(),isMulti:l,isRtl:u,options:c,selectOption:o,selectProps:i,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return ad(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return id(this.props,e,t)}},{key:"filterOption",value:function(e,t){return ld(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,s=e.inputId,o=e.inputValue,a=e.tabIndex,i=e.form,l=e.menuIsOpen,u=e.required,c=this.getComponents().Input,d=this.state,f=d.inputIsHidden,m=d.ariaSelection,p=this.commonProps,h=s||this.getElementId("input"),g=di(di(di({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":u,role:"combobox"},l&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==m?void 0:m.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?r.createElement(c,bi({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:h,innerRef:this.getInputRef,isDisabled:t,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:i,type:"text",value:o},g)):r.createElement(Cc,bi({id:h,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:yu,onFocus:this.onInputFocus,disabled:t,tabIndex:a,inputMode:"none",form:i,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,s=t.MultiValueContainer,o=t.MultiValueLabel,a=t.MultiValueRemove,i=t.SingleValue,l=t.Placeholder,u=this.commonProps,c=this.props,d=c.controlShouldRenderValue,f=c.isDisabled,m=c.isMulti,p=c.inputValue,h=c.placeholder,g=this.state,b=g.selectValue,v=g.focusedValue,M=g.isFocused;if(!this.hasValue()||!d)return p?null:r.createElement(l,bi({},u,{key:"placeholder",isDisabled:f,isFocused:M,innerProps:{id:this.getElementId("placeholder")}}),h);if(m)return b.map((function(t,i){var l=t===v,c="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return r.createElement(n,bi({},u,{components:{Container:s,Label:o,Remove:a},isFocused:l,isDisabled:f,key:c,index:i,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(p)return null;var y=b[0];return r.createElement(i,bi({},u,{data:y,isDisabled:f}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,s=n.isDisabled,o=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||s||!this.hasValue()||o)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,bi({},t,{innerProps:i,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,s=n.isDisabled,o=n.isLoading,a=this.state.isFocused;return e&&o?r.createElement(e,bi({},t,{innerProps:{"aria-hidden":"true"},isDisabled:s,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var s=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return r.createElement(n,bi({},s,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,s=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,bi({},t,{innerProps:o,isDisabled:n,isFocused:s}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,s=t.GroupHeading,o=t.Menu,a=t.MenuList,i=t.MenuPortal,l=t.LoadingMessage,u=t.NoOptionsMessage,c=t.Option,d=this.commonProps,f=this.state.focusedOption,m=this.props,p=m.captureMenuScroll,h=m.inputValue,g=m.isLoading,b=m.loadingMessage,v=m.minMenuHeight,M=m.maxMenuHeight,y=m.menuIsOpen,_=m.menuPlacement,I=m.menuPosition,P=m.menuPortalTarget,k=m.menuShouldBlockScroll,E=m.menuShouldScrollIntoView,w=m.noOptionsMessage,N=m.onMenuScrollToTop,V=m.onMenuScrollToBottom;if(!y)return null;var S,T=function(t,n){var s=t.type,o=t.data,a=t.isDisabled,i=t.isSelected,l=t.label,u=t.value,m=f===o,p=a?void 0:function(){return e.onOptionHover(o)},h=a?void 0:function(){return e.selectOption(o)},g="".concat(e.getElementId("option"),"-").concat(n),b={id:g,onClick:h,onMouseMove:p,onMouseOver:p,tabIndex:-1};return r.createElement(c,bi({},d,{innerProps:b,data:o,isDisabled:a,isSelected:i,key:g,label:l,type:s,value:u,isFocused:m,innerRef:m?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())S=this.getCategorizedOptions().map((function(t){if("group"===t.type){var o=t.data,a=t.options,i=t.index,l="".concat(e.getElementId("group"),"-").concat(i),u="".concat(l,"-heading");return r.createElement(n,bi({},d,{key:l,data:o,options:a,Heading:s,headingProps:{id:u,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return T(e,"".concat(i,"-").concat(e.index))})))}if("option"===t.type)return T(t,"".concat(t.index))}));else if(g){var R=b({inputValue:h});if(null===R)return null;S=r.createElement(l,d,R)}else{var O=w({inputValue:h});if(null===O)return null;S=r.createElement(u,d,O)}var x={minMenuHeight:v,maxMenuHeight:M,menuPlacement:_,menuPosition:I,menuShouldScrollIntoView:E},A=r.createElement(Wu,bi({},d,x),(function(t){var n=t.ref,s=t.placerProps,i=s.placement,l=s.maxHeight;return r.createElement(o,bi({},d,x,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:g,placement:i}),r.createElement($c,{captureEnabled:p,onTopArrive:N,onBottomArrive:V,lockEnabled:k},(function(t){return r.createElement(a,bi({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:g,maxHeight:l,focusedOption:f}),S)})))}));return P||"fixed"===I?r.createElement(i,bi({},d,{appendTo:P,controlElement:this.controlRef,menuPlacement:_,menuPosition:I}),A):A}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,s=t.isDisabled,o=t.isMulti,a=t.name,i=t.required,l=this.state.selectValue;if(i&&!this.hasValue()&&!s)return r.createElement(Xc,{name:a,onFocus:this.onValueInputFocus});if(a&&!s){if(o){if(n){var u=l.map((function(t){return e.getOptionValue(t)})).join(n);return r.createElement("input",{name:a,type:"hidden",value:u})}var c=l.length>0?l.map((function(t,n){return r.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):r.createElement("input",{name:a,type:"hidden",value:""});return r.createElement("div",null,c)}var d=l[0]?this.getOptionValue(l[0]):"";return r.createElement("input",{name:a,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,s=t.focusedOption,o=t.focusedValue,a=t.isFocused,i=t.selectValue,l=this.getFocusableOptions();return r.createElement(Pc,bi({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:s,focusedValue:o,isFocused:a,selectValue:i,focusableOptions:l}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,s=e.SelectContainer,o=e.ValueContainer,a=this.props,i=a.className,l=a.id,u=a.isDisabled,c=a.menuIsOpen,d=this.state.isFocused,f=this.commonProps=this.getCommonProps();return r.createElement(s,bi({},f,{className:i,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:d}),this.renderLiveRegion(),r.createElement(t,bi({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:d,menuIsOpen:c}),r.createElement(o,bi({},f,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),r.createElement(n,bi({},f,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}])&&vi(t.prototype,n),s&&vi(t,s),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);dd.defaultProps=Zc;n(113),n(115),n(119),n(121),n(122),n(123),n(125),n(130),n(28),n(134),n(53);var fd=Object(r.forwardRef)((function(e,t){var n,s,o,a,i,l,u,c,d,f,m,p,h,g,b,v,M,y,_,I,P,k,E,w,N,V,S,T,R,O,x,A=(s=(n=e).defaultInputValue,o=void 0===s?"":s,a=n.defaultMenuIsOpen,i=void 0!==a&&a,l=n.defaultValue,u=void 0===l?null:l,c=n.inputValue,d=n.menuIsOpen,f=n.onChange,m=n.onInputChange,p=n.onMenuClose,h=n.onMenuOpen,g=n.value,b=hi(n,gi),v=pi(Object(r.useState)(void 0!==c?c:o),2),M=v[0],y=v[1],_=pi(Object(r.useState)(void 0!==d?d:i),2),I=_[0],P=_[1],k=pi(Object(r.useState)(void 0!==g?g:u),2),E=k[0],w=k[1],N=Object(r.useCallback)((function(e,t){"function"==typeof f&&f(e,t),w(e)}),[f]),V=Object(r.useCallback)((function(e,t){var n;"function"==typeof m&&(n=m(e,t)),y(void 0!==n?n:e)}),[m]),S=Object(r.useCallback)((function(){"function"==typeof h&&h(),P(!0)}),[h]),T=Object(r.useCallback)((function(){"function"==typeof p&&p(),P(!1)}),[p]),R=void 0!==c?c:M,O=void 0!==d?d:I,x=void 0!==g?g:E,di(di({},b),{},{inputValue:R,menuIsOpen:O,onChange:N,onInputChange:V,onMenuClose:T,onMenuOpen:S,value:x}));return r.createElement(dd,bi({ref:t},A))})),md=n(18);const pd=["A","A'","B","B'","C","C'","D","D'","E","E'","intro","intro (looped)","intro (not looped)","bridge","verse","chorus","A:antecedent","A:consequent","B:antecedent","B:consequent","C:antecedent","C:consequent","antecedent","consequent","sentence. basic idea","basic idea repeated","fragmentation","cadence","extra measure"],hd=["tonic","first measure","second measure","end"],gd={"first measure":"#ffaaaa","second measure":"#ffffaa",tonic:"#aaffaa",end:"white"},bd={"first measure":"Click on a note at the start of the first measure","second measure":"Click on a note at the start of the second measure",tonic:"Click on a main tonic",end:"Click on root notes to enter chords. Alt+click for half duration"},vd={clickResolutionMs:.01,step:hd[0],firstMeasure:null,secondMeasure:null,correctedMeasures:[],fourMeasurePhrasingReferences:[],modulations:[],beatsPerMeasure:4,loop:null,tonic:null,basedOn:null,romanNumerals:"",comment:"",tags:[],disableSnapToNotes:!1,form:[]},Md=(e,t,n,r=null,s=[],o=[],a=!1)=>{var i;let l={};if(null!==t)a?e&&(l.modulations=Object.assign({},n.modulations||[]),l.modulations[t]=e.note.midiNumber%12):(l.correctedMeasures=Object.assign({},n.correctedMeasures||[]),l.correctedMeasures[t]=null!==(i=null==e?void 0:e.span[0])&&void 0!==i?i:r);else{const{step:t}=n;"end"!==t&&(l.step=hd[hd.indexOf(t)+1]),"first measure"===t?l.firstMeasure=e.span[0]:"second measure"===t?l.secondMeasure=e.span[0]:"tonic"===t?l.tonic=e.note.midiNumber%12:"end"===t&&(l.romanNumerals=((e,t,n,r,s)=>{const o=(t.span[0]+t.span[1])/2,a=r.findIndex(e=>e>=o)-1,i=[r[a],r[a+1]],l=.5*i[0]+.5*i[1],u=s?o<l?[i[0],l]:[l,i[1]]:i,c=ni(a,e),d=(t.note.midiNumber-c)%12,f=Fa((t.note.midiNumber+3)%12,u,n),m=Fa((t.note.midiNumber+4)%12,u,n),p=(f>m?Ba:0===m?Ua:La)[d],h=Wa(e.romanNumerals);for(;h.length<=a;)h.push("_");if(s){const e=Ga(h[a]);e.length<2&&e.push(e[0]),e[o<l?0:1]=p,h[a]=e.join("-")}else h[a]=p;return h.join(" ")})(n,e,s,o,a))}return Object.assign(Object.assign({},n),l)},yd=(e,t,n,r,s,o=null,a=[],i=[],l=!1)=>{const u=Md(e,t,r,o,a,i,l);n(null),s(u)},_d=md.a.div`
  width: 1px;
  height: 100%;
  position: absolute;
  top: 0;
  z-index: 2;
  pointer-events: none;
`,Id=Object(md.a)(_d)`
  background-color: #ff6666;
  pointer-events: none;
`,Pd=Object(md.a)(_d)`
  background-color: #444;
`,kd=Object(md.a)(_d)`
  border-left: 1px dashed #262626;
`,Ed=({span:e,number:t,isFourMeasureMark:n,previouslySelectedDownbeat:s,selectedDownbeat:o,selectDownbeat:a,romanNumeral:i,formSection:l,modulation:u})=>{const c=Bd(e[0])-1,d=Bd(e[1])-c-1;return r.createElement(r.Fragment,null,r.createElement(Pd,{key:"db_"+t,style:Object.assign({left:c},n&&{backgroundColor:"#aaa"})}),r.createElement("div",{key:"db_n_"+t,style:{position:"absolute",top:30+$d,left:c+7+"px",color:o===t?"red":s===t?"green":"white",zIndex:5,cursor:"pointer",userSelect:"none",width:d},onClick:e=>{e.stopPropagation(),a(t)}},t),l&&r.createElement("div",{key:"form_section_"+t,style:{position:"absolute",left:c+1+"px",top:55+$d,zIndex:10,backgroundColor:"#333",padding:"5px 10px 5px 10px",color:"#ffe",userSelect:"none",pointerEvents:"none"}},l),r.createElement("div",{key:"db_rn_"+t,style:{position:"absolute",left:c+"px",width:d,top:$d,height:"25px",display:"grid",placeItems:"center",fontSize:"25px",zIndex:5,borderLeft:"1px solid black"}},r.createElement(Za,{dashedRN:i,modulation:u})))},wd=({second:e})=>r.createElement(kd,{style:{left:Bd(e),zIndex:2,pointerEvents:"none"}}),Nd=r.memo(({analysis:e,measures:t,midiNumberToY:n,secondsToX:s,noteHeight:o})=>{const a=ti(e);if(!a||!t)return;a.push({measure:t.length,tonic:a[0].tonic});const i=[];for(let e=0;e+1<a.length;++e){const l=t[Math.max(a[e].measure,0)],u=t[Math.min(a[e+1].measure,t.length-1)],{tonic:c}=a[e],d=s(u)-s(l);if(d)for(let e=2;e<=9;++e){const t=c+12*e;i.push(r.createElement(r.Fragment,null,r.createElement("div",{key:"gradient_"+t,style:{position:"absolute",width:d,height:12*o,left:s(l),top:n(t-1),pointerEvents:"none",background:"linear-gradient(to top, #222, transparent)",zIndex:1}})))}}return i}),Vd=r.memo(({analysis:e,measuresAndBeats:t,midiNumberToY:n,noteHeight:s,previouslySelectedDownbeat:o,selectedDownbeat:a,selectDownbeat:i,commitAnalysisUpdate:l,setVoiceMask:u,loggedIn:c,voices:d,seek:f,showIntervals:m})=>{const{measures:p,beats:h}=t;let g=null;e.loop&&(g=Bd(p[e.loop-1]));const b=Da(e,p.length),v=si(e.tonic,e.modulations);return r.createElement(r.Fragment,null,p.map((t,n)=>{var s,l;const u=n+1;return r.createElement(Ed,{key:n,span:[t,null!==(s=p[n+1])&&void 0!==s?s:t],isFourMeasureMark:-1!==b.indexOf(u),formSection:(null!==(l=e.form)&&void 0!==l?l:{})[u],number:u,previouslySelectedDownbeat:o,selectedDownbeat:a,selectDownbeat:i,romanNumeral:Wa(null==e?void 0:e.romanNumerals)[n],modulation:u in v?v[u]:null})}),h.map(e=>r.createElement(wd,{key:e,second:e})),null!==e.tonic&&r.createElement(Nd,{analysis:e,measures:p,secondsToX:Bd,midiNumberToY:n,noteHeight:s}),r.createElement(Jd,{tagSpans:e.tagSpans||[],measuresAndBeats:t,analysis:e,commitAnalysisUpdate:l,setVoiceMask:u,loggedIn:c,voices:d,seek:f,showIntervals:m}),g&&r.createElement("div",{key:"loop",style:{boxShadow:"inset 0px -5px 10px white",pointerEvents:"none",position:"absolute",background:"linear-gradient(to right, rgba(0, 0, 0, 0.5) 0%, rgba(0,0,0,0.9) 300px)",left:g,height:"100%",right:0,zIndex:1e3,width:"5000px"}},r.createElement("div",{style:{margin:"200px 50px 50px 20px",color:"white"}},"Loop")))}),Sd=r.memo(({analysis:e,commitAnalysisUpdate:t,previouslySelectedDownbeat:n,selectedDownbeat:s,selectDownbeat:o})=>{const a=(n,s,o,a="95%",i=null)=>{const[l,u]=Object(r.useState)(n.toString()),[c,d]=Object(r.useState)(!1);Object(r.useEffect)(()=>{var t;u(null!==(t=e[s])&&void 0!==t?t:n.toString())},[e[s]]),Object(r.useEffect)(()=>{if(c){const e=setTimeout(()=>d(!1),100);return()=>clearTimeout(e)}},[c]);return r.createElement("div",{key:"if_"+s,style:{marginTop:"10px"}},o,":"," ",r.createElement("input",{type:"text",value:l,style:{width:a,backgroundColor:c?"#66d":"#aaa",transition:"background-color 0.1s"},onChange:e=>u(e.target.value),onKeyDown:r=>{"Enter"===r.key&&(t(i?i(e,l):{[s]:"number"==typeof n?parseInt(l,10):l}),d(!0))}}))},i=Object(r.useRef)(null);Object(r.useEffect)(()=>{null!==s&&i.current.focus()},[s]);const l=a("","basedOn","Based on"),u=a(4,"beatsPerMeasure","Beats per measure","1em"),c=a("","romanNumerals","Roman numerals"),d=a("","comment","Comment"),f=a("",null,"Form section",void 0,(e,t)=>(o(null),{form:Object.assign(Object.assign({},e.form),{[s]:t})}));return r.createElement("div",{className:"App-main-content-area settings",key:"AnalysisBox"},r.createElement("div",{key:"nav-buttons"},r.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.createElement("div",{style:{marginBottom:"10px"}},r.createElement("button",{className:"box-button",disabled:e.step===hd[0],onClick:()=>((e,t)=>t({step:hd[hd.indexOf(e.step)-1]}))(e,t)},"<")," ",r.createElement("button",{className:"box-button",disabled:e.step===hd[hd.length-1],onClick:()=>((e,t)=>t({step:hd[hd.indexOf(e.step)+1]}))(e,t)},">"))),"  ",null===s&&r.createElement("div",{style:{color:gd[e.step]}},bd[e.step])),r.createElement("div",{key:"menu",style:{marginTop:"20px"}},null!==s?r.createElement("div",null,r.createElement("div",null,"What to do with measure ",s,"?"),r.createElement("ul",{className:"vertical-list-of-buttons"},r.createElement("li",null,r.createElement("button",{className:"box-button",onClick:()=>{o(null),t({loop:s})}},"Mark loop start")),r.createElement("li",null,r.createElement("button",{className:"box-button",onClick:()=>{o(null),t({fourMeasurePhrasingReferences:[s]})}},"Mark start of 4-measure phrasing")),r.createElement("li",null,r.createElement("button",{className:"box-button",onClick:()=>{o(null),t({fourMeasurePhrasingReferences:[...e.fourMeasurePhrasingReferences||[],s].sort((e,t)=>e-t)})}},"Add custom phrasing measure (manual mode)")),r.createElement("li",null,"Adjust position: click anywhere"),r.createElement("li",null,"Enter modulation: alt+click on a new tonic"),r.createElement("li",null,r.createElement("div",null,"Add tag to span: [",null!=n?n:s,"-",s,"]",r.createElement(fd,{ref:i,options:Hd.map(e=>({value:e,label:e})),onChange:r=>{var a,i;o(null),t({tagSpans:[...null!==(a=e.tagSpans)&&void 0!==a?a:[],{tag:r.value,span:[null!=n?n:s,s]}],tags:(null!==(i=e.tags)&&void 0!==i?i:[]).filter(e=>e!==r.value)})}}))),r.createElement("li",null,f,r.createElement("div",null,pd.map(n=>r.createElement("button",{style:{marginRight:"10px",marginTop:"10px"},className:"box-button",onClick:()=>{o(null),t({form:Object.assign(Object.assign({},e.form),{[s]:n})})}},n)))))):r.createElement("div",null,l,u,r.createElement("div",{key:"disable_snap",style:{marginTop:"10px"}},r.createElement("label",null,r.createElement("input",{type:"checkbox",onChange:()=>{t({disableSnapToNotes:!e.disableSnapToNotes})},checked:e.disableSnapToNotes}),"Disable snap to notes")),c,d,r.createElement("div",{key:"tags",style:{marginTop:"10px"}},"Tags:",r.createElement(fd,{isMulti:!0,options:Hd.map(e=>({value:e,label:e})),value:(e.tags||[]).map(e=>({value:e,label:e})),onChange:e=>{t({tags:e.map(e=>e.value)})}})),e.tagSpans&&r.createElement("div",{key:"tagSpans",style:{marginTop:"10px"}},"Tag spans:",e.tagSpans.filter(({tag:e})=>-1===Gd.indexOf(e.split(":")[0])).map(({tag:e,span:t},n)=>r.createElement("div",null,e,": [",t[0],", ",t[1],"]"," ",r.createElement("button",{style:{marginRight:"10px",marginTop:"10px"},className:"box-button",onClick:()=>{alert("broken, fix")}},"x")))))))});var Td=n(4),Rd=n.n(Td);const Od=({events:e,activeChannels:t,timebase:n,timeEvents:r})=>{const s=function(e,t){const n=[0],r=[];let s=.5,o=4,a=4,i=0,l=0,u=0;const c=e=>{const t=u+(1-i)*s;return t-.005<=e?(l+1===o?(n.push(t),l=0):(r.push(t),l++),i=0,u=t,!0):(i+=(e-u)/s,u=e,!1)};return e.forEach(e=>{if("timeSignature"===e.type)o=e.numerator,a=Math.pow(2,e.denominatorPower);else{const{bpm:t,playTime:n}=e;for(;c(n/1e3););s=60/t}}),{measures:n,beats:r}}(r);return e.forEach(t=>{t.subtype===Rd.a.EVENT_META_KEY_SIGNATURE&&console.log("KEY SIGNATURE",JSON.stringify(e))}),{notes:t.map(t=>((e,t)=>{const n=[],r={};return e.forEach(e=>{if(9===t)return[];if(e.channel===t&&8===e.type){const t=e.param1;9===e.subtype&&(r[t]=e.playTime),8===e.subtype&&(n.push({note:{midiNumber:t,name:"??"},span:[r[t]/1e3,e.playTime/1e3],chipState:e}),delete r[t])}}),n})(e,t)),measuresAndBeats:s}},xd={name:"PP",midiNumber:-1,frequency:20,pianoNumber:null,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},Ad=[xd,{name:"A0",midiNumber:21,frequency:27.5,pianoNumber:1,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:2033,triangleFrequency:27.4977,triangleTuningError:0},{name:"A#0",midiNumber:22,frequency:29.1352,pianoNumber:2,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1919,triangleFrequency:29.1304,triangleTuningError:0},{name:"B0",midiNumber:23,frequency:30.8677,pianoNumber:3,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1811,triangleFrequency:30.8666,triangleTuningError:0},{name:"C1",midiNumber:24,frequency:32.7031,pianoNumber:4,apuIndex:0,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1709,triangleFrequency:32.7078,triangleTuningError:0},{name:"C#1",midiNumber:25,frequency:34.6478,pianoNumber:5,apuIndex:1,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1613,triangleFrequency:34.6532,triangleTuningError:0},{name:"D1",midiNumber:26,frequency:36.708,pianoNumber:6,apuIndex:2,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1523,triangleFrequency:36.6997,triangleTuningError:0},{name:"D#1",midiNumber:27,frequency:38.8908,pianoNumber:7,apuIndex:3,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1437,triangleFrequency:38.8945,triangleTuningError:0},{name:"E1",midiNumber:28,frequency:41.2034,pianoNumber:8,apuIndex:4,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1356,triangleFrequency:41.2162,triangleTuningError:1},{name:"F1",midiNumber:29,frequency:43.6535,pianoNumber:9,apuIndex:5,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1280,triangleFrequency:43.6615,triangleTuningError:0},{name:"F#1",midiNumber:30,frequency:46.2493,pianoNumber:10,apuIndex:6,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1208,triangleFrequency:46.2617,triangleTuningError:0},{name:"G1",midiNumber:31,frequency:48.9994,pianoNumber:11,apuIndex:7,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1140,triangleFrequency:49.0187,triangleTuningError:1},{name:"G#1",midiNumber:32,frequency:51.913,pianoNumber:12,apuIndex:8,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1076,triangleFrequency:51.9316,triangleTuningError:1},{name:"A1",midiNumber:33,frequency:55,pianoNumber:13,apuIndex:9,pulsePeriod:2033,pulseFrequency:54.9954,pulseTuningError:0,trianglePeriod:1016,triangleFrequency:54.9954,triangleTuningError:0},{name:"A#1",midiNumber:34,frequency:58.2704,pianoNumber:14,apuIndex:10,pulsePeriod:1919,pulseFrequency:58.2608,pulseTuningError:0,trianglePeriod:959,triangleFrequency:58.2608,triangleTuningError:0},{name:"B1",midiNumber:35,frequency:61.7354,pianoNumber:15,apuIndex:11,pulsePeriod:1811,pulseFrequency:61.7333,pulseTuningError:0,trianglePeriod:905,triangleFrequency:61.7333,triangleTuningError:0},{name:"C2",midiNumber:36,frequency:65.4063,pianoNumber:16,apuIndex:12,pulsePeriod:1709,pulseFrequency:65.4156,pulseTuningError:0,trianglePeriod:854,triangleFrequency:65.4156,triangleTuningError:0},{name:"C#2",midiNumber:37,frequency:69.2956,pianoNumber:17,apuIndex:13,pulsePeriod:1613,pulseFrequency:69.3065,pulseTuningError:0,trianglePeriod:806,triangleFrequency:69.3065,triangleTuningError:0},{name:"D2",midiNumber:38,frequency:73.4161,pianoNumber:18,apuIndex:14,pulsePeriod:1523,pulseFrequency:73.3994,pulseTuningError:0,trianglePeriod:761,triangleFrequency:73.3994,triangleTuningError:0},{name:"D#2",midiNumber:39,frequency:77.7817,pianoNumber:19,apuIndex:15,pulsePeriod:1437,pulseFrequency:77.7891,pulseTuningError:0,trianglePeriod:718,triangleFrequency:77.7891,triangleTuningError:0},{name:"E2",midiNumber:40,frequency:82.4068,pianoNumber:20,apuIndex:16,pulsePeriod:1356,pulseFrequency:82.4324,pulseTuningError:1,trianglePeriod:678,triangleFrequency:82.3717,triangleTuningError:-1},{name:"F2",midiNumber:41,frequency:87.307,pianoNumber:21,apuIndex:17,pulsePeriod:1280,pulseFrequency:87.323,pulseTuningError:0,trianglePeriod:640,triangleFrequency:87.2549,triangleTuningError:-1},{name:"F#2",midiNumber:42,frequency:92.4986,pianoNumber:22,apuIndex:18,pulsePeriod:1208,pulseFrequency:92.5234,pulseTuningError:0,trianglePeriod:604,triangleFrequency:92.4469,triangleTuningError:-1},{name:"G2",midiNumber:43,frequency:97.9988,pianoNumber:23,apuIndex:19,pulsePeriod:1140,pulseFrequency:98.0375,pulseTuningError:1,trianglePeriod:570,triangleFrequency:97.9516,triangleTuningError:-1},{name:"G#2",midiNumber:44,frequency:103.8261,pianoNumber:24,apuIndex:20,pulsePeriod:1076,pulseFrequency:103.8633,pulseTuningError:1,trianglePeriod:538,triangleFrequency:103.7669,triangleTuningError:-1},{name:"A2",midiNumber:45,frequency:110,pianoNumber:25,apuIndex:21,pulsePeriod:1016,pulseFrequency:109.9909,pulseTuningError:0,trianglePeriod:507,triangleFrequency:110.0992,triangleTuningError:2},{name:"A#2",midiNumber:46,frequency:116.5409,pianoNumber:26,apuIndex:22,pulsePeriod:959,pulseFrequency:116.5216,pulseTuningError:0,trianglePeriod:479,triangleFrequency:116.5216,triangleTuningError:0},{name:"B2",midiNumber:47,frequency:123.4708,pianoNumber:27,apuIndex:23,pulsePeriod:905,pulseFrequency:123.4666,pulseTuningError:0,trianglePeriod:452,triangleFrequency:123.4666,triangleTuningError:0},{name:"C3",midiNumber:48,frequency:130.8127,pianoNumber:28,apuIndex:24,pulsePeriod:854,pulseFrequency:130.8313,pulseTuningError:0,trianglePeriod:427,triangleFrequency:130.6785,triangleTuningError:-2},{name:"C#3",midiNumber:49,frequency:138.5913,pianoNumber:29,apuIndex:25,pulsePeriod:806,pulseFrequency:138.6131,pulseTuningError:0,trianglePeriod:403,triangleFrequency:138.4415,triangleTuningError:-2},{name:"D3",midiNumber:50,frequency:146.8323,pianoNumber:30,apuIndex:26,pulsePeriod:761,pulseFrequency:146.7989,pulseTuningError:0,trianglePeriod:380,triangleFrequency:146.7989,triangleTuningError:0},{name:"D#3",midiNumber:51,frequency:155.5634,pianoNumber:31,apuIndex:27,pulsePeriod:718,pulseFrequency:155.5783,pulseTuningError:0,trianglePeriod:359,triangleFrequency:155.3622,triangleTuningError:-2},{name:"E3",midiNumber:52,frequency:164.8137,pianoNumber:32,apuIndex:28,pulsePeriod:678,pulseFrequency:164.7434,pulseTuningError:-1,trianglePeriod:338,triangleFrequency:164.9864,triangleTuningError:2},{name:"F3",midiNumber:53,frequency:174.6141,pianoNumber:33,apuIndex:29,pulsePeriod:640,pulseFrequency:174.5098,pulseTuningError:-1,trianglePeriod:319,triangleFrequency:174.7825,triangleTuningError:2},{name:"F#3",midiNumber:54,frequency:184.9972,pianoNumber:34,apuIndex:30,pulsePeriod:604,pulseFrequency:184.8939,pulseTuningError:-1,trianglePeriod:301,triangleFrequency:185.2,triangleTuningError:2},{name:"G3",midiNumber:55,frequency:195.9977,pianoNumber:35,apuIndex:31,pulsePeriod:570,pulseFrequency:195.9033,pulseTuningError:-1,trianglePeriod:284,triangleFrequency:196.247,triangleTuningError:2},{name:"G#3",midiNumber:56,frequency:207.6523,pianoNumber:36,apuIndex:32,pulsePeriod:538,pulseFrequency:207.5339,pulseTuningError:-1,trianglePeriod:268,triangleFrequency:207.9197,triangleTuningError:2},{name:"A3",midiNumber:57,frequency:220,pianoNumber:37,apuIndex:33,pulsePeriod:507,pulseFrequency:220.1984,pulseTuningError:2,trianglePeriod:253,triangleFrequency:220.1984,triangleTuningError:2},{name:"A#3",midiNumber:58,frequency:233.0818,pianoNumber:38,apuIndex:34,pulsePeriod:479,pulseFrequency:233.0433,pulseTuningError:0,trianglePeriod:239,triangleFrequency:233.0433,triangleTuningError:0},{name:"B3",midiNumber:59,frequency:246.9416,pianoNumber:39,apuIndex:35,pulsePeriod:452,pulseFrequency:246.9333,pulseTuningError:0,trianglePeriod:225,triangleFrequency:247.4796,triangleTuningError:4},{name:"C4",midiNumber:60,frequency:261.6255,pianoNumber:40,apuIndex:36,pulsePeriod:427,pulseFrequency:261.357,pulseTuningError:-2,trianglePeriod:213,triangleFrequency:261.357,triangleTuningError:-2},{name:"C#4",midiNumber:61,frequency:277.1826,pianoNumber:41,apuIndex:37,pulsePeriod:403,pulseFrequency:276.8831,pulseTuningError:-2,trianglePeriod:201,triangleFrequency:276.8831,triangleTuningError:-2},{name:"D4",midiNumber:62,frequency:293.6647,pianoNumber:42,apuIndex:38,pulsePeriod:380,pulseFrequency:293.5979,pulseTuningError:0,trianglePeriod:189,triangleFrequency:294.3705,triangleTuningError:4},{name:"D#4",midiNumber:63,frequency:311.1269,pianoNumber:43,apuIndex:39,pulsePeriod:359,pulseFrequency:310.7244,pulseTuningError:-2,trianglePeriod:179,triangleFrequency:310.7244,triangleTuningError:-2},{name:"E4",midiNumber:64,frequency:329.6275,pianoNumber:44,apuIndex:40,pulsePeriod:338,pulseFrequency:329.9728,pulseTuningError:2,trianglePeriod:169,triangleFrequency:329.0023,triangleTuningError:-3},{name:"F4",midiNumber:65,frequency:349.2282,pianoNumber:45,apuIndex:41,pulsePeriod:319,pulseFrequency:349.565,pulseTuningError:2,trianglePeriod:159,triangleFrequency:349.565,triangleTuningError:2},{name:"F#4",midiNumber:66,frequency:369.9944,pianoNumber:46,apuIndex:42,pulsePeriod:301,pulseFrequency:370.4,pulseTuningError:2,trianglePeriod:150,triangleFrequency:370.4,triangleTuningError:2},{name:"G4",midiNumber:67,frequency:391.9954,pianoNumber:47,apuIndex:43,pulsePeriod:284,pulseFrequency:392.494,pulseTuningError:2,trianglePeriod:142,triangleFrequency:391.1217,triangleTuningError:-4},{name:"G#4",midiNumber:68,frequency:415.3046,pianoNumber:48,apuIndex:44,pulsePeriod:268,pulseFrequency:415.8394,pulseTuningError:2,trianglePeriod:134,triangleFrequency:414.2993,triangleTuningError:-4},{name:"A4",midiNumber:69,frequency:440,pianoNumber:49,apuIndex:45,pulsePeriod:253,pulseFrequency:440.3968,pulseTuningError:2,trianglePeriod:126,triangleFrequency:440.3968,triangleTuningError:2},{name:"A#4",midiNumber:70,frequency:466.1637,pianoNumber:50,apuIndex:46,pulsePeriod:239,pulseFrequency:466.0867,pulseTuningError:0,trianglePeriod:119,triangleFrequency:466.0867,triangleTuningError:0},{name:"B4",midiNumber:71,frequency:493.8833,pianoNumber:51,apuIndex:47,pulsePeriod:225,pulseFrequency:494.9593,pulseTuningError:4,trianglePeriod:112,triangleFrequency:494.9593,triangleTuningError:4},{name:"C5",midiNumber:72,frequency:523.2511,pianoNumber:52,apuIndex:48,pulsePeriod:213,pulseFrequency:522.714,pulseTuningError:-2,trianglePeriod:106,triangleFrequency:522.714,triangleTuningError:-2},{name:"C#5",midiNumber:73,frequency:554.3652,pianoNumber:53,apuIndex:49,pulsePeriod:201,pulseFrequency:553.7663,pulseTuningError:-2,trianglePeriod:100,triangleFrequency:553.7663,triangleTuningError:-2},{name:"D5",midiNumber:74,frequency:587.3295,pianoNumber:54,apuIndex:50,pulsePeriod:189,pulseFrequency:588.7411,pulseTuningError:4,trianglePeriod:94,triangleFrequency:588.7411,triangleTuningError:4},{name:"D#5",midiNumber:75,frequency:622.2539,pianoNumber:55,apuIndex:51,pulsePeriod:179,pulseFrequency:621.4489,pulseTuningError:-2,trianglePeriod:89,triangleFrequency:621.4489,triangleTuningError:-2},{name:"E5",midiNumber:76,frequency:659.2551,pianoNumber:56,apuIndex:52,pulsePeriod:169,pulseFrequency:658.0047,pulseTuningError:-3,trianglePeriod:84,triangleFrequency:658.0047,triangleTuningError:-3},{name:"F5",midiNumber:77,frequency:698.4564,pianoNumber:57,apuIndex:53,pulsePeriod:159,pulseFrequency:699.13,pulseTuningError:2,trianglePeriod:79,triangleFrequency:699.13,triangleTuningError:2},{name:"F#5",midiNumber:78,frequency:739.9888,pianoNumber:58,apuIndex:54,pulsePeriod:150,pulseFrequency:740.8,pulseTuningError:2,trianglePeriod:75,triangleFrequency:735.9263,triangleTuningError:-10},{name:"G5",midiNumber:79,frequency:783.9908,pianoNumber:59,apuIndex:55,pulsePeriod:142,pulseFrequency:782.2434,pulseTuningError:-4,trianglePeriod:70,triangleFrequency:787.7522,triangleTuningError:8},{name:"G#5",midiNumber:80,frequency:830.6093,pianoNumber:60,apuIndex:56,pulsePeriod:134,pulseFrequency:828.5986,pulseTuningError:-4,trianglePeriod:66,triangleFrequency:834.7821,triangleTuningError:9},{name:"A5",midiNumber:81,frequency:880,pianoNumber:61,apuIndex:57,pulsePeriod:126,pulseFrequency:880.7937,pulseTuningError:2,trianglePeriod:63,triangleFrequency:873.9125,triangleTuningError:-12},{name:"A#5",midiNumber:82,frequency:932.3275,pianoNumber:62,apuIndex:58,pulsePeriod:119,pulseFrequency:932.1734,pulseTuningError:0,trianglePeriod:59,triangleFrequency:932.1734,triangleTuningError:0},{name:"B5",midiNumber:83,frequency:987.7666,pianoNumber:63,apuIndex:59,pulsePeriod:112,pulseFrequency:989.9186,pulseTuningError:4,trianglePeriod:56,triangleFrequency:981.2351,triangleTuningError:-11},{name:"C6",midiNumber:84,frequency:1046.5022,pianoNumber:64,apuIndex:60,pulsePeriod:106,pulseFrequency:1045.4281,pulseTuningError:-2,trianglePeriod:52,triangleFrequency:1055.2906,triangleTuningError:14},{name:"C#6",midiNumber:85,frequency:1108.7305,pianoNumber:65,apuIndex:61,pulsePeriod:100,pulseFrequency:1107.5327,pulseTuningError:-2,trianglePeriod:49,triangleFrequency:1118.6081,triangleTuningError:15},{name:"D6",midiNumber:86,frequency:1174.659,pianoNumber:66,apuIndex:62,pulsePeriod:94,pulseFrequency:1177.4822,pulseTuningError:4,trianglePeriod:47,triangleFrequency:1165.2167,triangleTuningError:-14},{name:"D#6",midiNumber:87,frequency:1244.5079,pianoNumber:67,apuIndex:63,pulsePeriod:89,pulseFrequency:1242.8979,pulseTuningError:-2,trianglePeriod:44,triangleFrequency:1242.8979,triangleTuningError:-2},{name:"E6",midiNumber:88,frequency:1318.5102,pianoNumber:68,apuIndex:64,pulsePeriod:84,pulseFrequency:1316.0095,pulseTuningError:-3,trianglePeriod:41,triangleFrequency:1331.6763,triangleTuningError:17},{name:"F6",midiNumber:89,frequency:1396.9129,pianoNumber:69,apuIndex:65,pulsePeriod:79,pulseFrequency:1398.2601,pulseTuningError:2,trianglePeriod:39,triangleFrequency:1398.2601,triangleTuningError:2},{name:"F#6",midiNumber:90,frequency:1479.9776,pianoNumber:70,apuIndex:66,pulsePeriod:75,pulseFrequency:1471.8527,pulseTuningError:-10,trianglePeriod:37,triangleFrequency:1471.8527,triangleTuningError:-10},{name:"G6",midiNumber:91,frequency:1567.9817,pianoNumber:71,apuIndex:67,pulsePeriod:70,pulseFrequency:1575.5044,pulseTuningError:8,trianglePeriod:35,triangleFrequency:1553.6223,triangleTuningError:-16},{name:"G#6",midiNumber:92,frequency:1661.2187,pianoNumber:72,apuIndex:68,pulsePeriod:66,pulseFrequency:1669.5643,pulseTuningError:9,trianglePeriod:33,triangleFrequency:1645.0119,triangleTuningError:-17},{name:"A6",midiNumber:93,frequency:1760,pianoNumber:73,apuIndex:69,pulsePeriod:63,pulseFrequency:1747.8251,pulseTuningError:-12,trianglePeriod:31,triangleFrequency:1747.8251,triangleTuningError:-12},{name:"A#6",midiNumber:94,frequency:1864.655,pianoNumber:74,apuIndex:70,pulsePeriod:59,pulseFrequency:1864.3468,pulseTuningError:0,trianglePeriod:29,triangleFrequency:1864.3468,triangleTuningError:0},{name:"B6",midiNumber:95,frequency:1975.5332,pianoNumber:75,apuIndex:71,pulsePeriod:56,pulseFrequency:1962.4703,pulseTuningError:-11,trianglePeriod:27,triangleFrequency:1997.5145,triangleTuningError:19},{name:"C7",midiNumber:96,frequency:2093.0045,pianoNumber:76,apuIndex:72,pulsePeriod:52,pulseFrequency:2110.5813,pulseTuningError:14,trianglePeriod:26,triangleFrequency:2071.4965,triangleTuningError:-18},{name:"C#7",midiNumber:97,frequency:2217.461,pianoNumber:77,apuIndex:73,pulsePeriod:49,pulseFrequency:2237.2162,pulseTuningError:15,trianglePeriod:24,triangleFrequency:2237.2162,triangleTuningError:15},{name:"D7",midiNumber:98,frequency:2349.3181,pianoNumber:78,apuIndex:74,pulsePeriod:47,pulseFrequency:2330.4335,pulseTuningError:-14,trianglePeriod:23,triangleFrequency:2330.4335,triangleTuningError:-14},{name:"D#7",midiNumber:99,frequency:2489.0158,pianoNumber:79,apuIndex:75,pulsePeriod:44,pulseFrequency:2485.7958,pulseTuningError:-2,trianglePeriod:21,triangleFrequency:2542.2911,triangleTuningError:37},{name:"E7",midiNumber:100,frequency:2637.0204,pianoNumber:80,apuIndex:76,pulsePeriod:41,pulseFrequency:2663.3526,pulseTuningError:17,trianglePeriod:20,triangleFrequency:2663.3526,triangleTuningError:17},{name:"F7",midiNumber:101,frequency:2793.8258,pianoNumber:81,apuIndex:77,pulsePeriod:39,pulseFrequency:2796.5203,pulseTuningError:2,trianglePeriod:19,triangleFrequency:2796.5203,triangleTuningError:2},{name:"F#7",midiNumber:102,frequency:2959.9553,pianoNumber:82,apuIndex:78,pulsePeriod:37,pulseFrequency:2943.7055,pulseTuningError:-10,trianglePeriod:18,triangleFrequency:2943.7055,triangleTuningError:-10},{name:"G7",midiNumber:103,frequency:3135.9634,pianoNumber:83,apuIndex:79,pulsePeriod:35,pulseFrequency:3107.2447,pulseTuningError:-16,trianglePeriod:17,triangleFrequency:3107.2447,triangleTuningError:-16},{name:"G#7",midiNumber:104,frequency:3322.4375,pianoNumber:84,apuIndex:80,pulsePeriod:33,pulseFrequency:3290.0238,pulseTuningError:-17,trianglePeriod:16,triangleFrequency:3290.0238,triangleTuningError:-17},{name:"A7",midiNumber:105,frequency:3520,pianoNumber:85,apuIndex:81,pulsePeriod:31,pulseFrequency:3495.6503,pulseTuningError:-12,trianglePeriod:15,triangleFrequency:3495.6503,triangleTuningError:-12},{name:"A#7",midiNumber:106,frequency:3729.31,pianoNumber:86,apuIndex:82,pulsePeriod:29,pulseFrequency:3728.6937,pulseTuningError:0,trianglePeriod:14,triangleFrequency:3728.6937,triangleTuningError:0},{name:"B7",midiNumber:107,frequency:3951.0664,pianoNumber:87,apuIndex:83,pulsePeriod:27,pulseFrequency:3995.029,pulseTuningError:19,trianglePeriod:13,triangleFrequency:3995.029,triangleTuningError:19},{name:"C8",midiNumber:108,frequency:4186.009,pianoNumber:88,apuIndex:84,pulsePeriod:26,pulseFrequency:4142.993,pulseTuningError:-18,trianglePeriod:12,triangleFrequency:4302.3389,triangleTuningError:47},{name:"C#8",midiNumber:109,frequency:4434.922,pianoNumber:null,apuIndex:85,pulsePeriod:24,pulseFrequency:4474.4325,pulseTuningError:15,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"D8",midiNumber:110,frequency:4698.6362,pianoNumber:null,apuIndex:86,pulsePeriod:23,pulseFrequency:4660.8671,pulseTuningError:-14,trianglePeriod:11,triangleFrequency:4660.8671,triangleTuningError:-14},{name:"D#8",midiNumber:111,frequency:4978.0317,pianoNumber:null,apuIndex:87,pulsePeriod:21,pulseFrequency:5084.5823,pulseTuningError:37,trianglePeriod:10,triangleFrequency:5084.5823,triangleTuningError:37},{name:"E8",midiNumber:112,frequency:5274.0409,pianoNumber:null,apuIndex:88,pulsePeriod:20,pulseFrequency:5326.7053,pulseTuningError:17,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"F8",midiNumber:113,frequency:5587.6517,pianoNumber:null,apuIndex:89,pulsePeriod:19,pulseFrequency:5593.0406,pulseTuningError:2,trianglePeriod:9,triangleFrequency:5593.0406,triangleTuningError:2},{name:"F#8",midiNumber:114,frequency:5919.9107,pianoNumber:null,apuIndex:90,pulsePeriod:18,pulseFrequency:5887.4111,pulseTuningError:-10,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"G8",midiNumber:115,frequency:6271.9269,pianoNumber:null,apuIndex:91,pulsePeriod:17,pulseFrequency:6214.4895,pulseTuningError:-16,trianglePeriod:8,triangleFrequency:6214.4895,triangleTuningError:-16},{name:"G#8",midiNumber:116,frequency:6644.8751,pianoNumber:null,apuIndex:92,pulsePeriod:16,pulseFrequency:6580.0477,pulseTuningError:-17,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"A8",midiNumber:117,frequency:7040,pianoNumber:null,apuIndex:93,pulsePeriod:15,pulseFrequency:6991.3007,pulseTuningError:-12,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"A#8",midiNumber:118,frequency:7458.6201,pianoNumber:null,apuIndex:94,pulsePeriod:14,pulseFrequency:7457.3875,pulseTuningError:0,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"B8",midiNumber:119,frequency:7902.1328,pianoNumber:null,apuIndex:95,pulsePeriod:13,pulseFrequency:7990.058,pulseTuningError:19,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null}];function Cd(e,t){if(-1===e)return xd;if("noise"===t){const t=e%4;return{name:t+"_",midiNumber:t+90,frequency:0,pianoNumber:null,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null}}let n=null,r=1/0;for(const s of Ad){const o=Number("pulse"===t?s.pulsePeriod:s.trianglePeriod);if(null==o)continue;const a=Math.abs(e-o);a<r&&(r=a,n=s)}return n}const Dd=(e,t)=>{if(void 0===e)return[];const n=[];let r=0;for(const s of e){const e=Cd(s,t),o=n[n.length-1];0!==n.length&&o.note.midiNumber===e.midiNumber||(n.length>0&&(o.span[1]=r),n.push({note:{midiNumber:-1===s?-1:e.midiNumber,name:e.name},span:[r,0],chipState:{period:s}})),r+=.01}return n.length>0&&(n[n.length-1].span[1]=r),n.filter(e=>-1!==e.note.midiNumber)},jd=({type:e,data:t})=>"nes"===e?(e=>({notes:[Dd(e.p1,"pulse"),Dd(e.p2,"pulse"),Dd(e.t,"triangle")]}))(t):"midi"===e?Od(t):void 0,Fd=localStorage&&parseInt(localStorage.getItem("latency"),10)||70,Bd=e=>60*e+55,Ld=["#26577C","#AE445A","#63995a","#7c7126","#7c2676","#4e267c"],Ud=(e,t)=>{let n=(e.span[0]+e.span[1])/2;return t[0]<n&&n<t[1]},qd=(e,t,n,s,o,a,i=((e,t)=>{}),l=null,u=((e,t)=>{}),c=(()=>{}),d=[],f=null,m=!1)=>e.map(e=>{const f=o(e.note.midiNumber),p=Bd(e.span[0]),h=((e,t,n,r)=>null===n.tonic?Ld[e%Ld.length]:Xa[(t.note.midiNumber-ni(ri(t,r),n))%12])(t,e,s,l),g=-1!==t?((e,t,n,r)=>{if(e.span[1]-e.span[0]<.08)return"";if(!n)return"";const s=ri(e,n);if(s<0||s+1>=n.length)return"";const o=Ga(Wa(r)[s]),a=n[s],i=n[s+1],l=o.length;let u=0;const c=(e.span[0]+e.span[1])/2;for(;u<l&&c>a+(i-a)*(u+1)/l;)u++;const d=o[u];if(!d)return"";const f=Ka(d);return-1===f?"":qa[((e.note.midiNumber-ni(s,t))%12+12-f)%12]})(e,s,l,s.romanNumerals):null,b=g?r.createElement("span",{className:"noteText",style:{fontSize:Math.min(a+2,14)+"px",lineHeight:Math.min(a,14)+"px",fontFamily:"Helvetica, sans-serif",fontWeight:700,color:-1!==["brown","blue","#9400D3","#787276"].indexOf(h)?"white":"black"}},g):null,v=m&&((e,t)=>{let n=1/0;for(let r of t)r.note.midiNumber<e.note.midiNumber&&Ud(e,r.span)&&(n=Math.min(n,e.note.midiNumber-r.note.midiNumber));return n})(e,d);return r.createElement("div",{className:"noteRectangleTonal",style:Object.assign({position:"absolute",height:a+"px",width:Bd(e.span[1])-Bd(e.span[0]),backgroundColor:h,top:f,left:p,pointerEvents:-1===t?"none":"auto",borderRadius:[10,3,0,5,20,7,1][t%7],cursor:"pointer",zIndex:10,opacity:n?.9:.1,display:"grid",placeItems:"center"},-1===t?{boxShadow:"white 0px 1px",boxSizing:"border-box",backgroundColor:"transparent"}:{}),onClick:t=>{t.stopPropagation(),i(e,t.altKey)},onMouseEnter:t=>u(e,t.altKey),onMouseLeave:c},m&&v!==1/0&&n&&r.createElement("div",{style:{position:"relative",top:a,color:"white",fontFamily:"sans-serif",fontSize:"12px"}},qa[v%12]),!m&&b)});var zd=({chipStateDump:e,getCurrentPositionMs:t,savedAnalysis:n,saveAnalysis:s,voiceMask:o,setVoiceMask:a,analysisEnabled:i,seek:l,registerSeekCallback:u,bookPath:c,pause:d,paused:f,loggedIn:m})=>{const[p,h]=Object(r.useState)(vd),[g,b]=Object(r.useState)(!1),[v,M]=Object(r.useState)(null),y=Object(r.useCallback)(e=>{const t=Object.assign(Object.assign({},p),e);s(t),h(t)},[p,s]);Object(r.useEffect)(()=>{h(n||vd)},[n]);const[_,I]=Object(r.useState)(null),[P,k]=Object(r.useState)(null),E=Object(r.useCallback)(e=>{null===e?(I(null),k(null)):(I(P),k(e))},[P]),w=Object(r.useRef)(p);Object(r.useEffect)(()=>{w.current=p},[p]);const N=Object(r.useRef)(P);Object(r.useEffect)(()=>{N.current=P},[P]);const V=Object(r.useMemo)(()=>jd(e),[e]),{notes:S}=V,T=Object(r.useMemo)(()=>S.flat(),[e]),R=Object(r.useMemo)(()=>S.filter((e,t)=>o[t]).flat(),[e,o]),{minMidiNumber:O,maxMidiNumber:x}=Object(r.useMemo)(()=>(e=>{let t=1/0,n=-1/0;for(const r of e){const{midiNumber:e}=r.note;e<t&&(t=e),e>n&&(n=e)}return{minMidiNumber:t,maxMidiNumber:n}})(R.flat()),[S,o]),[A,C]=Object(r.useState)(0),D=Object(r.useRef)(null);Object(r.useEffect)(()=>{const e=()=>{D.current&&C(D.current.offsetHeight)};return e(),window.addEventListener("resize",e),new ResizeObserver(()=>e()).observe(D.current),()=>{window.removeEventListener("resize",e)}},[]),Object(r.useEffect)(()=>{D.current.scrollLeft=0},[e]);const j=(A-Kd)/(x-O+7),F=Object(r.useMemo)(()=>e=>A-(e-O+4)*j,[j]),[B,L]=Object(r.useState)(null),[U,q]=Object(r.useState)(!1),z=(e,t)=>{L(e),q(t)},H=()=>{L(null)},W=Object(r.useMemo)(()=>{var e,t;return B?Md(B,N.current,w.current,null,T,null!==(t=null===(e=null==V?void 0:V.measuresAndBeats)||void 0===e?void 0:e.measures)&&void 0!==t?t:Ca(p,T).measures,U):p},[B,p]),G=Object(r.useMemo)(()=>{var e;return null!==(e=null==V?void 0:V.measuresAndBeats)&&void 0!==e?e:Ca(W,T)},[W,T,V]),$=(e,t)=>{yd(e,N.current,k,w.current,y,null,T,G.measures,t)},K=Object(r.useMemo)(()=>S.flatMap((e,t)=>qd(e,t,o[t],W,F,j,$,G.measures,z,H,R,o,g)),[S,p,G,j,o,B,U,g]),[X,Y]=Object(r.useState)(0);Object(r.useEffect)(()=>{let e=!0;const n=()=>{e&&(Y(t()-Fd),requestAnimationFrame(n))};return n(),()=>{e=!1}},[]),Object(r.useEffect)(()=>{const e=e=>{"Escape"!==e.key&&27!==e.keyCode||E(null)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);const Q=e=>D.current.scrollLeft=Bd(e/1e3)-100;return Object(r.useEffect)(()=>{u(Q)},[]),!f&&c&&p.loop&&(X-3e3>1e3*G.measures[p.loop-1]||v&&X>1e3*G.measures[v])&&d(),r.createElement("div",{className:"App-main-content-and-settings"},r.createElement("div",{key:"leftPanel",style:{width:"100%",height:"100%",padding:0,backgroundColor:"black"}},r.createElement("div",{ref:D,style:{margin:0,padding:0,position:"relative",overflowX:"scroll",overflowY:"hidden",width:"100%",height:"100%",backgroundColor:"black"},onClick:e=>{const t=e.target,n=t.getBoundingClientRect(),r=e.clientX-n.left+t.scrollLeft-55,s=r/60;P?yd(null,N.current,k,w.current,y,s):l(1e3*s)}},K,r.createElement(Id,{style:{left:Bd(X/1e3)}}),r.createElement(Vd,{analysis:W,voices:S,measuresAndBeats:G,midiNumberToY:F,noteHeight:j,previouslySelectedDownbeat:_,selectedDownbeat:P,selectDownbeat:E,commitAnalysisUpdate:y,setVoiceMask:a,loggedIn:m,seek:l,showIntervals:b}),r.createElement("div",{style:{position:"fixed",top:"50px",right:"20px",zIndex:"100"}},r.createElement("input",{title:"Intervals",type:"checkbox",onClick:e=>{e.stopPropagation()},onChange:e=>{e.stopPropagation(),b(e.target.checked)},checked:g}),"Intervals"))),i&&(c?r.createElement(vf,{path:c,playSegment:(e,t)=>{const n=[...o];for(let e=0;e<t.length;++e)n[e]="1"===t[e];a(n),M(e?e[1]:null);const r=e?1e3*G.measures[e[0]-1]:0;l(r),Q(r)},analysis:p}):r.createElement(Sd,{analysis:p,commitAnalysisUpdate:y,previouslySelectedDownbeat:_,selectedDownbeat:P,selectDownbeat:E})))};const Hd=["scale:blues","scale:pentatonic","scale:major_pentatonic","scale:tetratonic","scale:chromatic","scale:phrygian","scale:dorian","scale:mixolydian","scale:lydian","scale:hijaz","scale:atonal","scale:octatonic","scale:natural_minor","scale:melodic_minor","scale:harmonic_minor","scale:harmonic_major","scale:hexatonic_minor_no6","scale:whole-tone","scale:nikriz","scale:saba","scale:mixed_minor","scale:hemitonic_pentatonic","scale:demo","scale:dorian_over_pentatonic","scale:mixed_major","scale:mixed_b2","harmony:stasis","harmony:parallel_keys","harmony:power_chords","harmony:diatonic_seventh_chords","harmony:blues_seventh_chords","harmony:constant_structures","harmony:quartal","harmony:neo-riemannian","harmony:diminished_seventh_chords","harmony:shuttle","harmony:mixolydian_shuttle","harmony:lydian_shuttle","harmony:plagal_shuttle","harmony:phrygian_shuttle","harmony:dorian_shuttle","harmony:blues_shuttle","harmony:I-vi shuttle","harmony:i-VI shuttle","harmony:i-VII shuttle","harmony:I-III shuttle","harmony:i-bvii shuttle","harmony:diminished_chord_modulation","harmony:weird","harmony:weird_alterations","harmony:pure_I-V","harmony:pure_i-V","harmony:57_chord_no3","harmony:parallel","harmony:tonic_added-sixth_chord","harmony:unison","harmony:rich_common_practice","harmony:far-out_point","harmony:weird_chord","harmony:turnaround_coda","harmony:picardy_third","harmony:rich","harmony:upper_structure","harmony:I-IV-V","harmony:V7b9","harmony:Vsus4","harmony:implied","harmony:harmonic_rhythm_acceleration","harmony:weird_dominant","harmony:I_in_minor","harmony:non-functional_maj7s","rhythm:syncopation","rhythm:interesting","rhythm:swing","rhythm:latin","rhythm:3+3+2","rhythm:1+2+2+2","rhythm:3+3+3+3+2+2","rhythm:4 against 3","rhythm:3 against 2","tempo:accelerando","tempo:ritardando","tempo:uneven","tempo:twice_as_fast","beats:unclear_measure_onsets","beats:incomplete_measure_on_transition","beats:extra_beat","beats:division_change","tonic:ambiguous","location:scary","location:launch_screen","location:menu","location:intro","location:level_start","location:level","location:boss","location:final_boss","location:level_completed","location:lost","location:game_won","location:credits","location:after_credits","location:jingle","location:shop","location:password","location:sport_level","location:sport_half_time","location:sport_points_scored","location:pause","chip:extensions","chip:tonal_DMC","chip:toms_DMC","chip:vocal_DMC","voice_leading:descending_chromatic_bass","voice_leading:descending_diatonic_bass","voice_leading:ascending_bass","voice_leading:descending_chromatic_melody","voice_leading:ascending_chromatic","voice_leading:Isus4","voice_leading:Cad64","voice_leading:Ger+6","voice_leading:triple_suspension","voice_leading:W-arpeggio","voice_leading:rich_ornamentation","voice_leading:three_parallel_voices","voice_leading:three_independent_voices","non-chord_tones:neighbor","non-chord_tones:double_neighbor","non-chord_tones:chromatic_passing","non-chord_tones:mordent","form:ABA","form:AABA","form:ABABC","form:ABAC","form:ABACA","form:ABAB","form:B_part_triple_shuttle","form:12-bar_blues","form:16-bar_blues","form:basso_ostinato","form:fermata_between_sections","form:extra_measure","form:stasis_vs_progression","form:period","form:period_without_melodic_repetition","form:uniform_period","form:reversed_period","form:tag","form:accumulative","form:solo","form:abrupt_ending","form:verse-chorus","form:development_through_timbre","form:sentence","form:not_looped","form:progression","form:EDM","form:complex","form:binary","form:binary_with_intro","form:modulation","timbre:ultra_fast_notes","timbre:rich","timbre:layered","timbre:wide_vibrato","timbre:oscillator_as_percussion","timbre:unexpected_detune","timbre:silence","timbre:chirp","timbre:portamento","timbre:one-channel delay","timbre:minor_seconds","timbre:chorus","timbre:tremolo","timbre:many_instruments_same_oscillator","timbre:variable_duty_cycle","timbre:siren","timbre:melody_echo","melody:riff","melody:transposed_riff","melody:chromatic_embellishments","melody:basic_idea_x3","melody:basic_idea_x4","melody:basic_idea_x2_and_fragmentation","melody:x2_vs_new_x2","melody:x2","melody:fills_at_rests","melody:fill_after_cadence","melody:stepwise","melody:chord_tones","melody:development_via_rhythmic_shift","melody:development_via_embellishments","melody:chord_tones_as_motive","melody:arc","melody:inversion","melody:ascending_chromatic","melody:higher_pitch_on_repeat","melody:starts_later_than_beat_one","melody:song-like","bass:drone","bass:transposed_riff","bass:riff","bass:walking","bass:melody","bass:alberti","bass:pedal_point","bass:counterpoint","bass:root_octaves","bass:mixed_octaves","bass:root","bass:root_third","bass:root_fifth","bass:root_third_fifth","bass:root_third_fifth_seventh","bass:creative_chord_tones","bass:absent","bass:inversions","bass:different_strategies","bass:smooth_chord_tones","bass:doubles_melody","bass:diatonic_approach","bass:chromatic_approach","bass:parallel_thirds_with_melody","bass:scale","style:common_practice","style:ragtime","style:waltz","style:arabic","style:functional_blues","style:chinese","style:major_chord_jingle","style:single_chord_jingle","style:bagpipe","style:bossa_nova","style:boogie-woogie","style:banjo","style:math-rock","style:big_band","style:reggae","style:static_power_chord_riff","other:wrong_author","middle_voice:doubles_bass","middle_voice:parallel_octaves","middle_voice:parallel_fourths","middle_voice:parallel_fifths","middle_voice:parallel_thirds","middle_voice:parallel_thirds_with_bass","middle_voice:mixed_parallel","middle_voice:parallel_thirds_and_sixths","middle_voice:parallel_sixths","middle_voice:parallel_thirds_and_chord_tones","middle_voice:lower_chord_tones","middle_voice:any_chord_tones","middle_voice:creative_chord_tones","middle_voice:root","middle_voice:static_chord_tones","middle_voice:drone","middle_voice:riff","middle_voice:riffy_complex","middle_voice:transposed_riff","middle_voice:absent","middle_voice:melody_below_arpeggio","middle_voice:arpeggio","middle_voice:root_octaves","melody:arpeggio","melody:reharmonization","reference:previous_subtune","reference:copy_of_previous_subtune","motive:natural_horn_call","motive:telephone_call","motive:cadential","middle_voice:counterpoint","middle_voice:counterpoint_and_drone","upper_voices:arpeggio","upper_voices:absent","upper_voices:legato_melody","upper_voices:different_strategies","upper_voices:same_range","middle_voice:two_notes","bass:two_notes","upper_voice:riff","percussion:layered","analyzed_in:hopkins","analyzed_in:the common cold","anomaly:strange_offset","lower_voices:double_parallel","lower_voices:same_range","origin:demoscene","origin:russia","game_genre:baseball","lego:pullback","midi:no_beat_grid"],Wd=e=>{var t,n,r;return Array.from(new Set([...null!==(t=e.tags)&&void 0!==t?t:[],...null!==(r=null===(n=e.tagSpans)||void 0===n?void 0:n.map(({tag:e})=>e))&&void 0!==r?r:[]]))},Gd=["melody","middle_voice","bass","harmony","form","other"],$d=20*Gd.length,Kd=$d+70;function Xd(e){return"#"+function(e){const t=parseInt(e.slice(0,2),16)/255,n=parseInt(e.slice(2,4),16)/255,r=parseInt(e.slice(4,6),16)/255;if(function(e,t,n){return.2126*e+.7152*t+.0722*n}(t,n,r)>.5){return(255-255*t).toString(16).padStart(2,"0")+(255-255*n).toString(16).padStart(2,"0")+(255-255*r).toString(16).padStart(2,"0")}return e}(function(e){const t=(16777215&e).toString(16).toUpperCase();return"000000".substr(0,6-t.length)+t}(function(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}(e)))}const Yd=({startSecond:e,endSecond:t,widthInMeasures:n,tag:s,tagVoices:o,setVoiceMask:a,seek:i,removeTag:l,attachVoices:u,showIntervals:c,onMouseEnter:d,onMouseLeave:f})=>{const[m,p]=s.split(":"),h=Qd({bass:-1,middle:-1,high:-1},m,p);return r.createElement("div",{className:"stripeTag",style:{position:"absolute",left:Bd(e),width:Bd(t)-Bd(e),backgroundColor:Xd(s),color:"white",padding:"0 5px 0 5px",boxSizing:"border-box",height:20,zIndex:4e3-n,display:"flex",flexDirection:"row",justifyContent:"flex-start",gap:"20px",borderRight:"1px solid black",overflow:"hidden"},onMouseEnter:d,onMouseLeave:f,onClick:e=>e.stopPropagation()},l&&r.createElement("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),l()},style:{backgroundColor:"transparent",color:"white",fontSize:20}},"[x]"),r.createElement("a",{href:`/chiptheory/search/${m}/${p}`,target:"_blank",onClick:e=>e.stopPropagation()},r.createElement("span",{style:{fontSize:20}},p.replace(/_/g," "))),u&&!o&&h&&r.createElement("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),u()},style:{backgroundColor:"transparent",color:"white",fontSize:20}},"[attach ",1===h.length?"a voice":"voices","]"),r.createElement("span",null,null==o?void 0:o.map(t=>r.createElement("span",{onClick:()=>{const n=[!1,!1,!1,!1,!1];n[t]=!0,a(n),c(!1),i(1e3*e)},style:{fontSize:20,marginRight:"10px",cursor:"pointer"}},"#",t)),(!o||o.length>1)&&r.createElement("span",{onClick:()=>{if(o){const e=[!1,!1,!1,!1,!1];o.forEach(t=>e[t]=!0),a(e)}else a([!0,!0,!0,!0,!0]);i(1e3*e),c(p.startsWith("parallel"))},style:{fontSize:20,cursor:"pointer"}},o?"mix":"play")))},Qd=(e,t,n)=>{if("bass"===t)return"parallel_thirds_with_melody"===n?[e.bass,e.high]:[e.bass];if("middle_voice"===t)return"absent"===n?null:n.startsWith("parallel")||n.endsWith("chord_tones")?[e.middle,e.high]:"melody_below_arpeggio"===n?[e.high,e.middle]:[e.middle];if("melody"===t)return"fills_at_rests"===n?[e.high,e.middle]:[e.high];if("timbre"===t){if("oscillator_as_percussion"===n)return[e.bass];if("ultra_fast_notes"===n)return[e.high]}return null},Jd=r.memo(({tagSpans:e,measuresAndBeats:t,analysis:n,commitAnalysisUpdate:s,setVoiceMask:o,loggedIn:a,voices:i,seek:l,showIntervals:u})=>{const c=new Array(Gd.length).fill(null).map(()=>[]);return e.map(({tag:d,span:f,voices:m},p)=>{const[h,g]=d.split(":");let b=Gd.indexOf(h);-1===b&&(b="scale"===h?Gd.indexOf("harmony"):Gd.length-1);const v=t.measures[f[0]-1],M=t.measures[Math.min(f[1],t.measures.length-1)];c[b].push(r.createElement(Yd,{startSecond:v,endSecond:M,widthInMeasures:f[1]-f[0],tag:d,tagVoices:m,setVoiceMask:o,seek:l,removeTag:a&&(()=>{const t=[...e];t.splice(p,1),s(Object.assign(Object.assign({},n),{tagSpans:t}))}),attachVoices:a&&(()=>{const t=((e,t,n)=>{const r=e.map((e,r)=>{return[(s=e.filter(e=>e.span[0]+.05>=t&&e.span[1]-.05<=n),s.length>0?s.reduce((e,t)=>e+t.note.midiNumber,0)/s.length:1/0),r];var s}).sort((e,t)=>e[0]-t[0]);return r[1][0]===1/0?{bass:r[0][1]}:r[2][0]===1/0?{bass:r[0][1],high:r[1][1]}:{bass:r[0][1],middle:r[1][1],high:r[2][1]}})(i,v,M),r=Qd(t,h,g);r&&s(Object.assign(Object.assign({},n),{tagSpans:[...e.slice(0,p),{tag:d,span:f,voices:r},...e.slice(p+1)]}))}),showIntervals:u,onMouseEnter:()=>{},onMouseLeave:()=>{}}))}),r.createElement("div",{style:{position:"absolute",top:0,left:0,height:20*Gd.length,zIndex:1e3}},c.map((e,t)=>r.createElement("div",{style:{height:20,position:"absolute",top:20*t,left:0,width:"100%"}},r.createElement("div",{style:{position:"absolute",fontSize:20,padding:"0 5px 0 5px"}},Gd[t].replace("middle_voice","middle")),e)),r.createElement("div",{style:{height:20,position:"absolute",top:20*Gd.length,left:0,width:"100%"}},r.createElement("div",{style:{position:"absolute",fontSize:20,padding:"0 5px 0 5px"}},r.createElement("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),o([!0,!0,!0,!0,!0]),u(!1)},style:{backgroundColor:"transparent",color:"white",fontSize:20}},"[mix]"))))}),Zd=(e,t)=>(" "+(e.romanNumerals||"").replace(/-/g," ")+" ").includes(" "+t+" "),ef=(e,t)=>{const n=t.slice(0,t.indexOf("/")),r=t.slice(t.indexOf("/")+1);return"chords"===n?Zd(e,r.replace(/-/g," ")):"cover"===n?Boolean(e.basedOn):Wd(e).some(e=>e===t.replace("/",":"))},tf=["VI VII I","I III","III IV V","i VI i","i I","IV iv","I VII","VII VI V","VII VI v","V IV I","V vi","V/ii","V7/IV","V/V","V/vi","viio/V","viio7","V+","bII","bvii","io7","I7","I^","vi"],nf={hijaz:[0,1,4,5,7],dorian:[0,2,3,5,7,9,10],pentatonic:[0,3,5,7,10],chromatic:[0,1,2,3,4,5,6],blues:[0,3,5,6,7,10],"whole-tone":[0,2,4,6,8,10],phrygian:[0,1,3,5,7,8,10],nikriz:[0,2,3,6,7],melodic_minor:[0,2,3,5,7,9,11],mixed_minor:[8,9,10,11],natural_minor:[0,2,3,5,7,8,10],mixolydian:[0,2,4,5,7,9,10],lydian:[0,2,4,6,7,9,11],hexatonic_minor_no6:[0,2,3,5,7,10],major:[0,2,4,5,7,9,11],major_pentatonic:[0,2,4,7,9],harmonic_major:[0,2,4,5,7,8,11],hemitonic_pentatonic:[0,2,3,7,8],harmonic_minor:[0,2,3,5,7,8,11],octatonic:[0,2,3,5,6,8,9,11]};var rf=Object(r.memo)(({analyses:e,searchPath:t})=>{t=t||"";const n=Object(va.g)(),[s,o]=Object(r.useState)({}),[a,i]=Object(r.useState)(0),l=t.slice(0,t.indexOf("/")),u=t.slice(t.indexOf("/")+1);return Object(r.useEffect)(()=>{const t={scale:{hijaz:[],phrygian:[],natural_minor:[],harmonic_minor:[],dorian:[],melodic_minor:[],nikriz:[],octatonic:[],mixed_minor:[],hexatonic_minor_no6:[],hemitonic_pentatonic:[],pentatonic:[],blues:[],mixolydian:[],major:[],lydian:[],harmonic_major:[],major_pentatonic:[]},bass:{},middle_voice:{},form:{},harmony:{},rhythm:{}};let n=0;e&&Object.keys(e).map(r=>Object.keys(e[r]).map(s=>{Object.entries(e[r][s]).map(([e,o])=>{Wd(o).map(n=>{const[a,i]=n.split(":");t[a]||(t[a]={}),t[a][i]=[...t[a][i]||[],{game:r,file:s,subtune:e,analysis:o}]}),o.basedOn&&n++})})),o(t),i(n)},[e]),r.createElement("div",{key:"rn"},r.createElement("div",{key:"rn",style:{margin:"0px 0px 30px 0px"}},r.createElement("h6",{style:{marginBottom:"5px"}},"roman numerals"),tf.map(e=>r.createElement("div",{key:e,style:Object.assign({margin:"0px 10px 10px 1px",display:"inline-block"},"chords"===l&&u.replace(/-/g," ")===e?{boxShadow:"0px 0px 0px 1px white"}:{})},r.createElement(Ta,{to:"/search/chords/"+e.replace(/ /g,"-")},r.createElement(Ja,{rnArray:e.split(" "),isSearch:!0}))))),r.createElement("div",{key:"covers"},r.createElement("div",{style:{margin:"0px 0px 30px 0px"}},r.createElement("h6",{style:Object.assign({marginBottom:"5px",cursor:"pointer"},"cover"===l?{color:"yellow"}:{}),onClick:()=>n.push("/search/covers/")},"covers ",r.createElement("span",{style:{fontSize:"16px"}},a)))),Object.entries(s).map(([e,t])=>r.createElement("div",{key:e},r.createElement("h6",{style:{marginBottom:"2px"}},e.replace(/_/g," ")),r.createElement("div",{style:{margin:"0px 0px 30px 0px"}},Object.entries(t).map(([t,s])=>r.createElement("div",{key:t,style:Object.assign({cursor:"pointer"},e===l&&t===u?{color:"yellow"}:{}),onClick:()=>n.push(`/search/${e}/${t}`)},"scale"===e&&t in nf&&r.createElement(cf,{d:nf[t]})," ",t.replace(/_/g," ")," ",r.createElement("span",{style:{fontSize:"16px"}},s.length)))))))});const sf=({fs:e})=>r.createElement("div",{style:{backgroundColor:"#333",padding:"1px 10px 0px 10px",color:"white",display:"inline-block"}},e),of=()=>r.createElement(sf,{fs:"A"}),af=()=>r.createElement(sf,{fs:"B"}),lf=()=>r.createElement(sf,{fs:"C"}),uf=({d:e})=>r.createElement("div",{style:{width:"15px",height:"13px",backgroundColor:Xa[e],display:"inline-block",borderRadius:"3px"}}),cf=({d:e=null,name:t=null})=>{const n=null!=e?e:nf[t];return r.createElement("div",{style:{display:"inline-block"}},n.map((e,t)=>r.createElement("span",{style:{position:"relative",top:.8*(n.length/2-t),marginRight:"3px"}},r.createElement(uf,{d:e}))))},df=({cn:e})=>r.createElement("div",{style:{width:"24px",height:"18px",display:"inline-block",borderRadius:"10px",backgroundColor:"white"}},r.createElement("div",{style:{display:"grid",placeItems:"center"}},r.createElement("span",{style:{color:"black",fontFamily:"Helvetica, sans-serif",fontWeight:700,fontSize:"14px"}},qa[e]))),ff=r.createContext(null),mf=({span:e=null,mask:t,children:n})=>{const s=r.useContext(ff);return r.createElement("button",{className:"box-button",style:{margin:"0 10px 10px 0"},onClick:()=>s(e,t)},n)},pf=({r:e})=>r.createElement(r.Fragment,null,e),hf={diversity:[{path:"Nintendo/Armadillo",subtune:"1",title:"functional",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Music for NES/Famicom is very diverse in its structure. I invite you to the journey on discovering it. It can be functional and complex in chords."))},{path:"Nintendo/Bao Xiao Tien Guo (Explosion Sangokushi) - Bao Xiao San Guo (SFX)",subtune:"2",title:"static",text:()=>r.createElement(r.Fragment,null,"It can be static in harmony, it can have riffs and have a dorian feel"," ",r.createElement(cf,{name:"dorian"}),". What's a dorian feel? Click on the tags below to see other examples which I tagged this way. Maybe you can feel it too.")},{path:"Nintendo/Astyanax",subtune:"8",title:"chromatic",text:()=>r.createElement(r.Fragment,null,"It can be chromatic, with no reuse of a standard tonal theory, yet rhythmically very clear and even.")},{path:"Nintendo/Bakushou! Star Monomane Shitennou",subtune:"20",title:"rock-n-roll",text:()=>r.createElement(r.Fragment,null,"It can employ the language of rock-n-roll and solo-like elements.")},{path:"Nintendo/Barcode World",subtune:"6",title:"lost",text:()=>r.createElement(r.Fragment,null,"It may have short tracks for certain cases - eg. when a player has lost.")},{path:"Nintendo/Bad Dudes  [Bad Dudes vs. Dragon Ninja]",subtune:"6",title:"classic",text:()=>r.createElement(r.Fragment,null,"It can sound very classic. How is this sound achieved? And how to break outside of it?")},{path:"Nintendo/Bucky O'Hare",subtune:"18",title:"80s",text:()=>r.createElement(r.Fragment,null,"It can sound like 80s. Or maybe it sounds completely different for you.")},{path:"Nintendo/Bionic Commando",subtune:"5",title:"complex",text:()=>r.createElement(r.Fragment,null,"Many voice-leading and harmonic techniques can blend in a single piece.")},{path:"Nintendo/Alfred Chicken",subtune:"1",title:"cool timbres",text:()=>r.createElement(r.Fragment,null,"Composers were searching for cool timbres and witty sound effects.")},{path:"Nintendo/Alien 3",subtune:"1",title:"vibes",text:()=>r.createElement(r.Fragment,null,"Sometimes you just vibe.")},{path:"Nintendo/Bucky O'Hare",subtune:"19",title:"boss",text:()=>r.createElement(r.Fragment,null,"Sometimes you fight a boss.")},{path:"Nintendo/Adventures of Lolo 3",subtune:"19",title:"victory",text:()=>r.createElement(r.Fragment,null,"And then, maybe, at some point you celebrate victory.")}],notation:[{path:"Nintendo/1943 - The Battle of Midway",subtune:"10",title:"12 colors",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"I visualize the notes via a piano roll. The notes are painted in 12 rainbow colors. Same notes in different octaves have the same color. A red note is a tonic. I choose it manually for every piece."))},{path:"Nintendo/Exodus - Journey to the Promised Land",subtune:"10",title:"major scale",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Most pieces choose several notes out of these 12 as main ones and use others rarely. A major scale will always have the same seven colors. What is a major scale? It's seven notes with certain intervals chosen from a tonic. A major scale will always have its third note in green."))},{path:"Nintendo/Alien Syndrome",subtune:"1",title:"minor scale",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"A minor scale will have that third note one semitone closer to the tonic - and thus it will always be yellow. The fifth note is blue in both scales."),r.createElement("div",null,'Oh and there isn\'t a single thing like a "minor scale". Instead, there are many, depending on which color are second, sixth, seventh notes. Here you see a natural minor scale.'))},{path:"Nintendo/Alfred Chicken",subtune:"2",title:"major chord",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"A chord is three notes chosen from the scale."))}],textures:[{path:"Nintendo/Adventures of Lolo 2",subtune:"7",title:"unison",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,'A unison texture, a single melodic line doubled in an octaves, with no bass, no chords. A rare beast in NES. The usage of an unusual scale give it another flavor of "not from here".'),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[1,8],mask:"11000"},"Upper voice"),r.createElement(mf,{span:[1,8],mask:"00100"},"Lower voice"),r.createElement(mf,{span:[1,8],mask:"11100"},"Two voices"),r.createElement(mf,{span:[1,8],mask:"11111"},"Two voices + percussion")))},{path:"Nintendo/Exodus - Journey to the Promised Land",subtune:"1",title:"parallel harmony",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,'Western music language dominates in NES. It favors several simultaneous voices. One of the simplest way to add a second voice is to use parallel harmony. That is, to add notes from the scale at a chosen interval below. Thirds and sixths work perfectly for that, since they are consonant enough and help a listener follow two voices independently. Fourths and fifths are "banned" historically since they can blend together indistinguishably. See'," ",r.createElement(pf,{r:"Huron, 2016"})),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[1,8],mask:"10000"},"Melody"),r.createElement(mf,{span:[1,8],mask:"01000"},"Lower voice"),r.createElement(mf,{span:[1,8],mask:"11111"},"Both voices")))},{path:"Nintendo/8 Eyes",subtune:"4",title:"Celtic drone",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"The other way to add two more voices is to make them static. Historically, this is used in some traditional cultures - here most likely it resembles Celtic music, although the drone is also used eg. in Indian music (played by"," ",r.createElement("a",{href:"https://en.wikipedia.org/wiki/Tanpura",target:"_blank"},"tanpura"),")."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Tonic"),r.createElement(mf,{mask:"01000"},"Fifth"),r.createElement(mf,{mask:"01100"},"Tonic + fifth"),r.createElement(mf,{mask:"10000"},"Melody"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle Fleet",subtune:"4 ",title:"static riff",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Here the bass always plays the same 1-measure riff in a pentatonic scale ",r.createElement(cf,{name:"pentatonic"}),". Above it, the scale is expanded to dorian. Almost everywhere, except for m.28, m.32 and m.33 the middle voice plays exactly the third below the melody. This third is drawn from the scale - two notes below it on the scale - so acoustically it can either be a minor third (narrower) or a minor third (wider). You can check all intervals by hovering over the middle voice."))},{path:"Nintendo/Robocop 3",subtune:"2",title:"two static riffs",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Here the bass plays a one-measure riff. The upper voice has a riff with slight variations between the measures, doubled in parallel fourths in the middle voice. The bass + the upper voice draw notes from the blues scale. The middle voice has the notes outside of this scale, but it's ok since doubling in a perfect fourth creates a blended timbrally rich single upper voice (a distorted guitar) rather than two independent voices. Here the bass voice has a rapid percussion glide in the same channel."),r.createElement("div",null,""),r.createElement("div",null,"The bass voice has a rapid percussion glide in the same channel. After four measures, the whole thing modulates down a fourth."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"01000"},"Melody"),r.createElement(mf,{mask:"10000"},"Middle voice"),r.createElement(mf,{mask:"11000"},"Upper voices - parallel fourth"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Big Nose the Caveman",subtune:"2",title:"arpeggios without melody",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(mf,{mask:"10000"},"Bass"),r.createElement(mf,{mask:"01000"},"Narrow chords"),r.createElement(mf,{mask:"00100"},"Wide chords"),r.createElement(mf,{mask:"01100"},"Upper voices"),r.createElement(mf,{mask:"11111"},"Mix")))}],bass_line:[{path:"Nintendo/All-Pro Basketball",subtune:"3",title:"chord tones",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"If a harmony isn't static and there's a chain of chords, then the structure of the bass line can either outline the current chord or draw/emphasize certain notes from it. In its clearest form, the bass line plays all notes of the chord and no other notes. Here in mm. 1-32 every chord is major, and every chord is outlined via its notes root ",r.createElement(df,{cn:0}),", major third ",r.createElement(df,{cn:4})," and perfect fifth"," ",r.createElement(df,{cn:7})," in a 3+3+2 rhythm. In ",r.createElement(of,null)," a melody doubles this bass line in octave, and in the ",r.createElement(af,null)," there's a separate melody on top of this bass line. Finally, in the Mario cadence (mm. 33-35) the bass line plays mostly the root in octaves. (Why then we see chords"," ",r.createElement(ei,{rn:"VI-VII-I",searchable:!0})," in those measures?)"),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"01000"},"First bass voice"),r.createElement(mf,{mask:"00100"},"Second bass voice"),r.createElement(mf,{mask:"01100"},"Two layered bass voices"),r.createElement(mf,{mask:"10000"},"Melody"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Arkanoid",subtune:"6",title:"root in octaves",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"The bass line can play just the root of the chords in octaves. We still speak of chords in measures where no voice plays just the chord tones, because the upper voices emphasize chord tones by either using them on strong metrical positions or by using them at turn points of the contours."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"11000"},"Upper voices"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bobble",subtune:"2",title:"root without chords",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Even if there's no middle voice, and the melody isn't clearly outlining the chord tones, the logic and the effect of changes in the bass is similar to the chord changes, especially if the melody doesn't contradict it too much. Here in the part B the bass mostly repeats the melody notes, yet the 2-5-1 cadence in m.23-24 makes it functional and makes the whole period work."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"01000"},"Melody"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bionic Commando",subtune:"3",title:"drone",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"If the harmony is static and there are no chord changes, then the bass can play the tonic of the current key - the"," ",r.createElement("a",{href:"https://en.wikipedia.org/wiki/Drone_(sound)",target:"_blank"},"drone.")),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"001000"},"Bass"),r.createElement(mf,{mask:"01000"},"Upper voice"),r.createElement(mf,{mask:"10000"},"Middle voice"),r.createElement(mf,{mask:"11000"},"Two upper voices"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle Storm",subtune:"12",title:"drone and fills",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Here the bass plays the drone and also the fills - notes from the scales and chromatic approaches to them - when the melody is sustained. This is logical: over time, there's always something happening, and there's always only one stream of rapid changes."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"11000"},"Upper voices"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Barcode World",subtune:"2",title:"root and fifth - 1",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Usually in Western harmony all three chord tones are emphasized in some voice. So, if a melody takes care of the third, the bass can play just root and fifth. It can employ a certain rhythmical figure in which to play these two notes (a riff). Here the riff is"," ",r.createElement("pre",null,"(.) .--5 5--. .--5 5--"),"The fifth can be either above or below the root to make a smoother voice-leading."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"00111"},"Bass + percussion"),r.createElement(mf,{mask:"11000"},"Upper voices"),r.createElement(mf,{mask:"11011"},"Upper voices + percussion"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle Storm",subtune:"11",title:"root and fifth - 2",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Even if the harmony itself isn't classic and very chiptune-y - like in this example, where all chords are major (constant structures), the patterns for bass may be the same."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"00111"},"Bass + percussion"),r.createElement(mf,{mask:"10000"},"Upper voice"),r.createElement(mf,{mask:"01000"},"Middle voice"),r.createElement(mf,{mask:"11000"},"Upper voices"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/1943 - The Battle of Midway",subtune:"3",title:"smooth",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"To make a static and smooth bass line that moves by step, a composer can choose the next chord tone that's closest to the previous note. This wording implies that a chain of chords was designed first, and the bass line was inferred from it."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[1,27],mask:"00100"},"Bass"),r.createElement(mf,{span:[1,27],mask:"00111"},"Bass + percussion"),r.createElement(mf,{span:[1,27],mask:"10000"},"Melody"),r.createElement(mf,{span:[1,27],mask:"01000"},"Middle voice"),r.createElement(mf,{span:[1,27],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[1,27],mask:"11111"},"Mix")))},{path:"Nintendo/Adventures of Lolo 2",subtune:"10",title:"descending diatonic",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"It's possible to build long step-wise descending bass lines by choosing proper chord tones for each chord. This example starts with five descending notes. The middle voice here plays arpeggiated chords."),r.createElement("div",null,""),r.createElement("div",null,"However, just the arpeggio isn't enough. Sometimes the bass here plays the note of the next chord faster than the arpeggio: m.7, m.15, resulting in a richer harmony. In m.8 the bass is indispensable to make it a deceptive cadence: the arpeggio on top simply plays I. Hover the red note in m.8 to see that."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"00111"},"Bass + percussion"),r.createElement(mf,{mask:"01000"},"Arpeggio"),r.createElement(mf,{mask:"01100"},"Bass + chords"),r.createElement(mf,{mask:"10000"},"Melody"),r.createElement(mf,{mask:"11000"},"Melody + chords"),r.createElement(mf,{mask:"10100"},"Melody + bass"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Burai Fighter",subtune:"8",title:"ascending diatonic",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"The bass line can also go up, although it happens less frequently. Rhythmically a bass line in the part A uses a riff on two notes."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"01000"},"Bass"),r.createElement(mf,{mask:"01011"},"Bass + percussion"),r.createElement(mf,{mask:"00100"},"Melody"),r.createElement(mf,{mask:"10000"},"Middle voice"),r.createElement(mf,{mask:"10100"},"Upper voices"),r.createElement(mf,{mask:"11000"},"Lower voices"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/'89 Dennou Kyuusei Uranai",subtune:"16",title:"descending chromatic",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"The bass line can go down chromatically, which in the absence of clearly arpeggiated chords makes Roman numeral analysis less clear and less helpful. Sometimes the voice-leading is more important than the storyline of implied chords."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"10000"},"Melody"),r.createElement(mf,{mask:"10100"},"Bass + melody"),r.createElement(mf,{mask:"11000"},"Melody + parallel thirds below"),r.createElement(mf,{mask:"01000"},"Middle voice"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Banana",subtune:"1",title:"transposed riff",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"A bass riff can include non-chord tones as well. Here, as the riff is transposed from a different root, the relative distances from the root are calculated according to a scale (here mixolydian), not chromatically. This isn't universal, and even in this example green and yellow notes are both used on ",r.createElement(ei,{rn:"VII"})," chords."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[2,9],mask:"00100"},"Bass"),r.createElement(mf,{span:[2,9],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[2,9],mask:"11111"},"Mix")))},{path:"Nintendo/Bugs Bunny Birthday Blowout, The",subtune:"1",title:"Alberti bass - 1",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("a",{href:"https://en.wikipedia.org/wiki/Alberti_bass",target:"_blank"},"Alberti bass")," ","is a certain riff that can be traced back to at least 18th century. The order of notes is: lowest, highest, middle, highest. Here in m.3 the fifth is omitted in favor of the seventh."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"00111"},"Bass + percussion"),r.createElement(mf,{mask:"10000"},"Melody"),r.createElement(mf,{mask:"01000"},"Echo"),r.createElement(mf,{mask:"11000"},"Melody + echo"),r.createElement(mf,{mask:"11011"},"Melody + echo + percussion"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bobble",subtune:"29",title:"Alberti bass - 2",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,'Even though Alberti bass is classic, the melody shouldn\'t necessarily stay within the standard scale. Here a chromatic melody resembles "Flight of the Bumblebee".'),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[3,10],mask:"00100"},"Alberti bass"),r.createElement(mf,{span:[3,10],mask:"01000"},"Chromatic melody"),r.createElement(mf,{span:[3,10],mask:"11111"},"Mix")))},{path:"Nintendo/Faxanadu",subtune:"11",title:"static riff and pedal point",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Previous strategies were used when chords are changing often. Another way of structuring a piece is to use static harmony and employ a static bass riff. A bass in part A here repeats a minor major seventh chord, and a bass in part B plays a static note (a pedal point)."),r.createElement("div",null,""),r.createElement("div",null,"A:"," ",r.createElement(mf,{span:[5,21],mask:"10000"},"Bass"),r.createElement(mf,{span:[5,21],mask:"01000"},"Its echo"),r.createElement(mf,{span:[5,21],mask:"11000"},"Bass + echo"),r.createElement(mf,{span:[5,21],mask:"00100"},"Melody"),r.createElement(mf,{span:[5,21],mask:"11111"},"Mix")),r.createElement("div",null,""),r.createElement("div",null,"B:"," ",r.createElement(mf,{span:[21,37],mask:"00100"},"Bass pedal point"),r.createElement(mf,{span:[21,37],mask:"01000"},"Arpeggio"),r.createElement(mf,{span:[21,37],mask:"10000"},"Melody"),r.createElement(mf,{span:[21,37],mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bath Babes",subtune:"1",title:"static functional riff",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"A static riff doesn't necessarily lead to rare harmonies. Here a riff on four notes 1-6-2-5 reminds of a standard major pop/jazz progression ",r.createElement(ei,{rn:"I-vi-ii-V"}),", yet no chords are present, and the notes go too fast in a 3+3+2"," ",r.createElement("a",{href:"https://en.wikipedia.org/wiki/Tresillo_(rhythm)",target:"_blank"},"tresillo")," ","rhythm."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[5,71],mask:"00100"},"Bass"),r.createElement(mf,{span:[4,21],mask:"10000"},"Melody"),r.createElement(mf,{span:[4,21],mask:"01000"},"Middle voice counterpoint"),r.createElement(mf,{span:[4,21],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[4,21],mask:"11111"},"Mix")))},{path:"Nintendo/Bugs Bunny Crazy Castle, The",subtune:"5",title:"walking bass",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("a",{href:"https://en.wikipedia.org/wiki/Bassline#Walking_bass",target:"_blank"},"Walking bass")," ","usually consists of even quarter notes. Besides the chord tones, musicians often play chromatic (semitone) approaches to chord tones of the next measure - below or above."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[5,36],mask:"00100"},"Bass"),r.createElement(mf,{span:[5,36],mask:"00111"},"Bass + percussion"),r.createElement(mf,{span:[5,36],mask:"10000"},"Melody"),r.createElement(mf,{span:[5,36],mask:"01000"},"Echo"),r.createElement(mf,{span:[5,36],mask:"11000"},"Melody + echo"),r.createElement(mf,{span:[5,36],mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bath Babes",subtune:"3",title:"exercise 1",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"How is the bass structured here in A+B vs. in A'? Feel free to solo or mute voices via controls in the lower right corner."))},{path:"Nintendo/Crayon Shin-chan - Ora to Poi Poi",subtune:"12",title:"exercise 2",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line in mm.3-6?"))},{path:"Nintendo/Bandit Kings of Ancient China",subtune:"4",title:"exercise 3",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line in different parts here?"))},{path:"Nintendo/Adventures of Rad Gravity, The",subtune:"2",title:"exercise 4",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line in different parts here?"))},{path:"Nintendo/Bad News Baseball",subtune:"6",title:"exercise 5",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Alien 3",subtune:"1",title:"exercise 6",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Arch Rivals - A Basketbrawl!",subtune:"5",title:"exercise 7",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Blaster Master",subtune:"15",title:"exercise 8",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Be-Bop High School - Koukousei Gokuraku Densetsu",subtune:"21",title:"exercise 9",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Beauty and the Beast",subtune:"1",title:"exercise 10",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What's the structure of the bass line here?"))}],middle_voice:[{path:"Nintendo/8 Eyes",subtune:"10",title:"absent",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Even though NES has three tonal oscillators, there's no need to make a rich track by using all three. Bass + melody can already be solid and full-fledged."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"01000"},"Bass"),r.createElement(mf,{span:[2,19],mask:"10000"},"Melody"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bucky O'Hare",subtune:"18",title:"echo and parallel fourths",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"In the intro and in the bridge the middle voice enhances the timbre: it plays the melody shifted in time, creating a echo/delay effect."),r.createElement("div",null,""),r.createElement("div",null,"intro:"," ",r.createElement(mf,{span:[1,8],mask:"01000"},"Melody"),r.createElement(mf,{span:[1,8],mask:"10000"},"Echo"),r.createElement(mf,{span:[1,8],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[1,8],mask:"11100"},"Mix without percussion"),r.createElement(mf,{span:[1,8],mask:"11111"},"Mix")),r.createElement("div",null,""),r.createElement("div",null,"bridge:"," ",r.createElement(mf,{span:[17,24],mask:"01000"},"Melody"),r.createElement(mf,{span:[17,24],mask:"10000"},"Echo"),r.createElement(mf,{span:[17,24],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[17,24],mask:"11100"},"Mix without percussion"),r.createElement(mf,{span:[17,24],mask:"11111"},"Mix")),r.createElement("div",null,""),r.createElement("div",null,"Parallel fourths blend together and may sound as a single, strong, somewhat distorted voice. (I don't know how much of it is me copying the eternal esoteric narrative from the internet and how much do of it do I really hear.) So, although the scale for the bass and the melody is natural minor ",r.createElement(cf,{name:"natural_minor"}),", the middle voice uses the dorian note ",r.createElement(uf,{d:9})," without any distress."),r.createElement("div",null,""),r.createElement("div",null,"verse:"," ",r.createElement(mf,{span:[9,16],mask:"01000"},"Melody"),r.createElement(mf,{span:[9,16],mask:"10000"},"Parallel fourths below"),r.createElement(mf,{span:[9,16],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[9,16],mask:"11100"},"Mix without percussion"),r.createElement(mf,{span:[9,16],mask:"11111"},"Mix")),r.createElement("div",null,""),r.createElement("div",null,"chorus:"," ",r.createElement(mf,{span:[25,32],mask:"01000"},"Melody"),r.createElement(mf,{span:[25,32],mask:"10000"},"Parallel fourths below"),r.createElement(mf,{span:[25,32],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[25,32],mask:"11100"},"Mix without percussion"),r.createElement(mf,{span:[25,32],mask:"11111"},"Mix")),r.createElement("div",null,""),r.createElement("div",null,"the entire track: ",r.createElement(mf,{mask:"11100"},"Mix withouth percussion")," ",r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Slalom",subtune:"10",title:"parallel thirds",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,'One classic way of using a middle voice is to double melody in some interval. For example, in parallel thirds. All notes are taken from a diatonic scale, which means that actually there are two different intervals, both called "thirds": minor thirds ',r.createElement(df,{cn:0}),r.createElement(df,{cn:3})," and major thirds ",r.createElement(df,{cn:0}),r.createElement(df,{cn:4}),". As the melody goes, upper voices constantly oscillate between two intervals, making two voices somewhat separable and independent."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"01000"},"Melody"),r.createElement(mf,{mask:"10000"},"Middle voice"),r.createElement(mf,{mask:"11000"},"Upper voices"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Faxanadu",subtune:"2",title:"parallel sixths - 1",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"There are two sixths: a minor sixth ",r.createElement(df,{cn:0}),r.createElement(df,{cn:8})," and a major sixth ",r.createElement(df,{cn:0}),r.createElement(df,{cn:9}),". As you go up the minor or the major scale in sixths, these intervals alternate in the same way as the thirds. In fact, sixths are reversed thirds (what does that mean?). So doubling with them also creates a separate and interesting second voice."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(of,null)," starts without the middle voice. Starting from ",r.createElement(sf,{fs:"A'"})," ","parallel sixths are added for the development. How is further development achieved in ",r.createElement(sf,{fs:"A''"}),"?"),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[1,32],mask:"00100"},"Bass"),r.createElement(mf,{span:[1,32],mask:"10100"},"Melody + bass"),r.createElement(mf,{span:[9,32],mask:"11000"},"Upper voices from A'"),r.createElement(mf,{span:[9,32],mask:"11111"},"Mix from A'")),r.createElement("div",null,""),r.createElement("div",null,r.createElement(af,null)," uses parallel thirds instead."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[33,48],mask:"00100"},"Bass"),r.createElement(mf,{span:[33,48],mask:"10100"},"Melody + bass"),r.createElement(mf,{span:[33,48],mask:"11000"},"Upper voices from A'"),r.createElement(mf,{span:[33,48],mask:"11111"},"Mix from A'")))},{path:"Nintendo/Bucky O'Hare",subtune:"17",title:"parallel sixths - 2",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Here parallel sixths are used to double the melody in ",r.createElement(lf,null)),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[13,20],mask:"01000"},"Melody"),r.createElement(mf,{span:[13,20],mask:"10000"},"Middle voice"),r.createElement(mf,{span:[13,20],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[13,20],mask:"00100"},"Bass"),r.createElement(mf,{span:[13,20],mask:"11111"},"Mix")))},{path:"Nintendo/Adventures of Lolo 3",subtune:"12",title:"where is the melody?",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Is the melody here in the middle voice or in the upper voice? Is it as ambiguous as in the previous example?"),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"10000"},"Upper voice"),r.createElement(mf,{mask:"00100"},"Middle voice"),r.createElement(mf,{mask:"01000"},"Bass"),r.createElement(mf,{mask:"11000"},"Upper voice + bass"),r.createElement(mf,{mask:"01100"},"Middle voice + bass"),r.createElement(mf,{mask:"10100"},"Upper voices"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bath Babes",subtune:"2",title:"thirds and sixths",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Thirds and sixths both work great, and one can mix them in a single track. Notice a small segment of parallel fourths in mm.38-41 and how different it sounds."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/8 Eyes",subtune:"14",title:"lower chords tones",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Here the middle voice double the melody in terms of the rhythm. The intervals used are more diverse, though: apart from thirds and sixths we see fourths and fifths. Why is that?"),r.createElement("div",null,""),r.createElement("div",null,"One explanation may be that the strategy here is different: to simply play some chord tone with the middle voice. So, the role of the middle voice here is more harmonic than melodic. In fact, the melody here is doing the same: it features more leaps to chords tones than a standard step-wise motion."),r.createElement("div",null,""),r.createElement("div",null,"Can the middle voice be heard here as the melody itself?"),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"10000"},"Melody"),r.createElement(mf,{mask:"01000"},"Middle voice"),r.createElement(mf,{mask:"11000"},"Upper voices"),r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"10100"},"Upper voice + bass"),r.createElement(mf,{mask:"01100"},"Middle voice + bass"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle of Olympus",subtune:"1",title:"thirds and chord tones",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"In ",r.createElement(of,null)," the middle voice mostly double the melody in thirds. Sometimes the rhythm of the middle voice slows down - then it sustains a chord tone instead. Or you may see it the other way around: the middle voice mostly plays the chord tones, but sometimes it gets distracted by the melody and pairs with it in thirds for brief moments, before gaining consciousness again."),r.createElement("div",null,""),r.createElement("div",null,"Is the chord at the second half of m.3 correctly annotated?"),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[1,8],mask:"10000"},"Melody"),r.createElement(mf,{span:[1,8],mask:"01000"},"Middle voice"),r.createElement(mf,{span:[1,8],mask:"00100"},"Bass"),r.createElement(mf,{span:[1,8],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[1,8],mask:"10100"},"Upper voice + bass"),r.createElement(mf,{span:[1,8],mask:"01100"},"Middle voice + bass"),r.createElement(mf,{span:[1,8],mask:"11111"},"Mix")),r.createElement("div",null,""),r.createElement("div",null,"In ",r.createElement(af,null)," the melody plays arpeggios and the middle voice plays static chord tones, so all three voices create chords together. What happens in m.12?"),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{span:[9,13],mask:"10000"},"Melody"),r.createElement(mf,{span:[9,13],mask:"01000"},"Middle voice"),r.createElement(mf,{span:[9,13],mask:"00100"},"Bass"),r.createElement(mf,{span:[9,13],mask:"11000"},"Upper voices"),r.createElement(mf,{span:[9,13],mask:"10100"},"Upper voice + bass"),r.createElement(mf,{span:[9,13],mask:"01100"},"Middle voice + bass"),r.createElement(mf,{span:[9,13],mask:"11111"},"Mix")))},{path:"Nintendo/Addams Family",subtune:"5",title:"reduced scales",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Here the upper voices go in mixed intervals. What's the logic behind it?"),r.createElement("div",null,""),r.createElement("div",null,"My explanation is that the notes for upper voices aren't drawn from a bigger minor scale. Instead, the local scale is a hemitonic pentatonic ",r.createElement(cf,{name:"hemitonic_pentatonic"})," in ",r.createElement(of,null)," and"," ",r.createElement(sf,{fs:"A'"})," (with one exceptional ",r.createElement(uf,{d:"5"}),"), and a contrasting brighter hexatonic minor without a sixth degree"," ",r.createElement(cf,{name:"hexatonic_minor_no6"})," in ",r.createElement(af,null),", ",r.createElement(sf,{fs:"D"})," and"," ",r.createElement(sf,{fs:"D'"})," (with one neighbor tone ",r.createElement(uf,{d:"8"}),"). Notice a weird effect in m.17, beat 4."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"10000"},"Melody"),r.createElement(mf,{mask:"01000"},"Middle voice"),r.createElement(mf,{mask:"11000"},"Upper voices"),r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle Chess",subtune:"1",title:"transposed riff",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"A transposed riff here oscillates between 5 and 4 for ",r.createElement(ei,{rn:"i"})," ","and ",r.createElement(ei,{rn:"VI"}),". It plays a static 5 for other harmonies. Are"," ",r.createElement(af,null)," and ",r.createElement(sf,{fs:"B'"})," a period?"))},{path:"Nintendo/Armadillo",subtune:"1",title:"exercise 1",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What does the middle voice do in different parts of this track?"))},{path:"Nintendo/Battle Fleet",subtune:"9",title:"exercise 2",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What does the middle voice do here?"))},{path:"Nintendo/Cabal",subtune:"11",title:"exercise 5",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What is going on here?"))},{path:"Nintendo/Barcode World",subtune:"2",title:"exercise 6",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What does the middle voice do here?"))},{path:"Nintendo/Hero Quest",subtune:"5",title:"exercise 10",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"What does the middle voice do here?"))}],minor:[{path:"Nintendo/Battle Chess",subtune:"1",title:"natural minor",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"A pure natural minor ",r.createElement(cf,{name:"natural_minor"})," harmony isn't easily found. When it does, it lacks the leading tone, so the two avaiable dominants are ",r.createElement(ei,{rn:"v"})," and ",r.createElement(ei,{rn:"VII"}),"."))},{path:"Nintendo/Armadillo",subtune:"3",title:"hexatonic minor",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Sometimes a minor scale ",r.createElement(cf,{name:"hexatonic_minor_no6"})," ","specifically lacks the sixth scale degree (",r.createElement(uf,{d:"8"})," or ",r.createElement(uf,{d:"9"}),"), making it hexatonic and ambiguos - neither aeolian nor dorian."))}],modulation:[{path:"Nintendo/Bandit Kings of Ancient China",subtune:"7",title:"(1)",text:()=>r.createElement(r.Fragment,null)},{path:"Nintendo/Blackjack",subtune:"2",title:"(2)",text:()=>r.createElement(r.Fragment,null)},{path:" Nintendo/Battle Storm",subtune:"1",title:"(3)",text:()=>r.createElement(r.Fragment,null)},{path:" Nintendo/Battle Storm",subtune:"2",title:"(4)",text:()=>r.createElement(r.Fragment,null,"Compare with the previous example. Should a modulation be marked in mm.5-6?")},{path:" Nintendo/Bionic Commando",subtune:"5",title:"(5)",text:()=>r.createElement(r.Fragment,null)}],form:[{path:"Nintendo/Bonza",subtune:"1",title:"period",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,'A form is how repetitions of music material are structured on various levels. Oxford Companion to Music: "A period consists of two phrases, antecedent and consequent, each of which begins with the same basic motif". In periods in NES, one to several measures repeat verbatim, and the ending changes.'),r.createElement("div",null,""),r.createElement("div",null,'We\'ll only call it a "normal" period if the consequent ends in a more stable way than the antecedent. So, here the antecedent ends on',r.createElement(ei,{rn:"VII"}),", and the consequent squashes the ",r.createElement(ei,{rn:"VI-VII"})," ","chords and adds ",r.createElement(ei,{rn:"i"})," after them."),r.createElement("div",null,""),r.createElement("div",null,"Chords in m.9 aren't present in a clear form - your analysis may vary."))},{path:"Nintendo/Battle of Olympus",subtune:"1",title:"exact repetition",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"Reuse of material shouldn't necessarily make a contrast between a part and its repetition. A part can be repeated verbatim before moving on to the next part. In this case, A+A is not a period."))},{path:"Nintendo/Battle of Olympus",subtune:"4",title:"two periods",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"The entire piece may consist of two periods, thus making it a binary form. Here antecedents end with ",r.createElement(ei,{rn:"V"})," and consequents - with ",r.createElement(ei,{rn:"V-i"})," - the most common way."))}],classical_harmony:[{path:"Nintendo/Binary Land",subtune:"1",title:"viio/V I64",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"This example isn't original NES. It's an arrangement of Erik Satie - Je Te Veux, composed around 1897. So there's no surprise that some classical idioms used here aren't used a century after it without bearing the meaning \"common practice\". Among them the"," ",r.createElement(ei,{rn:"viio/V-I64"})))}],jazz_harmony:[{path:"Nintendo/Blue Marlin, The",subtune:"3",title:"diatonic seventh chords",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"In ",r.createElement(of,null)," the chords are played by the middle voice, so they are clearly seventh chords. In ",r.createElement(af,null)," it's a bit more shadowed."),r.createElement("div",null,""),r.createElement("div",null,r.createElement(mf,{mask:"00100"},"Bass"),r.createElement(mf,{span:[5,36],mask:"01000"},"Middle voice"),r.createElement(mf,{span:[5,36],mask:"10000"},"Melody"),r.createElement(mf,{span:[5,36],mask:"01100"},"Bass + middle voice"),r.createElement(mf,{mask:"11111"},"Mix")))}],misc:[{path:"Nintendo/BreakThru",subtune:"6",title:"chord-scale theory",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,"A major scale is used for non-chord tones everywhere except on"," ",r.createElement(ei,{rn:"iv"})," where a minor scale is used. To be precise, a scale played ",r.createElement(ei,{rn:"IV"})," is lydian and is taken from a major scale for"," ",r.createElement(ei,{rn:"I"}),". A scale played ",r.createElement(ei,{rn:"iv"})," is dorian and is taken from a natural minor scale for ",r.createElement(ei,{rn:"i"}),". (This is a poorly written paragraph.)"),r.createElement("div",null,""),r.createElement("div",null,"To hear it clearer, slow down the speed in Settings."))},{path:"Nintendo/Armadillo",subtune:"4",title:"ii and IV are synonyms",text:()=>r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(ei,{rn:"ii"})," and ",r.createElement(ei,{rn:"IV"})," are synonyms. Compare m.9 and m.17."))}]},gf=e=>Object.assign(Object.assign({},hf[e.split("/")[0]][Number(e.split("/")[1])-1]),{index:Number(e.split("/")[1])}),bf=()=>r.createElement("div",null,r.createElement("span",{style:{color:"white"}},"Music Theory through NES Soundtracks"),r.createElement("div",null,""),r.createElement("ol",{style:{margin:"0 0 100px 0",columnGap:"20px",columnWidth:"250px"}},Object.keys(hf).map(e=>r.createElement("li",{style:{breakInside:"avoid"}},r.createElement(Ta,{to:{pathname:`/book/${e}/1`}},e.replace(/_/g," ")),r.createElement("ol",null,hf[e].map(({title:t},n)=>r.createElement("li",null,r.createElement(Ta,{to:{pathname:`/book/${e}/${n+1}`}},null!=t?t:n))))))),r.createElement("span",{style:{color:"white"}},"NES Games"),r.createElement("div",null,"")),vf=({path:e,playSegment:t,analysis:n})=>{if(!n)return r.createElement(r.Fragment,null);const{title:s,text:o,index:a}=gf(e),[i,l]=(e=>{let[t,n]=e.split("/");n=Number(n)-1;let r=null,s=null;return n>0&&(r=`/book/${t}/${n}`),n+1<hf[t].length&&(s=`/book/${t}/${n+2}`),[r,s]})(e);return r.createElement("div",{className:"App-main-content-area settings book-chapter",key:"BookExample"},r.createElement("div",null,r.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.createElement("div",{style:{marginBottom:"10px"}},r.createElement(Ta,{to:{pathname:i}},r.createElement("button",{className:"box-button",disabled:!i},"<"))," ",r.createElement(Ta,{to:{pathname:l}},r.createElement("button",{className:"box-button",disabled:!l},">"))," ",r.createElement("span",{style:{color:"white"}},a,". ",s)))),r.createElement(ff.Provider,{value:t},r.createElement("div",null,o&&o(t))," "),n.tags&&(!s||!s.startsWith("exercise"))&&r.createElement("div",null,r.createElement("div",null,""),r.createElement("div",null,""),r.createElement("div",null,""),r.createElement("div",null,"Tags:"),n.tags.map(e=>r.createElement("div",{key:e},r.createElement("a",{href:"https://vpavlenko.github.io/chiptheory/search/"+e.replace(":","/"),target:"_blank"},e.replace(":",": ").replace(/_/g," "))))),r.createElement("div",null,r.createElement("div",null,""),r.createElement("div",null,""),r.createElement("div",null,""),n&&tf.map(e=>Zd(n,e)&&r.createElement("div",{style:{marginBottom:"10px"}},r.createElement(Ta,{to:"/search/chords/"+e.replace(/ /g,"-")},r.createElement(Ja,{rnArray:e.split(" "),isSearch:!0}))))))};function Mf(e){var t=e.send;return e.send=function(){var n=arguments;return new Promise((function(r,s){e.onload=function(){e.status<200||e.status>=300?s({status:e.status,statusText:e.statusText}):r(e)},e.onerror=function(){s({status:e.status,statusText:e.statusText})};try{t.apply(e,n)}catch(e){}}))},e}function yf(e){return(yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,o=void 0,o=function(e,t){if("object"!==yf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===yf(o)?o:String(o)),r)}var s,o}var If=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(i.a)(this),this.data={},this.request=null}var t,n,r;return t=e,(n=[{key:"fetchCached",value:function(e){var t=this;return this.data[e]?Promise.resolve(this.data[e]):(this.request&&this.request.abort(),this.request=Mf(new XMLHttpRequest),this.request.responseType="json",this.request.open("GET",e),this.request.send().then((function(n){if(n.status>=200&&n.status<400)return t.data[e]=n.response,n.response;throw Error("RequestCache HTTP "+n.status)})))}}])&&_f(t.prototype,n),r&&_f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Pf=n(30),kf=n.n(Pf),Ef=n(3);function wf(e){return(wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nf(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Nf=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",i=s.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,s){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new E(s||[]);return r(a,"_invoke",{value:_(e,n,i)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var h={};l(h,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&n.call(b,o)&&(h=b);var v=p.prototype=f.prototype=Object.create(h);function M(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var s;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(s,a){!function r(s,o,a,i){var l=c(e[s],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==wf(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,i)}),(function(e){r("throw",e,a,i)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,i)}))}i(l.arg)}(r,o,s,a)}))}return s=s?s.then(a,a):a()}})}function _(e,t,n){var r="suspendedStart";return function(s,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===s)throw o;return N()}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var i=I(a,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var s=c(r,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,d;var o=s.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function w(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},M(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,s,o){void 0===o&&(o=Promise);var a=new y(u(t,n,r,s),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},M(v),l(v,i,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=w,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var o=s;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;k(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Vf(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function Sf(e){return function(e){if(Array.isArray(e))return Tf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Tf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(e,t,n){return(t=Af(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Af(r.key),r)}}function Af(e){var t=function(e,t){if("object"!==wf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wf(t)?t:String(t)}function Cf(e,t){return(Cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Df(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bf(e);if(t){var s=Bf(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return jf(this,n)}}function jf(e,t){if(t&&("object"===wf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ff(e)}function Ff(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bf(e){return(Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cf(e,t)}(a,e);var t,n,r,s,o=Df(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u(Ff(n=o.call(this))),n.player=null,n.players=e,n.currIdx=0,n.context=null,n.currUrl=null,n.shuffle=0,n.shuffleOrder=[],n.songRequest=null,n.repeat=0,n.history=t,n.players.forEach((function(e){e.on("playerStateUpdate",n.handlePlayerStateUpdate),e.on("playerError",n.handlePlayerError)})),n}return t=a,(n=[{key:"handlePlayerError",value:function(e){this.emit("playerError",e),this.context?this.nextSong():this.emit("sequencerStateUpdate",{isEjected:!0})}},{key:"handlePlayerStateUpdate",value:function(e){var t=e.isStopped;console.debug("Sequencer.handlePlayerStateUpdate(isStopped=%s)",t),t?(this.currUrl=null,this.context&&this.nextSong()):this.emit("sequencerStateUpdate",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rf(Object(n),!0).forEach((function(t){Of(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:this.currUrl,hasPlayer:!0,isEjected:!1},e))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.currIdx=t,this.context=e,1===this.shuffle&&this.setShuffle(this.shuffle),this.playCurrentSong(n)}},{key:"playCurrentSong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.currIdx;1===this.shuffle&&(t=this.shuffleOrder[t],console.log("Shuffle (%s): %s",this.currIdx,t)),this.playSong(this.context[t],e)}},{key:"playSonglist",value:function(e){this.playContext(e,0)}},{key:"toggleShuffle",value:function(){this.setShuffle(!this.shuffle)}},{key:"setShuffle",value:function(e){var t=this;this.shuffle=e,1===this.shuffle&&this.context?(this.shuffleOrder=[this.currIdx].concat(Sf($o()(this.context.map((function(e,t){return t})).filter((function(e){return e!==t.currIdx}))))),this.currIdx=0):this.shuffleOrder&&null!==this.shuffleOrder[this.currIdx]&&(this.currIdx=this.shuffleOrder[this.currIdx])}},{key:"setRepeat",value:function(e){this.repeat=e}},{key:"advanceSong",value:function(e){null!=this.context&&(2!==this.repeat&&(this.currIdx+=e),this.currIdx<0||this.currIdx>=this.context.length?1===this.repeat?(this.currIdx=(this.currIdx+this.context.length)%this.context.length,this.playCurrentSong()):(console.debug("Sequencer.advanceSong(direction=%s) %s passed end of context length %s",e,this.currIdx,this.context.length),this.currIdx=0,this.context=null,this.player.stop(),this.emit("sequencerStateUpdate",{isEjected:!0})):this.playCurrentSong())}},{key:"nextSong",value:function(){this.advanceSong(1)}},{key:"prevSong",value:function(){this.advanceSong(-1)}},{key:"playSubtune",value:function(e){var t=window.location.pathname.replace("/chiptheory/","/"),n=new URLSearchParams(window.location.search);n.set("subtune",e+1),this.history.push({pathname:t,search:n.toString()}),this.player.playSubtune(e)}},{key:"prevSubtune",value:function(){var e=this.player.getSubtune()-1;e<0||this.playSubtune(e)}},{key:"nextSubtune",value:function(){var e=this.player.getSubtune()+1;e>=this.player.getNumSubtunes()||this.playSubtune(e)}},{key:"getPlayer",value:function(){return this.player}},{key:"getCurrContext",value:function(){return this.context}},{key:"getCurrIdx",value:function(){return this.shuffle?this.shuffleOrder[this.currIdx]:this.currIdx}},{key:"getCurrUrl",value:function(){return this.currUrl}},{key:"playSong",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null!==this.player&&this.player.suspend();for(var r=(e=e.startsWith("http")?e:Ef.CATALOG_PREFIX+encodeURIComponent(encodeURIComponent(e))).split(".").pop().toLowerCase(),s=0;s<this.players.length;s++)if(this.players[s].canPlay(r)){this.player=this.players[s];break}null!==this.player?(this.songRequest&&this.songRequest.abort(),this.songRequest=Mf(new XMLHttpRequest),this.songRequest.responseType="arraybuffer",this.songRequest.open("GET",e),this.songRequest.send().then((function(e){return e.response})).then((function(r){t.currUrl=e;var s=e.replace(Ef.CATALOG_PREFIX,"");t.playSongBuffer(s,r,n)})).catch((function(n){t.handlePlayerError(n.message||"HTTP ".concat(n.status," ").concat(n.statusText," ").concat(e))}))):this.emit("playerError",'The file format ".'.concat(r,'" was not recognized.'))}},{key:"playSongFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;null!==this.player&&this.player.suspend();var r=e.split(".").pop().toLowerCase(),s=this.players.find((function(e){return e.canPlay(r)}));null!=s?(this.player=s,this.context=[],this.currUrl=null,this.playSongBuffer(e,t,n)):this.emit("playerError",'The file format ".'.concat(r,'" was not recognized.'))}},{key:"playSongBuffer",value:(s=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){Vf(o,r,s,a,i,"next",e)}function i(e){Vf(o,r,s,a,i,"throw",e)}a(void 0)}))}}(Nf().mark((function e(t,n){var r,s,o,a=arguments;return Nf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:0,s=new Uint8Array(n),this.player.setTempo(1),e.prev=3,e.next=6,this.player.loadData(s,t,r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.handlePlayerError("Unable to play ".concat(t," (").concat(e.t0.message,")."));case 11:o=this.player.getNumVoices(),this.player.setVoiceMask(Sf(Array(o)).fill(!0));case 13:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e,t){return s.apply(this,arguments)})}])&&xf(t.prototype,n),r&&xf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(kf.a);function Uf(e){return(Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qf,zf=(qf="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=r;s.ready=new Promise((function(n,r){e=n,t=r}));var o,a,i,l=Object.assign({},s),u="./this.program",c=!0,d=!1,f="";function m(e){return s.locateFile?s.locateFile(e,f):f+e}(c||d)&&(d?f=self.location.href:"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),qf&&(f=qf),f=0!==f.indexOf("blob:")?f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(i=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),a=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var p,h,g=s.print||console.log.bind(console),b=s.printErr||console.error.bind(console);Object.assign(s,l),l=null,s.arguments&&s.arguments,s.thisProgram&&(u=s.thisProgram),s.quit&&s.quit,s.wasmBinary&&(p=s.wasmBinary),s.noExitRuntime,"object"!=("undefined"==typeof WebAssembly?"undefined":Uf(WebAssembly))&&z("no native wasm support detected");var v,M,y,_,I,P,k,E,w=!1;function N(e,t){e||z(t)}function V(){var e=h.buffer;s.HEAP8=v=new Int8Array(e),s.HEAP16=y=new Int16Array(e),s.HEAPU8=M=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=_=new Int32Array(e),s.HEAPU32=I=new Uint32Array(e),s.HEAPF32=P=new Float32Array(e),s.HEAPF64=E=new Float64Array(e),s.HEAP64=k=new BigInt64Array(e),s.HEAPU64=new BigUint64Array(e)}var S=[],T=[],R=[];function O(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)C(s.preRun.shift());Z(S)}function x(){s.noFSInit||Te.init.initialized||Te.init(),Te.ignorePermissions=!1,ve.init(),Z(T)}function A(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)j(s.postRun.shift());Z(R)}function C(e){S.unshift(e)}function D(e){T.unshift(e)}function j(e){R.unshift(e)}var F=0,B=null,L=null;function U(e){F++,s.monitorRunDependencies&&s.monitorRunDependencies(F)}function q(e){if(F--,s.monitorRunDependencies&&s.monitorRunDependencies(F),0==F&&(null!==B&&(clearInterval(B),B=null),L)){var t=L;L=null,t()}}function z(e){s.onAbort&&s.onAbort(e),b(e="Aborted("+e+")"),w=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw t(n),n}var H,W="data:application/octet-stream;base64,";function G(e){return e.startsWith(W)}function $(e){if(e==H&&p)return new Uint8Array(p);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}function K(e){return p||!c&&!d||"function"!=typeof fetch?Promise.resolve().then((function(){return $(e)})):fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((function(){return $(e)}))}function X(e,t,n){return K(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){b("failed to asynchronously prepare wasm: ".concat(e)),z(e)}))}function Y(e,t,n,r){return e||"function"!=typeof WebAssembly.instantiateStreaming||G(t)||"function"!=typeof fetch?X(t,n,r):fetch(t,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,n).then(r,(function(e){return b("wasm streaming compile failed: ".concat(e)),b("falling back to ArrayBuffer instantiation"),X(t,n,r)}))}))}function Q(){var e={a:bt};function n(e,t){var n=e.exports;return h=(vt=n).r,V(),vt.pb,D(vt.s),q(),n}if(U(),s.instantiateWasm)try{return s.instantiateWasm(e,n)}catch(e){b("Module.instantiateWasm callback failed with error: ".concat(e)),t(e)}return Y(p,H,e,(function(e){n(e.instance)})).catch(t),{}}G(H="chip-core.wasm")||(H=m(H));var J={510956:function(e){console.log("Error during V2M conversion.",e)}},Z=function(e){for(;e.length>0;)e.shift()(s)};function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i8";switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return v[e>>0];case"i16":return y[e>>1];case"i32":return _[e>>2];case"i64":return k[e>>3];case"float":return P[e>>2];case"double":return E[e>>3];case"*":return I[e>>2];default:z("invalid type for getValue: ".concat(t))}}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i8";switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":v[e>>0]=t;break;case"i16":y[e>>1]=t;break;case"i32":_[e>>2]=t;break;case"i64":k[e>>3]=BigInt(t);break;case"float":P[e>>2]=t;break;case"double":E[e>>3]=t;break;case"*":I[e>>2]=t;break;default:z("invalid type for setValue: ".concat(n))}}var ne="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,re=function(e,t,n){for(var r=t+n,s=t;e[s]&&!(s>=r);)++s;if(s-t>16&&e.buffer&&ne)return ne.decode(e.subarray(t,s));for(var o="";t<s;){var a=e[t++];if(128&a){var i=63&e[t++];if(192!=(224&a)){var l=63&e[t++];if((a=224==(240&a)?(15&a)<<12|i<<6|l:(7&a)<<18|i<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|i)}else o+=String.fromCharCode(a)}return o},se=function(e,t){return e?re(M,e,t):""},oe=function(e,t,n,r){z("Assertion failed: ".concat(se(e),", at: ")+[t?se(t):"unknown filename",n,r?se(r):"unknown function"])};function ae(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){I[this.ptr+4>>2]=e},this.get_type=function(){return I[this.ptr+4>>2]},this.set_destructor=function(e){I[this.ptr+8>>2]=e},this.get_destructor=function(){return I[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,v[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=v[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,v[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=v[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){I[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return I[this.ptr+16>>2]},this.get_exception_ptr=function(){if(kt(this.get_type()))return I[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}var ie=function(e,t,n){throw new ae(e).init(t,n),e},le=function(e){return _[Mt()>>2]=e,e},ue={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var s=e[r];"."===s?e.splice(r,1):".."===s?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t=ue.isAbs(e),n="/"===e.substr(-1);return(e=ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=ue.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=ue.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return ue.normalize(e.join("/"))},join2:function(e,t){return ue.normalize(e+"/"+t)}},ce=function(){if("object"==("undefined"==typeof crypto?"undefined":Uf(crypto))&&"function"==typeof crypto.getRandomValues)return function(e){return crypto.getRandomValues(e)};z("initRandomDevice")},de=function(e){return(de=ce())(e)},fe={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:Te.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t=ue.isAbs(r)}return(t?"/":"")+(e=ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=fe.resolve(e).substr(1),t=fe.resolve(t).substr(1);for(var r=n(e.split("/")),s=n(t.split("/")),o=Math.min(r.length,s.length),a=o,i=0;i<o;i++)if(r[i]!==s[i]){a=i;break}var l=[];for(i=a;i<r.length;i++)l.push("..");return(l=l.concat(s.slice(a))).join("/")}},me=[],pe=function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},he=function(e,t,n,r){if(!(r>0))return 0;for(var s=n,o=n+r-1,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),i<=127){if(n>=o)break;t[n++]=i}else if(i<=2047){if(n+1>=o)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=o)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=o)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}return t[n]=0,n-s};function ge(e,t,n){var r=n>0?n:pe(e)+1,s=new Array(r),o=he(e,s,0,s.length);return t&&(s.length=o),s}var be=function(){if(!me.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;me=ge(e,!0)}return me.shift()},ve={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ve.ttys[e]={input:[],output:[],ops:t},Te.registerDevice(e,ve.stream_ops)},stream_ops:{open:function(e){var t=ve.ttys[e.node.rdev];if(!t)throw new Te.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,s){if(!e.tty||!e.tty.ops.get_char)throw new Te.ErrnoError(60);for(var o=0,a=0;a<r;a++){var i;try{i=e.tty.ops.get_char(e.tty)}catch(e){throw new Te.ErrnoError(29)}if(void 0===i&&0===o)throw new Te.ErrnoError(6);if(null==i)break;o++,t[n+a]=i}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,r,s){if(!e.tty||!e.tty.ops.put_char)throw new Te.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[n+o])}catch(e){throw new Te.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){return be()},put_char:function(e,t){null===t||10===t?(g(re(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(g(re(e.output,0)),e.output=[])},ioctl_tcgets:function(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets:function(e,t,n){return 0},ioctl_tiocgwinsz:function(e){return[24,80]}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(b(re(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(b(re(e.output,0)),e.output=[])}}},Me=function(e,t){return M.fill(0,e,e+t),e},ye=function(e,t){return Math.ceil(e/t)*t},_e=function(e){e=ye(e,65536);var t=yt(65536,e);return t?Me(t,e):0},Ie={ops_table:null,mount:function(e){return Ie.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Te.isBlkdev(n)||Te.isFIFO(n))throw new Te.ErrnoError(63);Ie.ops_table||(Ie.ops_table={dir:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,lookup:Ie.node_ops.lookup,mknod:Ie.node_ops.mknod,rename:Ie.node_ops.rename,unlink:Ie.node_ops.unlink,rmdir:Ie.node_ops.rmdir,readdir:Ie.node_ops.readdir,symlink:Ie.node_ops.symlink},stream:{llseek:Ie.stream_ops.llseek}},file:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:{llseek:Ie.stream_ops.llseek,read:Ie.stream_ops.read,write:Ie.stream_ops.write,allocate:Ie.stream_ops.allocate,mmap:Ie.stream_ops.mmap,msync:Ie.stream_ops.msync}},link:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,readlink:Ie.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:Te.chrdev_stream_ops}});var s=Te.createNode(e,t,n,r);return Te.isDir(s.mode)?(s.node_ops=Ie.ops_table.dir.node,s.stream_ops=Ie.ops_table.dir.stream,s.contents={}):Te.isFile(s.mode)?(s.node_ops=Ie.ops_table.file.node,s.stream_ops=Ie.ops_table.file.stream,s.usedBytes=0,s.contents=null):Te.isLink(s.mode)?(s.node_ops=Ie.ops_table.link.node,s.stream_ops=Ie.ops_table.link.stream):Te.isChrdev(s.mode)&&(s.node_ops=Ie.ops_table.chrdev.node,s.stream_ops=Ie.ops_table.chrdev.stream),s.timestamp=Date.now(),e&&(e.contents[t]=s,e.timestamp=s.timestamp),s},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Te.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Te.isDir(e.mode)?t.size=4096:Te.isFile(e.mode)?t.size=e.usedBytes:Te.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ie.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Te.genericErrors[44]},mknod:function(e,t,n,r){return Ie.createNode(e,t,n,r)},rename:function(e,t,n){if(Te.isDir(e.mode)){var r;try{r=Te.lookupNode(t,n)}catch(e){}if(r)for(var s in r.contents)throw new Te.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=Te.lookupNode(e,t);for(var r in n.contents)throw new Te.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=Ie.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!Te.isLink(e.mode))throw new Te.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,s){var o=e.node.contents;if(s>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-s,r);if(a>8&&o.subarray)t.set(o.subarray(s,s+a),n);else for(var i=0;i<a;i++)t[n+i]=o[s+i];return a},write:function(e,t,n,r,s,o){if(t.buffer===v.buffer&&(o=!1),!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===s)return a.contents=t.slice(n,n+r),a.usedBytes=r,r;if(s+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),s),r}if(Ie.expandFileStorage(a,s+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),s);else for(var i=0;i<r;i++)a.contents[s+i]=t[n+i];return a.usedBytes=Math.max(a.usedBytes,s+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Te.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Te.ErrnoError(28);return r},allocate:function(e,t,n){Ie.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,s){if(!Te.isFile(e.node.mode))throw new Te.ErrnoError(43);var o,a,i=e.node.contents;if(2&s||i.buffer!==v.buffer){if((n>0||n+t<i.length)&&(i=i.subarray?i.subarray(n,n+t):Array.prototype.slice.call(i,n,n+t)),a=!0,!(o=_e(t)))throw new Te.ErrnoError(48);v.set(i,o)}else a=!1,o=i.byteOffset;return{ptr:o,allocated:a}},msync:function(e,t,n,r,s){return Ie.stream_ops.write(e,t,0,r,n,!1),0}}},Pe=function(e,t,n,r){var s=r?"":"al ".concat(e);a(e,(function(n){N(n,'Loading data file "'.concat(e,'" failed (no arrayBuffer).')),t(new Uint8Array(n)),s&&q()}),(function(t){if(!n)throw'Loading data file "'.concat(e,'" failed.');n()})),s&&U()},ke=s.preloadPlugins||[],Ee=function(e,t,n,r){"undefined"!=typeof Browser&&Browser.init();var s=!1;return ke.forEach((function(o){s||o.canHandle(t)&&(o.handle(e,t,n,r),s=!0)})),s},we=function(e,t,n,r,s,o,a,i,l,u){var c=t?fe.resolve(ue.join2(e,t)):e;function d(n){function d(n){u&&u(),i||Te.createDataFile(e,t,n,r,s,l),o&&o(),q()}Ee(n,c,d,(function(){a&&a(),q()}))||d(n)}"cp ".concat(c),U(),"string"==typeof n?Pe(n,(function(e){return d(e)}),a):d(n)},Ne=function(e){var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===t)throw new Error("Unknown file open mode: ".concat(e));return t},Ve=function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},Se={dbs:{},indexedDB:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==("undefined"==typeof window?"undefined":Uf(window))&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),N(e,"IDBFS used, but indexedDB not supported"),e})),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return Ie.mount.apply(null,arguments)},syncfs:function(e,t,n){Se.getLocalSet(e,(function(r,s){if(r)return n(r);Se.getRemoteSet(e,(function(e,r){if(e)return n(e);var o=t?r:s,a=t?s:r;Se.reconcile(o,a,n)}))}))},quit:function(){Object.values(Se.dbs).forEach((function(e){return e.close()})),Se.dbs={}},getDB:function(e,t){var n,r=Se.dbs[e];if(r)return t(null,r);try{n=Se.indexedDB().open(e,Se.DB_VERSION)}catch(e){return t(e)}if(!n)return t("Unable to connect to IndexedDB");n.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;(t=n.objectStoreNames.contains(Se.DB_STORE_NAME)?r.objectStore(Se.DB_STORE_NAME):n.createObjectStore(Se.DB_STORE_NAME)).indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=function(){r=n.result,Se.dbs[e]=r,t(null,r)},n.onerror=function(e){t(e.target.error),e.preventDefault()}},getLocalSet:function(e,t){var n={};function r(e){return"."!==e&&".."!==e}function s(e){return function(t){return ue.join2(e,t)}}for(var o=Te.readdir(e.mountpoint).filter(r).map(s(e.mountpoint));o.length;){var a,i=o.pop();try{a=Te.stat(i)}catch(e){return t(e)}Te.isDir(a.mode)&&o.push.apply(o,Te.readdir(i).filter(r).map(s(i))),n[i]={timestamp:a.mtime}}return t(null,{type:"local",entries:n})},getRemoteSet:function(e,t){var n={};Se.getDB(e.mountpoint,(function(e,r){if(e)return t(e);try{var s=r.transaction([Se.DB_STORE_NAME],"readonly");s.onerror=function(e){t(e.target.error),e.preventDefault()},s.objectStore(Se.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var s=e.target.result;if(!s)return t(null,{type:"remote",db:r,entries:n});n[s.primaryKey]={timestamp:s.key},s.continue()}}catch(e){return t(e)}}))},loadLocalEntry:function(e,t){var n,r;try{r=Te.lookupPath(e).node,n=Te.stat(e)}catch(e){return t(e)}return Te.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):Te.isFile(n.mode)?(r.contents=Ie.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(Te.isDir(t.mode))Te.mkdirTree(e,t.mode);else{if(!Te.isFile(t.mode))return n(new Error("node type not supported"));Te.writeFile(e,t.contents,{canOwn:!0})}Te.chmod(e,t.mode),Te.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=Te.stat(e);Te.isDir(n.mode)?Te.rmdir(e):Te.isFile(n.mode)&&Te.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(e.target.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){try{var s=e.put(n,t)}catch(e){return void r(e)}s.onsuccess=function(){r(null)},s.onerror=function(e){r(e.target.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(e.target.error),e.preventDefault()}},reconcile:function(e,t,r){var s=0,o=[];Object.keys(e.entries).forEach((function(n){var r=e.entries[n],a=t.entries[n];a&&r.timestamp.getTime()==a.timestamp.getTime()||(o.push(n),s++)}));var a=[];if(Object.keys(t.entries).forEach((function(t){e.entries[t]||(a.push(t),s++)})),!s)return r(null);var i=!1,l=("remote"===e.type?e.db:t.db).transaction([Se.DB_STORE_NAME],"readwrite"),u=l.objectStore(Se.DB_STORE_NAME);function c(e){if(e&&!i)return i=!0,r(e)}l.onerror=function(e){c(n.error),e.preventDefault()},l.oncomplete=function(e){i||r(null)},o.sort().forEach((function(e){"local"===t.type?Se.loadRemoteEntry(u,e,(function(t,n){if(t)return c(t);Se.storeLocalEntry(e,n,c)})):Se.loadLocalEntry(e,(function(t,n){if(t)return c(t);Se.storeRemoteEntry(u,e,n,c)}))})),a.sort().reverse().forEach((function(e){"local"===t.type?Se.removeLocalEntry(e,c):Se.removeRemoteEntry(u,e,c)}))}},Te={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=fe.resolve(e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if((t=Object.assign(n,t)).recurse_count>8)throw new Te.ErrnoError(32);for(var r=e.split("/").filter((function(e){return!!e})),s=Te.root,o="/",a=0;a<r.length;a++){var i=a===r.length-1;if(i&&t.parent)break;if(s=Te.lookupNode(s,r[a]),o=ue.join2(o,r[a]),Te.isMountpoint(s)&&(!i||i&&t.follow_mount)&&(s=s.mounted.root),!i||t.follow)for(var l=0;Te.isLink(s.mode);){var u=Te.readlink(o);o=fe.resolve(ue.dirname(o),u);var c=Te.lookupPath(o,{recurse_count:t.recurse_count+1});if(s=c.node,l++>40)throw new Te.ErrnoError(32)}}return{path:o,node:s}},getPath:function(e){for(var t;;){if(Te.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?"".concat(n,"/").concat(t):n+t:n}t=t?"".concat(e.name,"/").concat(t):e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Te.nameTable.length},hashAddNode:function(e){var t=Te.hashName(e.parent.id,e.name);e.name_next=Te.nameTable[t],Te.nameTable[t]=e},hashRemoveNode:function(e){var t=Te.hashName(e.parent.id,e.name);if(Te.nameTable[t]===e)Te.nameTable[t]=e.name_next;else for(var n=Te.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=Te.mayLookup(e);if(n)throw new Te.ErrnoError(n,e);for(var r=Te.hashName(e.id,t),s=Te.nameTable[r];s;s=s.name_next){var o=s.name;if(s.parent.id===e.id&&o===t)return s}return Te.lookup(e,t)},createNode:function(e,t,n,r){var s=new Te.FSNode(e,t,n,r);return Te.hashAddNode(s),s},destroyNode:function(e){Te.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Te.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Te.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Te.lookupNode(e,t),20}catch(e){}return Te.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=Te.lookupNode(e,t)}catch(e){return e.errno}var s=Te.nodePermissions(e,"wx");if(s)return s;if(n){if(!Te.isDir(r.mode))return 54;if(Te.isRoot(r)||Te.getPath(r)===Te.cwd())return 10}else if(Te.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Te.isLink(e.mode)?32:Te.isDir(e.mode)&&("r"!==Te.flagsToPermissionString(t)||512&t)?31:Te.nodePermissions(e,Te.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=0;e<=Te.MAX_OPEN_FDS;e++)if(!Te.streams[e])return e;throw new Te.ErrnoError(33)},getStreamChecked:function(e){var t=Te.getStream(e);if(!t)throw new Te.ErrnoError(8);return t},getStream:function(e){return Te.streams[e]},createStream:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return Te.FSStream||(Te.FSStream=function(){this.shared={}},Te.FSStream.prototype={},Object.defineProperties(Te.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Te.FSStream,e),-1==t&&(t=Te.nextfd()),e.fd=t,Te.streams[t]=e,e},closeStream:function(e){Te.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Te.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Te.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Te.devices[e]={stream_ops:t}},getDevice:function(e){return Te.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Te.syncFSRequests++,Te.syncFSRequests>1&&b("warning: ".concat(Te.syncFSRequests," FS.syncfs operations in flight at once, probably just doing extra work"));var n=Te.getMounts(Te.root.mount),r=0;function s(e){return Te.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,s(e));++r>=n.length&&s(null)}n.forEach((function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)}))},mount:function(e,t,n){var r,s="/"===n,o=!n;if(s&&Te.root)throw new Te.ErrnoError(10);if(!s&&!o){var a=Te.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,Te.isMountpoint(r))throw new Te.ErrnoError(10);if(!Te.isDir(r.mode))throw new Te.ErrnoError(54)}var i={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(i);return l.mount=i,i.root=l,s?Te.root=l:r&&(r.mounted=i,r.mount&&r.mount.mounts.push(i)),l},unmount:function(e){var t=Te.lookupPath(e,{follow_mount:!1});if(!Te.isMountpoint(t.node))throw new Te.ErrnoError(28);var n=t.node,r=n.mounted,s=Te.getMounts(r);Object.keys(Te.nameTable).forEach((function(e){for(var t=Te.nameTable[e];t;){var n=t.name_next;s.includes(t.mount)&&Te.destroyNode(t),t=n}})),n.mounted=null;var o=n.mount.mounts.indexOf(r);n.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=Te.lookupPath(e,{parent:!0}).node,s=ue.basename(e);if(!s||"."===s||".."===s)throw new Te.ErrnoError(28);var o=Te.mayCreate(r,s);if(o)throw new Te.ErrnoError(o);if(!r.node_ops.mknod)throw new Te.ErrnoError(63);return r.node_ops.mknod(r,s,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Te.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Te.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",s=0;s<n.length;++s)if(n[s]){r+="/"+n[s];try{Te.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,Te.mknod(e,t,n)},symlink:function(e,t){if(!fe.resolve(e))throw new Te.ErrnoError(44);var n=Te.lookupPath(t,{parent:!0}).node;if(!n)throw new Te.ErrnoError(44);var r=ue.basename(t),s=Te.mayCreate(n,r);if(s)throw new Te.ErrnoError(s);if(!n.node_ops.symlink)throw new Te.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,s=ue.dirname(e),o=ue.dirname(t),a=ue.basename(e),i=ue.basename(t);if(n=Te.lookupPath(e,{parent:!0}).node,r=Te.lookupPath(t,{parent:!0}).node,!n||!r)throw new Te.ErrnoError(44);if(n.mount!==r.mount)throw new Te.ErrnoError(75);var l,u=Te.lookupNode(n,a),c=fe.relative(e,o);if("."!==c.charAt(0))throw new Te.ErrnoError(28);if("."!==(c=fe.relative(t,s)).charAt(0))throw new Te.ErrnoError(55);try{l=Te.lookupNode(r,i)}catch(e){}if(u!==l){var d=Te.isDir(u.mode),f=Te.mayDelete(n,a,d);if(f)throw new Te.ErrnoError(f);if(f=l?Te.mayDelete(r,i,d):Te.mayCreate(r,i))throw new Te.ErrnoError(f);if(!n.node_ops.rename)throw new Te.ErrnoError(63);if(Te.isMountpoint(u)||l&&Te.isMountpoint(l))throw new Te.ErrnoError(10);if(r!==n&&(f=Te.nodePermissions(n,"w")))throw new Te.ErrnoError(f);Te.hashRemoveNode(u);try{n.node_ops.rename(u,r,i)}catch(e){throw e}finally{Te.hashAddNode(u)}}},rmdir:function(e){var t=Te.lookupPath(e,{parent:!0}).node,n=ue.basename(e),r=Te.lookupNode(t,n),s=Te.mayDelete(t,n,!0);if(s)throw new Te.ErrnoError(s);if(!t.node_ops.rmdir)throw new Te.ErrnoError(63);if(Te.isMountpoint(r))throw new Te.ErrnoError(10);t.node_ops.rmdir(t,n),Te.destroyNode(r)},readdir:function(e){var t=Te.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Te.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Te.lookupPath(e,{parent:!0}).node;if(!t)throw new Te.ErrnoError(44);var n=ue.basename(e),r=Te.lookupNode(t,n),s=Te.mayDelete(t,n,!1);if(s)throw new Te.ErrnoError(s);if(!t.node_ops.unlink)throw new Te.ErrnoError(63);if(Te.isMountpoint(r))throw new Te.ErrnoError(10);t.node_ops.unlink(t,n),Te.destroyNode(r)},readlink:function(e){var t=Te.lookupPath(e).node;if(!t)throw new Te.ErrnoError(44);if(!t.node_ops.readlink)throw new Te.ErrnoError(28);return fe.resolve(Te.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=Te.lookupPath(e,{follow:!t}).node;if(!n)throw new Te.ErrnoError(44);if(!n.node_ops.getattr)throw new Te.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Te.stat(e,!0)},chmod:function(e,t,n){var r;if(!(r="string"==typeof e?Te.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Te.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Te.chmod(e,t,!0)},fchmod:function(e,t){var n=Te.getStreamChecked(e);Te.chmod(n.node,t)},chown:function(e,t,n,r){var s;if(!(s="string"==typeof e?Te.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Te.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown:function(e,t,n){Te.chown(e,t,n,!0)},fchown:function(e,t,n){var r=Te.getStreamChecked(e);Te.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new Te.ErrnoError(28);var n;if(!(n="string"==typeof e?Te.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Te.ErrnoError(63);if(Te.isDir(n.mode))throw new Te.ErrnoError(31);if(!Te.isFile(n.mode))throw new Te.ErrnoError(28);var r=Te.nodePermissions(n,"w");if(r)throw new Te.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=Te.getStreamChecked(e);if(0==(2097155&n.flags))throw new Te.ErrnoError(28);Te.truncate(n.node,t)},utime:function(e,t,n){var r=Te.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n){if(""===e)throw new Te.ErrnoError(44);var r;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?Ne(t):t)?4095&n|32768:0,"object"==Uf(e))r=e;else{e=ue.normalize(e);try{r=Te.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var o=!1;if(64&t)if(r){if(128&t)throw new Te.ErrnoError(20)}else r=Te.mknod(e,n,0),o=!0;if(!r)throw new Te.ErrnoError(44);if(Te.isChrdev(r.mode)&&(t&=-513),65536&t&&!Te.isDir(r.mode))throw new Te.ErrnoError(54);if(!o){var a=Te.mayOpen(r,t);if(a)throw new Te.ErrnoError(a)}512&t&&!o&&Te.truncate(r,0),t&=-131713;var i=Te.createStream({node:r,path:Te.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return i.stream_ops.open&&i.stream_ops.open(i),!s.logReadFiles||1&t||(Te.readFiles||(Te.readFiles={}),e in Te.readFiles||(Te.readFiles[e]=1)),i},close:function(e){if(Te.isClosed(e))throw new Te.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Te.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(Te.isClosed(e))throw new Te.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Te.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Te.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,s){if(r<0||s<0)throw new Te.ErrnoError(28);if(Te.isClosed(e))throw new Te.ErrnoError(8);if(1==(2097155&e.flags))throw new Te.ErrnoError(8);if(Te.isDir(e.node.mode))throw new Te.ErrnoError(31);if(!e.stream_ops.read)throw new Te.ErrnoError(28);var o=void 0!==s;if(o){if(!e.seekable)throw new Te.ErrnoError(70)}else s=e.position;var a=e.stream_ops.read(e,t,n,r,s);return o||(e.position+=a),a},write:function(e,t,n,r,s,o){if(r<0||s<0)throw new Te.ErrnoError(28);if(Te.isClosed(e))throw new Te.ErrnoError(8);if(0==(2097155&e.flags))throw new Te.ErrnoError(8);if(Te.isDir(e.node.mode))throw new Te.ErrnoError(31);if(!e.stream_ops.write)throw new Te.ErrnoError(28);e.seekable&&1024&e.flags&&Te.llseek(e,0,2);var a=void 0!==s;if(a){if(!e.seekable)throw new Te.ErrnoError(70)}else s=e.position;var i=e.stream_ops.write(e,t,n,r,s,o);return a||(e.position+=i),i},allocate:function(e,t,n){if(Te.isClosed(e))throw new Te.ErrnoError(8);if(t<0||n<=0)throw new Te.ErrnoError(28);if(0==(2097155&e.flags))throw new Te.ErrnoError(8);if(!Te.isFile(e.node.mode)&&!Te.isDir(e.node.mode))throw new Te.ErrnoError(43);if(!e.stream_ops.allocate)throw new Te.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,s){if(0!=(2&r)&&0==(2&s)&&2!=(2097155&e.flags))throw new Te.ErrnoError(2);if(1==(2097155&e.flags))throw new Te.ErrnoError(2);if(!e.stream_ops.mmap)throw new Te.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,s)},msync:function(e,t,n,r,s){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,s):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new Te.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.flags=n.flags||0,n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'.concat(n.encoding,'"'));var r=Te.open(e,n.flags),s=Te.stat(e),o=s.size,a=new Uint8Array(o);return Te.read(r,a,0,o,0),"utf8"===n.encoding?t=re(a,0):"binary"===n.encoding&&(t=a),Te.close(r),t},writeFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var r=Te.open(e,n.flags,n.mode);if("string"==typeof t){var s=new Uint8Array(pe(t)+1),o=he(t,s,0,s.length);Te.write(r,s,0,o,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Te.write(r,t,0,t.byteLength,void 0,n.canOwn)}Te.close(r)},cwd:function(){return Te.currentPath},chdir:function(e){var t=Te.lookupPath(e,{follow:!0});if(null===t.node)throw new Te.ErrnoError(44);if(!Te.isDir(t.node.mode))throw new Te.ErrnoError(54);var n=Te.nodePermissions(t.node,"x");if(n)throw new Te.ErrnoError(n);Te.currentPath=t.path},createDefaultDirectories:function(){Te.mkdir("/tmp"),Te.mkdir("/home"),Te.mkdir("/home/web_user")},createDefaultDevices:function(){Te.mkdir("/dev"),Te.registerDevice(Te.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,s){return r}}),Te.mkdev("/dev/null",Te.makedev(1,3)),ve.register(Te.makedev(5,0),ve.default_tty_ops),ve.register(Te.makedev(6,0),ve.default_tty1_ops),Te.mkdev("/dev/tty",Te.makedev(5,0)),Te.mkdev("/dev/tty1",Te.makedev(6,0));var e=new Uint8Array(1024),t=0,n=function(){return 0===t&&(t=de(e).byteLength),e[--t]};Te.createDevice("/dev","random",n),Te.createDevice("/dev","urandom",n),Te.mkdir("/dev/shm"),Te.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Te.mkdir("/proc");var e=Te.mkdir("/proc/self");Te.mkdir("/proc/self/fd"),Te.mount({mount:function(){var t=Te.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var n=+t,r=Te.getStreamChecked(n),s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return s.parent=s,s}},t}},{},"/proc/self/fd")},createStandardStreams:function(){s.stdin?Te.createDevice("/dev","stdin",s.stdin):Te.symlink("/dev/tty","/dev/stdin"),s.stdout?Te.createDevice("/dev","stdout",null,s.stdout):Te.symlink("/dev/tty","/dev/stdout"),s.stderr?Te.createDevice("/dev","stderr",null,s.stderr):Te.symlink("/dev/tty1","/dev/stderr"),Te.open("/dev/stdin",0),Te.open("/dev/stdout",1),Te.open("/dev/stderr",1)},ensureErrnoError:function(){Te.ErrnoError||(Te.ErrnoError=function(e,t){this.name="ErrnoError",this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Te.ErrnoError.prototype=new Error,Te.ErrnoError.prototype.constructor=Te.ErrnoError,[44].forEach((function(e){Te.genericErrors[e]=new Te.ErrnoError(e),Te.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Te.ensureErrnoError(),Te.nameTable=new Array(4096),Te.mount(Ie,{},"/"),Te.createDefaultDirectories(),Te.createDefaultDevices(),Te.createSpecialDirectories(),Te.filesystems={MEMFS:Ie,IDBFS:Se}},init:function(e,t,n){Te.init.initialized=!0,Te.ensureErrnoError(),s.stdin=e||s.stdin,s.stdout=t||s.stdout,s.stderr=n||s.stderr,Te.createStandardStreams()},quit:function(){Te.init.initialized=!1;for(var e=0;e<Te.streams.length;e++){var t=Te.streams[e];t&&Te.close(t)}},findObject:function(e,t){var n=Te.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{e=(r=Te.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Te.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=ue.basename(e),r=Te.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createPath:function(e,t,n,r){e="string"==typeof e?e:Te.getPath(e);for(var s=t.split("/").reverse();s.length;){var o=s.pop();if(o){var a=ue.join2(e,o);try{Te.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,n,r,s){var o=ue.join2("string"==typeof e?e:Te.getPath(e),t),a=Ve(r,s);return Te.create(o,a)},createDataFile:function(e,t,n,r,s,o){var a=t;e&&(e="string"==typeof e?e:Te.getPath(e),a=t?ue.join2(e,t):e);var i=Ve(r,s),l=Te.create(a,i);if(n){if("string"==typeof n){for(var u=new Array(n.length),c=0,d=n.length;c<d;++c)u[c]=n.charCodeAt(c);n=u}Te.chmod(l,146|i);var f=Te.open(l,577);Te.write(f,n,0,n.length,0,o),Te.close(f),Te.chmod(l,i)}return l},createDevice:function(e,t,n,r){var s=ue.join2("string"==typeof e?e:Te.getPath(e),t),o=Ve(!!n,!!r);Te.createDevice.major||(Te.createDevice.major=64);var a=Te.makedev(Te.createDevice.major++,0);return Te.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,s,o){for(var a=0,i=0;i<s;i++){var l;try{l=n()}catch(e){throw new Te.ErrnoError(29)}if(void 0===l&&0===a)throw new Te.ErrnoError(6);if(null==l)break;a++,t[r+i]=l}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,s,o){for(var a=0;a<s;a++)try{r(t[n+a])}catch(e){throw new Te.ErrnoError(29)}return s&&(e.node.timestamp=Date.now()),a}}),Te.mkdev(s,o,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=ge(o(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Te.ErrnoError(29)}},createLazyFile:function(e,t,n,r,s){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),s=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;s||(a=r);var i=this;i.setDataGetter((function(e){var t=e*a,s=(e+1)*a-1;if(s=Math.min(s,r-1),void 0===i.chunks[e]&&(i.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var s=new XMLHttpRequest;if(s.open("GET",n,!1),r!==a&&s.setRequestHeader("Range","bytes="+e+"-"+t),s.responseType="arraybuffer",s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.send(null),!(s.status>=200&&s.status<300||304===s.status))throw new Error("Couldn't load "+n+". Status: "+s.status);return void 0!==s.response?new Uint8Array(s.response||[]):ge(s.responseText||"",!0)}(t,s)),void 0===i.chunks[e])throw new Error("doXHR failed!");return i.chunks[e]})),!o&&r||(a=r=1,r=this.getter(0).length,a=r,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var i={isDevice:!1,contents:a}}else i={isDevice:!1,url:n};var l=Te.createFile(e,t,i,r,s);i.contents?l.contents=i.contents:i.url&&(l.contents=null,l.url=i.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var u={};function c(e,t,n,r,s){var o=e.node.contents;if(s>=o.length)return 0;var a=Math.min(o.length-s,r);if(o.slice)for(var i=0;i<a;i++)t[n+i]=o[s+i];else for(i=0;i<a;i++)t[n+i]=o.get(s+i);return a}return Object.keys(l.stream_ops).forEach((function(e){var t=l.stream_ops[e];u[e]=function(){return Te.forceLoadFile(l),t.apply(null,arguments)}})),u.read=function(e,t,n,r,s){return Te.forceLoadFile(l),c(e,t,n,r,s)},u.mmap=function(e,t,n,r,s){Te.forceLoadFile(l);var o=_e(t);if(!o)throw new Te.ErrnoError(48);return c(e,v,o,t,n),{ptr:o,allocated:!0}},l.stream_ops=u,l}},Re={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(ue.isAbs(t))return t;var r;if(r=-100===e?Te.cwd():Re.getStreamFromFD(e).path,0==t.length){if(!n)throw new Te.ErrnoError(44);return r}return ue.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&ue.normalize(t)!==ue.normalize(Te.getPath(e.node)))return-54;throw e}_[n>>2]=r.dev,_[n+4>>2]=r.mode,I[n+8>>2]=r.nlink,_[n+12>>2]=r.uid,_[n+16>>2]=r.gid,_[n+20>>2]=r.rdev,k[n+24>>3]=BigInt(r.size),_[n+32>>2]=4096,_[n+36>>2]=r.blocks;var s=r.atime.getTime(),o=r.mtime.getTime(),a=r.ctime.getTime();return k[n+40>>3]=BigInt(Math.floor(s/1e3)),I[n+48>>2]=s%1e3*1e3,k[n+56>>3]=BigInt(Math.floor(o/1e3)),I[n+64>>2]=o%1e3*1e3,k[n+72>>3]=BigInt(Math.floor(a/1e3)),I[n+80>>2]=a%1e3*1e3,k[n+88>>3]=BigInt(r.ino),0},doMsync:function(e,t,n,r,s){if(!Te.isFile(t.node.mode))throw new Te.ErrnoError(43);if(2&r)return 0;var o=M.slice(e,e+n);Te.msync(t,o,s,n,r)},varargs:void 0,get:function(){var e=_[Re.varargs>>2];return Re.varargs+=4,e},getp:function(){return Re.get()},getStr:function(e){return se(e)},getStreamFromFD:function(e){return Te.getStreamChecked(e)}};function Oe(e,t,n){Re.varargs=n;try{var r=Re.getStreamFromFD(e);switch(t){case 0:if((s=Re.get())<0)return-28;for(;Te.streams[s];)s++;return Te.createStream(r,s).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var s=Re.get();return r.flags|=s,0;case 5:return s=Re.getp(),y[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return le(28),-1;default:return-28}}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}function xe(e,t,n){Re.varargs=n;try{var r=Re.getStreamFromFD(e);switch(t){case 21509:return r.tty?0:-59;case 21505:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcgets){var s=r.tty.ops.ioctl_tcgets(r),o=Re.getp();_[o>>2]=s.c_iflag||0,_[o+4>>2]=s.c_oflag||0,_[o+8>>2]=s.c_cflag||0,_[o+12>>2]=s.c_lflag||0;for(var a=0;a<32;a++)v[o+a+17>>0]=s.c_cc[a]||0;return 0}return 0;case 21510:case 21511:case 21512:return r.tty?0:-59;case 21506:case 21507:case 21508:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcsets){o=Re.getp();var i=_[o>>2],l=_[o+4>>2],u=_[o+8>>2],c=_[o+12>>2],d=[];for(a=0;a<32;a++)d.push(v[o+a+17>>0]);return r.tty.ops.ioctl_tcsets(r.tty,t,{c_iflag:i,c_oflag:l,c_cflag:u,c_lflag:c,c_cc:d})}return 0;case 21519:return r.tty?(o=Re.getp(),_[o>>2]=0,0):-59;case 21520:return r.tty?-28:-59;case 21531:return o=Re.getp(),Te.ioctl(r,t,o);case 21523:if(!r.tty)return-59;if(r.tty.ops.ioctl_tiocgwinsz){var f=r.tty.ops.ioctl_tiocgwinsz(r.tty);o=Re.getp(),y[o>>1]=f[0],y[o+2>>1]=f[1]}return 0;case 21524:case 21515:return r.tty?0:-59;default:return-28}}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ae(e,t,n,r){Re.varargs=r;try{t=Re.getStr(t),t=Re.calculateAt(e,t);var s=r?Re.get():0;return Te.open(t,n,s).fd}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ce(e,t){try{return e=Re.getStr(e),Re.doStat(Te.stat,e,t)}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}var De=9007199254740992,je=-9007199254740992,Fe=function(e){return e<je||e>De?NaN:Number(e)};function Be(e,t,n,r,s,o){o=Fe(o);try{if(isNaN(o))return 61;var a=Re.getStreamFromFD(s);2&n&&Re.doMsync(e,a,t,r,o),Te.munmap(a)}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return-e.errno}}var Le=function(){z("")},Ue=[],qe=function(e,t){var n;for(Ue.length=0;n=M[e++];)t+=105!=n&&t%8?4:0,Ue.push(106==n?k[t>>3]:105==n?_[t>>2]:E[t>>3]),t+=105==n?4:8;return Ue},ze=function(e,t,n){var r=qe(t,n);return J[e].apply(null,r)},He=function(e,t,n){return ze(e,t,n)},We=function(e,t,n){return M.copyWithin(e,t,t+n)},Ge=function(){return 2147483648},$e=function(e){var t=(e-h.buffer.byteLength+65535)/65536;try{return h.grow(t),V(),1}catch(e){}},Ke=function(e){var t=M.length;e>>>=0;var n=Ge();if(e>n)return!1;for(var r,s,o=1;o<=4;o*=2){var a=t*(1+.2/o);a=Math.min(a,e+100663296);var i=Math.min(n,(r=Math.max(e,a))+((s=65536)-r%s)%s);if($e(i))return!0}return!1},Xe={},Ye=function(){return u||"./this.program"},Qe=function e(){if(!e.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==("undefined"==typeof navigator?"undefined":Uf(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ye()};for(var n in Xe)void 0===Xe[n]?delete t[n]:t[n]=Xe[n];var r=[];for(var n in t)r.push("".concat(n,"=").concat(t[n]));e.strings=r}return e.strings},Je=function(e,t){for(var n=0;n<e.length;++n)v[t++>>0]=e.charCodeAt(n);v[t>>0]=0},Ze=function(e,t){var n=0;return Qe().forEach((function(r,s){var o=t+n;I[e+4*s>>2]=o,Je(r,o),n+=r.length+1})),0},et=function(e,t){var n=Qe();I[e>>2]=n.length;var r=0;return n.forEach((function(e){return r+=e.length+1})),I[t>>2]=r,0};function tt(e){try{var t=Re.getStreamFromFD(e);return Te.close(t),0}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return e.errno}}var nt=function(e,t,n,r){for(var s=0,o=0;o<n;o++){var a=I[t>>2],i=I[t+4>>2];t+=8;var l=Te.read(e,v,a,i,r);if(l<0)return-1;if(s+=l,l<i)break;void 0!==r&&(r+=l)}return s};function rt(e,t,n,r){try{var s=Re.getStreamFromFD(e),o=nt(s,t,n);return I[r>>2]=o,0}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return e.errno}}function st(e,t,n,r){t=Fe(t);try{if(isNaN(t))return 61;var s=Re.getStreamFromFD(e);return Te.llseek(s,t,n),k[r>>3]=BigInt(s.position),s.getdents&&0===t&&0===n&&(s.getdents=null),0}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return e.errno}}var ot=function(e,t,n,r){for(var s=0,o=0;o<n;o++){var a=I[t>>2],i=I[t+4>>2];t+=8;var l=Te.write(e,v,a,i,r);if(l<0)return-1;s+=l,void 0!==r&&(r+=l)}return s};function at(e,t,n,r){try{var s=Re.getStreamFromFD(e),o=ot(s,t,n);return I[r>>2]=o,0}catch(e){if(void 0===Te||"ErrnoError"!==e.name)throw e;return e.errno}}var it=0,lt=function(e){return s["_"+e]},ut=function(e,t){v.set(e,t)},ct=function(e,t,n){return he(e,M,t,n)},dt=function(e){var t=pe(e)+1,n=Pt(t);return ct(e,n,t),n},ft=function(e,t,n,r,s){var o={string:function(e){var t=0;return null!=e&&0!==e&&(t=dt(e)),t},array:function(e){var t=Pt(e.length);return ut(e,t),t}},a=lt(e),i=[],l=0;if(r)for(var u=0;u<r.length;u++){var c=o[n[u]];c?(0===l&&(l=_t()),i[u]=c(r[u])):i[u]=r[u]}var d=a.apply(null,i);return d=function(e){return 0!==l&&It(l),function(e){return"string"===t?se(e):"boolean"===t?Boolean(e):e}(e)}(d)},mt=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Te.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},pt=365,ht=146;Object.defineProperties(mt.prototype,{read:{get:function(){return(this.mode&pt)===pt},set:function(e){e?this.mode|=pt:this.mode&=~pt}},write:{get:function(){return(this.mode&ht)===ht},set:function(e){e?this.mode|=ht:this.mode&=~ht}},isFolder:{get:function(){return Te.isDir(this.mode)}},isDevice:{get:function(){return Te.isChrdev(this.mode)}}}),Te.FSNode=mt,Te.createPreloadedFile=we,Te.staticInit();var gt,bt={a:oe,b:ie,c:Oe,h:xe,i:Ae,o:Ce,p:Be,e:Le,k:He,j:We,n:Ke,l:Ze,m:et,d:tt,g:rt,q:st,f:at},vt=Q(),Mt=(s._cqt_init=function(e,t,n,r,o,a){return(s._cqt_init=vt.t)(e,t,n,r,o,a)},s._cqt_calc=function(e,t){return(s._cqt_calc=vt.u)(e,t)},s._cqt_render_line=function(e){return(s._cqt_render_line=vt.v)(e)},s._cqt_bin_to_freq=function(e){return(s._cqt_bin_to_freq=vt.w)(e)},s._fluid_synth_noteon=function(e,t,n,r){return(s._fluid_synth_noteon=vt.x)(e,t,n,r)},s._fluid_synth_noteoff=function(e,t,n){return(s._fluid_synth_noteoff=vt.y)(e,t,n)},s._fluid_synth_write_float=function(e,t,n,r,o,a,i,l){return(s._fluid_synth_write_float=vt.z)(e,t,n,r,o,a,i,l)},s._fluid_synth_all_notes_off=function(e,t){return(s._fluid_synth_all_notes_off=vt.A)(e,t)},s._adl_rt_noteOn=function(e,t,n,r){return(s._adl_rt_noteOn=vt.B)(e,t,n,r)},s._adl_rt_noteOff=function(e,t,n){return(s._adl_rt_noteOff=vt.C)(e,t,n)},s._adl_rt_patchChange=function(e,t,n){return(s._adl_rt_patchChange=vt.D)(e,t,n)},s._adl_rt_pitchBend=function(e,t,n){return(s._adl_rt_pitchBend=vt.E)(e,t,n)},s._adl_rt_controllerChange=function(e,t,n,r){return(s._adl_rt_controllerChange=vt.F)(e,t,n,r)},s._adl_rt_channelAfterTouch=function(e,t,n){return(s._adl_rt_channelAfterTouch=vt.G)(e,t,n)},s._adl_panic=function(e){return(s._adl_panic=vt.H)(e)},s._adl_rt_resetState=function(e){return(s._adl_rt_resetState=vt.I)(e)},s._tp_note_on=function(e,t,n){return(s._tp_note_on=vt.J)(e,t,n)},s._tp_note_off=function(e,t){return(s._tp_note_off=vt.K)(e,t)},s._tp_program_change=function(e,t){return(s._tp_program_change=vt.L)(e,t)},s._tp_pitch_bend=function(e,t){return(s._tp_pitch_bend=vt.M)(e,t)},s._tp_control_change=function(e,t,n){return(s._tp_control_change=vt.N)(e,t,n)},s._tp_channel_pressure=function(e,t){return(s._tp_channel_pressure=vt.O)(e,t)},s._tp_render=function(e,t){return(s._tp_render=vt.P)(e,t)},s._tp_panic=function(){return(s._tp_panic=vt.Q)()},s._tp_panic_channel=function(e){return(s._tp_panic_channel=vt.R)(e)},s._tp_reset=function(){return(s._tp_reset=vt.S)()},s._tp_init=function(e){return(s._tp_init=vt.T)(e)},s._new_fluid_settings=function(){return(s._new_fluid_settings=vt.U)()},s._fluid_settings_setstr=function(e,t,n){return(s._fluid_settings_setstr=vt.V)(e,t,n)},s._fluid_settings_setint=function(e,t,n){return(s._fluid_settings_setint=vt.W)(e,t,n)},s._fluid_settings_setnum=function(e,t,n){return(s._fluid_settings_setnum=vt.X)(e,t,n)},s._new_fluid_synth=function(e){return(s._new_fluid_synth=vt.Y)(e)},s._fluid_synth_set_interp_method=function(e,t,n){return(s._fluid_synth_set_interp_method=vt.Z)(e,t,n)},s._adl_init=function(e){return(s._adl_init=vt._)(e)},s._adl_setSoftPanEnabled=function(e,t){return(s._adl_setSoftPanEnabled=vt.$)(e,t)},s._adl_setNumChips=function(e,t){return(s._adl_setNumChips=vt.aa)(e,t)},s._tp_unload_soundfont=function(){return(s._tp_unload_soundfont=vt.ba)()},s._tp_load_soundfont=function(e){return(s._tp_load_soundfont=vt.ca)(e)},s._fluid_synth_sfload=function(e,t,n){return(s._fluid_synth_sfload=vt.da)(e,t,n)},s._tp_add_soundfont=function(e){return(s._tp_add_soundfont=vt.ea)(e)},s._tp_set_reverb=function(e){return(s._tp_set_reverb=vt.fa)(e)},s._fluid_synth_set_reverb_on=function(e,t){return(s._fluid_synth_set_reverb_on=vt.ga)(e,t)},s._fluid_synth_set_reverb=function(e,t,n,r,o){return(s._fluid_synth_set_reverb=vt.ha)(e,t,n,r,o)},s._tp_get_polyphony=function(){return(s._tp_get_polyphony=vt.ia)()},s._fluid_synth_get_polyphony=function(e){return(s._fluid_synth_get_polyphony=vt.ja)(e)},s._tp_set_polyphony=function(e){return(s._tp_set_polyphony=vt.ka)(e)},s._fluid_synth_set_polyphony=function(e,t){return(s._fluid_synth_set_polyphony=vt.la)(e,t)},s._tp_get_channel_in_use=function(e){return(s._tp_get_channel_in_use=vt.ma)(e)},s._tp_get_channel_program=function(e){return(s._tp_get_channel_program=vt.na)(e)},s._tp_set_channel_mute=function(e,t){return(s._tp_set_channel_mute=vt.oa)(e,t)},s._tp_set_bank=function(e){return(s._tp_set_bank=vt.pa)(e)},s._adl_setBank=function(e,t){return(s._adl_setBank=vt.qa)(e,t)},s._tp_set_synth_engine=function(e){return(s._tp_set_synth_engine=vt.ra)(e)},s._tp_set_ch10_melodic=function(e){return(s._tp_set_ch10_melodic=vt.sa)(e)},s._fluid_synth_bank_select=function(e,t,n){return(s._fluid_synth_bank_select=vt.ta)(e,t,n)},s._tp_get_fluid_synth=function(){return(s._tp_get_fluid_synth=vt.ua)()},s._malloc=function(e){return(s._malloc=vt.va)(e)},s._gme_open_data=function(e,t,n,r){return(s._gme_open_data=vt.wa)(e,t,n,r)},s._gme_delete=function(e){return(s._gme_delete=vt.xa)(e)},s._gme_track_count=function(e){return(s._gme_track_count=vt.ya)(e)},s._gme_track_info=function(e,t,n){return(s._gme_track_info=vt.za)(e,t,n)},s._gme_start_track=function(e,t){return(s._gme_start_track=vt.Aa)(e,t)},s._gme_play=function(e,t,n){return(s._gme_play=vt.Ba)(e,t,n)},s._gme_set_fade=function(e,t,n){return(s._gme_set_fade=vt.Ca)(e,t,n)},s._gme_track_ended=function(e){return(s._gme_track_ended=vt.Da)(e)},s._gme_tell_scaled=function(e){return(s._gme_tell_scaled=vt.Ea)(e)},s._gme_seek_scaled=function(e,t){return(s._gme_seek_scaled=vt.Fa)(e,t)},s._gme_voice_count=function(e){return(s._gme_voice_count=vt.Ga)(e)},s._gme_ignore_silence=function(e,t){return(s._gme_ignore_silence=vt.Ha)(e,t)},s._gme_set_tempo=function(e,t){return(s._gme_set_tempo=vt.Ia)(e,t)},s._gme_mute_voices=function(e,t){return(s._gme_mute_voices=vt.Ja)(e,t)},s._gme_voice_name=function(e,t){return(s._gme_voice_name=vt.Ka)(e,t)},s._gme_get_chip_state=function(e){return(s._gme_get_chip_state=vt.La)(e)},s._xmp_start_player=function(e,t,n){return(s._xmp_start_player=vt.Ma)(e,t,n)},s._xmp_end_player=function(e){return(s._xmp_end_player=vt.Na)(e)},s._xmp_play_buffer=function(e,t,n,r){return(s._xmp_play_buffer=vt.Oa)(e,t,n,r)},s._xmp_get_frame_info=function(e,t){return(s._xmp_get_frame_info=vt.Pa)(e,t)},s._xmp_get_module_info=function(e,t){return(s._xmp_get_module_info=vt.Qa)(e,t)},s._xmp_create_context=function(){return(s._xmp_create_context=vt.Ra)()},s._xmp_stop_module=function(e){return(s._xmp_stop_module=vt.Sa)(e)},s._xmp_restart_module=function(e){return(s._xmp_restart_module=vt.Ta)(e)},s._xmp_seek_time=function(e,t){return(s._xmp_seek_time=vt.Ua)(e,t)},s._xmp_channel_mute=function(e,t,n){return(s._xmp_channel_mute=vt.Va)(e,t,n)},s._xmp_get_player=function(e,t){return(s._xmp_get_player=vt.Wa)(e,t)},s._xmp_get_format_list=function(){return(s._xmp_get_format_list=vt.Xa)()},s._xmp_inject_event=function(e,t,n){return(s._xmp_inject_event=vt.Ya)(e,t,n)},s._xmp_load_module_from_memory=function(e,t,n){return(s._xmp_load_module_from_memory=vt.Za)(e,t,n)},s._lvgm_init=function(e){return(s._lvgm_init=vt._a)(e)},s._lvgm_load_data=function(e,t,n){return(s._lvgm_load_data=vt.$a)(e,t,n)},s._lvgm_get_position_ms=function(e){return(s._lvgm_get_position_ms=vt.ab)(e)},s._lvgm_get_duration_ms=function(e){return(s._lvgm_get_duration_ms=vt.bb)(e)},s._lvgm_start=function(e){return(s._lvgm_start=vt.cb)(e)},s._lvgm_render=function(e,t,n){return(s._lvgm_render=vt.db)(e,t,n)},s._lvgm_stop=function(e){return(s._lvgm_stop=vt.eb)(e)},s._lvgm_reset=function(e){return(s._lvgm_reset=vt.fb)(e)},s._lvgm_set_playback_speed=function(e,t){return(s._lvgm_set_playback_speed=vt.gb)(e,t)},s._lvgm_get_playback_speed=function(e){return(s._lvgm_get_playback_speed=vt.hb)(e)},s._lvgm_seek_ms=function(e,t){return(s._lvgm_seek_ms=vt.ib)(e,t)},s._lvgm_get_metadata=function(e){return(s._lvgm_get_metadata=vt.jb)(e)},s._lvgm_get_voice_count=function(e){return(s._lvgm_get_voice_count=vt.kb)(e)},s._lvgm_get_voice_name=function(e,t){return(s._lvgm_get_voice_name=vt.lb)(e,t)},s._lvgm_get_chip_state=function(e){return(s._lvgm_get_chip_state=vt.mb)(e)},s._lvgm_set_voice_mask=function(e,t){return(s._lvgm_set_voice_mask=vt.nb)(e,t)},s._lvgm_get_voice_mask=function(e){return(s._lvgm_get_voice_mask=vt.ob)(e)},s._fluid_synth_all_sounds_off=function(e,t){return(s._fluid_synth_all_sounds_off=vt.qb)(e,t)},s._fluid_synth_set_chorus=function(e,t,n,r,o,a){return(s._fluid_synth_set_chorus=vt.rb)(e,t,n,r,o,a)},s._fluid_synth_set_chorus_on=function(e,t){return(s._fluid_synth_set_chorus_on=vt.sb)(e,t)},s._adl_getNumChips=function(e){return(s._adl_getNumChips=vt.tb)(e)},s._adl_getBanksCount=function(){return(s._adl_getBanksCount=vt.ub)()},s._adl_getBankNames=function(){return(s._adl_getBankNames=vt.vb)()},s._adl_generate=function(e,t,n){return(s._adl_generate=vt.wb)(e,t,n)},s._v2m_open=function(e,t,n){return(s._v2m_open=vt.xb)(e,t,n)},s._v2m_write_audio=function(e,t){return(s._v2m_write_audio=vt.yb)(e,t)},s._v2m_get_position_ms=function(){return(s._v2m_get_position_ms=vt.zb)()},s._v2m_get_duration_ms=function(){return(s._v2m_get_duration_ms=vt.Ab)()},s._v2m_seek_ms=function(e){return(s._v2m_seek_ms=vt.Bb)(e)},s._v2m_set_speed=function(e){return(s._v2m_set_speed=vt.Cb)(e)},s._v2m_close=function(){return(s._v2m_close=vt.Db)()},function(){return(Mt=vt.Eb)()}),yt=(s._n64_load_file=function(e,t,n,r){return(s._n64_load_file=vt.Fb)(e,t,n,r)},s._n64_get_duration_ms=function(){return(s._n64_get_duration_ms=vt.Gb)()},s._n64_get_position_ms=function(){return(s._n64_get_position_ms=vt.Hb)()},s._n64_render_audio=function(e,t){return(s._n64_render_audio=vt.Ib)(e,t)},s._n64_seek_ms=function(e){return(s._n64_seek_ms=vt.Jb)(e)},s._n64_shutdown=function(){return(s._n64_shutdown=vt.Kb)()},s._mdx_open=function(e,t,n){return(s._mdx_open=vt.Lb)(e,t,n)},s._mdx_set_dir=function(e,t){return(s._mdx_set_dir=vt.Mb)(e,t)},s._mdx_set_rate=function(e){return(s._mdx_set_rate=vt.Nb)(e)},s._mdx_set_max_loop=function(e,t){return(s._mdx_set_max_loop=vt.Ob)(e,t)},s._mdx_next_frame=function(e){return(s._mdx_next_frame=vt.Pb)(e)},s._mdx_frame_length=function(e){return(s._mdx_frame_length=vt.Qb)(e)},s._mdx_calc_sample=function(e,t,n){return(s._mdx_calc_sample=vt.Rb)(e,t,n)},s._mdx_calc_log=function(e,t,n){return(s._mdx_calc_log=vt.Sb)(e,t,n)},s._mdx_get_title=function(e,t){return(s._mdx_get_title=vt.Tb)(e,t)},s._mdx_get_length=function(e){return(s._mdx_get_length=vt.Ub)(e)},s._mdx_get_tracks=function(e){return(s._mdx_get_tracks=vt.Vb)(e)},s._mdx_get_current_notes=function(e,t,n){return(s._mdx_get_current_notes=vt.Wb)(e,t,n)},s._mdx_close=function(e){return(s._mdx_close=vt.Xb)(e)},s._mdx_create_context=function(){return(s._mdx_create_context=vt.Yb)()},s._mdx_get_position_ms=function(e){return(s._mdx_get_position_ms=vt.Zb)(e)},s._mdx_set_speed=function(e,t){return(s._mdx_set_speed=vt._b)(e,t)},s._mdx_set_position_ms=function(e,t){return(s._mdx_set_position_ms=vt.$b)(e,t)},s._mdx_get_pdx_filename=function(e,t){return(s._mdx_get_pdx_filename=vt.ac)(e,t)},s._mdx_get_track_name=function(e,t){return(s._mdx_get_track_name=vt.bc)(e,t)},s._mdx_get_track_mask=function(e){return(s._mdx_get_track_mask=vt.cc)(e)},s._mdx_set_track_mask=function(e,t){return(s._mdx_set_track_mask=vt.dc)(e,t)},function(e,t){return(yt=vt.ec)(e,t)}),_t=function(){return(_t=vt.fc)()},It=function(e){return(It=vt.gc)(e)},Pt=function(e){return(Pt=vt.hc)(e)},kt=function(e){return(kt=vt.ic)(e)};function Et(){function t(){gt||(gt=!0,s.calledRun=!0,w||(x(),e(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),A()))}F>0||(O(),F>0||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t()))}if(s._xmp_version=510632,s._xmp_vercode=87556,s.ccall=ft,s.setValue=te,s.getValue=ee,s.UTF8ToString=se,s.FS=Te,s.ALLOC_NORMAL=it,L=function e(){gt||Et(),gt||(L=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return Et(),r.ready}),Hf={apiKey:"AIzaSyC_zKemNR_zToveh9E7cRKTgE8Rkmfg6ao",authDomain:"chiptheory-bda40.firebaseapp.com",projectId:"chiptheory-bda40",storageBucket:"chiptheory-bda40.appspot.com",messagingSenderId:"564638848686",appId:"1:564638848686:web:061cfa2277b9985e9c3f3f",measurementId:"G-TDLV6BZJ1B"};var Wf=Object(r.memo)(Gf);function Gf(e){var t,n=e.dim?"DirectoryLink-dim":null,r=e.to.replace("%25","%2525"),o=e.search||(delete(t=Qo.a.parse(window.location.search.substring(1))).q,Qo.a.stringify(t)),a={pathname:r,search:".."===e.children?"":o,state:{prevPathname:window.location.pathname.replace("/chiptheory/","/")}},i=null;return e.isBackLink&&(i=function(t){t.preventDefault(),e.history.goBack()}),s.a.createElement(Ta,{to:a,className:n,onClick:i},e.children)}Gf.propTypes={to:Jo.string.isRequired,dim:Jo.bool,search:Jo.string,isBackLink:Jo.bool};function $f(){for(var e="",t=0;t<arguments.length;t++){if(!(t<0||arguments.length<=t?void 0:arguments[t]))return"";e+=t<0||arguments.length<=t?void 0:arguments[t]}return e}function Kf(e){return e.replace(Ef.CATALOG_PREFIX,"/")}function Xf(e){return"".concat(Ef.API_BASE,"/metadata?path=").concat(encodeURIComponent(e))}function Yf(e,t,n){return e.FS.analyzePath(t).exists?(console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t)):(console.log("Downloading ".concat(t,"...")),fetch(n).then((function(e){if(!e.ok)throw Error("HTTP ".concat(e.status," while fetching ").concat(t));return e})).then((function(e){return e.arrayBuffer()})).then((function(n){var r=new Uint8Array(n);return Qf(e,t,r,!0)})))}function Qf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r&&e.FS.analyzePath(t).exists)return console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t);console.debug("Writing ".concat(t," to Emscripten file system..."));var s=Xo.a.dirname(t);return e.FS.mkdirTree(s),e.FS.writeFile(t,n),new Promise((function(n,r){e.FS.syncfs(!1,(function(e){e?(console.error("Error synchronizing to indexeddb.",e),r(e)):(console.debug("Synchronized ".concat(t," to indexeddb.")),n(t))}))}))}function Jf(e,t,n){return function(e,t,n,r,s){return r+(e-t)/(n-t)*(s-r)}(e,0,1,t,n)}var Zf=n(24);function em(e){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,o=void 0,o=function(e,t){if("object"!==em(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==em(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===em(o)?o:String(o)),r)}var s,o}function nm(e,t,n){return t&&tm(e.prototype,t),n&&tm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var rm=nm((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new Zf.CalcCascades,r=n.lowpass({order:5,characteristic:"butterworth",Fs:t,Fc:200,gain:0}),s=n.lowpass({order:3,characteristic:"butterworth",Fs:t,Fc:120,gain:0}),o=n.highpass({order:3,characteristic:"butterworth",Fs:t,Fc:25,gain:0}),a=new Zf.IirFilter(r),i=new Zf.IirFilter(s),l=new Zf.IirFilter(o),u=0,c=0,d=0,f=0,m=Math.exp(-1/(.16*t)),p=0,h=Math.exp(-1/(.016*t));function g(e){return e=function(e){return e-(f=m*f+(1-m)*e)}(e),1.414*(p=h*p+(1-h)*Math.abs(e))}this.process=function(e){var t=a.singleStep(e),n=g(t);c=u,u=t,c<0&&u>=0&&(d=(d+1)%Math.pow(2,1));for(var r=0,s=0;s<1;s++){r+=d&1<<s?1:-1}return l.singleStep(i.singleStep(r))*n}}));function sm(e){return(sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function om(e){return function(e){if(Array.isArray(e))return am(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return am(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return am(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function am(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function im(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,o=void 0,o=function(e,t){if("object"!==sm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===sm(o)?o:String(o)),r)}var s,o}function um(e,t){return(um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function cm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fm(e);if(t){var s=fm(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return dm(this,n)}}function dm(e,t){if(t&&("object"===sm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fm(e){return(fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&um(e,t)}(o,e);var t,n,r,s=cm(o);function o(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2048,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;return im(this,o),(n=s.call(this)).core=e,n.paused=!0,n.stopped=!0,n.fileExtensions=[],n.metadata=null,n.sampleRate=t,n.bufferSize=r,n.debug=a,n.timeCount=0,n.renderTime=0,n.perfLoggingInterval=100,n.paramDefs=[],n.params={},n.setChipStateDump=i,n.appTogglePause=l,n}return t=o,r=[{key:"metadataFromFilepath",value:function(e){var t=e.split("/"),n={};return n.title=t.pop(),n.system=t.shift(),"Game MIDI"===n.system?n.game=t.shift():n.artist=t.shift(),n}}],(n=[{key:"togglePause",value:function(){return this.paused=!this.paused,this.paused}},{key:"isPaused",value:function(){return this.paused}},{key:"resume",value:function(){this.stopped=!1,this.paused=!1}},{key:"canPlay",value:function(e){return-1!==this.fileExtensions.indexOf(e.toLowerCase())}},{key:"loadData",value:function(e,t){throw Error("Player.loadData() must be implemented.")}},{key:"stop",value:function(){throw Error("Player.stop() must be implemented.")}},{key:"isPlaying",value:function(){throw Error("Player.isPlaying() must be implemented.")}},{key:"getTempo",value:function(){return console.warn("Player.getTempo() not implemented for this player."),1}},{key:"setTempo",value:function(){console.warn("Player.setTempo() not implemented for this player.")}},{key:"setFadeout",value:function(e){console.warn("Player.setFadeout() not implemented for this player.")}},{key:"getDurationMs",value:function(){return console.warn("Player.getDurationMs() not implemented for this player."),5e3}},{key:"getPositionMs",value:function(){return console.warn("Player.getPositionMs() not implemented for this player."),0}},{key:"seekMs",value:function(e){console.warn("Player.seekMs() not implemented for this player.")}},{key:"getVoiceName",value:function(e){console.warn("Player.getVoiceName() not implemented for this player.")}},{key:"getVoiceMask",value:function(){return console.warn("Player.getVoiceMask() not implemented for this player."),[]}},{key:"setVoiceMask",value:function(){console.warn("Player.setVoiceMask() not implemented for this player.")}},{key:"getNumVoices",value:function(){return 0}},{key:"getNumSubtunes",value:function(){return 1}},{key:"getSubtune",value:function(){return 0}},{key:"getMetadata",value:function(){return{title:null,author:null}}},{key:"getParamDefs",value:function(){return this.paramDefs}},{key:"getBasePlayerState",value:function(){var e=this;return{metadata:this.getMetadata(),durationMs:this.getDurationMs(),positionMs:this.getPositionMs(),numVoices:this.getNumVoices(),numSubtunes:this.getNumSubtunes(),subtune:this.getSubtune(),paramDefs:this.getParamDefs(),tempo:this.getTempo(),voiceMask:this.getVoiceMask(),voiceNames:om(Array(this.getNumVoices())).map((function(t,n){return e.getVoiceName(n)})),infoTexts:[],isStopped:this.stopped,isPaused:this.paused}}},{key:"suspend",value:function(){this.stopped=!0,this.paused=!0}},{key:"processAudio",value:function(e){var t=performance.now();this.processAudioInner(e);var n=performance.now();if(this.debug&&(this.renderTime+=n-t,this.timeCount++,this.timeCount>=this.perfLoggingInterval)){var r=this.renderTime/this.timeCount,s=1e3*this.bufferSize/this.sampleRate;console.log("[%s] %s ms to render %d frames (%s ms) (%s% utilization)",this.constructor.name,r.toFixed(2),this.bufferSize,s.toFixed(1),(100*r/s).toFixed(1)),this.renderTime=0,this.timeCount=0}}},{key:"processAudioInner",value:function(){throw Error("Player.processAudioInner() must be implemented.")}},{key:"muteAudioDuringCall",value:function(e,t){if(e&&"running"===e.context.state&&!1===this.paused){var n=e.onaudioprocess;e.onaudioprocess=function(r){for(var s=0;s<r.outputBuffer.numberOfChannels;s++)r.outputBuffer.getChannelData(s).fill(0);t(),e.onaudioprocess=n}}else t()}},{key:"handleFileSystemReady",value:function(){}}])&&lm(t.prototype,n),r&&lm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(kf.a);function pm(e){return(pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(n),!0).forEach((function(t){km(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Em(r.key),r)}}function Mm(e,t){return(Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ym(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pm(e);if(t){var s=Pm(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(e,t){if(t&&("object"===pm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Im(e)}function Im(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pm(e){return(Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function km(e,t,n){return(t=Em(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Em(e){var t=function(e,t){if("object"!==pm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pm(t)?t:String(t)}var wm=null,Nm={".spc":5e3,".gym":1e4,".vgm":1e4,".vgz":1e4},Vm=["nsf","nsfe","spc","ay","sgc","gbs"];window.requestIdleCallback=window.requestIdleCallback||function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var Sm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mm(e,t)}(o,e);var t,n,r,s=ym(o);function o(){var e;bm(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return km(Im(e=s.call.apply(s,[this].concat(n))),"paramDefs",[{id:"subbass",label:"Sub Bass",type:"number",min:0,max:2,step:.01,defaultValue:1},{id:"stereoWidth",label:"Stereo Width",type:"number",min:0,max:1,step:.01,defaultValue:0}]),Object(i.a)(Im(e)),wm=e.core,e.name="Game Music Emu Player",e.paused=!1,e.fileExtensions=Vm,e.subtune=0,e.tempo=1,e.params={subbass:1},e.voiceMask=[],e.gmeCtx=null,e.seekRequestId=null,e.seekTargetMs=null,e.currentFileExt=null,e.buffer=wm._malloc(16*e.bufferSize),e.emuPtr=wm._malloc(4),e.subBass=new rm(e.sampleRate),e.params={},e.paramDefs.forEach((function(t){return e.setParameter(t.id,t.defaultValue)})),e}return t=o,(n=[{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(t=0;t<e.length;t++)e[t].fill(0);else if(this.getPositionMs()>=this.getDurationMs()&&!1===this.fadingOut&&(console.log("Fading out at %d ms.",this.getPositionMs()),this.setFadeout(this.getPositionMs()),this.fadingOut=!0),1!==wm._gme_track_ended(this.gmeCtx)){for(wm._gme_play(this.gmeCtx,2*this.bufferSize,this.buffer),t=0;t<e.length;t++)for(n=0;n<this.bufferSize;n++)e[t][n]=wm.getValue(this.buffer+2*n*2+2*t,"i16")/65535;if(this.seekTargetMs){var r=Math.min(256,this.bufferSize/2);for(n=0;n<r;n++){var s=n/r;e[0][n]*=s,e[1][n]*=s,e[0][this.bufferSize-(n+1)]*=s,e[1][this.bufferSize-(n+1)]*=s}for(n=0;n<this.bufferSize;n++)e[0][n]*=.2,e[1][n]*=.2}if(this.params.stereoWidth<1){var o=Jf(this.params.stereoWidth,.5,1);for(n=0;n<this.bufferSize;n++){var a=e[0][n],i=e[1][n];e[0][n]=a*o+i*(1-o),e[1][n]=i*o+a*(1-o)}}if(this.params.subbass>0)for(n=0;n<this.bufferSize;n++){var l=this.subBass.process(e[0][n])*this.params.subbass;for(t=0;t<e.length;t++)e[t][n]+=l}}else this.seekMs(0),this.appTogglePause()}},{key:"playSubtune",value:function(e){this.fadingOut=!1,this.subtune=e,this.metadata=this._parseMetadata(e),console.debug("GMEPlayer.playSubtune(subtune=%s)",e),this.emit("playerStateUpdate",gm(gm({},this.getBasePlayerState()),{},{isStopped:!1})),wm._gme_start_track(this.gmeCtx,e),console.time("extract notes from NES file");for(var t=Math.ceil(this.sampleRate/100),n=wm._malloc(16*t),r=[],s=[],o=[],a=[],i=0;i<this.getDurationMs()/1e3*100;++i){wm._gme_play(this.gmeCtx,2*t,n);var l=wm.UTF8ToString(wm._gme_get_chip_state(this.gmeCtx)),u=JSON.parse(l);r.push(u.square1_volume>0?u.square1_period:-1),s.push(u.square2_volume>0?u.square2_period:-1),o.push(u.triangle_volume>0?u.triangle_period:-1),a.push(u.noise_volume>0?u.noise_period:-1)}return this.setChipStateDump({type:"nes",data:{p1:r,p2:s,t:o,n:a}}),console.timeEnd("extract notes from NES file"),wm._gme_start_track(this.gmeCtx,e)}},{key:"loadData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.subtune=n,this.fadingOut=!1,this.seekTargetMs=null,this.seekRequestId=null,this.currentFileExt=Xo.a.extname(t),this.filepathMeta=mm.metadataFromFilepath(t);var r=t.match(/(\.sgc$|\.kss$|\.nsfe?$|\.ay$|Master System|Game Gear)/i);if(this.params.subbass=r?1:0,0!==wm.ccall("gme_open_data","number",["array","number","number","number"],[e,e.length,this.emuPtr,this.sampleRate]))throw this.stop(),Error("gme_open_data failed");if(this.gmeCtx=wm.getValue(this.emuPtr,"i32"),this.voiceMask=Array(wm._gme_voice_count(this.gmeCtx)).fill(!0),wm._gme_ignore_silence(this.gmeCtx,0),this.resume(),0!==this.playSubtune(this.subtune))throw this.stop(),Error("gme_start_track failed")}},{key:"_parseMetadata",value:function(e){var t=wm._malloc(4);0!==wm._gme_track_info(this.gmeCtx,t,e)&&console.error("could not load metadata");var n=wm.getValue(t,"*"),r=0,s=function(){var e=wm.getValue(n+r,"i32");return r+=4,e},o=function(){for(var e="",t=wm.getValue(n+r,"i8*"),s=0;s<255;s++){var o=wm.getValue(t+s,"i8");if(0===o)break;o<0&&(o=1+(255^Math.abs(o))),e+=String.fromCharCode(o)}return r+=4,e},a={};return a.length=s(),a.intro_length=s(),a.loop_length=s(),a.play_length=s(),r+=48,a.system=o(),a.game=o(),a.title=o()||a.game||this.filepathMeta.title,a.artist=o()||this.filepathMeta.artist,a.copyright=o(),a.comment=o(),a.formatted={title:a.game===a.title?a.title:$f(a.game," - ")+a.title,subtitle:[a.artist,a.system].filter((function(e){return e})).join(" - ")+$f(" (",a.copyright,")")},a}},{key:"getVoiceName",value:function(e){if(this.gmeCtx)return wm.UTF8ToString(wm._gme_voice_name(this.gmeCtx,e))}},{key:"getNumVoices",value:function(){if(this.gmeCtx)return wm._gme_voice_count(this.gmeCtx)}},{key:"getNumSubtunes",value:function(){if(this.gmeCtx)return wm._gme_track_count(this.gmeCtx)}},{key:"getSubtune",value:function(){return this.subtune}},{key:"getPositionMs",value:function(){return this.gmeCtx?wm._gme_tell_scaled(this.gmeCtx):0}},{key:"getDurationMs",value:function(){return this.gmeCtx?this.metadata.play_length:0}},{key:"getMetadata",value:function(){return this.metadata}},{key:"getParameter",value:function(e){return this.params[e]}},{key:"setParameter",value:function(e,t){switch(e){case"subbass":case"stereoWidth":this.params[e]=parseFloat(t);break;default:console.warn('GMEPlayer has no parameter with id "%s".',e)}}},{key:"isPlaying",value:function(){return!this.isPaused()&&1!==wm._gme_track_ended(this.gmeCtx)}},{key:"getTempo",value:function(){return this.tempo}},{key:"setTempo",value:function(e){this.tempo=e,this.gmeCtx&&wm._gme_set_tempo(this.gmeCtx,e)}},{key:"setFadeout",value:function(e){this.gmeCtx&&wm._gme_set_fade(this.gmeCtx,e,4e3)}},{key:"getVoiceMask",value:function(){return this.voiceMask}},{key:"setVoiceMask",value:function(e){if(this.gmeCtx){var t=0;e.forEach((function(e,n){e||(t+=1<<n)})),wm._gme_mute_voices(this.gmeCtx,t),wm._gme_ignore_silence(this.gmeCtx,0===t?0:1),console.log("GMEPlayer: Silence detection is %s.",0===t?"enabled":"disabled"),this.voiceMask=e}}},{key:"doIncrementalSeek",value:function(e){var t=this;this.seekRequestId=requestIdleCallback((function(){var n=Math.min(t.getPositionMs()+e,t.seekTargetMs);wm._gme_seek_scaled(t.gmeCtx,n),n<t.seekTargetMs?t.doIncrementalSeek(e):(wm._gme_set_tempo(t.gmeCtx,t.tempo),t.seekTargetMs=null,t.seekRequestId=null)}))}},{key:"seekMs",value:function(e){var t=this;if(this.gmeCtx)if(Nm[this.currentFileExt]){cancelIdleCallback(this.seekRequestId),this.seekTargetMs=e;var n=Nm[this.currentFileExt];e<this.getPositionMs()&&wm._gme_seek_scaled(this.gmeCtx,0),wm._gme_set_tempo(this.gmeCtx,2),this.doIncrementalSeek(n)}else this.muteAudioDuringCall(this.audioNode,(function(){return wm._gme_seek_scaled(t.gmeCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.gmeCtx&&wm._gme_delete(this.gmeCtx),this.gmeCtx=null,console.debug("GMEPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&vm(t.prototype,n),r&&vm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mm);function Tm(e){return(Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rm(Object(n),!0).forEach((function(t){xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xm(e,t,n){return(t=Dm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Am(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dm(r.key),r)}}function Dm(e){var t=function(e,t){if("object"!==Tm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tm(t)?t:String(t)}function jm(e,t){return(jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Fm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Um(e);if(t){var s=Um(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(e,t){if(t&&("object"===Tm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lm(e)}function Lm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Um(e){return(Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qm,zm=["mdx"],Hm=Math.pow(2,16)-1,Wm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jm(e,t)}(o,e);var t,n,r,s=Fm(o);function o(){var e;Am(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=s.call.apply(s,[this].concat(n)),Object(i.a)(Lm(e)),e.core.FS.mkdirTree("/mdx"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/mdx"),e.name="Sharp X68000 MDX Player",e.speed=1,e.mdxCtx=e.core._mdx_create_context(),e.core._mdx_set_rate(e.sampleRate),e.core._mdx_set_dir(e.mdxCtx,"/mdx"),e.fileExtensions=zm,e.buffer=e.core._malloc(4*e.bufferSize),e}return t=o,(n=[{key:"loadData",value:function(e,t){var n,r=this;this.filepathMeta=mm.metadataFromFilepath(t);var s=Xo.a.dirname(t),o=Xo.a.join("/mdx",t);return Qf(this.core,o,e).then((function(){var e=r.core.ccall("mdx_get_pdx_filename","string",["number","string"],[r.mdxCtx,o]);if(e){var t=Xo.a.join("/mdx",s,e),n=Ef.CATALOG_PREFIX+Xo.a.join(s,e.toUpperCase());return Yf(r.core,t,n)}})).then((function(){r.muteAudioDuringCall(r.audioNode,(function(){if(0!==(n=r.core.ccall("mdx_open","number",["number","string","string"],[r.mdxCtx,o,null])))throw console.error("mdx_load_file failed. error code: %d",n),Error("mdx_load_file failed");r.core._mdx_set_speed(r.mdxCtx,r.speed);var e=r.core._malloc(256);r.core._mdx_get_title(r.mdxCtx,e);var s=r.core.HEAPU8.subarray(e,e+256),a=s.indexOf(0),i=new TextDecoder("shift-jis").decode(s.subarray(0,a));r.metadata={title:i||Xo.a.basename(t)},r.resume(),r.emit("playerStateUpdate",Om(Om({},r.getBasePlayerState()),{},{isStopped:!1}))}))}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._mdx_calc_sample(this.mdxCtx,this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/Hm}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._mdx_set_speed(this.mdxCtx,e)}},{key:"getPositionMs",value:function(){return this.core._mdx_get_position_ms(this.mdxCtx)}},{key:"getDurationMs",value:function(){return 1e3*this.core._mdx_get_length(this.mdxCtx)}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"getVoiceName",value:function(e){if(this.mdxCtx)return this.core.UTF8ToString(this.core._mdx_get_track_name(this.mdxCtx,e))}},{key:"getNumVoices",value:function(){if(this.mdxCtx)return this.core._mdx_get_tracks(this.mdxCtx)}},{key:"getVoiceMask",value:function(){for(var e=[],t=this.core._mdx_get_track_mask(this.mdxCtx),n=0;n<this.core._mdx_get_tracks(this.mdxCtx);n++)e.push(0==(t>>n&1));return e}},{key:"setVoiceMask",value:function(e){var t=0;e.forEach((function(e,n){e||(t+=1<<n)})),this.mdxCtx&&this.core._mdx_set_track_mask(this.mdxCtx,t)}},{key:"seekMs",value:function(e){var t=this;this.muteAudioDuringCall(this.audioNode,(function(){return t.core._mdx_set_position_ms(t.mdxCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.core._mdx_close(this.mdxCtx),console.debug("MDXPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Cm(t.prototype,n),r&&Cm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mm),Gm=n(63),$m=n.n(Gm),Km=n(23),Xm=n.n(Km),Ym=n(64),Qm=n.n(Ym),Jm=["Piano         ","Bright Piano  ","Electric Piano","Honky-tonk    ","Rhodes Piano  ","FM Piano      ","Harpsichord   ","Clavinet      ","Celesta       ","Glockenspiel  ","Music Box     ","Vibraphone    ","Marimba       ","Xylophone     ","Tubular Bells ","Dulcimer      ","Drawbar Organ ","Perc Organ    ","Rock Organ    ","Church Organ  ","Reed Organ    ","Accordion     ","Harmonica     ","Accordion     ","Steel Guitar  ","Nylon Guitar  ","Jazz Guitar   ","Clean Guitar  ","Muted Guitar  ","Overdrive Guit","Distort Guitar","Guit Harmonics","Acoustic Bass ","Finger Bass   ","Picked Bass   ","Fretless Bass ","Slap Bass 1   ","Slap Bass 2   ","Synth Bass 1  ","Synth Bass 2  ","Violin        ","Viola         ","Cello         ","Contrabass    ","Trem Strings  ","Pizz Strings  ","Harp          ","Timpani       ","String Ens 1  ","String Ens 2  ","Syn Strings 1 ","Syn Strings 2 ","Choir Aahs    ","Voice Oohs    ","Synth Voice   ","Orch Hit      ","Trumpet       ","Trombone      ","Tuba          ","Muted Trumpet ","French Horn   ","Brass Section ","SynthBrass 1  ","SynthBrass 2  ","Soprano Sax   ","Alto Sax      ","Tenor Sax     ","Baritone Sax  ","Oboe          ","English Horn  ","Bassoon       ","Clarinet      ","Piccolo       ","Flute         ","Recorder      ","Pan Flute     ","Blown Bottle  ","Shakuhachi    ","Whistle       ","Ocarina       ","Lead: Square  ","Lead: Sawtooth","Lead: Calliope","Lead: Chiff   ","Lead: Charang ","Lead: Voice   ","Lead: Fifths  ","Lead: Bass    ","Pad: New Age  ","Pad: Warm     ","Pad: Polysynth","Pad: Choir    ","Pad: Bowed    ","Pad: Metallic ","Pad: Halo     ","Pad: Sweep    ","FX: Rain      ","FX: Soundtrack","FX: Crystal   ","FX: Atmosphere","FX: Brightness","FX: Goblins   ","FX: Echoes    ","FX: Sci-fi    ","Sitar         ","Banjo         ","Shamisen      ","Koto          ","Kalimba       ","Bag pipe      ","Fiddle        ","Shanai        ","Tinkle Bell   ","Agogo         ","Steel Drums   ","Woodblock     ","Taiko Drum    ","Melodic Tom   ","Synth Drum    ","Reverse Cymbal","Fret Noise    ","Breath Noise  ","Seashore      ","Bird Tweet    ","Telephone Ring","Helicopter    ","Applause      ","Gunshot       "],Zm={0:"Std Drum Kit  ",8:"Room Drum Kit ",16:"Power Drum Kit",24:"Elec Drum Kit ",25:"TR808 Drum Kit",32:"Jazz Drum Kit ",40:"Brush Drum Kit"};function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tp(e){return function(e){if(Array.isArray(e))return np(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return np(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return np(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function np(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ep(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ep(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ep(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp=n(4);n(145);var op=[126,127,9,1,247],ap=[6,38,96,97,98,99,100,101],ip=(rp(qm={},sp.EVENT_META_TEXT,"Text"),rp(qm,sp.EVENT_META_COPYRIGHT_NOTICE,"Copyright"),rp(qm,sp.EVENT_META_TRACK_NAME,"Track"),rp(qm,sp.EVENT_META_INSTRUMENT_NAME,"Instrument"),rp(qm,sp.EVENT_META_LYRICS,"Lyrics"),rp(qm,sp.EVENT_META_MARKER,"Marker"),rp(qm,sp.EVENT_META_CUE_POINT,"Cue point"),qm);function lp(e){return("[F0 "+e.map((function(e){return("0"+e.toString(16)).slice(-2)})).join(" ")+"]").toUpperCase()}function up(e){Object(i.a)(this),e=e||{},this.output=e.output||null,this.synth=e.synth||null,this.programChangeCb=e.programChangeCb,this.speed=1,this.skipSilence=e.skipSilence||!1,this.lastProcessPlayTimestamp=0,this.lastSendTimestamp=0,this.events=[],this.paused=!0,this.useWebMIDI=!1,this.sampleRate=e.sampleRate||44100,this.channelsInUse=[],this.channelMask=[],this.channelProgramNums=[],this.textInfo=[],this.setChipStateDump=e.setChipStateDump,window.addEventListener("unload",this.stop)}up.prototype.load=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.stop(),this.position=0,this.elapsedTime=0;var n=e.tracks.map((function(t,n){return e.getTrackEvents(n)}));t?(console.debug("Processing MIDI track loops..."),this.events=e.getLoopedEvents(n,2)):this.events=e.getEvents();var r=e.getTimeEvents(n);this.summarizeMidiEvents();for(var s=[],o=0;o<16;o++)this.channelsInUse[o]&&s.push(o);this.setChipStateDump({type:"midi",data:{events:this.events,activeChannels:s,timebase:e.header.datas.getUint16(12),timeEvents:r}})},up.prototype.doSkipSilence=function(){var e=this,t=0,n=0,r=0,s=this.events.find((function(e){return e.subtype===sp.EVENT_MIDI_NOTE_ON}));if(s&&s.playTime>0)if(this.useWebMIDI){for(var o,a=[];this.events[this.position]!==s;){var i=this.events[this.position];if(this.position++,i.type===sp.EVENT_SYSEX||i.type===sp.EVENT_DIVSYSEX){if(console.debug("Sysex event at %s ms:",Math.floor(i.playTime),lp(i.data)),i.data&&0===i.data[3]&&0===i.data[4])t+=500,n+=500;else{var l=.5*i.length;t+=l,n+=l}r++,o=[i.type].concat(tp(i.data))}else if(-1!==sp.MIDI_1PARAM_EVENTS.indexOf(i.subtype))t+=2,n+=2,o=[(i.subtype<<4)+i.channel,i.param1];else{if(-1===sp.MIDI_2PARAMS_EVENTS.indexOf(i.subtype))continue;t+=2,n+=2,o=[(i.subtype<<4)+i.channel,i.param1,i.param2||0]}a.push({message:o,timestamp:this.lastProcessPlayTimestamp+n})}a.forEach((function(t){var n=t.message,r=t.timestamp;e.send(n,r)})),console.log("Time to first note %s ms was updated to %s ms; %s sysex events",Math.round(s.playTime),t,r),this.lastProcessPlayTimestamp+=t-s.playTime}else this.setPosition(s.playTime-50)},up.prototype.play=function(e){return 0===this.position?(this.endCallback=e,this.reset(),this.lastProcessPlayTimestamp=performance.now(),this.skipSilence&&this.doSkipSilence(),this.resume(),1):0},up.prototype.processPlaySynth=function(e,t){this.lastProcessPlayTimestamp=performance.now();for(var n=e,r=0,s=64,o=null,a=this.synth,i=1e3*this.speed*(s/this.sampleRate)/2,l=2*t;l>0;l-=s){if(s>l&&(s=l),!this.paused){var u=this.position;for(this.elapsedTime+=i;this.events[u]&&this.elapsedTime>=this.events[u].playTime;u++)switch((o=this.events[u]).subtype){case sp.EVENT_MIDI_NOTE_ON:if(!this.channelMask[o.channel])break;0===o.param2?a.noteOff(o.channel,o.param1):a.noteOn(o.channel,o.param1,o.param2);break;case sp.EVENT_MIDI_NOTE_OFF:a.noteOff(o.channel,o.param1);break;case sp.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(o.channel,o.param1),a.programChange(o.channel,o.param1);break;case sp.EVENT_MIDI_PITCH_BEND:a.pitchBend(o.channel,(o.param2<<7)+o.param1);break;case sp.EVENT_MIDI_CONTROLLER:a.controlChange(o.channel,o.param1,o.param2)}this.position=u}a.render(e,s),e+=4*s,r+=s}if(this.position>=this.events.length){for(var c=0,d=0;d<t;d+=8)if(a.getValue(n+d,"float")>.001){c=1;break}if(0===c)return this.position=0,this.paused=!0,0}return r},up.prototype.processPlay=function(){var e=performance.now(),t=(e-this.lastProcessPlayTimestamp)*this.speed;if(this.lastProcessPlayTimestamp=e,!this.paused){var n=0,r=0,s=null;this.elapsedTime+=t;for(var o=this.events[this.position];this.events[this.position]&&o.playTime<this.elapsedTime+33;){if(s=null,r=0,o.type===sp.EVENT_SYSEX||o.type===sp.EVENT_DIVSYSEX)s=[o.type].concat(tp(o.data)),r=o.data&&0===o.data[3]&&0===o.data[4]?50:o.data.length/2,n>0?console.debug("Sysex event at %s ms delayed %s ms:",Math.floor(o.playTime),n,lp(o.data)):console.debug("Sysex event at %s ms:",Math.floor(o.playTime),lp(o.data));else switch(o.subtype){case sp.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(o.channel,o.param1),s=[(o.subtype<<4)+o.channel,o.param1];break;case sp.EVENT_MIDI_CHANNEL_AFTERTOUCH:s=[(o.subtype<<4)+o.channel,o.param1];break;case sp.EVENT_MIDI_NOTE_OFF:case sp.EVENT_MIDI_NOTE_ON:case sp.EVENT_MIDI_NOTE_AFTERTOUCH:case sp.EVENT_MIDI_CONTROLLER:case sp.EVENT_MIDI_PITCH_BEND:if(!this.channelMask[o.channel])break;s=[(o.subtype<<4)+o.channel,o.param1,o.param2||0]}if(s){var a=(o.playTime-this.elapsedTime)/this.speed+this.lastProcessPlayTimestamp;this.send(s,a+n),n+=r,this.lastSendTimestamp=a}this.position++,o=this.events[this.position]}this.position>=this.events.length&&(setTimeout(this.endCallback,133),this.position=0,this.paused=!0)}},up.prototype.handleProgramChange=function(e,t){this.channelProgramNums[e]=t,this.programChangeCb()},up.prototype.togglePause=function(){return this.paused=!this.paused,!0===this.paused&&this.panic(this.lastSendTimestamp+10),this.paused},up.prototype.resume=function(){this.paused=!1},up.prototype.stop=function(){this.paused=!0,this.panic()},up.prototype.send=function(e,t){try{this.output.send(e,t)}catch(t){console.warn(t),console.warn(e)}},up.prototype.panic=function(e){if(this.useWebMIDI)for(var t=0;t<16;t++)this.send([(sp.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(sp.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(sp.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e);else{for(var n=0;n<16;n++)this.synth.controlChange(n,64,0);this.synth.panic()}},up.prototype.reset=function(e){if(this.useWebMIDI){this.send([sp.EVENT_SYSEX].concat(op));for(var t=0;t<16;t++)this.send([(sp.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(sp.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(sp.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e)}else this.synth.reset()},up.prototype.getDuration=function(){return this.events&&this.events.length>0?this.events[this.events.length-1].playTime:0},up.prototype.getPosition=function(){return this.elapsedTime},up.prototype.setOutput=function(e){this.panic(this.lastSendTimestamp+10),this.output=e,this.setPosition(this.getPosition()-10)},up.prototype.getSpeed=function(){return this.speed},up.prototype.setSpeed=function(e){this.speed=Math.max(.1,Math.min(10,e))},up.prototype.setPositionSynth=function(e){var t=this.synth;e.forEach((function(e){switch(e.subtype){case sp.EVENT_MIDI_PROGRAM_CHANGE:t.programChange(e.channel,e.param1);break;case sp.EVENT_MIDI_CONTROLLER:default:t.controlChange(e.channel,e.param1,e.param2)}}))},up.prototype.setPositionWebMidi=function(e,t){var n,r=this,s=this.paused;this.paused=!0,t.forEach((function(e,t){e.subtype===sp.EVENT_MIDI_PROGRAM_CHANGE?n=[(e.subtype<<4)+e.channel,e.param1]:e.subtype===sp.EVENT_MIDI_CONTROLLER&&(n=[(e.subtype<<4)+e.channel,e.param1,e.param2]),r.send(n,r.lastSendTimestamp+20+2*t)}));var o=t.length,a=2*o;console.log("Scheduled %s events. Resuming playback in %s ms...",o,a),s||setTimeout(this.resume,a)},up.prototype.setPosition=function(e){if(!(e<0||e>this.getDuration())){this.lastProcessPlayTimestamp=performance.now(),this.panic(this.lastSendTimestamp+10);var t={},n=[],r=this.position;for(e<this.elapsedTime&&(r=0);this.events[r]&&this.events[r].playTime<e;){var s=this.events[r];s.subtype===sp.EVENT_MIDI_PROGRAM_CHANGE?(this.handleProgramChange(s.channel,s.param1),t["".concat(s.subtype,"-").concat(s.channel)]=s):s.subtype===sp.EVENT_MIDI_CONTROLLER&&(ap.includes(s.param1)?n.push(s):t["".concat(s.subtype,"-").concat(s.channel,"-").concat(s.param1)]=s),r++}n=Object.values(t).concat(n),this.useWebMIDI?this.setPositionWebMidi(e,n):this.setPositionSynth(n),this.elapsedTime=e,this.position=r}},up.prototype.getChannelInUse=function(e){return!!this.channelsInUse[e]},up.prototype.getChannelProgramNum=function(e){return this.channelProgramNums[e]},up.prototype.summarizeMidiEvents=function(){this.textInfo=[];for(var e=this.channelsInUse,t=this.channelProgramNums,n=this.channelMask,r=0;r<16;r++)e[r]=0,t[r]=0,n[r]=!0;for(var s=0;s<this.events.length;s++){var o=this.events[s];switch(o.subtype){case sp.EVENT_MIDI_NOTE_ON:e[o.channel]=1;break;case sp.EVENT_MIDI_PROGRAM_CHANGE:t[o.channel]||this.handleProgramChange(o.channel,o.param1);break;case sp.EVENT_META_TEXT:case sp.EVENT_META_COPYRIGHT_NOTICE:case sp.EVENT_META_TRACK_NAME:case sp.EVENT_META_LYRICS:case sp.EVENT_META_MARKER:case sp.EVENT_META_CUE_POINT:var a=o.data.map((function(e){return String.fromCharCode(e)})).join("").trim();a&&!a.match(/nstd/i)&&this.textInfo.push("".concat(ip[o.subtype],": ").concat(a))}}},up.prototype.setChannelMute=function(e,t){if(this.channelMask[e]=!t,t){var n=this.lastSendTimestamp+10;this.send([(sp.EVENT_MIDI_CONTROLLER<<4)+e,64,0],n),this.send([(sp.EVENT_MIDI_CONTROLLER<<4)+e,120,0],n),this.synth.panicChannel(e)}},up.prototype.setUseWebMIDI=function(e){this.useWebMIDI=e,this.setPosition(this.getPosition()-10)};var cp=up;function dp(e){return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fp=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",i=s.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,s){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new E(s||[]);return r(a,"_invoke",{value:_(e,n,i)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var h={};l(h,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&n.call(b,o)&&(h=b);var v=p.prototype=f.prototype=Object.create(h);function M(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var s;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(s,a){!function r(s,o,a,i){var l=c(e[s],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==dp(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,i)}),(function(e){r("throw",e,a,i)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,i)}))}i(l.arg)}(r,o,s,a)}))}return s=s?s.then(a,a):a()}})}function _(e,t,n){var r="suspendedStart";return function(s,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===s)throw o;return N()}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var i=I(a,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var s=c(r,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,d;var o=s.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function w(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},M(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,s,o){void 0===o&&(o=Promise);var a=new y(u(t,n,r,s),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},M(v),l(v,i,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=w,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var o=s;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;k(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mp(Object(n),!0).forEach((function(t){Np(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hp(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function gp(e){return function(e){if(Array.isArray(e))return bp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vp(r.key),r)}}function yp(){return(yp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_p(e,t);if(r){var s=Object.getOwnPropertyDescriptor(r,t);return s.get?s.get.call(arguments.length<3?e:n):s.value}}).apply(this,arguments)}function _p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wp(e)););return e}function Ip(e,t){return(Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wp(e);if(t){var s=wp(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return kp(this,n)}}function kp(e,t){if(t&&("object"===dp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ep(e)}function Ep(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wp(e){return(wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Np(e,t,n){return(t=Vp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vp(e){var t=function(e,t){if("object"!==dp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dp(t)?t:String(t)}var Sp=null,Tp={send:function(){}},Rp=[Tp],Op=["mid","midi","smf"],xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ip(e,t)}(a,e);var t,n,r,s,o=Pp(a);function a(){var e;vp(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Np(Ep(e=o.call.apply(o,[this].concat(n))),"paramDefs",[{id:"synthengine",label:"Synth Engine",type:"enum",options:[{label:"MIDI Synthesis Engine",items:[{label:"SoundFont (libFluidLite)",value:0},{label:"Adlib/OPL3 FM (libADLMIDI)",value:1},{label:"MIDI Device (Web MIDI)",value:2}]}],defaultValue:0},{id:"soundfont",label:"Soundfont",type:"enum",options:Ef.SOUNDFONTS,defaultValue:Ef.SOUNDFONTS[1].items[0].value,dependsOn:{param:"synthengine",value:0}},{id:"reverb",label:"Reverb",type:"number",min:0,max:1,step:.01,defaultValue:.33,dependsOn:{param:"synthengine",value:0}},{id:"chorus",label:"Chorus",type:"number",min:0,max:1,step:.01,defaultValue:.5,dependsOn:{param:"synthengine",value:0}},{id:"fluidpoly",label:"Polyphony",type:"number",min:4,max:256,step:4,defaultValue:128,dependsOn:{param:"synthengine",value:0}},{id:"opl3bank",label:"OPL3 Bank",type:"enum",options:[],defaultValue:58,dependsOn:{param:"synthengine",value:1}},{id:"mididevice",label:"MIDI Device",type:"enum",options:[{label:"MIDI Output Devices",items:[{label:"Dummy device",value:0}]}],defaultValue:0,dependsOn:{param:"synthengine",value:2}},{id:"autoengine",label:"Auto Synth Engine Switching",hint:'Switch synth engine based on filenames. Files containing "FM" will play through Adlib/OPL3 synth.',type:"toggle",defaultValue:!0},{id:"gmreset",label:"GM Reset",hint:"Send a GM Reset sysex and reset all controllers on all channels.",type:"button"}]),Object(i.a)(Ep(e)),(Sp=e.core)._tp_init(e.sampleRate),Sp.FS.mkdir(Ef.SOUNDFONT_MOUNTPOINT),Sp.FS.mount(Sp.FS.filesystems.IDBFS,{},Ef.SOUNDFONT_MOUNTPOINT),e.name="MIDI Player",e.fileExtensions=Op,e.activeChannels=[],e.buffer=Sp._malloc(4*e.bufferSize*2),e.filepathMeta={},e.midiFilePlayer=new cp({programChangeCb:$m()((function(){return e.emit("playerStateUpdate",{voiceNames:Qm()(e.getNumVoices()).map(e.getVoiceName)})}),200),output:Tp,skipSilence:!0,sampleRate:e.sampleRate,synth:{noteOn:Sp._tp_note_on,noteOff:Sp._tp_note_off,pitchBend:Sp._tp_pitch_bend,controlChange:Sp._tp_control_change,programChange:Sp._tp_program_change,panic:Sp._tp_panic,panicChannel:Sp._tp_panic_channel,render:Sp._tp_render,reset:Sp._tp_reset,getValue:Sp.getValue},setChipStateDump:e.setChipStateDump});for(var s=Sp._adl_getBanksCount(),l=Sp._adl_getBankNames(),u=[],c=0;c<s;c++)u.push({label:Sp.UTF8ToString(Sp.getValue(l+4*c,"*")),value:c});return e.paramDefs.find((function(e){return"opl3bank"===e.id})).options=[{label:"OPL3 Bank",items:u}],e.webMidiIsInitialized=!1,e.params={},e.transientParams={},e.paramDefs.filter((function(e){return"soundfont"!==e.id})).forEach((function(t){return e.setParameter(t.id,t.defaultValue)})),e}return t=a,(n=[{key:"handleFileSystemReady",value:function(){var e=this.paramDefs.find((function(e){return"soundfont"===e.id}));this.setParameter(e.id,e.defaultValue),this.updateSoundfontParamDefs()}},{key:"processAudioInner",value:function(e){if(2===this.params.synthengine)this.midiFilePlayer.processPlay();else if(this.midiFilePlayer.processPlaySynth(this.buffer,this.bufferSize))for(var t=0;t<e.length;t++)for(var n=0;n<this.bufferSize;n++)e[t][n]=Sp.getValue(this.buffer+4*n*2+4*t,"float");else this.stop()}},{key:"metadataFromFilepath",value:function(e){var t=(e=decodeURIComponent(e)).split("/"),n=t.length,r={};return t.length>=3?r.formatted={title:"".concat(t[1]," - ").concat(t[n-1]),subtitle:t[0]}:2===t.length?r.formatted={title:t[1],subtitle:t[0]}:r.formatted={title:t[0],subtitle:"MIDI"},r}},{key:"ensureWebMidiInitialized",value:function(){var e=this;!0!==this.webMidiIsInitialized&&(this.webMidiIsInitialized=!0,console.debug("Requesting MIDI output devices."),"function"==typeof navigator.requestMIDIAccess?navigator.requestMIDIAccess({sysex:!0}).then((function(t){0===t.outputs.length?console.warn("No MIDI output devices found."):(gp(t.outputs.values()).forEach((function(t){console.debug("MIDI Output:",t),Rp.push(t),e.paramDefs.find((function(e){return"mididevice"===e.id})).options[0].items.push({label:t.name,value:Rp.length-1})})),e.setParameter("mididevice",1))})):console.warn("Web MIDI API not supported. Try Chrome if you want to use external MIDI output devices."))}},{key:"loadData",value:(s=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){hp(o,r,s,a,i,"next",e)}function i(e){hp(o,r,s,a,i,"throw",e)}a(void 0)}))}}(fp().mark((function e(t,n){var r,s,o,a,i,l,u,c,d,f,m=this;return fp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureWebMidiInitialized(),this.filepathMeta=this.metadataFromFilepath(n),r={},this.getParameter("autoengine")&&(r.synthengine=this.getSynthengineBasedOnFilename(n),r.opl3bank=this.getOpl3bankBasedOnFilename(n)),0!==this.getParameter("synthengine")){e.next=22;break}return s=Xf(n),o=!1,e.next=9,If.fetchCached(s);case 9:if(a=e.sent,!(i=a.soundfont)){e.next=21;break}if(l=Xo.a.basename(Kf(i)),u="user/".concat(l),r.soundfont=u,this.getParameter("soundfont")===u){e.next=19;break}return e.next=18,Yf(Sp,"".concat(Ef.SOUNDFONT_MOUNTPOINT,"/").concat(u),i);case 18:this.updateSoundfontParamDefs();case 19:["Centre Court Tennis","Goemon","Bomberman","GoldenEye","Perfect Dark","Banjo Kazooie","Diddy Kong","Zelda"].some((function(e){return i.includes(e)}))&&(console.debug("MIDI channel 10 melodic mode enabled for %s.",l),o=!0);case 21:Sp._tp_set_ch10_melodic(o);case 22:for(Object.keys(this.params).forEach((function(e){r[e]!==m.transientParams[e]&&m.setTransientParameter(e,r[e])})),c=new Xm.a(t),d=n.includes("SoundFont MIDI"),this.midiFilePlayer.load(c,d),this.midiFilePlayer.play((function(){return m.emit("playerStateUpdate",{isStopped:!0})})),this.activeChannels=[],f=0;f<16;f++)this.midiFilePlayer.getChannelInUse(f)&&this.activeChannels.push(f);this.resume(),this.emit("playerStateUpdate",pp(pp({},this.getBasePlayerState()),{},{isStopped:!1}));case 31:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getSynthengineBasedOnFilename",value:function(e){return e.toLowerCase().replace("_"," ").match(/(\bfm|fm\b)/i)?1:null}},{key:"getOpl3bankBasedOnFilename",value:function(e){var t=e.toLowerCase().replace("_"," "),n=this.paramDefs.find((function(e){return"opl3bank"===e.id}));if(n){var r=n.options[0].items,s=function(e){return r.findIndex((function(t){return t.label.indexOf(e)>-1}))},o=n.defaultValue;if(t.indexOf("[rick]")>-1?o=s("Descent:: Rick"):t.indexOf("[ham]")>-1?o=s("Descent:: Ham"):t.indexOf("[int]")>-1?o=s("Descent:: Int"):t.indexOf("descent 2")>-1?o=s("Descent 2"):t.indexOf("magic carpet")>-1?o=s("Magic Carpet"):t.indexOf("duke nukem")>-1?o=s("Duke Nukem"):t.indexOf("wacky wheels")>-1?o=s("Apogee IMF"):t.indexOf("warcraft 2")>-1?o=s("Warcraft 2"):t.indexOf("warcraft")>-1?o=s("Warcraft"):t.indexOf("system shock")>-1?o=s("System Shock"):t.indexOf("/hexen")>-1||t.indexOf("/heretic")>-1?o=s("Hexen"):t.indexOf("/raptor")>-1?o=s("Raptor"):t.indexOf("/doom 2")>-1?o=s("Doom 2"):t.indexOf("/doom")>-1&&(o=s("DOOM")),o>-1)return o}return null}},{key:"isPlaying",value:function(){return!this.midiFilePlayer.paused}},{key:"suspend",value:function(){yp(wp(a.prototype),"suspend",this).call(this),this.midiFilePlayer.stop()}},{key:"stop",value:function(){this.suspend(),console.debug("MIDIPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}},{key:"togglePause",value:function(){return this.midiFilePlayer.togglePause()}},{key:"getDurationMs",value:function(){return this.midiFilePlayer.getDuration()}},{key:"getPositionMs",value:function(){return this.midiFilePlayer.getPosition()}},{key:"seekMs",value:function(e){return this.midiFilePlayer.setPosition(e)}},{key:"getTempo",value:function(){return this.midiFilePlayer.getSpeed()}},{key:"setTempo",value:function(e){this.midiFilePlayer.setSpeed(e)}},{key:"getNumVoices",value:function(){return this.activeChannels.length}},{key:"getVoiceName",value:function(e){var t=this.activeChannels[e],n=this.midiFilePlayer.channelProgramNums[t];return 9===t?Zm[n]||Zm[0]:Jm[n]}},{key:"getVoiceMask",value:function(){var e=this;return this.activeChannels.map((function(t){return e.midiFilePlayer.channelMask[t]}))}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,n){var r=t.activeChannels[n];t.midiFilePlayer.setChannelMute(r,!e)}))}},{key:"getMetadata",value:function(){return pp(pp({},this.filepathMeta),{},{infoTexts:[this.midiFilePlayer.textInfo.join("\n")].filter((function(e){return""!==e}))})}},{key:"getParameter",value:function(e){return"fluidpoly"===e?Sp._tp_get_polyphony():null!=this.transientParams[e]?this.transientParams[e]:this.params[e]}},{key:"updateSoundfontParamDefs",value:function(){this.paramDefs=this.paramDefs.map((function(e){if("soundfont"===e.id){var t=e.options[0],n="".concat(Ef.SOUNDFONT_MOUNTPOINT,"/user/");Sp.FS.analyzePath(n).exists&&(t.items=Sp.FS.readdir(n).filter((function(e){return e.match(/\.sf2$/i)})).map((function(e){return{label:e,value:"user/".concat(e)}})))}return e}))}},{key:"setTransientParameter",value:function(e,t){null==t?this.setParameter(e,this.params[e]):this.setParameter(e,t,!0)}},{key:"setFluidChorus",value:function(e){var t=Sp._tp_get_fluid_synth();if(0===e)Sp._fluid_synth_set_chorus_on(t,!1);else{Sp._fluid_synth_set_chorus_on(t,!0);var n=Math.round(Jf(e,0,4)),r=Math.round(Jf(e,2,14));Sp._fluid_synth_set_chorus(t,3,n,.3,r,0)}}},{key:"setParameter",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case"synthengine":t=parseInt(t,10),this.midiFilePlayer.panic(),2===t?this.midiFilePlayer.setUseWebMIDI(!0):(this.midiFilePlayer.setUseWebMIDI(!1),Sp._tp_set_synth_engine(t));break;case"soundfont":var s="".concat(Ef.SOUNDFONT_URL_PATH,"/").concat(t);Yf(Sp,"".concat(Ef.SOUNDFONT_MOUNTPOINT,"/").concat(t),s).then((function(e){return n._loadSoundfont(e)}));break;case"reverb":t=parseFloat(t),Sp._tp_set_reverb(t);break;case"chorus":t=parseFloat(t),this.setFluidChorus(t);break;case"fluidpoly":t=parseInt(t,10),Sp._tp_set_polyphony(t);break;case"opl3bank":t=parseInt(t,10),Sp._tp_set_bank(t);break;case"autoengine":t=!!t;break;case"mididevice":this.midiFilePlayer.setOutput(Rp[t]);break;case"gmreset":this.midiFilePlayer.reset();break;default:console.warn('MIDIPlayer has no parameter with id "%s".',e)}r?this.transientParams[e]=t:(delete this.transientParams[e],this.params[e]=t)}},{key:"_loadSoundfont",value:function(e){console.log("Loading soundfont %s...",e),this.muteAudioDuringCall(this.audioNode,(function(){-1!==Sp.ccall("tp_load_soundfont","number",["string"],[e])&&console.log("Loaded soundfont.")}))}}])&&Mp(t.prototype,n),r&&Mp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(mm);function Ap(e){return(Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cp(Object(n),!0).forEach((function(t){jp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jp(e,t,n){return(t=Hp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return i}}(e,t)||Lp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bp(e){return function(e){if(Array.isArray(e))return Up(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lp(e,t){if(e){if("string"==typeof e)return Up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Up(e,t):void 0}}function Up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hp(r.key),r)}}function Hp(e){var t=function(e,t){if("object"!==Ap(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ap(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ap(t)?t:String(t)}function Wp(e,t){return(Wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xp(e);if(t){var s=Xp(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return $p(this,n)}}function $p(e,t){if(t&&("object"===Ap(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kp(e)}function Kp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xp(e){return(Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yp=["miniusf"],Qp=Math.pow(2,16)-1,Jp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wp(e,t)}(o,e);var t,n,r,s=Gp(o);function o(){var e;qp(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=s.call.apply(s,[this].concat(n)),Object(i.a)(Kp(e)),e.core.FS.mkdirTree("/n64"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/n64"),e.name="N64 Player",e.fileExtensions=Yp,e.buffer=e.core._malloc(4*e.bufferSize),e}return t=o,(n=[{key:"loadData",value:function(e,t){var n,r=this;this.filepathMeta=mm.metadataFromFilepath(t);var s=String.fromCharCode.apply(null,e).match(/_lib=([^\n]+)/).slice(1);if(0===s.length)throw new Error("No .usflib references found");var o=Xo.a.dirname(t),a=Xo.a.join("/n64",t),i=[Qf(this.core,a,e)].concat(Bp(s.map((function(e){var t=Xo.a.join("/n64",o,e),n=Ef.CATALOG_PREFIX+Xo.a.join(o,e);return Yf(r.core,t,n)}))));return Promise.all(i).then((function(e){var s=Fp(e,1)[0];r.muteAudioDuringCall(r.audioNode,(function(){if(0!==(n=r.core.ccall("n64_load_file","number",["string","number","number","number"],[s,r.buffer,r.bufferSize,r.sampleRate])))throw console.error("n64_load_file failed. error code: %d",n),Error("n64_load_file failed");r.metadata={title:t},r.resume(),r.emit("playerStateUpdate",Dp(Dp({},r.getBasePlayerState()),{},{isStopped:!1}))}))}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(this.core._n64_render_audio(this.buffer,this.bufferSize)<=0&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/Qp}},{key:"getPositionMs",value:function(){return this.core._n64_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._n64_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.core._n64_seek_ms(e)}},{key:"stop",value:function(){this.suspend(),this.core._n64_shutdown(),console.debug("N64Player.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&zp(t.prototype,n),r&&zp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mm);function Zp(e){return(Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach((function(t){nh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nh(e,t,n){return(t=oh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oh(r.key),r)}}function oh(e){var t=function(e,t){if("object"!==Zp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zp(t)?t:String(t)}function ah(e,t){return(ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ih(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ch(e);if(t){var s=ch(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return lh(this,n)}}function lh(e,t){if(t&&("object"===Zp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uh(e)}function uh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ch(e){return(ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dh=["v2m"],fh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ah(e,t)}(o,e);var t,n,r,s=ih(o);function o(){var e;rh(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=s.call.apply(s,[this].concat(n)),Object(i.a)(uh(e)),e.name="Farbrausch V2M Player",e.speed=1,e.fileExtensions=dh,e.buffer=e.core._malloc(8*e.bufferSize),e}return t=o,(n=[{key:"loadData",value:function(e,t){var n=this.core.ccall("v2m_open","number",["array","number","number"],[e,e.byteLength,this.sampleRate]);if(0!==n)throw console.error("v2m_open failed. error code: %d",n),Error("Unable to load this file!");this.metadata={title:t},this.resume(),this.emit("playerStateUpdate",th(th({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._v2m_write_audio(this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+4*t*2+4*n,"float")}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._v2m_set_speed(e)}},{key:"getPositionMs",value:function(){return this.core._v2m_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._v2m_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.core._v2m_seek_ms(e)}},{key:"stop",value:function(){this.suspend(),this.core._v2m_close(),console.debug("V2MPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&sh(t.prototype,n),r&&sh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mm);function mh(e){return(mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(n),!0).forEach((function(t){gh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gh(e,t,n){return(t=Mh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mh(r.key),r)}}function Mh(e){var t=function(e,t){if("object"!==mh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mh(t)?t:String(t)}function yh(e,t){return(yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kh(e);if(t){var s=kh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Ih(this,n)}}function Ih(e,t){if(t&&("object"===mh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ph(e)}function Ph(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kh(e){return(kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Eh=Math.pow(2,16)-1,wh=["it","mod","s3m","xm"],Nh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yh(e,t)}(o,e);var t,n,r,s=_h(o);function o(){var e;bh(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=s.call.apply(s,[this].concat(n)),Object(i.a)(Ph(e)),e.name="XMP Player",e.xmpCtx=e.core._xmp_create_context(),e.infoPtr=e.core._malloc(2048),e.fileExtensions=wh,e.initialBPM=125,e.tempoScale=1,e._positionMs=0,e._durationMs=1e3,e.buffer=e.core._malloc(16*e.bufferSize),e}return t=o,(n=[{key:"processAudioInner",value:function(e){var t,n,r,s=this.infoPtr;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else{if(-1===(r=this.core._xmp_play_buffer(this.xmpCtx,this.buffer,4*this.bufferSize,1)))this.stop();else if(0!==r)throw this.suspend(),console.error("xmp_play_buffer failed. error code: %d",r),Error("xmp_play_buffer failed");this.core._xmp_get_frame_info(this.xmpCtx,s);var o=this.core.getValue(s+24,"i32");for(this._positionMs=this.core.getValue(s+28,"i32"),this._maybeInjectTempo(o),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/Eh}}},{key:"_parseMetadata",value:function(){var e={},t=this.core,n=this.infoPtr;t._xmp_get_module_info(this.xmpCtx,n);var r=t.getValue(n+20,"*");return e.title=t.UTF8ToString(r,256),e.system=t.UTF8ToString(r+64,256),e.comment=t.UTF8ToString(t.getValue(n+24,"*"),512),t._xmp_get_frame_info(this.xmpCtx,n),this._durationMs=t.getValue(n+32,"i32"),e.patterns=t.getValue(r+128+0,"i32"),e.tracks=t.getValue(r+128+4,"i32"),e.numChannels=t.getValue(r+128+8,"i32"),e.numInstruments=t.getValue(r+128+12,"i32"),e.numSamples=t.getValue(r+128+16,"i32"),e.initialSpeed=t.getValue(r+128+20,"i32"),e.initialBPM=t.getValue(r+128+24,"i32"),e.moduleLength=t.getValue(r+128+28,"i32"),e.restartPosition=t.getValue(r+128+32,"i32"),e.title||(e.title=this.filepathMeta.title),this.initialBPM=e.initialBPM,e}},{key:"loadData",value:function(e,t){var n;if(this.filepathMeta=mm.metadataFromFilepath(t),0!==(n=this.core.ccall("xmp_load_module_from_memory","number",["number","array","number"],[this.xmpCtx,e,e.length])))throw console.error("xmp_load_module_from_memory failed. error code: %d",n),Error("xmp_load_module_from_memory failed");if(0!==(n=this.core._xmp_start_player(this.xmpCtx,this.sampleRate,0)))throw console.error("xmp_start_player failed. error code: %d",n),Error("xmp_start_player failed");this.metadata=this._parseMetadata(t),this.resume(),this.emit("playerStateUpdate",hh(hh({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"getVoiceMask",value:function(){for(var e=[],t=0;t<this.metadata.numChannels;t++)e.push(!this.core._xmp_channel_mute(this.xmpCtx,t,-1));return e}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,n){t.core._xmp_channel_mute(t.xmpCtx,n,e?0:1)}))}},{key:"getTempo",value:function(){return this.tempoScale}},{key:"setTempo",value:function(e){!this.metadata||this.metadata.initialSpeed?this.tempoScale=e:console.log("Unable to set speed for %s.",this.filepathMeta.title)}},{key:"_maybeInjectTempo",value:function(e){var t=this.core,n=Math.floor(Math.max(Math.min(this.metadata.initialBPM*this.tempoScale,255),20));if(n!==e){console.log("Injecting %d BPM into libxmp. (Initial: %d)",n,this.metadata.initialBPM);for(var r=t._malloc(8),s=0;s<8;s++)t.setValue(r+s,0,"i8");t.setValue(r+3,135,"i8"),t.setValue(r+4,n,"i32"),t._xmp_inject_event(this.xmpCtx,0,r)}}},{key:"getVoiceName",value:function(e){return"Ch ".concat(e+1)}},{key:"getNumVoices",value:function(){return this.metadata.numChannels}},{key:"getNumSubtunes",value:function(){return 0}},{key:"getPositionMs",value:function(){return this._positionMs}},{key:"getDurationMs",value:function(){return this._durationMs}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){var e=this.core._xmp_get_player(this.xmpCtx,8);return!this.isPaused()&&2===e}},{key:"seekMs",value:function(e){this.core._xmp_seek_time(this.xmpCtx,e)}},{key:"stop",value:function(){this.suspend(),this.core._xmp_stop_module(this.xmpCtx),console.debug("XMPPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&vh(t.prototype,n),r&&vh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mm),Vh=n(41);function Sh(e){return(Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Th(Object(n),!0).forEach((function(t){Oh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oh(e,t,n){return(t=Ch(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ch(r.key),r)}}function Ch(e){var t=function(e,t){if("object"!==Sh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Sh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sh(t)?t:String(t)}function Dh(e,t){return(Dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lh(e);if(t){var s=Lh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Fh(this,n)}}function Fh(e,t){if(t&&("object"===Sh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bh(e)}function Bh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lh(e){return(Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Uh=["vgm","vgz","gym","s98","dro"],qh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dh(e,t)}(o,e);var t,n,r,s=jh(o);function o(){var e;xh(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=s.call.apply(s,[this].concat(n)),Object(i.a)(Bh(e)),e.name="LibVGM Player",e.speed=1,e.fileExtensions=Uh,e.buffer=e.core._malloc(4*e.bufferSize*2),e.vgmCtx=e.core._lvgm_init(e.sampleRate),console.log("VPDBG: VGMPlayer start"),e}return t=o,(n=[{key:"loadData",value:function(e,t){var n=this.core.ccall("lvgm_load_data","number",["number","array","number"],[this.vgmCtx,e,e.byteLength]);if(0!==n)throw console.error("lvgm_load_data failed. error code: %d",n),Error("Unable to load this file!");this.core._lvgm_start(this.vgmCtx);var r=this.core._lvgm_get_metadata(this.vgmCtx),s={title:this.core.UTF8ToString(this.core.getValue(r+0,"i32")),artist:this.core.UTF8ToString(this.core.getValue(r+4,"i32")),game:this.core.UTF8ToString(this.core.getValue(r+8,"i32")),system:this.core.UTF8ToString(this.core.getValue(r+12,"i32")),date:this.core.UTF8ToString(this.core.getValue(r+16,"i32")),comment:this.core.UTF8ToString(this.core.getValue(r+20,"i32"))};s.formatted={title:s.game===s.title?s.title:$f(s.game," - ")+s.title,subtitle:[s.artist,s.system].filter((function(e){return e})).join(" - ")+$f(" (",s.date,")")},this.metadata=s,this.resume(),this.emit("playerStateUpdate",Rh(Rh({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._lvgm_render(this.vgmCtx,this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+4*t*2+4*n,"i32")/134217728}},{key:"getTempo",value:function(){if(this.vgmCtx)return this.core._lvgm_get_playback_speed(this.vgmCtx)}},{key:"setTempo",value:function(e){if(this.vgmCtx)return this.core._lvgm_set_playback_speed(this.vgmCtx,e)}},{key:"getPositionMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_position_ms(this.vgmCtx)}},{key:"getDurationMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_duration_ms(this.vgmCtx)}},{key:"getNumVoices",value:function(){if(this.vgmCtx)return this.core._lvgm_get_voice_count(this.vgmCtx)}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.vgmCtx&&this.core._lvgm_seek_ms(this.vgmCtx,e)}},{key:"getVoiceName",value:function(e){if(this.vgmCtx)return this.core.UTF8ToString(this.core._lvgm_get_voice_name(this.vgmCtx,e))}},{key:"getVoiceMask",value:function(){if(this.vgmCtx){for(var e=this.core._lvgm_get_voice_mask(this.vgmCtx),t=[],n=0n;n<64n;n++)t.push(0n===(e&1n<<n));return t}return[]}},{key:"setVoiceMask",value:function(e){var t=this;if(this.vgmCtx){setInterval((function(){console.log("_lvgm_get_chip_state: ",t.core.UTF8ToString(t.core._lvgm_get_chip_state(t.vgmCtx)))}),1e3);var n=0n;e.forEach((function(e,t){e||(n+=1n<<BigInt(t))})),this.core._lvgm_set_voice_mask(this.vgmCtx,n)}}},{key:"stop",value:function(){this.suspend(),this.vgmCtx&&this.core._lvgm_stop(this.vgmCtx),console.debug("VGMPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Ah(t.prototype,n),r&&Ah(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mm);var zh=function(e){var t=e.handlePlayerError,n=e.playerError,r=e.showPlayerError;return s.a.createElement("div",{hidden:!r,className:"error-box-outer"},s.a.createElement("div",{className:"error-box"},s.a.createElement("div",{className:"message"},"Error: ",n),s.a.createElement("button",{className:"box-button message-box-button",onClick:function(){return t(null)}},"Close")))},Hh=n(65),Wh=n.n(Hh),Gh=n(66),$h=n.n(Gh);function Kh(e){return(Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xh(e){return function(e){if(Array.isArray(e))return Yh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,o=void 0,o=function(e,t){if("object"!==Kh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Kh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===Kh(o)?o:String(o)),r)}var s,o}function Jh(e,t){return(Jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ng(e);if(t){var s=ng(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return eg(this,n)}}function eg(e,t){if(t&&("object"===Kh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tg(e)}function tg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ng(e){return(ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jh(e,t)}(a,e);var t,n,r,o=Zh(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u(tg(t=o.call(this,e))),t}return t=a,(n=[{key:"handleVoiceToggle",value:function(e,t){var n=this.props.voiceMask;(e=e.nativeEvent||{}).altKey||e.shiftKey||e.metaKey?n.every((function(e,n){return n===t===e}))?n.fill(!0):(n.fill(!1),n[t]=!0):n[t]=!n[t],this.props.handleSetVoiceMask(n)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"PlayerParams"},this.props.numVoices>1&&s.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},s.a.createElement("label",{className:"PlayerParams-label"},"Voices (alt+click to solo):"," "),s.a.createElement("div",{className:"PlayerParams-voiceList"},Xh(Array(this.props.numVoices)).map((function(t,n){return s.a.createElement("label",{className:"App-voice-label inline",key:n},s.a.createElement("input",{title:"Alt+click to solo. Alt+click again to unmute all.",type:"checkbox",onChange:function(t){return e.handleVoiceToggle(t,n)},checked:e.props.voiceMask[n]}),e.props.voiceNames[n])})))),s.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},s.a.createElement("label",{htmlFor:"tempo",className:"PlayerParams-label"},"Speed:"," "),s.a.createElement("input",{id:"tempo",disabled:this.props.ejected,type:"range",value:this.props.tempo,min:"0.3",max:"2.0",step:"0.05",onInput:this.props.handleTempoChange,onChange:this.props.handleTempoChange})," ",this.props.tempo.toFixed(2)),this.props.paramDefs.map((function(t){var n=e.props.getParameter(t.id),r=t.dependsOn;if(r&&e.props.getParameter(r.param)!==r.value)return null;switch(t.type){case"enum":return s.a.createElement("span",{key:t.id,className:"PlayerParams-param"},s.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label"},t.label,":"," "),s.a.createElement("select",{id:t.id,onChange:function(n){e.props.setParameter(t.id,n.target.value),e.forceUpdate()},value:n},t.options.map((function(e){return s.a.createElement("optgroup",{key:e.label,label:e.label},e.items.map((function(e){return s.a.createElement("option",{key:e.value,value:e.value},e.label)})))}))));case"number":return s.a.createElement("span",{key:t.id,className:"PlayerParams-param"},s.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label"},t.label,":"," "),s.a.createElement("input",{id:t.id,type:"range",title:t.hint,min:t.min,max:t.max,step:t.step,onChange:function(n){e.props.setParameter(t.id,n.target.value),e.forceUpdate()},value:n})," ",void 0!==n&&t.step>=1?n:n.toFixed(2));case"toggle":return s.a.createElement("span",{key:t.id,className:"PlayerParams-param"},s.a.createElement("input",{type:"checkbox",id:t.id,onChange:function(n){e.props.setParameter(t.id,n.target.checked),e.forceUpdate()},checked:n}),s.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label inline"},t.label));case"button":return s.a.createElement("button",{key:t.id,title:t.hint,className:"box-button",onClick:function(){e.props.setParameter(t.id,!0)}},t.label);default:return null}})))}}])&&Qh(t.prototype,n),r&&Qh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function sg(e){return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,o=void 0,o=function(e,t){if("object"!==sg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===sg(o)?o:String(o)),r)}var s,o}function ag(e,t){return(ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ig(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cg(e);if(t){var s=cg(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return lg(this,n)}}function lg(e,t){if(t&&("object"===sg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ug(e)}function ug(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cg(e){return(cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ag(e,t)}(a,e);var t,n,r,o=ig(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u(ug(t=o.call(this,e))),t.node=s.a.createRef(),t.state={dragging:!1,draggedPos:null},t}return t=a,(n=[{key:"onMouseMove",value:function(e){if(this.state.dragging){var t=this.node.current,n=Math.max(Math.min((e.clientX-t.offsetLeft)/t.offsetWidth,1),0);this.setState({draggedPos:n}),this.props.onDrag(n)}}},{key:"onMouseDown",value:function(e){var t=this;e.preventDefault(),e.persist(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),this.setState({dragging:!0},(function(){return t.onMouseMove(e)}))}},{key:"onMouseUp",value:function(e){var t=this;document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),setTimeout((function(){t.setState({dragging:!1})}),150),this.props.onChange(this.state.draggedPos)}},{key:"render",value:function(){var e=100*Math.max(Math.min(this.state.dragging?this.state.draggedPos:this.props.pos,1),0)+"%";return s.a.createElement("div",{ref:this.node,className:"Slider",onMouseDown:this.onMouseDown},s.a.createElement("div",{className:"Slider-rail"}),s.a.createElement("div",{className:"Slider-knob",style:{left:e}}))}}])&&og(t.prototype,n),r&&og(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function fg(e){return(fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,o=void 0,o=function(e,t){if("object"!==fg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===fg(o)?o:String(o)),r)}var s,o}function pg(e,t){return(pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vg(e);if(t){var s=vg(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return gg(this,n)}}function gg(e,t){if(t&&("object"===fg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bg(e)}function bg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vg(e){return(vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pg(e,t)}(a,e);var t,n,r,o=hg(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u(bg(t=o.call(this,e))),t.state={draggedSongPositionMs:-1,currentSongPositionMs:0},t.timer=null,t}return t=a,(n=[{key:"componentDidUpdate",value:function(e){var t=this;!0===e.paused&&!1===this.props.paused?this.timer=setInterval((function(){var e=t.props,n=e.getCurrentPositionMs,r=e.currentSongDurationMs;t.setState({currentSongPositionMs:Math.min(n(),r)})}),100):!1===e.paused&&!0===this.props.paused&&clearInterval(this.timer)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"getSongPos",value:function(){return this.state.currentSongPositionMs/this.props.currentSongDurationMs}},{key:"getTimeLabel",value:function(){var e=this.state.draggedSongPositionMs>=0?this.state.draggedSongPositionMs:this.state.currentSongPositionMs;return this.getTime(e)}},{key:"getTime",value:function(e){var t=e<0?"-":"";e=Math.abs(e);var n,r=Math.floor(e/6e4),s=(Math.floor(e%6e4/100)/10).toFixed(1);return"".concat(t).concat(r,":").concat((n=s)<10?"0"+n:n)}},{key:"handlePositionDrag",value:function(e){var t=e.target?e.target.value:e;this.setState({draggedSongPositionMs:t*this.props.currentSongDurationMs})}},{key:"handlePositionDrop",value:function(e){this.setState({draggedSongPositionMs:-1,currentSongPositionMs:this.state.draggedSongPositionMs}),this.props.onChange(e)}},{key:"render",value:function(){return s.a.createElement("div",{className:"TimeSlider"},s.a.createElement(dg,{pos:this.getSongPos(),onDrag:this.handlePositionDrag,onChange:this.handlePositionDrop}),s.a.createElement("div",{className:"TimeSlider-labels"},s.a.createElement("div",null,this.getTimeLabel()),s.a.createElement("div",null,this.getTime(this.props.currentSongDurationMs))))}}])&&mg(t.prototype,n),r&&mg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s.a.Component),yg=Object(r.memo)(_g);function _g(e){return s.a.createElement("div",{className:"VolumeSlider"},s.a.createElement("input",{type:"range",title:"Volume",min:0,max:150,step:1,onChange:e.onChange,onDoubleClick:e.handleReset,onContextMenu:e.handleReset,value:e.value}),s.a.createElement("div",{className:"VolumeSlider-labels"},s.a.createElement("div",null,"Volume"),s.a.createElement("div",null,e.value,"%")))}var Ig=Object(r.memo)(Pg);function Pg(e){var t=e.currentSongDurationMs,n=e.currentSongNumSubtunes,r=e.currentSongNumVoices,o=e.currentSongSubtune,a=e.ejected,i=e.imageUrl,l=(e.infoTexts,e.paused),u=e.showPlayerSettings,c=e.songUrl,d=e.subtitle,f=e.tempo,m=e.title,p=e.voiceNames,h=e.voiceMask,g=e.volume,b=e.handleSetVoiceMask,v=e.handleTempoChange,M=e.handleTimeSliderChange,y=e.handleVolumeChange,_=e.nextSubtune,I=e.prevSubtune,P=e.sequencer,k=(e.toggleInfo,e.togglePause),E=Object(va.h)().pathname.includes("/book/");return s.a.createElement("div",{className:"AppFooter"},s.a.createElement("div",{className:"AppFooter-main"},s.a.createElement("div",{className:"AppFooter-main-inner"},s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},s.a.createElement("span",{style:{whiteSpace:"nowrap"}},s.a.createElement("button",{onClick:k,title:l?"Resume":"Pause",className:"box-button",disabled:a},l?"  ":"  ")," ","Tune ",o+1," of ",n," ",s.a.createElement("button",{className:"box-button",disabled:a||E,onClick:I},"<")," ",s.a.createElement("button",{className:"box-button",disabled:a||E,onClick:_},">")),s.a.createElement(Mg,{paused:l,currentSongDurationMs:t,getCurrentPositionMs:function(){return P&&P.getPlayer()?P.getPlayer().getPositionMs():0},onChange:M}),s.a.createElement(yg,{onChange:function(e){y(e.target.value)},handleReset:function(e){y(100),e.preventDefault(),e.stopPropagation()},title:"Double-click or right-click to reset to 100%.",value:g})),!a&&s.a.createElement("div",{className:"SongDetails"},s.a.createElement("div",{className:"SongDetails-title"},m," ",s.a.createElement("img",{alt:"Copy link",src:$h.a,style:{verticalAlign:"bottom"}})," ",s.a.createElement("a",{style:{color:"var(--neutral4)"},href:c},s.a.createElement("img",{alt:"Download",src:Wh.a,style:{verticalAlign:"bottom"}}))," ",s.a.createElement("span",{style:{marginLeft:"20px"}},d))))),u&&s.a.createElement("div",{className:"AppFooter-settings"},P.getPlayer()?s.a.createElement(rg,{ejected:a,tempo:f,numVoices:r,voiceMask:h,voiceNames:p,handleTempoChange:v,handleSetVoiceMask:b,getParameter:P.getPlayer().getParameter,setParameter:P.getPlayer().setParameter,paramDefs:P.getPlayer().getParamDefs()}):s.a.createElement("div",null,"(No active player)")),i&&s.a.createElement("img",{alt:"Cover art",className:"AppFooter-art",src:i}))}function kg(e){return(kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,o=void 0,o=function(e,t){if("object"!==kg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===kg(o)?o:String(o)),r)}var s,o}function Ng(e,t){return(Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Vg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tg(e);if(t){var s=Tg(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Sg(this,n)}}function Sg(e,t){if(t&&("object"===kg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tg(e){return(Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ng(e,t)}(a,e);var t,n,r,o=Vg(a);function a(){return Eg(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return s.a.createElement("header",{className:"AppHeader"},s.a.createElement(Ta,{className:"AppHeader-title",to:{pathname:"/"}},"Chiptheory"),this.props.user?s.a.createElement(s.a.Fragment,null,"  ","Logged in as ",this.props.user.displayName,"."," ",s.a.createElement("a",{href:"#",onClick:this.props.handleLogout},"Logout")):s.a.createElement(s.a.Fragment,null,"  ",s.a.createElement("a",{href:"#",onClick:this.props.handleLogin},"Login/Sign Up")," ","to Save Analyses (broken)"),"  ","Built on top of"," ",s.a.createElement("a",{href:"https://chiptune.app/",target:"_blank",rel:"noopener noreferrer"},"Chip Player JS"),"  ",s.a.createElement("a",{href:"https://github.com/vpavlenko/",target:"_blank",rel:"noopener noreferrer"},"Send feedback"))}}])&&wg(t.prototype,n),r&&wg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s.a.PureComponent),Og=n(42),xg=n.n(Og);const Ag=md.a.span`
  border-radius: 0px;
  background-color: ${e=>e.backgroundColor||"#ccc"};
  color: ${e=>e.color||"black"};
  font-size: 20px;
  padding: 2px 5px;
  max-width: 400px;
`;var Cg=({analysis:e,index:t})=>{var n;const s=Object.entries(e.modulations||{}),o=[];return o.push(r.createElement(Ag,null,t)),e.comment&&o.push(r.createElement(Ag,{key:"comment",backgroundColor:"#cc4"},e.comment)),4!==(null!==(n=e.beatsPerMeasure)&&void 0!==n?n:4)&&o.push(r.createElement(Ag,{key:"beats",backgroundColor:"#99f"},e.beatsPerMeasure+"/4")),Wd(e).map(e=>o.push(r.createElement(Ag,{key:"tag_"+e,backgroundColor:Xd(e),color:"white"},e.split(":").join(": ").replace(/_/g," ")))),e.romanNumerals&&o.push(r.createElement(ai,{key:"formAndHarmony",analysis:e})),e.basedOn&&o.push(r.createElement(Ag,{key:"basedOn",backgroundColor:"#cfc"},e.basedOn)),s.length>0&&o.push(r.createElement(Ag,{key:"modulations",backgroundColor:"#fcc"},"mod: "+s.map(([t,n])=>((e,t)=>{const n=(e-t+12)%12;return n>6?`-${12-n}st`:`+${n}st`})(n,e.tonic)).join(", "))),0===o.length&&o.push(r.createElement(Ag,{key:"index",backgroundColor:"white"},t)),r.createElement("div",{style:{display:"inline-block",backgroundColor:"transparent",margin:"5px 20px 20px 0px",padding:"0px",fontFamily:"Helvetica, sans-serif",fontSize:"12pt",color:"white",cursor:"pointer"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},o))},Dg=["items"];function jg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bg(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Lg=Object(r.memo)(Ug);function Ug(e){var t,n=e.items,s=Bg(e,Dg),o=s.currContext,a=s.currIdx,i=s.handleSongClick,l=s.browsePath,u=s.playContext,c=s.analyses,d=s.searchPath,f=s.bookPath,m=s.isSearch,p=Object(va.h)();Object(r.useEffect)((function(){var e,t=n.find((function(e){return"directory"!==e.type}));if(t&&null!=t&&null!==(e=t.path)&&void 0!==e&&e.startsWith("/Nintendo/")){console.log("firstSongItem",t);var r=".."===t.path?l.substr(0,l.lastIndexOf("/")):t.path.replace("%","%25").replace("#","%23").replace(/^\//,""),s=new URLSearchParams(p.search).get("subtune")||(f?gf(f).subtune:1);s=parseInt(s,10)-1;var o=Ef.CATALOG_PREFIX+r;i(o,u,t.idx,s)({preventDefault:function(){}})}}),[n.length,p]);var h=Qo.a.parse(window.location.search.substring(1));delete h.q;var g=Qo.a.stringify(h),b=Object(va.g)(),v=xg()(null===(t=b.location.state)||void 0===t?void 0:t.prevPathname,"/"),M=xg()(window.location.pathname,"/"),y=v===M.substring(0,M.lastIndexOf("/"));return r.createElement("div",null,r.createElement("div",{style:d?{}:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignContent:"flex-start"}},n.map((function(e){var t,s,f=".."===e.path?l.substr(0,l.lastIndexOf("/")):e.path.replace("%","%25").replace("#","%23").replace("&","%26").replace(/^\//,""),p=e.path.split("/").pop(),h=o===u&&a===e.idx,v=".."===e.path&&y,M=jg(-1===(s=(t=f).lastIndexOf("/"))?[t,""]:[t.substring(0,s),t.substring(s+1)],2),_=M[0],I=M[1],P=c&&(c[f]&&Object.values(c[f])||c[_]&&c[_][I]);if(P&&P[0]&&(P=P[0]),"directory"===e.type)return r.createElement("div",{key:p,className:"BrowseList-row"+(n.length>4?" BrowseList-row-mainPage":"")},r.createElement("div",{className:"BrowseList-colName"},r.createElement(Wf,{dim:!P,to:"/browse/"+f,search:g,isBackLink:v,history:b},p)),P&&r.createElement("div",null,Object.entries(P).map((function(e){var t=jg(e,2),n=t[0],s=t[1],o=parseInt(n,10)+1;return!d||ef(s,d)?r.createElement(Wf,{key:o,dim:new Boolean(P),to:"/browse/"+f,search:"?subtune=".concat(o)},m&&r.createElement("div",{style:{marginBottom:"40px"}},r.createElement(Cg,{analysis:s,index:o}))):null}))));var k=Ef.CATALOG_PREFIX+f;return r.createElement("div",{key:p,className:(h?"Song-now-playing BrowseList-row":"BrowseList-row")+" BrowseList-row-mainPage"},r.createElement("div",{className:"BrowseList-colName"},f.startsWith("Nintendo")?r.createElement("a",{onClick:function(t){return i(k,u,e.idx)(t)}},p):r.createElement("a",{onClick:function(t){var n=window.location.pathname.replace("/chiptheory/","/"),r=new URLSearchParams(window.location.search);r.set("song",p),b.push({pathname:n,search:r.toString()}),i(k,u,e.idx)(t)},style:{color:P?"#ff0":"#aaa"}},p)))}))))}function qg(e){return(qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zg(){return(zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Hg(e){return function(e){if(Array.isArray(e))return Wg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,o=void 0,o=function(e,t){if("object"!==qg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===qg(o)?o:String(o)),r)}var s,o}function $g(e,t){return($g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Kg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qg(e);if(t){var s=Qg(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Xg(this,n)}}function Xg(e,t){if(t&&("object"===qg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yg(e)}function Yg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qg(e){return(Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$g(e,t)}(a,e);var t,n,r,o=Kg(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u(Yg(t=o.call(this,e))),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.navigate()}},{key:"componentWillUnmount",value:function(){this.saveScrollPosition(this.props.locationKey)}},{key:"saveScrollPosition",value:function(e){var t=Math.round(this.props.scrollContainerRef.current.scrollTop);sessionStorage.setItem(e,t.toString())}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return e.browsePath!==this.props.browsePath&&this.saveScrollPosition(e.locationKey),null}},{key:"componentDidUpdate",value:function(e,t){if(this.navigate(),"POP"===this.props.historyAction){var n=this.props,r=n.browsePath,s=n.locationKey;if(sessionStorage.getItem(s)){var o=sessionStorage.getItem(s);this.props.scrollContainerRef.current.scrollTo(0,o),sessionStorage.removeItem(s),console.debug("%s (%s) scroll position restored to %s",r,s,o)}}else e.locationKey!==this.props.locationKey&&this.props.scrollContainerRef.current.scrollTo(0,0)}},{key:"handleShufflePlay",value:function(){this.props.handleShufflePlay(this.props.browsePath)}},{key:"navigate",value:function(){var e=this.props,t=e.browsePath,n=e.listing,r=e.fetchDirectory;n||r(t)}},{key:"render",value:function(){var e=this.props,t=e.listing,n=e.browsePath,r=e.searchPath,o=e.playContext,a=e.analyses,i="Nintendo"===n,l=((e,t,n)=>n&&t?e.filter(({path:e})=>".."===e||t[e.slice(1)]&&Object.values(t[e.slice(1)]).some(e=>Object.values(e).some(e=>ef(e,n)))):e)([{path:"..",type:"directory"}].concat(Hg(t||[])),a,r),u=new URLSearchParams(window.location.search);return s.a.createElement(s.a.Fragment,null,i||r?s.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"300px 1fr",gap:"50px",height:"100%"}},s.a.createElement("div",{style:{overflowY:"auto",height:"100%"}},s.a.createElement(rf,{analyses:a,searchPath:r})),s.a.createElement("div",{style:{overflowY:"auto",height:"100%"}},!r&&s.a.createElement(bf,null),s.a.createElement(Lg,zg({key:n},this.props,{playContext:o,items:l,isSearch:!!r})))):s.a.createElement("div",{style:{height:n.startsWith("Nintendo")||u.get("song")?"1px":"100%",overflow:"scroll",margin:0}},s.a.createElement(Lg,zg({key:n},this.props,{playContext:o,items:l}))))}}])&&Gg(t.prototype,n),r&&Gg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s.a.PureComponent);function Zg(e){return(Zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,o=void 0,o=function(e,t){if("object"!==Zg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===Zg(o)?o:String(o)),r)}var s,o}function nb(e,t){return(nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ob(e);if(t){var s=ob(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return sb(this,n)}}function sb(e,t){if(t&&("object"===Zg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ob(e){return(ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ab=n(3).FORMATS.filter((function(e){return"miniusf"!==e})).map((function(e){return".".concat(e)})),ib=Math.floor(ab.length/2)-1,lb="Formats: ".concat(ab.slice(0,ib).join(" ")),ub=ab.slice(ib).join(" "),cb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nb(e,t)}(a,e);var t,n,r,o=rb(a);function a(){return eb(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return s.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box-outer"},s.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box drop-message"},s.a.createElement("div",{className:"message-box-inner"},"Drop files to play!",s.a.createElement("br",null),lb,s.a.createElement("br",null),ub,s.a.createElement("br",null),s.a.createElement("br",null),"Drop a SoundFont (.sf2) to customize MIDI playback.")))}}])&&tb(t.prototype,n),r&&tb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s.a.PureComponent);function db(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mb=Object(r.memo)(pb);function pb(e){var t=e.infoTexts,n=void 0===t?[]:t,o=e.showInfo,a=e.toggleInfo,i=db(Object(r.useState)(0),2),l=i[0],u=i[1],c=(n[l]||"").trim(),d=Math.min(40,c.split("\n").length+6);Object(r.useEffect)((function(){u(0)}),[n]);var f=Object(r.useCallback)((function(){u(Math.max(0,l-1))}),[l]),m=Object(r.useCallback)((function(){u(Math.min(n.length-1,l+1))}),[n,l]);return s.a.createElement("div",{hidden:!o,className:"message-box-outer"},s.a.createElement("div",{hidden:!o,className:"message-box",style:{height:o?"calc(".concat(d," * var(--charH))"):0}},s.a.createElement("div",{className:"message-box-inner"},s.a.createElement("pre",{style:{maxHeight:"100%",margin:0}},c)),s.a.createElement("div",{className:"message-box-footer"},s.a.createElement("button",{className:"box-button message-box-button",onClick:a},"Close"),n.length>1&&s.a.createElement("span",null,s.a.createElement("button",{disabled:0===l,className:"box-button message-box-button",onClick:f},"<")," ",s.a.createElement("button",{disabled:l===n.length-1,className:"box-button message-box-button",onClick:m},">")))))}var hb=Object(r.memo)(gb);function gb(e){var t,n=e.ejected,r=e.tempo,o=e.currentSongNumVoices,a=e.voiceMask,i=e.voiceNames,l=e.handleSetVoiceMask,u=e.handleTempoChange,c=e.sequencer;return s.a.createElement("div",{className:"Settings"},s.a.createElement("h3",null,(null==c||null===(t=c.getPlayer())||void 0===t?void 0:t.name)||"Player"," Settings"),null!=c&&c.getPlayer()?s.a.createElement(rg,{ejected:n,tempo:r,numVoices:o,voiceMask:a,voiceNames:i,handleTempoChange:u,handleSetVoiceMask:l,getParameter:c.getPlayer().getParameter,setParameter:c.getPlayer().setParameter,paramDefs:c.getPlayer().getParamDefs()}):s.a.createElement("div",null,"(No active player)"))}var bb=n(67),vb=n(69),Mb=n.n(vb);function yb(e){return(yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vb(r.key),r)}}function Ib(e,t){return(Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wb(e);if(t){var s=wb(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return kb(this,n)}}function kb(e,t){if(t&&("object"===yb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eb(e)}function Eb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wb(e){return(wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nb(e,t,n){return(t=Vb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vb(e){var t=function(e,t){if("object"!==yb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yb(t)?t:String(t)}var Sb=["Linear FFT","Log FFT","Constant Q"],Tb=[{label:"None",description:"No attenuation"},{label:"A-Weighting",description:"Darkens low and high frequencies to approximate sensitivity of human hearing."}],Rb=[512,1024,2048,4096,8192],Ob=["512","1K","2K","4K","8K","16K"],xb=[1,2,4],Ab=["Lo","Med","Hi"],Cb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ib(e,t)}(a,e);var t,n,r,o=Pb(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Nb(Eb(t=o.call(this,e)),"handleModeClick",(function(e){var n=parseInt(e.target.value,10);t.setState({vizMode:n}),t.spectrogram.setMode(n)})),Nb(Eb(t),"handleWeightingModeClick",(function(e){var n=parseInt(e.target.value,10);t.setState({weightingMode:n}),t.spectrogram.setWeighting(n)})),Nb(Eb(t),"handleFFTSizeClick",(function(e){var n=parseInt(e.target.value,10);t.setState({fftSize:n}),t.spectrogram.setFFTSize(n)})),Nb(Eb(t),"handleSpeedClick",(function(e){var n=parseInt(e.target.value,10);t.setState({speed:n}),t.spectrogram.setSpeed(n)})),Nb(Eb(t),"handleToggleVisualizer",(function(e){t.setState({enabled:!t.state.enabled})})),t.state={vizMode:2,weightingMode:1,fftSize:2048,speed:2,enabled:!1},t.freqCanvasRef=s.a.createRef(),t.specCanvasRef=s.a.createRef(),t.pianoKeysRef=s.a.createRef(),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.spectrogram=new bb.a(this.props.chipCore,this.props.audioCtx,this.props.sourceNode,this.freqCanvasRef.current,this.specCanvasRef.current,this.pianoKeysRef.current),this.spectrogram.setMode(this.state.vizMode),this.spectrogram.setWeighting(this.state.weightingMode),this.spectrogram.setSpeed(this.state.speed)}},{key:"componentDidUpdate",value:function(e){this.spectrogram.setPaused(!this.state.enabled||this.props.paused)}},{key:"render",value:function(){var e=this,t={display:this.state.enabled?"block":"none",width:448,boxSizing:"border-box"};return s.a.createElement("div",{className:"Visualizer"},s.a.createElement("h3",{className:"Visualizer-toggle"},s.a.createElement("label",{className:"inline"},s.a.createElement("input",{onChange:this.props.handleToggleAnalysis,type:"checkbox",checked:this.props.analysisEnabled,name:"analysis-enabled"}),"Analysis"),s.a.createElement("label",{className:"inline",style:{marginLeft:"20px"}},s.a.createElement("input",{onChange:this.handleToggleVisualizer,type:"checkbox",checked:this.state.enabled,name:"visualizer-enabled"}),"Visualizer"),s.a.createElement("label",{className:"inline",style:{marginLeft:"20px"}},s.a.createElement("input",{onChange:this.props.handleToggleSettings,type:"checkbox",checked:this.props.settingsEnabled,name:"settings-enabled"}),"Settings")),s.a.createElement("div",{className:"Visualizer-options",style:t},s.a.createElement("div",null,"Mode:"," ",Sb.map((function(t,n){return s.a.createElement("label",{key:"m_"+n,className:"inline"},s.a.createElement("input",{onClick:e.handleModeClick,type:"radio",name:"spectrogram-mode",defaultChecked:e.state.vizMode===n,value:n}),t)}))),2===this.state.vizMode?s.a.createElement("div",null,"Weighting:"," ",Tb.map((function(t,n){return s.a.createElement("label",{title:t.description,key:"w_"+n,className:"inline"},s.a.createElement("input",{onClick:e.handleWeightingModeClick,type:"radio",name:"weighting-mode",defaultChecked:e.state.weightingMode===n,value:n}),t.label)}))):s.a.createElement("div",null,"FFT Size:"," ",Rb.map((function(t,n){return s.a.createElement("label",{key:"f_"+n,className:"inline"},s.a.createElement("input",{onClick:e.handleFFTSizeClick,type:"radio",name:"fft-size",defaultChecked:e.state.fftSize===t,value:t}),Ob[n])}))),s.a.createElement("div",{title:"Vertical scrolling speed (pixels per frame)"},"Speed:"," ",xb.map((function(t,n){return s.a.createElement("label",{key:"s_"+n,className:"inline"},s.a.createElement("input",{onClick:e.handleSpeedClick,type:"radio",name:"speed",defaultChecked:e.state.speed===t,value:t}),Ab[n])})))),s.a.createElement("canvas",{style:t,className:"Visualizer-analyzer",width:448,height:60,ref:this.freqCanvasRef}),s.a.createElement("canvas",{style:t,className:"Visualizer-spectrogram",width:448,height:800,ref:this.specCanvasRef}),s.a.createElement("img",{src:Mb.a,className:"Visualizer-overlay",ref:this.pianoKeysRef,alt:"Piano keys",style:{display:this.state.enabled&&2===this.state.vizMode?"block":"none",width:448}}))}}])&&_b(t.prototype,n),r&&_b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function Db(e){return(Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jb(e){return function(e){if(Array.isArray(e))return Lb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fb(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Bb(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function Bb(e,t){if(e){if("string"==typeof e)return Lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lb(e,t):void 0}}function Lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ub(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ub=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",i=s.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,s){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new E(s||[]);return r(a,"_invoke",{value:_(e,n,i)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var h={};l(h,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&n.call(b,o)&&(h=b);var v=p.prototype=f.prototype=Object.create(h);function M(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var s;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(s,a){!function r(s,o,a,i){var l=c(e[s],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==Db(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,i)}),(function(e){r("throw",e,a,i)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,i)}))}i(l.arg)}(r,o,s,a)}))}return s=s?s.then(a,a):a()}})}function _(e,t,n){var r="suspendedStart";return function(s,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===s)throw o;return N()}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var i=I(a,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var s=c(r,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,d;var o=s.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function w(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},M(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,s,o){void 0===o&&(o=Promise);var a=new y(u(t,n,r,s),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},M(v),l(v,i,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=w,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var o=s;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;k(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function qb(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function zb(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){qb(o,r,s,a,i,"next",e)}function i(e){qb(o,r,s,a,i,"throw",e)}a(void 0)}))}}function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zb(r.key),r)}}function Wb(e,t){return(Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xb(e);if(t){var s=Xb(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return $b(this,n)}}function $b(e,t){if(t&&("object"===Db(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kb(e)}function Kb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xb(e){return(Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yb(Object(n),!0).forEach((function(t){Jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jb(e,t,n){return(t=Zb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zb(e){var t=function(e,t){if("object"!==Db(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Db(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Db(t)?t:String(t)}var ev=function(e,t){var n=Qb({},e);for(var r in t)for(var s in n[r]||(n[r]={}),t[r])for(var o in n[r][s]||(n[r][s]={}),t[r][s])n[r][s][o]=t[r][s][o];return n},tv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wb(e,t)}(l,e);var t,n,r,o,a,i=Gb(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),Jb(Kb(t=i.call(this,e)),"onDrop",(function(e){var n=new FileReader,r=e[0],s=Xo.a.extname(r.name).toLowerCase();".sf2"!==s||t.midiPlayer?(n.onload=zb(Ub().mark((function e(){var o,a,i;return Ub().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(".sf2"!==s||!t.midiPlayer){e.next=11;break}return o="user/".concat(r.name),!0,a=!1,e.next=6,Qf(t.chipCore,"".concat(Ef.SOUNDFONT_MOUNTPOINT,"/").concat(o),new Uint8Array(n.result),!0);case 6:t.midiPlayer.updateSoundfontParamDefs(),t.midiPlayer.setParameter("soundfont",o,a),t.forceUpdate(),e.next=13;break;case 11:i=n.result,t.sequencer.playSongFile(r.name,i);case 13:case"end":return e.stop()}}),e)}))),n.readAsArrayBuffer(r)):t.handlePlayerError("MIDIPlayer has not been created - unable to load SoundFont.")})),u(Kb(t)),t.attachMediaKeyHandlers(),t.contentAreaRef=s.a.createRef(),t.playContexts={},t.errorTimer=null,t.midiPlayer=null,window.ChipPlayer=Kb(t);var n=Y(Hf),r=Zn(n);t.db=oo(n),Lo(uo(t.db,"users","hqAWkYyzu2hIzNgE3ui89f41vFA2")).then((function(e){e.exists()&&e.data().analyses&&t.setState({analyses:ev(Vh,e.data().analyses)})})),function(e,t,n,r){Object(ue.i)(e).onAuthStateChanged(t,n,r)}(r,(function(e){if(t.setState({user:e,loadingUser:!!e}),e){t.setState({analysisEnabled:!0});var n=uo(t.db,"users",e.uid);Lo(n).then((function(r){if(r.exists()){var s=r.data();t.setState({faves:s.faves||[],showPlayerSettings:!!s.settings&&s.settings.showPlayerSettings})}else console.debug("Creating user document",e.uid),Uo(n,{faves:[],settings:{},user:{email:e.email}})})).finally((function(){t.setState({loadingUser:!1})}))}}));var o=t.audioCtx=window.audioCtx=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"playback"}),a=Math.max(Math.pow(2,Math.ceil(Math.log2((o.baseLatency||.001)*o.sampleRate))),2048),c=t.gainNode=o.createGain();c.gain.value=1,c.connect(o.destination);var d=t.playerNode=o.createScriptProcessor(a,0,2);return d.connect(c),function(e){if(console.log("AudioContext initial state is %s.",e.state),"suspended"===e.state){var t=["touchstart","touchend","mousedown","mouseup"],n=function n(){return e.resume().then((function(){return t.forEach((function(e){return document.body.removeEventListener(e,n)}))}))};t.forEach((function(e){return document.body.addEventListener(e,n,!1)}))}}(o),console.log("Sample rate: %d hz. Base latency: %d. Buffer size: %d.",o.sampleRate,o.baseLatency*o.sampleRate,a),t.state={loading:!0,loadingUser:!0,paused:!0,ejected:!0,playerError:null,currentSongMetadata:{},currentSongNumVoices:0,currentSongNumSubtunes:0,currentSongSubtune:0,currentSongDurationMs:1,currentSongPositionMs:0,tempo:1,voiceMask:Array(Ef.MAX_VOICES).fill(!0),voiceNames:Array(Ef.MAX_VOICES).fill(""),imageUrl:null,infoTexts:[],showInfo:!1,showPlayerError:!1,showPlayerSettings:!1,user:null,faves:[],songUrl:null,volume:100,repeat:0,shuffle:0,directories:{},hasPlayer:!1,paramDefs:[],chipStateDump:{},analysisEnabled:!1,analyses:Vh},t.initChipCore(o,d,a),t}return t=l,n=[{key:"initChipCore",value:(a=zb(Ub().mark((function e(t,n,r){var s,o,a,i,l,u,c,d,f=this;return Ub().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new zf({locateFile:function(e,t){return e.endsWith(".wasm")||e.endsWith(".wast")?"".concat("/chiptheory","/").concat(e):t+e},print:function(e){return console.debug("[stdout] "+e)},printErr:function(e){return console.debug("[stderr] "+e)}});case 3:this.chipCore=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),Object.assign(this.state,{playerError:"Error loading player engine. Old browser?",loading:!1}),e.abrupt("return");case 10:s=Qo.a.parse(window.location.search.substring(1)).debug,o=this,a=[xp,Sm,Nh,fh,Jp,Wm,qh].map((function(e){return new e(f.chipCore,t.sampleRate,r,s,(function(e){return o.setState({chipStateDump:e})}),f.togglePause)})),this.midiPlayer=a[0],n.onaudioprocess=function(e){for(var t=[],n=0;n<e.outputBuffer.numberOfChannels;n++)t.push(e.outputBuffer.getChannelData(n));var r,s=Fb(a);try{for(s.s();!(r=s.n()).done;){var o=r.value;o.stopped||o.processAudio(t)}}catch(e){s.e(e)}finally{s.f()}},this.chipCore.FS.syncfs(!0,(function(e){e&&console.log("Error populating FS from indexeddb.",e),a.forEach((function(e){return e.handleFileSystemReady()}))})),this.sequencer=new Lf(a,this.props.history),this.sequencer.on("sequencerStateUpdate",this.handleSequencerStateUpdate),this.sequencer.on("playerError",this.handlePlayerError),(i=Qo.a.parse(window.location.search.substring(1))).play&&(l=i.play,u=Xo.a.dirname(i.play),delete i.play,c=Qo.a.stringify(i),d=c?"?".concat(c):"",this.fetchDirectory(u).then((function(){f.props.history.replace("/browse/".concat(u).concat(d));var e=f.playContexts[u].indexOf(l);f.playContext(f.playContexts[u],e),i.t&&setTimeout((function(){f.sequencer.getPlayer()&&f.sequencer.getPlayer().seekMs(parseInt(i.t,10))}),100)}))),this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,n){return a.apply(this,arguments)})},{key:"handleLogin",value:function(){(async function(e,t,n){const r=_t(e);Me(e,t,Dt);const s=hn(r,n);return new In(r,"signInViaPopup",t,s).executeNotNull()})(Zn(),new Bt).then((function(e){console.log("Firebase auth result:",e)})).catch((function(e){console.log("Firebase auth error:",e)}))}},{key:"handleLogout",value:function(){var e=this;(function(e){return Object(ue.i)(e).signOut()})(Zn()).then((function(){e.setState({user:null,faves:[]})}))}},{key:"handleToggleFavorite",value:function(){}},{key:"saveAnalysis",value:(o=zb(Ub().mark((function e(t){var n,r,s,o,a,i,l,u,c,d,f,m,p;return Ub().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=null===(n=this.sequencer)||void 0===n?void 0:n.getCurrIdx())){e.next=3;break}return e.abrupt("return");case 3:if(s=this.playContexts[this.browsePath]&&this.playContexts[this.browsePath][r],o=this.state.currentSongSubtune,s){e.next=7;break}return e.abrupt("return");case 7:if(a=s.lastIndexOf("/"),i=s.substring(0,a),l=s.substring(a+1),!(u=this.state.user)){e.next=22;break}return d=uo(this.db,"users",u.uid),e.next=15,Lo(d);case 15:return f=e.sent,m=f.exists?f.data():{},p=Jb({},i,Jb({},l,Jb({},o,t))),m.analyses=ev(null!==(c=m.analyses)&&void 0!==c?c:{},p),e.next=21,Uo(d,m).catch((function(e){console.log("Couldn't save analysis.",e),alert("Could not save analysis")}));case 21:this.setState((function(e){return{analyses:ev(e.analyses,p)}}));case 22:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"attachMediaKeyHandlers",value:function(){var e=this;"mediaSession"in navigator&&(console.log("Attaching Media Key event handlers."),this.mediaSessionAudio=document.createElement("audio"),this.mediaSessionAudio.src="/chiptheory/5-seconds-of-silence.mp3",this.mediaSessionAudio.loop=!0,this.mediaSessionAudio.volume=0,navigator.mediaSession.setActionHandler("play",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("pause",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return e.prevSong()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return e.nextSong()})),navigator.mediaSession.setActionHandler("seekbackward",(function(){return e.seekRelative(-5e3)})),navigator.mediaSession.setActionHandler("seekforward",(function(){return e.seekRelative(5e3)}))),document.addEventListener("keydown",(function(t){if(!t.ctrlKey&&!t.metaKey){switch(t.key){case"Escape":e.setState({showInfo:!1}),t.target.blur()}if("INPUT"!==t.target.tagName||"text"!==t.target.type){switch(t.key){case" ":e.togglePause(),t.preventDefault();break;case"-":e.setSpeedRelative(-.1);break;case"_":e.setSpeedRelative(-.01);break;case"=":e.setSpeedRelative(.1);break;case"+":e.setSpeedRelative(.01)}if("INPUT"!==t.target.tagName||"range"!==t.target.type)switch(t.key){case"ArrowLeft":e.seekRelative(-5e3),t.preventDefault();break;case"ArrowRight":e.seekRelative(5e3),t.preventDefault()}}}}))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.sequencer.playContext(e,t,n)}},{key:"prevSong",value:function(){this.sequencer.prevSong()}},{key:"nextSong",value:function(){this.sequencer.nextSong()}},{key:"prevSubtune",value:function(){this.sequencer.prevSubtune()}},{key:"nextSubtune",value:function(){this.sequencer.nextSubtune()}},{key:"handleSequencerStateUpdate",value:function(e){var t=this,n=e.isEjected;if(console.log("App.handleSequencerStateUpdate(isEjected=%s)",n),n)this.setState({ejected:!0,currentSongSubtune:0,currentSongMetadata:{},currentSongNumVoices:0,currentSongPositionMs:0,currentSongDurationMs:1,currentSongNumSubtunes:0,imageUrl:null,songUrl:null}),"mediaSession"in navigator&&(this.mediaSessionAudio.pause(),navigator.mediaSession.playbackState="none","MediaMetadata"in window&&(navigator.mediaSession.metadata=new window.MediaMetadata({})));else{var r=this.sequencer.getPlayer(),s=this.sequencer.getCurrUrl();if(s){var o=function(e){return Xf(Kf(e))}(s);If.fetchCached(o).then((function(e){var n=e.imageUrl,r=e.infoTexts,s=[].concat(jb(r),jb(t.state.infoTexts));t.setState({imageUrl:n,infoTexts:s}),"mediaSession"in navigator&&(navigator.mediaSession.metadata.artwork=null==n?[]:[{src:n,sizes:"512x512"}])})).catch((function(e){t.setState({imageUrl:null})}))}var a,i,u=r.getMetadata();"mediaSession"in navigator&&(this.mediaSessionAudio.play(),"MediaMetadata"in window&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:u.title||(null===(a=u.formatted)||void 0===a?void 0:a.title),artist:u.artist||(null===(i=u.formatted)||void 0===i?void 0:i.subtitle),album:u.game,artwork:[]}))),this.setState(Qb(Qb({},l.mapSequencerStateToAppState(e)),{},{showInfo:!1}))}}},{key:"handlePlayerError",value:function(e){var t=this;e&&this.setState({playerError:e}),this.setState({showPlayerError:!!e}),clearTimeout(this.errorTimer),this.errorTimer=setTimeout((function(){return t.setState({showPlayerError:!1})}),Ef.ERROR_FLASH_DURATION_MS)}},{key:"togglePause",value:function(){if(!this.state.ejected&&this.sequencer.getPlayer()){var e=this.sequencer.getPlayer().togglePause();"mediaSession"in navigator&&(e?this.mediaSessionAudio.pause():this.mediaSessionAudio.play()),this.setState({paused:e})}}},{key:"toggleSettings",value:function(){var e=!this.state.showPlayerSettings;this.setState({showPlayerSettings:e});var t=this.state.user;t&&function(e,t,n,...r){const s=_o((e=zr(e,ao)).firestore);let o;return o="string"==typeof(t=Object(tr.e)(t))||t instanceof fo?Eo(s,"updateDoc",e._key,t,n,r):ko(s,"updateDoc",e._key,t),Zs(no(e.firestore),[o.toMutation(e._key,xs.exists(!0))])}(uo(this.db,"users",t.uid),{settings:{showPlayerSettings:e}}).catch((function(e){console.log("Couldn't update settings in Firebase.",e)}))}},{key:"handleTimeSliderChange",value:function(e){if(this.sequencer.getPlayer()){var t=e.target?e.target.value:e,n=Math.floor(t*this.state.currentSongDurationMs);if(this.seekRelativeInner(n),Ef.REPLACE_STATE_ON_SEEK){var r=Qb(Qb({},Qo.a.parse(window.location.search.substr(1))),{},{t:n}),s="?"+Qo.a.stringify(r).replace(/%20/g,"+").replace(/%2F/g,"/");window.history.replaceState(null,"",s)}}}},{key:"seekRelative",value:function(e){if(this.sequencer.getPlayer()){var t=this.state.currentSongDurationMs,n=Wo()(this.sequencer.getPlayer().getPositionMs()+e,0,t);this.seekRelativeInner(n)}}},{key:"seekRelativeInner",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!n&&this.state.seekCallback&&this.state.seekCallback(e),this.sequencer.getPlayer().seekMs(e),this.setState({currentSongPositionMs:e}),setTimeout((function(){t.sequencer.getPlayer().isPlaying()&&t.setState({currentSongPositionMs:t.sequencer.getPlayer().getPositionMs()})}),100)}},{key:"handleSetVoiceMask",value:function(e){this.sequencer.getPlayer()&&(this.sequencer.getPlayer().setVoiceMask(e),this.setState({voiceMask:jb(e)}))}},{key:"handleTempoChange",value:function(e){if(this.sequencer.getPlayer()){var t=parseFloat(e.target?e.target.value:e)||1;this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t})}}},{key:"setSpeedRelative",value:function(e){if(this.sequencer.getPlayer()){var t=Wo()(this.state.tempo+e,.1,2);this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t})}}},{key:"handleShufflePlay",value:function(e){var t=this;"favorites"===e?this.sequencer.playContext($o()(this.state.faves)):fetch("".concat(Ef.API_BASE,"/shuffle?path=").concat(encodeURI(e),"&limit=100")).then((function(e){return e.json()})).then((function(e){return e.items.map((function(e){return e.replace("%","%25").replace("#","%23").replace(/^\//,"")}))})).then((function(e){return t.sequencer.playContext(e)}))}},{key:"handleCycleShuffle",value:function(){var e=(this.state.shuffle+1)%2;this.setState({shuffle:e}),this.sequencer.setShuffle(e)}},{key:"handleSongClick",value:function(e,t,n){var r=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(o){o.preventDefault(),t?r.playContext(t,n,s):r.sequencer.playSonglist([e])}}},{key:"handleVolumeChange",value:function(e){this.setState({volume:e}),this.gainNode.gain.value=Math.max(0,Math.min(2,.01*e))}},{key:"handleCycleRepeat",value:function(){var e=(this.state.repeat+1)%3;this.setState({repeat:e}),this.sequencer.setRepeat(e)}},{key:"toggleInfo",value:function(){this.setState({showInfo:!this.state.showInfo})}},{key:"fetchDirectory",value:function(e){var t=this;return fetch("".concat(Ef.API_BASE,"/browse?path=%2F").concat(encodeURIComponent(e))).then((function(e){return e.json()})).then((function(n){t.playContexts[e]=n.filter((function(e){return"file"===e.type})).map((function(e){return e.path.replace("%","%25").replace("#","%23").replace(/^\//,"")}));var r=Qb(Qb({},t.state.directories),{},Jb({},e,n));t.setState({directories:r})}))}},{key:"getCurrentSongLink",value:function(){var e=this.sequencer.getCurrUrl();return e?"/chiptheory/?play="+encodeURIComponent(e.replace(Ef.CATALOG_PREFIX,"")):"#"}},{key:"render",value:function(){var e,t,n,r=this,o=(n=this.state.currentSongMetadata).formatted?n.formatted:{title:$f(n.artist," - ")+n.title,subtitle:[n.game,n.system].filter((function(e){return e})).join(" - ")+$f(" (",n.copyright,")")},a=o.title,i=o.subtitle,l=null===(e=this.sequencer)||void 0===e?void 0:e.getCurrContext(),u=null===(t=this.sequencer)||void 0===t?void 0:t.getCurrIdx(),c={search:window.location.search};return s.a.createElement(ba,{disableClick:!0,style:{},onDrop:this.onDrop},(function(e){return s.a.createElement("div",{className:"App"},s.a.createElement(cb,{dropzoneProps:e}),s.a.createElement(mb,{showInfo:r.state.showInfo,infoTexts:r.state.infoTexts,toggleInfo:r.toggleInfo}),s.a.createElement(zh,{handlePlayerError:r.handlePlayerError,playerError:r.state.playerError,showPlayerError:r.state.showPlayerError}),s.a.createElement(Rg,{user:r.state.user,handleLogout:r.handleLogout,handleLogin:r.handleLogin,isPhone:zo.a.phone}),s.a.createElement("div",{className:"App-main"},s.a.createElement("div",{className:"App-main-inner"},s.a.createElement("div",{className:"tab-container"},s.a.createElement(xa,{className:"tab",activeClassName:"tab-selected",to:Qb({pathname:"/"},c),exact:!0},"Search"),s.a.createElement(xa,{className:"tab",activeClassName:"tab-selected",to:Qb({pathname:"/browse"},c)},"Browse"),s.a.createElement("button",{className:r.state.showPlayerSettings?"tab tab-selected":"tab",style:{marginLeft:"auto",marginRight:0},onClick:r.toggleSettings},"Settings"))&&!1,s.a.createElement("div",{className:"App-main-content-and-settings"},s.a.createElement("div",{className:"App-main-content-area",ref:r.contentAreaRef},s.a.createElement(va.d,null,s.a.createElement(va.b,{path:"/",exact:!0,render:function(){return s.a.createElement(va.a,{to:"/browse/Nintendo"})}}),s.a.createElement(va.b,{path:"/search",exact:!0,render:function(){return s.a.createElement(rf,{analyses:r.state.analyses})}}),s.a.createElement(va.b,{path:["/browse/:browsePath*","/search/:searchPath*","/book/:bookPath*"],render:function(e){var t,n,o,a,i,c=e.history,d=e.match,f=e.location,m=null===(t=d.params)||void 0===t?void 0:t.searchPath,p=null===(n=d.params)||void 0===n?void 0:n.bookPath,h=m?"Nintendo":(null===(o=d.params)||void 0===o||null===(a=o.browsePath)||void 0===a?void 0:a.replace("%25","%"))||(p?gf(p).path:"");console.log("BROWSE_PATH",h),r.browsePath=h;var g=r.playContexts[h]&&r.playContexts[h][u],b=r.state.currentSongSubtune,v=g&&g.lastIndexOf("/"),M=v&&g.substring(v+1),y=r.state.analyses&&r.state.analyses[h]&&r.state.analyses[h][M]&&r.state.analyses[h][M][b];return r.contentAreaRef.current&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Jg,{currContext:l,currIdx:u,historyAction:c.action,locationKey:f.key,browsePath:h,searchPath:m,bookPath:p,listing:r.state.directories[h],playContext:r.playContexts[h],fetchDirectory:r.fetchDirectory,handleSongClick:r.handleSongClick,handleShufflePlay:r.handleShufflePlay,scrollContainerRef:r.contentAreaRef,favorites:r.state.faves,toggleFavorite:r.handleToggleFavorite,analyses:r.state.analyses,sequencer:r.sequencer}),(null===(i=r.state.chipStateDump)||void 0===i?void 0:i.type)&&s.a.createElement(zd,{chipStateDump:r.state.chipStateDump,getCurrentPositionMs:function(){return r.sequencer&&r.sequencer.getPlayer()?r.sequencer.getPlayer().getPositionMs():0},savedAnalysis:y,saveAnalysis:r.saveAnalysis,voiceMask:r.state.voiceMask,setVoiceMask:r.handleSetVoiceMask,analysisEnabled:r.state.analysisEnabled,seek:function(e){return r.seekRelativeInner(e,!0)},registerSeekCallback:function(e){return r.setState({seekCallback:e})},bookPath:p,pause:r.togglePause,paused:r.state.paused,loggedIn:!!r.state.user}))}}),s.a.createElement(va.b,{path:"/settings",render:function(){return s.a.createElement(hb,{ejected:r.state.ejected,tempo:r.state.tempo,currentSongNumVoices:r.state.currentSongNumVoices,voiceMask:r.state.voiceMask,voiceNames:r.state.voiceNames,handleSetVoiceMask:r.handleSetVoiceMask,handleTempoChange:r.handleTempoChange,sequencer:r.sequencer})}}))))),!zo.a.phone&&!r.state.loading&&s.a.createElement(Cb,{audioCtx:r.audioCtx,sourceNode:r.playerNode,chipCore:r.chipCore,settingsEnabled:r.state.showPlayerSettings,handleToggleSettings:r.toggleSettings,analysisEnabled:r.state.analysisEnabled,handleToggleAnalysis:function(){return r.setState((function(e){return{analysisEnabled:!e.analysisEnabled}}))},paused:r.state.ejected||r.state.paused})),s.a.createElement(Ig,{currentSongDurationMs:r.state.currentSongDurationMs,currentSongNumSubtunes:r.state.currentSongNumSubtunes,currentSongNumVoices:r.state.currentSongNumVoices,currentSongSubtune:r.state.currentSongSubtune,ejected:r.state.ejected,faves:r.state.faves,getCurrentSongLink:r.getCurrentSongLink,handleCycleRepeat:r.handleCycleRepeat,handleCycleShuffle:r.handleCycleShuffle,handleSetVoiceMask:r.handleSetVoiceMask,handleTempoChange:r.handleTempoChange,handleTimeSliderChange:r.handleTimeSliderChange,handleToggleFavorite:r.handleToggleFavorite,handleVolumeChange:r.handleVolumeChange,imageUrl:r.state.imageUrl,infoTexts:r.state.infoTexts,nextSong:r.nextSong,nextSubtune:r.nextSubtune,paused:r.state.paused,prevSong:r.prevSong,prevSubtune:r.prevSubtune,repeat:r.state.repeat,shuffle:r.state.shuffle,sequencer:r.sequencer,showPlayerSettings:r.state.showPlayerSettings,songUrl:r.state.songUrl,subtitle:i,tempo:r.state.tempo,title:a,toggleInfo:r.toggleInfo,togglePause:r.togglePause,toggleSettings:r.toggleSettings,voiceNames:r.state.voiceNames,voiceMask:r.state.voiceMask,volume:r.state.volume}))}))}}],r=[{key:"mapSequencerStateToAppState",value:function(e){var t={ejected:"isEjected",paused:"isPaused",currentSongSubtune:"subtune",currentSongMetadata:"metadata",currentSongNumVoices:"numVoices",currentSongPositionMs:"positionMs",currentSongDurationMs:"durationMs",currentSongNumSubtunes:"numSubtunes",tempo:"tempo",voiceNames:"voiceNames",voiceMask:"voiceMask",songUrl:"url",hasPlayer:"hasPlayer",paramDefs:"paramDefs",infoTexts:"infoTexts"},n={};for(var r in t){var s=t[r];s in e&&(n[r]=e[s])}return n}}],n&&Hb(t.prototype,n),r&&Hb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s.a.Component),nv=Object(va.i)(tv);a.a.render(s.a.createElement(ka,{basename:"/chiptheory"},s.a.createElement(nv,null)),document.getElementById("root"))}]);
//# sourceMappingURL=main.6881aa1c.js.map